<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />

<meta name="author" content="M. S. Legrand" />


<title></title>

<script src="data:application/x-javascript;base64,LyohIGpRdWVyeSB2MS4xMS4wIHwgKGMpIDIwMDUsIDIwMTQgalF1ZXJ5IEZvdW5kYXRpb24sIEluYy4gfCBqcXVlcnkub3JnL2xpY2Vuc2UgKi8KIWZ1bmN0aW9uKGEsYil7Im9iamVjdCI9PXR5cGVvZiBtb2R1bGUmJiJvYmplY3QiPT10eXBlb2YgbW9kdWxlLmV4cG9ydHM/bW9kdWxlLmV4cG9ydHM9YS5kb2N1bWVudD9iKGEsITApOmZ1bmN0aW9uKGEpe2lmKCFhLmRvY3VtZW50KXRocm93IG5ldyBFcnJvcigialF1ZXJ5IHJlcXVpcmVzIGEgd2luZG93IHdpdGggYSBkb2N1bWVudCIpO3JldHVybiBiKGEpfTpiKGEpfSgidW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6dGhpcyxmdW5jdGlvbihhLGIpe3ZhciBjPVtdLGQ9Yy5zbGljZSxlPWMuY29uY2F0LGY9Yy5wdXNoLGc9Yy5pbmRleE9mLGg9e30saT1oLnRvU3RyaW5nLGo9aC5oYXNPd25Qcm9wZXJ0eSxrPSIiLnRyaW0sbD17fSxtPSIxLjExLjAiLG49ZnVuY3Rpb24oYSxiKXtyZXR1cm4gbmV3IG4uZm4uaW5pdChhLGIpfSxvPS9eW1xzXHVGRUZGXHhBMF0rfFtcc1x1RkVGRlx4QTBdKyQvZyxwPS9eLW1zLS8scT0vLShbXGRhLXpdKS9naSxyPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGIudG9VcHBlckNhc2UoKX07bi5mbj1uLnByb3RvdHlwZT17anF1ZXJ5Om0sY29uc3RydWN0b3I6bixzZWxlY3RvcjoiIixsZW5ndGg6MCx0b0FycmF5OmZ1bmN0aW9uKCl7cmV0dXJuIGQuY2FsbCh0aGlzKX0sZ2V0OmZ1bmN0aW9uKGEpe3JldHVybiBudWxsIT1hPzA+YT90aGlzW2ErdGhpcy5sZW5ndGhdOnRoaXNbYV06ZC5jYWxsKHRoaXMpfSxwdXNoU3RhY2s6ZnVuY3Rpb24oYSl7dmFyIGI9bi5tZXJnZSh0aGlzLmNvbnN0cnVjdG9yKCksYSk7cmV0dXJuIGIucHJldk9iamVjdD10aGlzLGIuY29udGV4dD10aGlzLmNvbnRleHQsYn0sZWFjaDpmdW5jdGlvbihhLGIpe3JldHVybiBuLmVhY2godGhpcyxhLGIpfSxtYXA6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMucHVzaFN0YWNrKG4ubWFwKHRoaXMsZnVuY3Rpb24oYixjKXtyZXR1cm4gYS5jYWxsKGIsYyxiKX0pKX0sc2xpY2U6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soZC5hcHBseSh0aGlzLGFyZ3VtZW50cykpfSxmaXJzdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVxKDApfSxsYXN0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZXEoLTEpfSxlcTpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmxlbmd0aCxjPSthKygwPmE/YjowKTtyZXR1cm4gdGhpcy5wdXNoU3RhY2soYz49MCYmYj5jP1t0aGlzW2NdXTpbXSl9LGVuZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnByZXZPYmplY3R8fHRoaXMuY29uc3RydWN0b3IobnVsbCl9LHB1c2g6Zixzb3J0OmMuc29ydCxzcGxpY2U6Yy5zcGxpY2V9LG4uZXh0ZW5kPW4uZm4uZXh0ZW5kPWZ1bmN0aW9uKCl7dmFyIGEsYixjLGQsZSxmLGc9YXJndW1lbnRzWzBdfHx7fSxoPTEsaT1hcmd1bWVudHMubGVuZ3RoLGo9ITE7Zm9yKCJib29sZWFuIj09dHlwZW9mIGcmJihqPWcsZz1hcmd1bWVudHNbaF18fHt9LGgrKyksIm9iamVjdCI9PXR5cGVvZiBnfHxuLmlzRnVuY3Rpb24oZyl8fChnPXt9KSxoPT09aSYmKGc9dGhpcyxoLS0pO2k+aDtoKyspaWYobnVsbCE9KGU9YXJndW1lbnRzW2hdKSlmb3IoZCBpbiBlKWE9Z1tkXSxjPWVbZF0sZyE9PWMmJihqJiZjJiYobi5pc1BsYWluT2JqZWN0KGMpfHwoYj1uLmlzQXJyYXkoYykpKT8oYj8oYj0hMSxmPWEmJm4uaXNBcnJheShhKT9hOltdKTpmPWEmJm4uaXNQbGFpbk9iamVjdChhKT9hOnt9LGdbZF09bi5leHRlbmQoaixmLGMpKTp2b2lkIDAhPT1jJiYoZ1tkXT1jKSk7cmV0dXJuIGd9LG4uZXh0ZW5kKHtleHBhbmRvOiJqUXVlcnkiKyhtK01hdGgucmFuZG9tKCkpLnJlcGxhY2UoL1xEL2csIiIpLGlzUmVhZHk6ITAsZXJyb3I6ZnVuY3Rpb24oYSl7dGhyb3cgbmV3IEVycm9yKGEpfSxub29wOmZ1bmN0aW9uKCl7fSxpc0Z1bmN0aW9uOmZ1bmN0aW9uKGEpe3JldHVybiJmdW5jdGlvbiI9PT1uLnR5cGUoYSl9LGlzQXJyYXk6QXJyYXkuaXNBcnJheXx8ZnVuY3Rpb24oYSl7cmV0dXJuImFycmF5Ij09PW4udHlwZShhKX0saXNXaW5kb3c6ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGwhPWEmJmE9PWEud2luZG93fSxpc051bWVyaWM6ZnVuY3Rpb24oYSl7cmV0dXJuIGEtcGFyc2VGbG9hdChhKT49MH0saXNFbXB0eU9iamVjdDpmdW5jdGlvbihhKXt2YXIgYjtmb3IoYiBpbiBhKXJldHVybiExO3JldHVybiEwfSxpc1BsYWluT2JqZWN0OmZ1bmN0aW9uKGEpe3ZhciBiO2lmKCFhfHwib2JqZWN0IiE9PW4udHlwZShhKXx8YS5ub2RlVHlwZXx8bi5pc1dpbmRvdyhhKSlyZXR1cm4hMTt0cnl7aWYoYS5jb25zdHJ1Y3RvciYmIWouY2FsbChhLCJjb25zdHJ1Y3RvciIpJiYhai5jYWxsKGEuY29uc3RydWN0b3IucHJvdG90eXBlLCJpc1Byb3RvdHlwZU9mIikpcmV0dXJuITF9Y2F0Y2goYyl7cmV0dXJuITF9aWYobC5vd25MYXN0KWZvcihiIGluIGEpcmV0dXJuIGouY2FsbChhLGIpO2ZvcihiIGluIGEpO3JldHVybiB2b2lkIDA9PT1ifHxqLmNhbGwoYSxiKX0sdHlwZTpmdW5jdGlvbihhKXtyZXR1cm4gbnVsbD09YT9hKyIiOiJvYmplY3QiPT10eXBlb2YgYXx8ImZ1bmN0aW9uIj09dHlwZW9mIGE/aFtpLmNhbGwoYSldfHwib2JqZWN0Ijp0eXBlb2YgYX0sZ2xvYmFsRXZhbDpmdW5jdGlvbihiKXtiJiZuLnRyaW0oYikmJihhLmV4ZWNTY3JpcHR8fGZ1bmN0aW9uKGIpe2EuZXZhbC5jYWxsKGEsYil9KShiKX0sY2FtZWxDYXNlOmZ1bmN0aW9uKGEpe3JldHVybiBhLnJlcGxhY2UocCwibXMtIikucmVwbGFjZShxLHIpfSxub2RlTmFtZTpmdW5jdGlvbihhLGIpe3JldHVybiBhLm5vZGVOYW1lJiZhLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT1iLnRvTG93ZXJDYXNlKCl9LGVhY2g6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkLGU9MCxmPWEubGVuZ3RoLGc9cyhhKTtpZihjKXtpZihnKXtmb3IoO2Y+ZTtlKyspaWYoZD1iLmFwcGx5KGFbZV0sYyksZD09PSExKWJyZWFrfWVsc2UgZm9yKGUgaW4gYSlpZihkPWIuYXBwbHkoYVtlXSxjKSxkPT09ITEpYnJlYWt9ZWxzZSBpZihnKXtmb3IoO2Y+ZTtlKyspaWYoZD1iLmNhbGwoYVtlXSxlLGFbZV0pLGQ9PT0hMSlicmVha31lbHNlIGZvcihlIGluIGEpaWYoZD1iLmNhbGwoYVtlXSxlLGFbZV0pLGQ9PT0hMSlicmVhaztyZXR1cm4gYX0sdHJpbTprJiYhay5jYWxsKCJcdWZlZmZceGEwIik/ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGw9PWE/IiI6ay5jYWxsKGEpfTpmdW5jdGlvbihhKXtyZXR1cm4gbnVsbD09YT8iIjooYSsiIikucmVwbGFjZShvLCIiKX0sbWFrZUFycmF5OmZ1bmN0aW9uKGEsYil7dmFyIGM9Ynx8W107cmV0dXJuIG51bGwhPWEmJihzKE9iamVjdChhKSk/bi5tZXJnZShjLCJzdHJpbmciPT10eXBlb2YgYT9bYV06YSk6Zi5jYWxsKGMsYSkpLGN9LGluQXJyYXk6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkO2lmKGIpe2lmKGcpcmV0dXJuIGcuY2FsbChiLGEsYyk7Zm9yKGQ9Yi5sZW5ndGgsYz1jPzA+Yz9NYXRoLm1heCgwLGQrYyk6YzowO2Q+YztjKyspaWYoYyBpbiBiJiZiW2NdPT09YSlyZXR1cm4gY31yZXR1cm4tMX0sbWVyZ2U6ZnVuY3Rpb24oYSxiKXt2YXIgYz0rYi5sZW5ndGgsZD0wLGU9YS5sZW5ndGg7d2hpbGUoYz5kKWFbZSsrXT1iW2QrK107aWYoYyE9PWMpd2hpbGUodm9pZCAwIT09YltkXSlhW2UrK109YltkKytdO3JldHVybiBhLmxlbmd0aD1lLGF9LGdyZXA6ZnVuY3Rpb24oYSxiLGMpe2Zvcih2YXIgZCxlPVtdLGY9MCxnPWEubGVuZ3RoLGg9IWM7Zz5mO2YrKylkPSFiKGFbZl0sZiksZCE9PWgmJmUucHVzaChhW2ZdKTtyZXR1cm4gZX0sbWFwOmZ1bmN0aW9uKGEsYixjKXt2YXIgZCxmPTAsZz1hLmxlbmd0aCxoPXMoYSksaT1bXTtpZihoKWZvcig7Zz5mO2YrKylkPWIoYVtmXSxmLGMpLG51bGwhPWQmJmkucHVzaChkKTtlbHNlIGZvcihmIGluIGEpZD1iKGFbZl0sZixjKSxudWxsIT1kJiZpLnB1c2goZCk7cmV0dXJuIGUuYXBwbHkoW10saSl9LGd1aWQ6MSxwcm94eTpmdW5jdGlvbihhLGIpe3ZhciBjLGUsZjtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIGImJihmPWFbYl0sYj1hLGE9Ziksbi5pc0Z1bmN0aW9uKGEpPyhjPWQuY2FsbChhcmd1bWVudHMsMiksZT1mdW5jdGlvbigpe3JldHVybiBhLmFwcGx5KGJ8fHRoaXMsYy5jb25jYXQoZC5jYWxsKGFyZ3VtZW50cykpKX0sZS5ndWlkPWEuZ3VpZD1hLmd1aWR8fG4uZ3VpZCsrLGUpOnZvaWQgMH0sbm93OmZ1bmN0aW9uKCl7cmV0dXJuK25ldyBEYXRlfSxzdXBwb3J0Omx9KSxuLmVhY2goIkJvb2xlYW4gTnVtYmVyIFN0cmluZyBGdW5jdGlvbiBBcnJheSBEYXRlIFJlZ0V4cCBPYmplY3QgRXJyb3IiLnNwbGl0KCIgIiksZnVuY3Rpb24oYSxiKXtoWyJbb2JqZWN0ICIrYisiXSJdPWIudG9Mb3dlckNhc2UoKX0pO2Z1bmN0aW9uIHMoYSl7dmFyIGI9YS5sZW5ndGgsYz1uLnR5cGUoYSk7cmV0dXJuImZ1bmN0aW9uIj09PWN8fG4uaXNXaW5kb3coYSk/ITE6MT09PWEubm9kZVR5cGUmJmI/ITA6ImFycmF5Ij09PWN8fDA9PT1ifHwibnVtYmVyIj09dHlwZW9mIGImJmI+MCYmYi0xIGluIGF9dmFyIHQ9ZnVuY3Rpb24oYSl7dmFyIGIsYyxkLGUsZixnLGgsaSxqLGssbCxtLG4sbyxwLHEscixzPSJzaXp6bGUiKy1uZXcgRGF0ZSx0PWEuZG9jdW1lbnQsdT0wLHY9MCx3PWViKCkseD1lYigpLHk9ZWIoKSx6PWZ1bmN0aW9uKGEsYil7cmV0dXJuIGE9PT1iJiYoaj0hMCksMH0sQT0idW5kZWZpbmVkIixCPTE8PDMxLEM9e30uaGFzT3duUHJvcGVydHksRD1bXSxFPUQucG9wLEY9RC5wdXNoLEc9RC5wdXNoLEg9RC5zbGljZSxJPUQuaW5kZXhPZnx8ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPTAsYz10aGlzLmxlbmd0aDtjPmI7YisrKWlmKHRoaXNbYl09PT1hKXJldHVybiBiO3JldHVybi0xfSxKPSJjaGVja2VkfHNlbGVjdGVkfGFzeW5jfGF1dG9mb2N1c3xhdXRvcGxheXxjb250cm9sc3xkZWZlcnxkaXNhYmxlZHxoaWRkZW58aXNtYXB8bG9vcHxtdWx0aXBsZXxvcGVufHJlYWRvbmx5fHJlcXVpcmVkfHNjb3BlZCIsSz0iW1xceDIwXFx0XFxyXFxuXFxmXSIsTD0iKD86XFxcXC58W1xcdy1dfFteXFx4MDAtXFx4YTBdKSsiLE09TC5yZXBsYWNlKCJ3IiwidyMiKSxOPSJcXFsiK0srIiooIitMKyIpIitLKyIqKD86KFsqXiR8IX5dPz0pIitLKyIqKD86KFsnXCJdKSgoPzpcXFxcLnxbXlxcXFxdKSo/KVxcM3woIitNKyIpfCl8KSIrSysiKlxcXSIsTz0iOigiK0wrIikoPzpcXCgoKFsnXCJdKSgoPzpcXFxcLnxbXlxcXFxdKSo/KVxcM3woKD86XFxcXC58W15cXFxcKClbXFxdXXwiK04ucmVwbGFjZSgzLDgpKyIpKil8LiopXFwpfCkiLFA9bmV3IFJlZ0V4cCgiXiIrSysiK3woKD86XnxbXlxcXFxdKSg/OlxcXFwuKSopIitLKyIrJCIsImciKSxRPW5ldyBSZWdFeHAoIl4iK0srIiosIitLKyIqIiksUj1uZXcgUmVnRXhwKCJeIitLKyIqKFs+K35dfCIrSysiKSIrSysiKiIpLFM9bmV3IFJlZ0V4cCgiPSIrSysiKihbXlxcXSdcIl0qPykiK0srIipcXF0iLCJnIiksVD1uZXcgUmVnRXhwKE8pLFU9bmV3IFJlZ0V4cCgiXiIrTSsiJCIpLFY9e0lEOm5ldyBSZWdFeHAoIl4jKCIrTCsiKSIpLENMQVNTOm5ldyBSZWdFeHAoIl5cXC4oIitMKyIpIiksVEFHOm5ldyBSZWdFeHAoIl4oIitMLnJlcGxhY2UoInciLCJ3KiIpKyIpIiksQVRUUjpuZXcgUmVnRXhwKCJeIitOKSxQU0VVRE86bmV3IFJlZ0V4cCgiXiIrTyksQ0hJTEQ6bmV3IFJlZ0V4cCgiXjoob25seXxmaXJzdHxsYXN0fG50aHxudGgtbGFzdCktKGNoaWxkfG9mLXR5cGUpKD86XFwoIitLKyIqKGV2ZW58b2RkfCgoWystXXwpKFxcZCopbnwpIitLKyIqKD86KFsrLV18KSIrSysiKihcXGQrKXwpKSIrSysiKlxcKXwpIiwiaSIpLGJvb2w6bmV3IFJlZ0V4cCgiXig/OiIrSisiKSQiLCJpIiksbmVlZHNDb250ZXh0Om5ldyBSZWdFeHAoIl4iK0srIipbPit+XXw6KGV2ZW58b2RkfGVxfGd0fGx0fG50aHxmaXJzdHxsYXN0KSg/OlxcKCIrSysiKigoPzotXFxkKT9cXGQqKSIrSysiKlxcKXwpKD89W14tXXwkKSIsImkiKX0sVz0vXig/OmlucHV0fHNlbGVjdHx0ZXh0YXJlYXxidXR0b24pJC9pLFg9L15oXGQkL2ksWT0vXltee10rXHtccypcW25hdGl2ZSBcdy8sWj0vXig/OiMoW1x3LV0rKXwoXHcrKXxcLihbXHctXSspKSQvLCQ9L1srfl0vLF89Lyd8XFwvZyxhYj1uZXcgUmVnRXhwKCJcXFxcKFtcXGRhLWZdezEsNn0iK0srIj98KCIrSysiKXwuKSIsImlnIiksYmI9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPSIweCIrYi02NTUzNjtyZXR1cm4gZCE9PWR8fGM/YjowPmQ/U3RyaW5nLmZyb21DaGFyQ29kZShkKzY1NTM2KTpTdHJpbmcuZnJvbUNoYXJDb2RlKGQ+PjEwfDU1Mjk2LDEwMjMmZHw1NjMyMCl9O3RyeXtHLmFwcGx5KEQ9SC5jYWxsKHQuY2hpbGROb2RlcyksdC5jaGlsZE5vZGVzKSxEW3QuY2hpbGROb2Rlcy5sZW5ndGhdLm5vZGVUeXBlfWNhdGNoKGNiKXtHPXthcHBseTpELmxlbmd0aD9mdW5jdGlvbihhLGIpe0YuYXBwbHkoYSxILmNhbGwoYikpfTpmdW5jdGlvbihhLGIpe3ZhciBjPWEubGVuZ3RoLGQ9MDt3aGlsZShhW2MrK109YltkKytdKTthLmxlbmd0aD1jLTF9fX1mdW5jdGlvbiBkYihhLGIsZCxlKXt2YXIgZixnLGgsaSxqLG0scCxxLHUsdjtpZigoYj9iLm93bmVyRG9jdW1lbnR8fGI6dCkhPT1sJiZrKGIpLGI9Ynx8bCxkPWR8fFtdLCFhfHwic3RyaW5nIiE9dHlwZW9mIGEpcmV0dXJuIGQ7aWYoMSE9PShpPWIubm9kZVR5cGUpJiY5IT09aSlyZXR1cm5bXTtpZihuJiYhZSl7aWYoZj1aLmV4ZWMoYSkpaWYoaD1mWzFdKXtpZig5PT09aSl7aWYoZz1iLmdldEVsZW1lbnRCeUlkKGgpLCFnfHwhZy5wYXJlbnROb2RlKXJldHVybiBkO2lmKGcuaWQ9PT1oKXJldHVybiBkLnB1c2goZyksZH1lbHNlIGlmKGIub3duZXJEb2N1bWVudCYmKGc9Yi5vd25lckRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGgpKSYmcihiLGcpJiZnLmlkPT09aClyZXR1cm4gZC5wdXNoKGcpLGR9ZWxzZXtpZihmWzJdKXJldHVybiBHLmFwcGx5KGQsYi5nZXRFbGVtZW50c0J5VGFnTmFtZShhKSksZDtpZigoaD1mWzNdKSYmYy5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lJiZiLmdldEVsZW1lbnRzQnlDbGFzc05hbWUpcmV0dXJuIEcuYXBwbHkoZCxiLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoaCkpLGR9aWYoYy5xc2EmJighb3x8IW8udGVzdChhKSkpe2lmKHE9cD1zLHU9Yix2PTk9PT1pJiZhLDE9PT1pJiYib2JqZWN0IiE9PWIubm9kZU5hbWUudG9Mb3dlckNhc2UoKSl7bT1vYihhKSwocD1iLmdldEF0dHJpYnV0ZSgiaWQiKSk/cT1wLnJlcGxhY2UoXywiXFwkJiIpOmIuc2V0QXR0cmlidXRlKCJpZCIscSkscT0iW2lkPSciK3ErIiddICIsaj1tLmxlbmd0aDt3aGlsZShqLS0pbVtqXT1xK3BiKG1bal0pO3U9JC50ZXN0KGEpJiZtYihiLnBhcmVudE5vZGUpfHxiLHY9bS5qb2luKCIsIil9aWYodil0cnl7cmV0dXJuIEcuYXBwbHkoZCx1LnF1ZXJ5U2VsZWN0b3JBbGwodikpLGR9Y2F0Y2godyl7fWZpbmFsbHl7cHx8Yi5yZW1vdmVBdHRyaWJ1dGUoImlkIil9fX1yZXR1cm4geGIoYS5yZXBsYWNlKFAsIiQxIiksYixkLGUpfWZ1bmN0aW9uIGViKCl7dmFyIGE9W107ZnVuY3Rpb24gYihjLGUpe3JldHVybiBhLnB1c2goYysiICIpPmQuY2FjaGVMZW5ndGgmJmRlbGV0ZSBiW2Euc2hpZnQoKV0sYltjKyIgIl09ZX1yZXR1cm4gYn1mdW5jdGlvbiBmYihhKXtyZXR1cm4gYVtzXT0hMCxhfWZ1bmN0aW9uIGdiKGEpe3ZhciBiPWwuY3JlYXRlRWxlbWVudCgiZGl2Iik7dHJ5e3JldHVybiEhYShiKX1jYXRjaChjKXtyZXR1cm4hMX1maW5hbGx5e2IucGFyZW50Tm9kZSYmYi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGIpLGI9bnVsbH19ZnVuY3Rpb24gaGIoYSxiKXt2YXIgYz1hLnNwbGl0KCJ8IiksZT1hLmxlbmd0aDt3aGlsZShlLS0pZC5hdHRySGFuZGxlW2NbZV1dPWJ9ZnVuY3Rpb24gaWIoYSxiKXt2YXIgYz1iJiZhLGQ9YyYmMT09PWEubm9kZVR5cGUmJjE9PT1iLm5vZGVUeXBlJiYofmIuc291cmNlSW5kZXh8fEIpLSh+YS5zb3VyY2VJbmRleHx8Qik7aWYoZClyZXR1cm4gZDtpZihjKXdoaWxlKGM9Yy5uZXh0U2libGluZylpZihjPT09YilyZXR1cm4tMTtyZXR1cm4gYT8xOi0xfWZ1bmN0aW9uIGpiKGEpe3JldHVybiBmdW5jdGlvbihiKXt2YXIgYz1iLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuImlucHV0Ij09PWMmJmIudHlwZT09PWF9fWZ1bmN0aW9uIGtiKGEpe3JldHVybiBmdW5jdGlvbihiKXt2YXIgYz1iLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuKCJpbnB1dCI9PT1jfHwiYnV0dG9uIj09PWMpJiZiLnR5cGU9PT1hfX1mdW5jdGlvbiBsYihhKXtyZXR1cm4gZmIoZnVuY3Rpb24oYil7cmV0dXJuIGI9K2IsZmIoZnVuY3Rpb24oYyxkKXt2YXIgZSxmPWEoW10sYy5sZW5ndGgsYiksZz1mLmxlbmd0aDt3aGlsZShnLS0pY1tlPWZbZ11dJiYoY1tlXT0hKGRbZV09Y1tlXSkpfSl9KX1mdW5jdGlvbiBtYihhKXtyZXR1cm4gYSYmdHlwZW9mIGEuZ2V0RWxlbWVudHNCeVRhZ05hbWUhPT1BJiZhfWM9ZGIuc3VwcG9ydD17fSxmPWRiLmlzWE1MPWZ1bmN0aW9uKGEpe3ZhciBiPWEmJihhLm93bmVyRG9jdW1lbnR8fGEpLmRvY3VtZW50RWxlbWVudDtyZXR1cm4gYj8iSFRNTCIhPT1iLm5vZGVOYW1lOiExfSxrPWRiLnNldERvY3VtZW50PWZ1bmN0aW9uKGEpe3ZhciBiLGU9YT9hLm93bmVyRG9jdW1lbnR8fGE6dCxnPWUuZGVmYXVsdFZpZXc7cmV0dXJuIGUhPT1sJiY5PT09ZS5ub2RlVHlwZSYmZS5kb2N1bWVudEVsZW1lbnQ/KGw9ZSxtPWUuZG9jdW1lbnRFbGVtZW50LG49IWYoZSksZyYmZyE9PWcudG9wJiYoZy5hZGRFdmVudExpc3RlbmVyP2cuYWRkRXZlbnRMaXN0ZW5lcigidW5sb2FkIixmdW5jdGlvbigpe2soKX0sITEpOmcuYXR0YWNoRXZlbnQmJmcuYXR0YWNoRXZlbnQoIm9udW5sb2FkIixmdW5jdGlvbigpe2soKX0pKSxjLmF0dHJpYnV0ZXM9Z2IoZnVuY3Rpb24oYSl7cmV0dXJuIGEuY2xhc3NOYW1lPSJpIiwhYS5nZXRBdHRyaWJ1dGUoImNsYXNzTmFtZSIpfSksYy5nZXRFbGVtZW50c0J5VGFnTmFtZT1nYihmdW5jdGlvbihhKXtyZXR1cm4gYS5hcHBlbmRDaGlsZChlLmNyZWF0ZUNvbW1lbnQoIiIpKSwhYS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiKiIpLmxlbmd0aH0pLGMuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZT1ZLnRlc3QoZS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKSYmZ2IoZnVuY3Rpb24oYSl7cmV0dXJuIGEuaW5uZXJIVE1MPSI8ZGl2IGNsYXNzPSdhJz48L2Rpdj48ZGl2IGNsYXNzPSdhIGknPjwvZGl2PiIsYS5maXJzdENoaWxkLmNsYXNzTmFtZT0iaSIsMj09PWEuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgiaSIpLmxlbmd0aH0pLGMuZ2V0QnlJZD1nYihmdW5jdGlvbihhKXtyZXR1cm4gbS5hcHBlbmRDaGlsZChhKS5pZD1zLCFlLmdldEVsZW1lbnRzQnlOYW1lfHwhZS5nZXRFbGVtZW50c0J5TmFtZShzKS5sZW5ndGh9KSxjLmdldEJ5SWQ/KGQuZmluZC5JRD1mdW5jdGlvbihhLGIpe2lmKHR5cGVvZiBiLmdldEVsZW1lbnRCeUlkIT09QSYmbil7dmFyIGM9Yi5nZXRFbGVtZW50QnlJZChhKTtyZXR1cm4gYyYmYy5wYXJlbnROb2RlP1tjXTpbXX19LGQuZmlsdGVyLklEPWZ1bmN0aW9uKGEpe3ZhciBiPWEucmVwbGFjZShhYixiYik7cmV0dXJuIGZ1bmN0aW9uKGEpe3JldHVybiBhLmdldEF0dHJpYnV0ZSgiaWQiKT09PWJ9fSk6KGRlbGV0ZSBkLmZpbmQuSUQsZC5maWx0ZXIuSUQ9ZnVuY3Rpb24oYSl7dmFyIGI9YS5yZXBsYWNlKGFiLGJiKTtyZXR1cm4gZnVuY3Rpb24oYSl7dmFyIGM9dHlwZW9mIGEuZ2V0QXR0cmlidXRlTm9kZSE9PUEmJmEuZ2V0QXR0cmlidXRlTm9kZSgiaWQiKTtyZXR1cm4gYyYmYy52YWx1ZT09PWJ9fSksZC5maW5kLlRBRz1jLmdldEVsZW1lbnRzQnlUYWdOYW1lP2Z1bmN0aW9uKGEsYil7cmV0dXJuIHR5cGVvZiBiLmdldEVsZW1lbnRzQnlUYWdOYW1lIT09QT9iLmdldEVsZW1lbnRzQnlUYWdOYW1lKGEpOnZvaWQgMH06ZnVuY3Rpb24oYSxiKXt2YXIgYyxkPVtdLGU9MCxmPWIuZ2V0RWxlbWVudHNCeVRhZ05hbWUoYSk7aWYoIioiPT09YSl7d2hpbGUoYz1mW2UrK10pMT09PWMubm9kZVR5cGUmJmQucHVzaChjKTtyZXR1cm4gZH1yZXR1cm4gZn0sZC5maW5kLkNMQVNTPWMuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSYmZnVuY3Rpb24oYSxiKXtyZXR1cm4gdHlwZW9mIGIuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSE9PUEmJm4/Yi5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKGEpOnZvaWQgMH0scD1bXSxvPVtdLChjLnFzYT1ZLnRlc3QoZS5xdWVyeVNlbGVjdG9yQWxsKSkmJihnYihmdW5jdGlvbihhKXthLmlubmVySFRNTD0iPHNlbGVjdCB0PScnPjxvcHRpb24gc2VsZWN0ZWQ9Jyc+PC9vcHRpb24+PC9zZWxlY3Q+IixhLnF1ZXJ5U2VsZWN0b3JBbGwoIlt0Xj0nJ10iKS5sZW5ndGgmJm8ucHVzaCgiWypeJF09IitLKyIqKD86Jyd8XCJcIikiKSxhLnF1ZXJ5U2VsZWN0b3JBbGwoIltzZWxlY3RlZF0iKS5sZW5ndGh8fG8ucHVzaCgiXFxbIitLKyIqKD86dmFsdWV8IitKKyIpIiksYS5xdWVyeVNlbGVjdG9yQWxsKCI6Y2hlY2tlZCIpLmxlbmd0aHx8by5wdXNoKCI6Y2hlY2tlZCIpfSksZ2IoZnVuY3Rpb24oYSl7dmFyIGI9ZS5jcmVhdGVFbGVtZW50KCJpbnB1dCIpO2Iuc2V0QXR0cmlidXRlKCJ0eXBlIiwiaGlkZGVuIiksYS5hcHBlbmRDaGlsZChiKS5zZXRBdHRyaWJ1dGUoIm5hbWUiLCJEIiksYS5xdWVyeVNlbGVjdG9yQWxsKCJbbmFtZT1kXSIpLmxlbmd0aCYmby5wdXNoKCJuYW1lIitLKyIqWypeJHwhfl0/PSIpLGEucXVlcnlTZWxlY3RvckFsbCgiOmVuYWJsZWQiKS5sZW5ndGh8fG8ucHVzaCgiOmVuYWJsZWQiLCI6ZGlzYWJsZWQiKSxhLnF1ZXJ5U2VsZWN0b3JBbGwoIiosOngiKSxvLnB1c2goIiwuKjoiKX0pKSwoYy5tYXRjaGVzU2VsZWN0b3I9WS50ZXN0KHE9bS53ZWJraXRNYXRjaGVzU2VsZWN0b3J8fG0ubW96TWF0Y2hlc1NlbGVjdG9yfHxtLm9NYXRjaGVzU2VsZWN0b3J8fG0ubXNNYXRjaGVzU2VsZWN0b3IpKSYmZ2IoZnVuY3Rpb24oYSl7Yy5kaXNjb25uZWN0ZWRNYXRjaD1xLmNhbGwoYSwiZGl2IikscS5jYWxsKGEsIltzIT0nJ106eCIpLHAucHVzaCgiIT0iLE8pfSksbz1vLmxlbmd0aCYmbmV3IFJlZ0V4cChvLmpvaW4oInwiKSkscD1wLmxlbmd0aCYmbmV3IFJlZ0V4cChwLmpvaW4oInwiKSksYj1ZLnRlc3QobS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbikscj1ifHxZLnRlc3QobS5jb250YWlucyk/ZnVuY3Rpb24oYSxiKXt2YXIgYz05PT09YS5ub2RlVHlwZT9hLmRvY3VtZW50RWxlbWVudDphLGQ9YiYmYi5wYXJlbnROb2RlO3JldHVybiBhPT09ZHx8ISghZHx8MSE9PWQubm9kZVR5cGV8fCEoYy5jb250YWlucz9jLmNvbnRhaW5zKGQpOmEuY29tcGFyZURvY3VtZW50UG9zaXRpb24mJjE2JmEuY29tcGFyZURvY3VtZW50UG9zaXRpb24oZCkpKX06ZnVuY3Rpb24oYSxiKXtpZihiKXdoaWxlKGI9Yi5wYXJlbnROb2RlKWlmKGI9PT1hKXJldHVybiEwO3JldHVybiExfSx6PWI/ZnVuY3Rpb24oYSxiKXtpZihhPT09YilyZXR1cm4gaj0hMCwwO3ZhciBkPSFhLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uLSFiLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uO3JldHVybiBkP2Q6KGQ9KGEub3duZXJEb2N1bWVudHx8YSk9PT0oYi5vd25lckRvY3VtZW50fHxiKT9hLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKGIpOjEsMSZkfHwhYy5zb3J0RGV0YWNoZWQmJmIuY29tcGFyZURvY3VtZW50UG9zaXRpb24oYSk9PT1kP2E9PT1lfHxhLm93bmVyRG9jdW1lbnQ9PT10JiZyKHQsYSk/LTE6Yj09PWV8fGIub3duZXJEb2N1bWVudD09PXQmJnIodCxiKT8xOmk/SS5jYWxsKGksYSktSS5jYWxsKGksYik6MDo0JmQ/LTE6MSl9OmZ1bmN0aW9uKGEsYil7aWYoYT09PWIpcmV0dXJuIGo9ITAsMDt2YXIgYyxkPTAsZj1hLnBhcmVudE5vZGUsZz1iLnBhcmVudE5vZGUsaD1bYV0saz1bYl07aWYoIWZ8fCFnKXJldHVybiBhPT09ZT8tMTpiPT09ZT8xOmY/LTE6Zz8xOmk/SS5jYWxsKGksYSktSS5jYWxsKGksYik6MDtpZihmPT09ZylyZXR1cm4gaWIoYSxiKTtjPWE7d2hpbGUoYz1jLnBhcmVudE5vZGUpaC51bnNoaWZ0KGMpO2M9Yjt3aGlsZShjPWMucGFyZW50Tm9kZSlrLnVuc2hpZnQoYyk7d2hpbGUoaFtkXT09PWtbZF0pZCsrO3JldHVybiBkP2liKGhbZF0sa1tkXSk6aFtkXT09PXQ/LTE6a1tkXT09PXQ/MTowfSxlKTpsfSxkYi5tYXRjaGVzPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGRiKGEsbnVsbCxudWxsLGIpfSxkYi5tYXRjaGVzU2VsZWN0b3I9ZnVuY3Rpb24oYSxiKXtpZigoYS5vd25lckRvY3VtZW50fHxhKSE9PWwmJmsoYSksYj1iLnJlcGxhY2UoUywiPSckMSddIiksISghYy5tYXRjaGVzU2VsZWN0b3J8fCFufHxwJiZwLnRlc3QoYil8fG8mJm8udGVzdChiKSkpdHJ5e3ZhciBkPXEuY2FsbChhLGIpO2lmKGR8fGMuZGlzY29ubmVjdGVkTWF0Y2h8fGEuZG9jdW1lbnQmJjExIT09YS5kb2N1bWVudC5ub2RlVHlwZSlyZXR1cm4gZH1jYXRjaChlKXt9cmV0dXJuIGRiKGIsbCxudWxsLFthXSkubGVuZ3RoPjB9LGRiLmNvbnRhaW5zPWZ1bmN0aW9uKGEsYil7cmV0dXJuKGEub3duZXJEb2N1bWVudHx8YSkhPT1sJiZrKGEpLHIoYSxiKX0sZGIuYXR0cj1mdW5jdGlvbihhLGIpeyhhLm93bmVyRG9jdW1lbnR8fGEpIT09bCYmayhhKTt2YXIgZT1kLmF0dHJIYW5kbGVbYi50b0xvd2VyQ2FzZSgpXSxmPWUmJkMuY2FsbChkLmF0dHJIYW5kbGUsYi50b0xvd2VyQ2FzZSgpKT9lKGEsYiwhbik6dm9pZCAwO3JldHVybiB2b2lkIDAhPT1mP2Y6Yy5hdHRyaWJ1dGVzfHwhbj9hLmdldEF0dHJpYnV0ZShiKTooZj1hLmdldEF0dHJpYnV0ZU5vZGUoYikpJiZmLnNwZWNpZmllZD9mLnZhbHVlOm51bGx9LGRiLmVycm9yPWZ1bmN0aW9uKGEpe3Rocm93IG5ldyBFcnJvcigiU3ludGF4IGVycm9yLCB1bnJlY29nbml6ZWQgZXhwcmVzc2lvbjogIithKX0sZGIudW5pcXVlU29ydD1mdW5jdGlvbihhKXt2YXIgYixkPVtdLGU9MCxmPTA7aWYoaj0hYy5kZXRlY3REdXBsaWNhdGVzLGk9IWMuc29ydFN0YWJsZSYmYS5zbGljZSgwKSxhLnNvcnQoeiksail7d2hpbGUoYj1hW2YrK10pYj09PWFbZl0mJihlPWQucHVzaChmKSk7d2hpbGUoZS0tKWEuc3BsaWNlKGRbZV0sMSl9cmV0dXJuIGk9bnVsbCxhfSxlPWRiLmdldFRleHQ9ZnVuY3Rpb24oYSl7dmFyIGIsYz0iIixkPTAsZj1hLm5vZGVUeXBlO2lmKGYpe2lmKDE9PT1mfHw5PT09Znx8MTE9PT1mKXtpZigic3RyaW5nIj09dHlwZW9mIGEudGV4dENvbnRlbnQpcmV0dXJuIGEudGV4dENvbnRlbnQ7Zm9yKGE9YS5maXJzdENoaWxkO2E7YT1hLm5leHRTaWJsaW5nKWMrPWUoYSl9ZWxzZSBpZigzPT09Znx8ND09PWYpcmV0dXJuIGEubm9kZVZhbHVlfWVsc2Ugd2hpbGUoYj1hW2QrK10pYys9ZShiKTtyZXR1cm4gY30sZD1kYi5zZWxlY3RvcnM9e2NhY2hlTGVuZ3RoOjUwLGNyZWF0ZVBzZXVkbzpmYixtYXRjaDpWLGF0dHJIYW5kbGU6e30sZmluZDp7fSxyZWxhdGl2ZTp7Ij4iOntkaXI6InBhcmVudE5vZGUiLGZpcnN0OiEwfSwiICI6e2RpcjoicGFyZW50Tm9kZSJ9LCIrIjp7ZGlyOiJwcmV2aW91c1NpYmxpbmciLGZpcnN0OiEwfSwifiI6e2RpcjoicHJldmlvdXNTaWJsaW5nIn19LHByZUZpbHRlcjp7QVRUUjpmdW5jdGlvbihhKXtyZXR1cm4gYVsxXT1hWzFdLnJlcGxhY2UoYWIsYmIpLGFbM109KGFbNF18fGFbNV18fCIiKS5yZXBsYWNlKGFiLGJiKSwifj0iPT09YVsyXSYmKGFbM109IiAiK2FbM10rIiAiKSxhLnNsaWNlKDAsNCl9LENISUxEOmZ1bmN0aW9uKGEpe3JldHVybiBhWzFdPWFbMV0udG9Mb3dlckNhc2UoKSwibnRoIj09PWFbMV0uc2xpY2UoMCwzKT8oYVszXXx8ZGIuZXJyb3IoYVswXSksYVs0XT0rKGFbNF0/YVs1XSsoYVs2XXx8MSk6MiooImV2ZW4iPT09YVszXXx8Im9kZCI9PT1hWzNdKSksYVs1XT0rKGFbN10rYVs4XXx8Im9kZCI9PT1hWzNdKSk6YVszXSYmZGIuZXJyb3IoYVswXSksYX0sUFNFVURPOmZ1bmN0aW9uKGEpe3ZhciBiLGM9IWFbNV0mJmFbMl07cmV0dXJuIFYuQ0hJTEQudGVzdChhWzBdKT9udWxsOihhWzNdJiZ2b2lkIDAhPT1hWzRdP2FbMl09YVs0XTpjJiZULnRlc3QoYykmJihiPW9iKGMsITApKSYmKGI9Yy5pbmRleE9mKCIpIixjLmxlbmd0aC1iKS1jLmxlbmd0aCkmJihhWzBdPWFbMF0uc2xpY2UoMCxiKSxhWzJdPWMuc2xpY2UoMCxiKSksYS5zbGljZSgwLDMpKX19LGZpbHRlcjp7VEFHOmZ1bmN0aW9uKGEpe3ZhciBiPWEucmVwbGFjZShhYixiYikudG9Mb3dlckNhc2UoKTtyZXR1cm4iKiI9PT1hP2Z1bmN0aW9uKCl7cmV0dXJuITB9OmZ1bmN0aW9uKGEpe3JldHVybiBhLm5vZGVOYW1lJiZhLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT1ifX0sQ0xBU1M6ZnVuY3Rpb24oYSl7dmFyIGI9d1thKyIgIl07cmV0dXJuIGJ8fChiPW5ldyBSZWdFeHAoIihefCIrSysiKSIrYSsiKCIrSysifCQpIikpJiZ3KGEsZnVuY3Rpb24oYSl7cmV0dXJuIGIudGVzdCgic3RyaW5nIj09dHlwZW9mIGEuY2xhc3NOYW1lJiZhLmNsYXNzTmFtZXx8dHlwZW9mIGEuZ2V0QXR0cmlidXRlIT09QSYmYS5nZXRBdHRyaWJ1dGUoImNsYXNzIil8fCIiKX0pfSxBVFRSOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gZnVuY3Rpb24oZCl7dmFyIGU9ZGIuYXR0cihkLGEpO3JldHVybiBudWxsPT1lPyIhPSI9PT1iOmI/KGUrPSIiLCI9Ij09PWI/ZT09PWM6IiE9Ij09PWI/ZSE9PWM6Il49Ij09PWI/YyYmMD09PWUuaW5kZXhPZihjKToiKj0iPT09Yj9jJiZlLmluZGV4T2YoYyk+LTE6IiQ9Ij09PWI/YyYmZS5zbGljZSgtYy5sZW5ndGgpPT09Yzoifj0iPT09Yj8oIiAiK2UrIiAiKS5pbmRleE9mKGMpPi0xOiJ8PSI9PT1iP2U9PT1jfHxlLnNsaWNlKDAsYy5sZW5ndGgrMSk9PT1jKyItIjohMSk6ITB9fSxDSElMRDpmdW5jdGlvbihhLGIsYyxkLGUpe3ZhciBmPSJudGgiIT09YS5zbGljZSgwLDMpLGc9Imxhc3QiIT09YS5zbGljZSgtNCksaD0ib2YtdHlwZSI9PT1iO3JldHVybiAxPT09ZCYmMD09PWU/ZnVuY3Rpb24oYSl7cmV0dXJuISFhLnBhcmVudE5vZGV9OmZ1bmN0aW9uKGIsYyxpKXt2YXIgaixrLGwsbSxuLG8scD1mIT09Zz8ibmV4dFNpYmxpbmciOiJwcmV2aW91c1NpYmxpbmciLHE9Yi5wYXJlbnROb2RlLHI9aCYmYi5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpLHQ9IWkmJiFoO2lmKHEpe2lmKGYpe3doaWxlKHApe2w9Yjt3aGlsZShsPWxbcF0paWYoaD9sLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT1yOjE9PT1sLm5vZGVUeXBlKXJldHVybiExO289cD0ib25seSI9PT1hJiYhbyYmIm5leHRTaWJsaW5nIn1yZXR1cm4hMH1pZihvPVtnP3EuZmlyc3RDaGlsZDpxLmxhc3RDaGlsZF0sZyYmdCl7az1xW3NdfHwocVtzXT17fSksaj1rW2FdfHxbXSxuPWpbMF09PT11JiZqWzFdLG09alswXT09PXUmJmpbMl0sbD1uJiZxLmNoaWxkTm9kZXNbbl07d2hpbGUobD0rK24mJmwmJmxbcF18fChtPW49MCl8fG8ucG9wKCkpaWYoMT09PWwubm9kZVR5cGUmJisrbSYmbD09PWIpe2tbYV09W3UsbixtXTticmVha319ZWxzZSBpZih0JiYoaj0oYltzXXx8KGJbc109e30pKVthXSkmJmpbMF09PT11KW09alsxXTtlbHNlIHdoaWxlKGw9KytuJiZsJiZsW3BdfHwobT1uPTApfHxvLnBvcCgpKWlmKChoP2wubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PXI6MT09PWwubm9kZVR5cGUpJiYrK20mJih0JiYoKGxbc118fChsW3NdPXt9KSlbYV09W3UsbV0pLGw9PT1iKSlicmVhaztyZXR1cm4gbS09ZSxtPT09ZHx8bSVkPT09MCYmbS9kPj0wfX19LFBTRVVETzpmdW5jdGlvbihhLGIpe3ZhciBjLGU9ZC5wc2V1ZG9zW2FdfHxkLnNldEZpbHRlcnNbYS50b0xvd2VyQ2FzZSgpXXx8ZGIuZXJyb3IoInVuc3VwcG9ydGVkIHBzZXVkbzogIithKTtyZXR1cm4gZVtzXT9lKGIpOmUubGVuZ3RoPjE/KGM9W2EsYSwiIixiXSxkLnNldEZpbHRlcnMuaGFzT3duUHJvcGVydHkoYS50b0xvd2VyQ2FzZSgpKT9mYihmdW5jdGlvbihhLGMpe3ZhciBkLGY9ZShhLGIpLGc9Zi5sZW5ndGg7d2hpbGUoZy0tKWQ9SS5jYWxsKGEsZltnXSksYVtkXT0hKGNbZF09ZltnXSl9KTpmdW5jdGlvbihhKXtyZXR1cm4gZShhLDAsYyl9KTplfX0scHNldWRvczp7bm90OmZiKGZ1bmN0aW9uKGEpe3ZhciBiPVtdLGM9W10sZD1nKGEucmVwbGFjZShQLCIkMSIpKTtyZXR1cm4gZFtzXT9mYihmdW5jdGlvbihhLGIsYyxlKXt2YXIgZixnPWQoYSxudWxsLGUsW10pLGg9YS5sZW5ndGg7d2hpbGUoaC0tKShmPWdbaF0pJiYoYVtoXT0hKGJbaF09ZikpfSk6ZnVuY3Rpb24oYSxlLGYpe3JldHVybiBiWzBdPWEsZChiLG51bGwsZixjKSwhYy5wb3AoKX19KSxoYXM6ZmIoZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKGIpe3JldHVybiBkYihhLGIpLmxlbmd0aD4wfX0pLGNvbnRhaW5zOmZiKGZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihiKXtyZXR1cm4oYi50ZXh0Q29udGVudHx8Yi5pbm5lclRleHR8fGUoYikpLmluZGV4T2YoYSk+LTF9fSksbGFuZzpmYihmdW5jdGlvbihhKXtyZXR1cm4gVS50ZXN0KGF8fCIiKXx8ZGIuZXJyb3IoInVuc3VwcG9ydGVkIGxhbmc6ICIrYSksYT1hLnJlcGxhY2UoYWIsYmIpLnRvTG93ZXJDYXNlKCksZnVuY3Rpb24oYil7dmFyIGM7ZG8gaWYoYz1uP2IubGFuZzpiLmdldEF0dHJpYnV0ZSgieG1sOmxhbmciKXx8Yi5nZXRBdHRyaWJ1dGUoImxhbmciKSlyZXR1cm4gYz1jLnRvTG93ZXJDYXNlKCksYz09PWF8fDA9PT1jLmluZGV4T2YoYSsiLSIpO3doaWxlKChiPWIucGFyZW50Tm9kZSkmJjE9PT1iLm5vZGVUeXBlKTtyZXR1cm4hMX19KSx0YXJnZXQ6ZnVuY3Rpb24oYil7dmFyIGM9YS5sb2NhdGlvbiYmYS5sb2NhdGlvbi5oYXNoO3JldHVybiBjJiZjLnNsaWNlKDEpPT09Yi5pZH0scm9vdDpmdW5jdGlvbihhKXtyZXR1cm4gYT09PW19LGZvY3VzOmZ1bmN0aW9uKGEpe3JldHVybiBhPT09bC5hY3RpdmVFbGVtZW50JiYoIWwuaGFzRm9jdXN8fGwuaGFzRm9jdXMoKSkmJiEhKGEudHlwZXx8YS5ocmVmfHx+YS50YWJJbmRleCl9LGVuYWJsZWQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGEuZGlzYWJsZWQ9PT0hMX0sZGlzYWJsZWQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGEuZGlzYWJsZWQ9PT0hMH0sY2hlY2tlZDpmdW5jdGlvbihhKXt2YXIgYj1hLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuImlucHV0Ij09PWImJiEhYS5jaGVja2VkfHwib3B0aW9uIj09PWImJiEhYS5zZWxlY3RlZH0sc2VsZWN0ZWQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGEucGFyZW50Tm9kZSYmYS5wYXJlbnROb2RlLnNlbGVjdGVkSW5kZXgsYS5zZWxlY3RlZD09PSEwfSxlbXB0eTpmdW5jdGlvbihhKXtmb3IoYT1hLmZpcnN0Q2hpbGQ7YTthPWEubmV4dFNpYmxpbmcpaWYoYS5ub2RlVHlwZTw2KXJldHVybiExO3JldHVybiEwfSxwYXJlbnQ6ZnVuY3Rpb24oYSl7cmV0dXJuIWQucHNldWRvcy5lbXB0eShhKX0saGVhZGVyOmZ1bmN0aW9uKGEpe3JldHVybiBYLnRlc3QoYS5ub2RlTmFtZSl9LGlucHV0OmZ1bmN0aW9uKGEpe3JldHVybiBXLnRlc3QoYS5ub2RlTmFtZSl9LGJ1dHRvbjpmdW5jdGlvbihhKXt2YXIgYj1hLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuImlucHV0Ij09PWImJiJidXR0b24iPT09YS50eXBlfHwiYnV0dG9uIj09PWJ9LHRleHQ6ZnVuY3Rpb24oYSl7dmFyIGI7cmV0dXJuImlucHV0Ij09PWEubm9kZU5hbWUudG9Mb3dlckNhc2UoKSYmInRleHQiPT09YS50eXBlJiYobnVsbD09KGI9YS5nZXRBdHRyaWJ1dGUoInR5cGUiKSl8fCJ0ZXh0Ij09PWIudG9Mb3dlckNhc2UoKSl9LGZpcnN0OmxiKGZ1bmN0aW9uKCl7cmV0dXJuWzBdfSksbGFzdDpsYihmdW5jdGlvbihhLGIpe3JldHVybltiLTFdfSksZXE6bGIoZnVuY3Rpb24oYSxiLGMpe3JldHVyblswPmM/YytiOmNdfSksZXZlbjpsYihmdW5jdGlvbihhLGIpe2Zvcih2YXIgYz0wO2I+YztjKz0yKWEucHVzaChjKTtyZXR1cm4gYX0pLG9kZDpsYihmdW5jdGlvbihhLGIpe2Zvcih2YXIgYz0xO2I+YztjKz0yKWEucHVzaChjKTtyZXR1cm4gYX0pLGx0OmxiKGZ1bmN0aW9uKGEsYixjKXtmb3IodmFyIGQ9MD5jP2MrYjpjOy0tZD49MDspYS5wdXNoKGQpO3JldHVybiBhfSksZ3Q6bGIoZnVuY3Rpb24oYSxiLGMpe2Zvcih2YXIgZD0wPmM/YytiOmM7KytkPGI7KWEucHVzaChkKTtyZXR1cm4gYX0pfX0sZC5wc2V1ZG9zLm50aD1kLnBzZXVkb3MuZXE7Zm9yKGIgaW57cmFkaW86ITAsY2hlY2tib3g6ITAsZmlsZTohMCxwYXNzd29yZDohMCxpbWFnZTohMH0pZC5wc2V1ZG9zW2JdPWpiKGIpO2ZvcihiIGlue3N1Ym1pdDohMCxyZXNldDohMH0pZC5wc2V1ZG9zW2JdPWtiKGIpO2Z1bmN0aW9uIG5iKCl7fW5iLnByb3RvdHlwZT1kLmZpbHRlcnM9ZC5wc2V1ZG9zLGQuc2V0RmlsdGVycz1uZXcgbmI7ZnVuY3Rpb24gb2IoYSxiKXt2YXIgYyxlLGYsZyxoLGksaixrPXhbYSsiICJdO2lmKGspcmV0dXJuIGI/MDprLnNsaWNlKDApO2g9YSxpPVtdLGo9ZC5wcmVGaWx0ZXI7d2hpbGUoaCl7KCFjfHwoZT1RLmV4ZWMoaCkpKSYmKGUmJihoPWguc2xpY2UoZVswXS5sZW5ndGgpfHxoKSxpLnB1c2goZj1bXSkpLGM9ITEsKGU9Ui5leGVjKGgpKSYmKGM9ZS5zaGlmdCgpLGYucHVzaCh7dmFsdWU6Yyx0eXBlOmVbMF0ucmVwbGFjZShQLCIgIil9KSxoPWguc2xpY2UoYy5sZW5ndGgpKTtmb3IoZyBpbiBkLmZpbHRlcikhKGU9VltnXS5leGVjKGgpKXx8altnXSYmIShlPWpbZ10oZSkpfHwoYz1lLnNoaWZ0KCksZi5wdXNoKHt2YWx1ZTpjLHR5cGU6ZyxtYXRjaGVzOmV9KSxoPWguc2xpY2UoYy5sZW5ndGgpKTtpZighYylicmVha31yZXR1cm4gYj9oLmxlbmd0aDpoP2RiLmVycm9yKGEpOngoYSxpKS5zbGljZSgwKX1mdW5jdGlvbiBwYihhKXtmb3IodmFyIGI9MCxjPWEubGVuZ3RoLGQ9IiI7Yz5iO2IrKylkKz1hW2JdLnZhbHVlO3JldHVybiBkfWZ1bmN0aW9uIHFiKGEsYixjKXt2YXIgZD1iLmRpcixlPWMmJiJwYXJlbnROb2RlIj09PWQsZj12Kys7cmV0dXJuIGIuZmlyc3Q/ZnVuY3Rpb24oYixjLGYpe3doaWxlKGI9YltkXSlpZigxPT09Yi5ub2RlVHlwZXx8ZSlyZXR1cm4gYShiLGMsZil9OmZ1bmN0aW9uKGIsYyxnKXt2YXIgaCxpLGo9W3UsZl07aWYoZyl7d2hpbGUoYj1iW2RdKWlmKCgxPT09Yi5ub2RlVHlwZXx8ZSkmJmEoYixjLGcpKXJldHVybiEwfWVsc2Ugd2hpbGUoYj1iW2RdKWlmKDE9PT1iLm5vZGVUeXBlfHxlKXtpZihpPWJbc118fChiW3NdPXt9KSwoaD1pW2RdKSYmaFswXT09PXUmJmhbMV09PT1mKXJldHVybiBqWzJdPWhbMl07aWYoaVtkXT1qLGpbMl09YShiLGMsZykpcmV0dXJuITB9fX1mdW5jdGlvbiByYihhKXtyZXR1cm4gYS5sZW5ndGg+MT9mdW5jdGlvbihiLGMsZCl7dmFyIGU9YS5sZW5ndGg7d2hpbGUoZS0tKWlmKCFhW2VdKGIsYyxkKSlyZXR1cm4hMTtyZXR1cm4hMH06YVswXX1mdW5jdGlvbiBzYihhLGIsYyxkLGUpe2Zvcih2YXIgZixnPVtdLGg9MCxpPWEubGVuZ3RoLGo9bnVsbCE9YjtpPmg7aCsrKShmPWFbaF0pJiYoIWN8fGMoZixkLGUpKSYmKGcucHVzaChmKSxqJiZiLnB1c2goaCkpO3JldHVybiBnfWZ1bmN0aW9uIHRiKGEsYixjLGQsZSxmKXtyZXR1cm4gZCYmIWRbc10mJihkPXRiKGQpKSxlJiYhZVtzXSYmKGU9dGIoZSxmKSksZmIoZnVuY3Rpb24oZixnLGgsaSl7dmFyIGosayxsLG09W10sbj1bXSxvPWcubGVuZ3RoLHA9Znx8d2IoYnx8IioiLGgubm9kZVR5cGU/W2hdOmgsW10pLHE9IWF8fCFmJiZiP3A6c2IocCxtLGEsaCxpKSxyPWM/ZXx8KGY/YTpvfHxkKT9bXTpnOnE7aWYoYyYmYyhxLHIsaCxpKSxkKXtqPXNiKHIsbiksZChqLFtdLGgsaSksaz1qLmxlbmd0aDt3aGlsZShrLS0pKGw9altrXSkmJihyW25ba11dPSEocVtuW2tdXT1sKSl9aWYoZil7aWYoZXx8YSl7aWYoZSl7aj1bXSxrPXIubGVuZ3RoO3doaWxlKGstLSkobD1yW2tdKSYmai5wdXNoKHFba109bCk7ZShudWxsLHI9W10saixpKX1rPXIubGVuZ3RoO3doaWxlKGstLSkobD1yW2tdKSYmKGo9ZT9JLmNhbGwoZixsKTptW2tdKT4tMSYmKGZbal09IShnW2pdPWwpKX19ZWxzZSByPXNiKHI9PT1nP3Iuc3BsaWNlKG8sci5sZW5ndGgpOnIpLGU/ZShudWxsLGcscixpKTpHLmFwcGx5KGcscil9KX1mdW5jdGlvbiB1YihhKXtmb3IodmFyIGIsYyxlLGY9YS5sZW5ndGgsZz1kLnJlbGF0aXZlW2FbMF0udHlwZV0saT1nfHxkLnJlbGF0aXZlWyIgIl0saj1nPzE6MCxrPXFiKGZ1bmN0aW9uKGEpe3JldHVybiBhPT09Yn0saSwhMCksbD1xYihmdW5jdGlvbihhKXtyZXR1cm4gSS5jYWxsKGIsYSk+LTF9LGksITApLG09W2Z1bmN0aW9uKGEsYyxkKXtyZXR1cm4hZyYmKGR8fGMhPT1oKXx8KChiPWMpLm5vZGVUeXBlP2soYSxjLGQpOmwoYSxjLGQpKX1dO2Y+ajtqKyspaWYoYz1kLnJlbGF0aXZlW2Fbal0udHlwZV0pbT1bcWIocmIobSksYyldO2Vsc2V7aWYoYz1kLmZpbHRlclthW2pdLnR5cGVdLmFwcGx5KG51bGwsYVtqXS5tYXRjaGVzKSxjW3NdKXtmb3IoZT0rK2o7Zj5lO2UrKylpZihkLnJlbGF0aXZlW2FbZV0udHlwZV0pYnJlYWs7cmV0dXJuIHRiKGo+MSYmcmIobSksaj4xJiZwYihhLnNsaWNlKDAsai0xKS5jb25jYXQoe3ZhbHVlOiIgIj09PWFbai0yXS50eXBlPyIqIjoiIn0pKS5yZXBsYWNlKFAsIiQxIiksYyxlPmomJnViKGEuc2xpY2UoaixlKSksZj5lJiZ1YihhPWEuc2xpY2UoZSkpLGY+ZSYmcGIoYSkpfW0ucHVzaChjKX1yZXR1cm4gcmIobSl9ZnVuY3Rpb24gdmIoYSxiKXt2YXIgYz1iLmxlbmd0aD4wLGU9YS5sZW5ndGg+MCxmPWZ1bmN0aW9uKGYsZyxpLGosayl7dmFyIG0sbixvLHA9MCxxPSIwIixyPWYmJltdLHM9W10sdD1oLHY9Znx8ZSYmZC5maW5kLlRBRygiKiIsayksdz11Kz1udWxsPT10PzE6TWF0aC5yYW5kb20oKXx8LjEseD12Lmxlbmd0aDtmb3IoayYmKGg9ZyE9PWwmJmcpO3EhPT14JiZudWxsIT0obT12W3FdKTtxKyspe2lmKGUmJm0pe249MDt3aGlsZShvPWFbbisrXSlpZihvKG0sZyxpKSl7ai5wdXNoKG0pO2JyZWFrfWsmJih1PXcpfWMmJigobT0hbyYmbSkmJnAtLSxmJiZyLnB1c2gobSkpfWlmKHArPXEsYyYmcSE9PXApe249MDt3aGlsZShvPWJbbisrXSlvKHIscyxnLGkpO2lmKGYpe2lmKHA+MCl3aGlsZShxLS0pcltxXXx8c1txXXx8KHNbcV09RS5jYWxsKGopKTtzPXNiKHMpfUcuYXBwbHkoaixzKSxrJiYhZiYmcy5sZW5ndGg+MCYmcCtiLmxlbmd0aD4xJiZkYi51bmlxdWVTb3J0KGopfXJldHVybiBrJiYodT13LGg9dCkscn07cmV0dXJuIGM/ZmIoZik6Zn1nPWRiLmNvbXBpbGU9ZnVuY3Rpb24oYSxiKXt2YXIgYyxkPVtdLGU9W10sZj15W2ErIiAiXTtpZighZil7Ynx8KGI9b2IoYSkpLGM9Yi5sZW5ndGg7d2hpbGUoYy0tKWY9dWIoYltjXSksZltzXT9kLnB1c2goZik6ZS5wdXNoKGYpO2Y9eShhLHZiKGUsZCkpfXJldHVybiBmfTtmdW5jdGlvbiB3YihhLGIsYyl7Zm9yKHZhciBkPTAsZT1iLmxlbmd0aDtlPmQ7ZCsrKWRiKGEsYltkXSxjKTtyZXR1cm4gY31mdW5jdGlvbiB4YihhLGIsZSxmKXt2YXIgaCxpLGosayxsLG09b2IoYSk7aWYoIWYmJjE9PT1tLmxlbmd0aCl7aWYoaT1tWzBdPW1bMF0uc2xpY2UoMCksaS5sZW5ndGg+MiYmIklEIj09PShqPWlbMF0pLnR5cGUmJmMuZ2V0QnlJZCYmOT09PWIubm9kZVR5cGUmJm4mJmQucmVsYXRpdmVbaVsxXS50eXBlXSl7aWYoYj0oZC5maW5kLklEKGoubWF0Y2hlc1swXS5yZXBsYWNlKGFiLGJiKSxiKXx8W10pWzBdLCFiKXJldHVybiBlO2E9YS5zbGljZShpLnNoaWZ0KCkudmFsdWUubGVuZ3RoKX1oPVYubmVlZHNDb250ZXh0LnRlc3QoYSk/MDppLmxlbmd0aDt3aGlsZShoLS0pe2lmKGo9aVtoXSxkLnJlbGF0aXZlW2s9ai50eXBlXSlicmVhaztpZigobD1kLmZpbmRba10pJiYoZj1sKGoubWF0Y2hlc1swXS5yZXBsYWNlKGFiLGJiKSwkLnRlc3QoaVswXS50eXBlKSYmbWIoYi5wYXJlbnROb2RlKXx8YikpKXtpZihpLnNwbGljZShoLDEpLGE9Zi5sZW5ndGgmJnBiKGkpLCFhKXJldHVybiBHLmFwcGx5KGUsZiksZTticmVha319fXJldHVybiBnKGEsbSkoZixiLCFuLGUsJC50ZXN0KGEpJiZtYihiLnBhcmVudE5vZGUpfHxiKSxlfXJldHVybiBjLnNvcnRTdGFibGU9cy5zcGxpdCgiIikuc29ydCh6KS5qb2luKCIiKT09PXMsYy5kZXRlY3REdXBsaWNhdGVzPSEhaixrKCksYy5zb3J0RGV0YWNoZWQ9Z2IoZnVuY3Rpb24oYSl7cmV0dXJuIDEmYS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihsLmNyZWF0ZUVsZW1lbnQoImRpdiIpKX0pLGdiKGZ1bmN0aW9uKGEpe3JldHVybiBhLmlubmVySFRNTD0iPGEgaHJlZj0nIyc+PC9hPiIsIiMiPT09YS5maXJzdENoaWxkLmdldEF0dHJpYnV0ZSgiaHJlZiIpfSl8fGhiKCJ0eXBlfGhyZWZ8aGVpZ2h0fHdpZHRoIixmdW5jdGlvbihhLGIsYyl7cmV0dXJuIGM/dm9pZCAwOmEuZ2V0QXR0cmlidXRlKGIsInR5cGUiPT09Yi50b0xvd2VyQ2FzZSgpPzE6Mil9KSxjLmF0dHJpYnV0ZXMmJmdiKGZ1bmN0aW9uKGEpe3JldHVybiBhLmlubmVySFRNTD0iPGlucHV0Lz4iLGEuZmlyc3RDaGlsZC5zZXRBdHRyaWJ1dGUoInZhbHVlIiwiIiksIiI9PT1hLmZpcnN0Q2hpbGQuZ2V0QXR0cmlidXRlKCJ2YWx1ZSIpfSl8fGhiKCJ2YWx1ZSIsZnVuY3Rpb24oYSxiLGMpe3JldHVybiBjfHwiaW5wdXQiIT09YS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpP3ZvaWQgMDphLmRlZmF1bHRWYWx1ZX0pLGdiKGZ1bmN0aW9uKGEpe3JldHVybiBudWxsPT1hLmdldEF0dHJpYnV0ZSgiZGlzYWJsZWQiKX0pfHxoYihKLGZ1bmN0aW9uKGEsYixjKXt2YXIgZDtyZXR1cm4gYz92b2lkIDA6YVtiXT09PSEwP2IudG9Mb3dlckNhc2UoKTooZD1hLmdldEF0dHJpYnV0ZU5vZGUoYikpJiZkLnNwZWNpZmllZD9kLnZhbHVlOm51bGx9KSxkYn0oYSk7bi5maW5kPXQsbi5leHByPXQuc2VsZWN0b3JzLG4uZXhwclsiOiJdPW4uZXhwci5wc2V1ZG9zLG4udW5pcXVlPXQudW5pcXVlU29ydCxuLnRleHQ9dC5nZXRUZXh0LG4uaXNYTUxEb2M9dC5pc1hNTCxuLmNvbnRhaW5zPXQuY29udGFpbnM7dmFyIHU9bi5leHByLm1hdGNoLm5lZWRzQ29udGV4dCx2PS9ePChcdyspXHMqXC8/Pig/OjxcL1wxPnwpJC8sdz0vXi5bXjojXFtcLixdKiQvO2Z1bmN0aW9uIHgoYSxiLGMpe2lmKG4uaXNGdW5jdGlvbihiKSlyZXR1cm4gbi5ncmVwKGEsZnVuY3Rpb24oYSxkKXtyZXR1cm4hIWIuY2FsbChhLGQsYSkhPT1jfSk7aWYoYi5ub2RlVHlwZSlyZXR1cm4gbi5ncmVwKGEsZnVuY3Rpb24oYSl7cmV0dXJuIGE9PT1iIT09Y30pO2lmKCJzdHJpbmciPT10eXBlb2YgYil7aWYody50ZXN0KGIpKXJldHVybiBuLmZpbHRlcihiLGEsYyk7Yj1uLmZpbHRlcihiLGEpfXJldHVybiBuLmdyZXAoYSxmdW5jdGlvbihhKXtyZXR1cm4gbi5pbkFycmF5KGEsYik+PTAhPT1jfSl9bi5maWx0ZXI9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWJbMF07cmV0dXJuIGMmJihhPSI6bm90KCIrYSsiKSIpLDE9PT1iLmxlbmd0aCYmMT09PWQubm9kZVR5cGU/bi5maW5kLm1hdGNoZXNTZWxlY3RvcihkLGEpP1tkXTpbXTpuLmZpbmQubWF0Y2hlcyhhLG4uZ3JlcChiLGZ1bmN0aW9uKGEpe3JldHVybiAxPT09YS5ub2RlVHlwZX0pKX0sbi5mbi5leHRlbmQoe2ZpbmQ6ZnVuY3Rpb24oYSl7dmFyIGIsYz1bXSxkPXRoaXMsZT1kLmxlbmd0aDtpZigic3RyaW5nIiE9dHlwZW9mIGEpcmV0dXJuIHRoaXMucHVzaFN0YWNrKG4oYSkuZmlsdGVyKGZ1bmN0aW9uKCl7Zm9yKGI9MDtlPmI7YisrKWlmKG4uY29udGFpbnMoZFtiXSx0aGlzKSlyZXR1cm4hMH0pKTtmb3IoYj0wO2U+YjtiKyspbi5maW5kKGEsZFtiXSxjKTtyZXR1cm4gYz10aGlzLnB1c2hTdGFjayhlPjE/bi51bmlxdWUoYyk6YyksYy5zZWxlY3Rvcj10aGlzLnNlbGVjdG9yP3RoaXMuc2VsZWN0b3IrIiAiK2E6YSxjfSxmaWx0ZXI6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMucHVzaFN0YWNrKHgodGhpcyxhfHxbXSwhMSkpfSxub3Q6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMucHVzaFN0YWNrKHgodGhpcyxhfHxbXSwhMCkpfSxpczpmdW5jdGlvbihhKXtyZXR1cm4hIXgodGhpcywic3RyaW5nIj09dHlwZW9mIGEmJnUudGVzdChhKT9uKGEpOmF8fFtdLCExKS5sZW5ndGh9fSk7dmFyIHksej1hLmRvY3VtZW50LEE9L14oPzpccyooPFtcd1xXXSs+KVtePl0qfCMoW1x3LV0qKSkkLyxCPW4uZm4uaW5pdD1mdW5jdGlvbihhLGIpe3ZhciBjLGQ7aWYoIWEpcmV0dXJuIHRoaXM7aWYoInN0cmluZyI9PXR5cGVvZiBhKXtpZihjPSI8Ij09PWEuY2hhckF0KDApJiYiPiI9PT1hLmNoYXJBdChhLmxlbmd0aC0xKSYmYS5sZW5ndGg+PTM/W251bGwsYSxudWxsXTpBLmV4ZWMoYSksIWN8fCFjWzFdJiZiKXJldHVybiFifHxiLmpxdWVyeT8oYnx8eSkuZmluZChhKTp0aGlzLmNvbnN0cnVjdG9yKGIpLmZpbmQoYSk7aWYoY1sxXSl7aWYoYj1iIGluc3RhbmNlb2Ygbj9iWzBdOmIsbi5tZXJnZSh0aGlzLG4ucGFyc2VIVE1MKGNbMV0sYiYmYi5ub2RlVHlwZT9iLm93bmVyRG9jdW1lbnR8fGI6eiwhMCkpLHYudGVzdChjWzFdKSYmbi5pc1BsYWluT2JqZWN0KGIpKWZvcihjIGluIGIpbi5pc0Z1bmN0aW9uKHRoaXNbY10pP3RoaXNbY10oYltjXSk6dGhpcy5hdHRyKGMsYltjXSk7cmV0dXJuIHRoaXN9aWYoZD16LmdldEVsZW1lbnRCeUlkKGNbMl0pLGQmJmQucGFyZW50Tm9kZSl7aWYoZC5pZCE9PWNbMl0pcmV0dXJuIHkuZmluZChhKTt0aGlzLmxlbmd0aD0xLHRoaXNbMF09ZH1yZXR1cm4gdGhpcy5jb250ZXh0PXosdGhpcy5zZWxlY3Rvcj1hLHRoaXN9cmV0dXJuIGEubm9kZVR5cGU/KHRoaXMuY29udGV4dD10aGlzWzBdPWEsdGhpcy5sZW5ndGg9MSx0aGlzKTpuLmlzRnVuY3Rpb24oYSk/InVuZGVmaW5lZCIhPXR5cGVvZiB5LnJlYWR5P3kucmVhZHkoYSk6YShuKToodm9pZCAwIT09YS5zZWxlY3RvciYmKHRoaXMuc2VsZWN0b3I9YS5zZWxlY3Rvcix0aGlzLmNvbnRleHQ9YS5jb250ZXh0KSxuLm1ha2VBcnJheShhLHRoaXMpKX07Qi5wcm90b3R5cGU9bi5mbix5PW4oeik7dmFyIEM9L14oPzpwYXJlbnRzfHByZXYoPzpVbnRpbHxBbGwpKS8sRD17Y2hpbGRyZW46ITAsY29udGVudHM6ITAsbmV4dDohMCxwcmV2OiEwfTtuLmV4dGVuZCh7ZGlyOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD1bXSxlPWFbYl07d2hpbGUoZSYmOSE9PWUubm9kZVR5cGUmJih2b2lkIDA9PT1jfHwxIT09ZS5ub2RlVHlwZXx8IW4oZSkuaXMoYykpKTE9PT1lLm5vZGVUeXBlJiZkLnB1c2goZSksZT1lW2JdO3JldHVybiBkfSxzaWJsaW5nOmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPVtdO2E7YT1hLm5leHRTaWJsaW5nKTE9PT1hLm5vZGVUeXBlJiZhIT09YiYmYy5wdXNoKGEpO3JldHVybiBjfX0pLG4uZm4uZXh0ZW5kKHtoYXM6ZnVuY3Rpb24oYSl7dmFyIGIsYz1uKGEsdGhpcyksZD1jLmxlbmd0aDtyZXR1cm4gdGhpcy5maWx0ZXIoZnVuY3Rpb24oKXtmb3IoYj0wO2Q+YjtiKyspaWYobi5jb250YWlucyh0aGlzLGNbYl0pKXJldHVybiEwfSl9LGNsb3Nlc3Q6ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGMsZD0wLGU9dGhpcy5sZW5ndGgsZj1bXSxnPXUudGVzdChhKXx8InN0cmluZyIhPXR5cGVvZiBhP24oYSxifHx0aGlzLmNvbnRleHQpOjA7ZT5kO2QrKylmb3IoYz10aGlzW2RdO2MmJmMhPT1iO2M9Yy5wYXJlbnROb2RlKWlmKGMubm9kZVR5cGU8MTEmJihnP2cuaW5kZXgoYyk+LTE6MT09PWMubm9kZVR5cGUmJm4uZmluZC5tYXRjaGVzU2VsZWN0b3IoYyxhKSkpe2YucHVzaChjKTticmVha31yZXR1cm4gdGhpcy5wdXNoU3RhY2soZi5sZW5ndGg+MT9uLnVuaXF1ZShmKTpmKX0saW5kZXg6ZnVuY3Rpb24oYSl7cmV0dXJuIGE/InN0cmluZyI9PXR5cGVvZiBhP24uaW5BcnJheSh0aGlzWzBdLG4oYSkpOm4uaW5BcnJheShhLmpxdWVyeT9hWzBdOmEsdGhpcyk6dGhpc1swXSYmdGhpc1swXS5wYXJlbnROb2RlP3RoaXMuZmlyc3QoKS5wcmV2QWxsKCkubGVuZ3RoOi0xfSxhZGQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2sobi51bmlxdWUobi5tZXJnZSh0aGlzLmdldCgpLG4oYSxiKSkpKX0sYWRkQmFjazpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5hZGQobnVsbD09YT90aGlzLnByZXZPYmplY3Q6dGhpcy5wcmV2T2JqZWN0LmZpbHRlcihhKSl9fSk7ZnVuY3Rpb24gRShhLGIpe2RvIGE9YVtiXTt3aGlsZShhJiYxIT09YS5ub2RlVHlwZSk7cmV0dXJuIGF9bi5lYWNoKHtwYXJlbnQ6ZnVuY3Rpb24oYSl7dmFyIGI9YS5wYXJlbnROb2RlO3JldHVybiBiJiYxMSE9PWIubm9kZVR5cGU/YjpudWxsfSxwYXJlbnRzOmZ1bmN0aW9uKGEpe3JldHVybiBuLmRpcihhLCJwYXJlbnROb2RlIil9LHBhcmVudHNVbnRpbDpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIG4uZGlyKGEsInBhcmVudE5vZGUiLGMpfSxuZXh0OmZ1bmN0aW9uKGEpe3JldHVybiBFKGEsIm5leHRTaWJsaW5nIil9LHByZXY6ZnVuY3Rpb24oYSl7cmV0dXJuIEUoYSwicHJldmlvdXNTaWJsaW5nIil9LG5leHRBbGw6ZnVuY3Rpb24oYSl7cmV0dXJuIG4uZGlyKGEsIm5leHRTaWJsaW5nIil9LHByZXZBbGw6ZnVuY3Rpb24oYSl7cmV0dXJuIG4uZGlyKGEsInByZXZpb3VzU2libGluZyIpfSxuZXh0VW50aWw6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBuLmRpcihhLCJuZXh0U2libGluZyIsYyl9LHByZXZVbnRpbDpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIG4uZGlyKGEsInByZXZpb3VzU2libGluZyIsYyl9LHNpYmxpbmdzOmZ1bmN0aW9uKGEpe3JldHVybiBuLnNpYmxpbmcoKGEucGFyZW50Tm9kZXx8e30pLmZpcnN0Q2hpbGQsYSl9LGNoaWxkcmVuOmZ1bmN0aW9uKGEpe3JldHVybiBuLnNpYmxpbmcoYS5maXJzdENoaWxkKX0sY29udGVudHM6ZnVuY3Rpb24oYSl7cmV0dXJuIG4ubm9kZU5hbWUoYSwiaWZyYW1lIik/YS5jb250ZW50RG9jdW1lbnR8fGEuY29udGVudFdpbmRvdy5kb2N1bWVudDpuLm1lcmdlKFtdLGEuY2hpbGROb2Rlcyl9fSxmdW5jdGlvbihhLGIpe24uZm5bYV09ZnVuY3Rpb24oYyxkKXt2YXIgZT1uLm1hcCh0aGlzLGIsYyk7cmV0dXJuIlVudGlsIiE9PWEuc2xpY2UoLTUpJiYoZD1jKSxkJiYic3RyaW5nIj09dHlwZW9mIGQmJihlPW4uZmlsdGVyKGQsZSkpLHRoaXMubGVuZ3RoPjEmJihEW2FdfHwoZT1uLnVuaXF1ZShlKSksQy50ZXN0KGEpJiYoZT1lLnJldmVyc2UoKSkpLHRoaXMucHVzaFN0YWNrKGUpfX0pO3ZhciBGPS9cUysvZyxHPXt9O2Z1bmN0aW9uIEgoYSl7dmFyIGI9R1thXT17fTtyZXR1cm4gbi5lYWNoKGEubWF0Y2goRil8fFtdLGZ1bmN0aW9uKGEsYyl7YltjXT0hMH0pLGJ9bi5DYWxsYmFja3M9ZnVuY3Rpb24oYSl7YT0ic3RyaW5nIj09dHlwZW9mIGE/R1thXXx8SChhKTpuLmV4dGVuZCh7fSxhKTt2YXIgYixjLGQsZSxmLGcsaD1bXSxpPSFhLm9uY2UmJltdLGo9ZnVuY3Rpb24obCl7Zm9yKGM9YS5tZW1vcnkmJmwsZD0hMCxmPWd8fDAsZz0wLGU9aC5sZW5ndGgsYj0hMDtoJiZlPmY7ZisrKWlmKGhbZl0uYXBwbHkobFswXSxsWzFdKT09PSExJiZhLnN0b3BPbkZhbHNlKXtjPSExO2JyZWFrfWI9ITEsaCYmKGk/aS5sZW5ndGgmJmooaS5zaGlmdCgpKTpjP2g9W106ay5kaXNhYmxlKCkpfSxrPXthZGQ6ZnVuY3Rpb24oKXtpZihoKXt2YXIgZD1oLmxlbmd0aDshZnVuY3Rpb24gZihiKXtuLmVhY2goYixmdW5jdGlvbihiLGMpe3ZhciBkPW4udHlwZShjKTsiZnVuY3Rpb24iPT09ZD9hLnVuaXF1ZSYmay5oYXMoYyl8fGgucHVzaChjKTpjJiZjLmxlbmd0aCYmInN0cmluZyIhPT1kJiZmKGMpfSl9KGFyZ3VtZW50cyksYj9lPWgubGVuZ3RoOmMmJihnPWQsaihjKSl9cmV0dXJuIHRoaXN9LHJlbW92ZTpmdW5jdGlvbigpe3JldHVybiBoJiZuLmVhY2goYXJndW1lbnRzLGZ1bmN0aW9uKGEsYyl7dmFyIGQ7d2hpbGUoKGQ9bi5pbkFycmF5KGMsaCxkKSk+LTEpaC5zcGxpY2UoZCwxKSxiJiYoZT49ZCYmZS0tLGY+PWQmJmYtLSl9KSx0aGlzfSxoYXM6ZnVuY3Rpb24oYSl7cmV0dXJuIGE/bi5pbkFycmF5KGEsaCk+LTE6ISghaHx8IWgubGVuZ3RoKX0sZW1wdHk6ZnVuY3Rpb24oKXtyZXR1cm4gaD1bXSxlPTAsdGhpc30sZGlzYWJsZTpmdW5jdGlvbigpe3JldHVybiBoPWk9Yz12b2lkIDAsdGhpc30sZGlzYWJsZWQ6ZnVuY3Rpb24oKXtyZXR1cm4haH0sbG9jazpmdW5jdGlvbigpe3JldHVybiBpPXZvaWQgMCxjfHxrLmRpc2FibGUoKSx0aGlzfSxsb2NrZWQ6ZnVuY3Rpb24oKXtyZXR1cm4haX0sZmlyZVdpdGg6ZnVuY3Rpb24oYSxjKXtyZXR1cm4haHx8ZCYmIWl8fChjPWN8fFtdLGM9W2EsYy5zbGljZT9jLnNsaWNlKCk6Y10sYj9pLnB1c2goYyk6aihjKSksdGhpc30sZmlyZTpmdW5jdGlvbigpe3JldHVybiBrLmZpcmVXaXRoKHRoaXMsYXJndW1lbnRzKSx0aGlzfSxmaXJlZDpmdW5jdGlvbigpe3JldHVybiEhZH19O3JldHVybiBrfSxuLmV4dGVuZCh7RGVmZXJyZWQ6ZnVuY3Rpb24oYSl7dmFyIGI9W1sicmVzb2x2ZSIsImRvbmUiLG4uQ2FsbGJhY2tzKCJvbmNlIG1lbW9yeSIpLCJyZXNvbHZlZCJdLFsicmVqZWN0IiwiZmFpbCIsbi5DYWxsYmFja3MoIm9uY2UgbWVtb3J5IiksInJlamVjdGVkIl0sWyJub3RpZnkiLCJwcm9ncmVzcyIsbi5DYWxsYmFja3MoIm1lbW9yeSIpXV0sYz0icGVuZGluZyIsZD17c3RhdGU6ZnVuY3Rpb24oKXtyZXR1cm4gY30sYWx3YXlzOmZ1bmN0aW9uKCl7cmV0dXJuIGUuZG9uZShhcmd1bWVudHMpLmZhaWwoYXJndW1lbnRzKSx0aGlzfSx0aGVuOmZ1bmN0aW9uKCl7dmFyIGE9YXJndW1lbnRzO3JldHVybiBuLkRlZmVycmVkKGZ1bmN0aW9uKGMpe24uZWFjaChiLGZ1bmN0aW9uKGIsZil7dmFyIGc9bi5pc0Z1bmN0aW9uKGFbYl0pJiZhW2JdO2VbZlsxXV0oZnVuY3Rpb24oKXt2YXIgYT1nJiZnLmFwcGx5KHRoaXMsYXJndW1lbnRzKTthJiZuLmlzRnVuY3Rpb24oYS5wcm9taXNlKT9hLnByb21pc2UoKS5kb25lKGMucmVzb2x2ZSkuZmFpbChjLnJlamVjdCkucHJvZ3Jlc3MoYy5ub3RpZnkpOmNbZlswXSsiV2l0aCJdKHRoaXM9PT1kP2MucHJvbWlzZSgpOnRoaXMsZz9bYV06YXJndW1lbnRzKX0pfSksYT1udWxsfSkucHJvbWlzZSgpfSxwcm9taXNlOmZ1bmN0aW9uKGEpe3JldHVybiBudWxsIT1hP24uZXh0ZW5kKGEsZCk6ZH19LGU9e307cmV0dXJuIGQucGlwZT1kLnRoZW4sbi5lYWNoKGIsZnVuY3Rpb24oYSxmKXt2YXIgZz1mWzJdLGg9ZlszXTtkW2ZbMV1dPWcuYWRkLGgmJmcuYWRkKGZ1bmN0aW9uKCl7Yz1ofSxiWzFeYV1bMl0uZGlzYWJsZSxiWzJdWzJdLmxvY2spLGVbZlswXV09ZnVuY3Rpb24oKXtyZXR1cm4gZVtmWzBdKyJXaXRoIl0odGhpcz09PWU/ZDp0aGlzLGFyZ3VtZW50cyksdGhpc30sZVtmWzBdKyJXaXRoIl09Zy5maXJlV2l0aH0pLGQucHJvbWlzZShlKSxhJiZhLmNhbGwoZSxlKSxlfSx3aGVuOmZ1bmN0aW9uKGEpe3ZhciBiPTAsYz1kLmNhbGwoYXJndW1lbnRzKSxlPWMubGVuZ3RoLGY9MSE9PWV8fGEmJm4uaXNGdW5jdGlvbihhLnByb21pc2UpP2U6MCxnPTE9PT1mP2E6bi5EZWZlcnJlZCgpLGg9ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBmdW5jdGlvbihlKXtiW2FdPXRoaXMsY1thXT1hcmd1bWVudHMubGVuZ3RoPjE/ZC5jYWxsKGFyZ3VtZW50cyk6ZSxjPT09aT9nLm5vdGlmeVdpdGgoYixjKTotLWZ8fGcucmVzb2x2ZVdpdGgoYixjKX19LGksaixrO2lmKGU+MSlmb3IoaT1uZXcgQXJyYXkoZSksaj1uZXcgQXJyYXkoZSksaz1uZXcgQXJyYXkoZSk7ZT5iO2IrKyljW2JdJiZuLmlzRnVuY3Rpb24oY1tiXS5wcm9taXNlKT9jW2JdLnByb21pc2UoKS5kb25lKGgoYixrLGMpKS5mYWlsKGcucmVqZWN0KS5wcm9ncmVzcyhoKGIsaixpKSk6LS1mO3JldHVybiBmfHxnLnJlc29sdmVXaXRoKGssYyksZy5wcm9taXNlKCl9fSk7dmFyIEk7bi5mbi5yZWFkeT1mdW5jdGlvbihhKXtyZXR1cm4gbi5yZWFkeS5wcm9taXNlKCkuZG9uZShhKSx0aGlzfSxuLmV4dGVuZCh7aXNSZWFkeTohMSxyZWFkeVdhaXQ6MSxob2xkUmVhZHk6ZnVuY3Rpb24oYSl7YT9uLnJlYWR5V2FpdCsrOm4ucmVhZHkoITApfSxyZWFkeTpmdW5jdGlvbihhKXtpZihhPT09ITA/IS0tbi5yZWFkeVdhaXQ6IW4uaXNSZWFkeSl7aWYoIXouYm9keSlyZXR1cm4gc2V0VGltZW91dChuLnJlYWR5KTtuLmlzUmVhZHk9ITAsYSE9PSEwJiYtLW4ucmVhZHlXYWl0PjB8fChJLnJlc29sdmVXaXRoKHosW25dKSxuLmZuLnRyaWdnZXImJm4oeikudHJpZ2dlcigicmVhZHkiKS5vZmYoInJlYWR5IikpfX19KTtmdW5jdGlvbiBKKCl7ei5hZGRFdmVudExpc3RlbmVyPyh6LnJlbW92ZUV2ZW50TGlzdGVuZXIoIkRPTUNvbnRlbnRMb2FkZWQiLEssITEpLGEucmVtb3ZlRXZlbnRMaXN0ZW5lcigibG9hZCIsSywhMSkpOih6LmRldGFjaEV2ZW50KCJvbnJlYWR5c3RhdGVjaGFuZ2UiLEspLGEuZGV0YWNoRXZlbnQoIm9ubG9hZCIsSykpfWZ1bmN0aW9uIEsoKXsoei5hZGRFdmVudExpc3RlbmVyfHwibG9hZCI9PT1ldmVudC50eXBlfHwiY29tcGxldGUiPT09ei5yZWFkeVN0YXRlKSYmKEooKSxuLnJlYWR5KCkpfW4ucmVhZHkucHJvbWlzZT1mdW5jdGlvbihiKXtpZighSSlpZihJPW4uRGVmZXJyZWQoKSwiY29tcGxldGUiPT09ei5yZWFkeVN0YXRlKXNldFRpbWVvdXQobi5yZWFkeSk7ZWxzZSBpZih6LmFkZEV2ZW50TGlzdGVuZXIpei5hZGRFdmVudExpc3RlbmVyKCJET01Db250ZW50TG9hZGVkIixLLCExKSxhLmFkZEV2ZW50TGlzdGVuZXIoImxvYWQiLEssITEpO2Vsc2V7ei5hdHRhY2hFdmVudCgib25yZWFkeXN0YXRlY2hhbmdlIixLKSxhLmF0dGFjaEV2ZW50KCJvbmxvYWQiLEspO3ZhciBjPSExO3RyeXtjPW51bGw9PWEuZnJhbWVFbGVtZW50JiZ6LmRvY3VtZW50RWxlbWVudH1jYXRjaChkKXt9YyYmYy5kb1Njcm9sbCYmIWZ1bmN0aW9uIGUoKXtpZighbi5pc1JlYWR5KXt0cnl7Yy5kb1Njcm9sbCgibGVmdCIpfWNhdGNoKGEpe3JldHVybiBzZXRUaW1lb3V0KGUsNTApfUooKSxuLnJlYWR5KCl9fSgpfXJldHVybiBJLnByb21pc2UoYil9O3ZhciBMPSJ1bmRlZmluZWQiLE07Zm9yKE0gaW4gbihsKSlicmVhaztsLm93bkxhc3Q9IjAiIT09TSxsLmlubGluZUJsb2NrTmVlZHNMYXlvdXQ9ITEsbihmdW5jdGlvbigpe3ZhciBhLGIsYz16LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJib2R5IilbMF07YyYmKGE9ei5jcmVhdGVFbGVtZW50KCJkaXYiKSxhLnN0eWxlLmNzc1RleHQ9ImJvcmRlcjowO3dpZHRoOjA7aGVpZ2h0OjA7cG9zaXRpb246YWJzb2x1dGU7dG9wOjA7bGVmdDotOTk5OXB4O21hcmdpbi10b3A6MXB4IixiPXouY3JlYXRlRWxlbWVudCgiZGl2IiksYy5hcHBlbmRDaGlsZChhKS5hcHBlbmRDaGlsZChiKSx0eXBlb2YgYi5zdHlsZS56b29tIT09TCYmKGIuc3R5bGUuY3NzVGV4dD0iYm9yZGVyOjA7bWFyZ2luOjA7d2lkdGg6MXB4O3BhZGRpbmc6MXB4O2Rpc3BsYXk6aW5saW5lO3pvb206MSIsKGwuaW5saW5lQmxvY2tOZWVkc0xheW91dD0zPT09Yi5vZmZzZXRXaWR0aCkmJihjLnN0eWxlLnpvb209MSkpLGMucmVtb3ZlQ2hpbGQoYSksYT1iPW51bGwpfSksZnVuY3Rpb24oKXt2YXIgYT16LmNyZWF0ZUVsZW1lbnQoImRpdiIpO2lmKG51bGw9PWwuZGVsZXRlRXhwYW5kbyl7bC5kZWxldGVFeHBhbmRvPSEwO3RyeXtkZWxldGUgYS50ZXN0fWNhdGNoKGIpe2wuZGVsZXRlRXhwYW5kbz0hMX19YT1udWxsfSgpLG4uYWNjZXB0RGF0YT1mdW5jdGlvbihhKXt2YXIgYj1uLm5vRGF0YVsoYS5ub2RlTmFtZSsiICIpLnRvTG93ZXJDYXNlKCldLGM9K2Eubm9kZVR5cGV8fDE7cmV0dXJuIDEhPT1jJiY5IT09Yz8hMTohYnx8YiE9PSEwJiZhLmdldEF0dHJpYnV0ZSgiY2xhc3NpZCIpPT09Yn07dmFyIE49L14oPzpce1tcd1xXXSpcfXxcW1tcd1xXXSpcXSkkLyxPPS8oW0EtWl0pL2c7ZnVuY3Rpb24gUChhLGIsYyl7aWYodm9pZCAwPT09YyYmMT09PWEubm9kZVR5cGUpe3ZhciBkPSJkYXRhLSIrYi5yZXBsYWNlKE8sIi0kMSIpLnRvTG93ZXJDYXNlKCk7aWYoYz1hLmdldEF0dHJpYnV0ZShkKSwic3RyaW5nIj09dHlwZW9mIGMpe3RyeXtjPSJ0cnVlIj09PWM/ITA6ImZhbHNlIj09PWM/ITE6Im51bGwiPT09Yz9udWxsOitjKyIiPT09Yz8rYzpOLnRlc3QoYyk/bi5wYXJzZUpTT04oYyk6Y31jYXRjaChlKXt9bi5kYXRhKGEsYixjKX1lbHNlIGM9dm9pZCAwfXJldHVybiBjfWZ1bmN0aW9uIFEoYSl7dmFyIGI7Zm9yKGIgaW4gYSlpZigoImRhdGEiIT09Ynx8IW4uaXNFbXB0eU9iamVjdChhW2JdKSkmJiJ0b0pTT04iIT09YilyZXR1cm4hMTtyZXR1cm4hMH1mdW5jdGlvbiBSKGEsYixkLGUpe2lmKG4uYWNjZXB0RGF0YShhKSl7dmFyIGYsZyxoPW4uZXhwYW5kbyxpPWEubm9kZVR5cGUsaj1pP24uY2FjaGU6YSxrPWk/YVtoXTphW2hdJiZoO2lmKGsmJmpba10mJihlfHxqW2tdLmRhdGEpfHx2b2lkIDAhPT1kfHwic3RyaW5nIiE9dHlwZW9mIGIpcmV0dXJuIGt8fChrPWk/YVtoXT1jLnBvcCgpfHxuLmd1aWQrKzpoKSxqW2tdfHwoaltrXT1pP3t9Ont0b0pTT046bi5ub29wfSksKCJvYmplY3QiPT10eXBlb2YgYnx8ImZ1bmN0aW9uIj09dHlwZW9mIGIpJiYoZT9qW2tdPW4uZXh0ZW5kKGpba10sYik6altrXS5kYXRhPW4uZXh0ZW5kKGpba10uZGF0YSxiKSksZz1qW2tdLGV8fChnLmRhdGF8fChnLmRhdGE9e30pLGc9Zy5kYXRhKSx2b2lkIDAhPT1kJiYoZ1tuLmNhbWVsQ2FzZShiKV09ZCksInN0cmluZyI9PXR5cGVvZiBiPyhmPWdbYl0sbnVsbD09ZiYmKGY9Z1tuLmNhbWVsQ2FzZShiKV0pKTpmPWcsZgp9fWZ1bmN0aW9uIFMoYSxiLGMpe2lmKG4uYWNjZXB0RGF0YShhKSl7dmFyIGQsZSxmPWEubm9kZVR5cGUsZz1mP24uY2FjaGU6YSxoPWY/YVtuLmV4cGFuZG9dOm4uZXhwYW5kbztpZihnW2hdKXtpZihiJiYoZD1jP2dbaF06Z1toXS5kYXRhKSl7bi5pc0FycmF5KGIpP2I9Yi5jb25jYXQobi5tYXAoYixuLmNhbWVsQ2FzZSkpOmIgaW4gZD9iPVtiXTooYj1uLmNhbWVsQ2FzZShiKSxiPWIgaW4gZD9bYl06Yi5zcGxpdCgiICIpKSxlPWIubGVuZ3RoO3doaWxlKGUtLSlkZWxldGUgZFtiW2VdXTtpZihjPyFRKGQpOiFuLmlzRW1wdHlPYmplY3QoZCkpcmV0dXJufShjfHwoZGVsZXRlIGdbaF0uZGF0YSxRKGdbaF0pKSkmJihmP24uY2xlYW5EYXRhKFthXSwhMCk6bC5kZWxldGVFeHBhbmRvfHxnIT1nLndpbmRvdz9kZWxldGUgZ1toXTpnW2hdPW51bGwpfX19bi5leHRlbmQoe2NhY2hlOnt9LG5vRGF0YTp7ImFwcGxldCAiOiEwLCJlbWJlZCAiOiEwLCJvYmplY3QgIjoiY2xzaWQ6RDI3Q0RCNkUtQUU2RC0xMWNmLTk2QjgtNDQ0NTUzNTQwMDAwIn0saGFzRGF0YTpmdW5jdGlvbihhKXtyZXR1cm4gYT1hLm5vZGVUeXBlP24uY2FjaGVbYVtuLmV4cGFuZG9dXTphW24uZXhwYW5kb10sISFhJiYhUShhKX0sZGF0YTpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIFIoYSxiLGMpfSxyZW1vdmVEYXRhOmZ1bmN0aW9uKGEsYil7cmV0dXJuIFMoYSxiKX0sX2RhdGE6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBSKGEsYixjLCEwKX0sX3JlbW92ZURhdGE6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gUyhhLGIsITApfX0pLG4uZm4uZXh0ZW5kKHtkYXRhOmZ1bmN0aW9uKGEsYil7dmFyIGMsZCxlLGY9dGhpc1swXSxnPWYmJmYuYXR0cmlidXRlcztpZih2b2lkIDA9PT1hKXtpZih0aGlzLmxlbmd0aCYmKGU9bi5kYXRhKGYpLDE9PT1mLm5vZGVUeXBlJiYhbi5fZGF0YShmLCJwYXJzZWRBdHRycyIpKSl7Yz1nLmxlbmd0aDt3aGlsZShjLS0pZD1nW2NdLm5hbWUsMD09PWQuaW5kZXhPZigiZGF0YS0iKSYmKGQ9bi5jYW1lbENhc2UoZC5zbGljZSg1KSksUChmLGQsZVtkXSkpO24uX2RhdGEoZiwicGFyc2VkQXR0cnMiLCEwKX1yZXR1cm4gZX1yZXR1cm4ib2JqZWN0Ij09dHlwZW9mIGE/dGhpcy5lYWNoKGZ1bmN0aW9uKCl7bi5kYXRhKHRoaXMsYSl9KTphcmd1bWVudHMubGVuZ3RoPjE/dGhpcy5lYWNoKGZ1bmN0aW9uKCl7bi5kYXRhKHRoaXMsYSxiKX0pOmY/UChmLGEsbi5kYXRhKGYsYSkpOnZvaWQgMH0scmVtb3ZlRGF0YTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7bi5yZW1vdmVEYXRhKHRoaXMsYSl9KX19KSxuLmV4dGVuZCh7cXVldWU6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkO3JldHVybiBhPyhiPShifHwiZngiKSsicXVldWUiLGQ9bi5fZGF0YShhLGIpLGMmJighZHx8bi5pc0FycmF5KGMpP2Q9bi5fZGF0YShhLGIsbi5tYWtlQXJyYXkoYykpOmQucHVzaChjKSksZHx8W10pOnZvaWQgMH0sZGVxdWV1ZTpmdW5jdGlvbihhLGIpe2I9Ynx8ImZ4Ijt2YXIgYz1uLnF1ZXVlKGEsYiksZD1jLmxlbmd0aCxlPWMuc2hpZnQoKSxmPW4uX3F1ZXVlSG9va3MoYSxiKSxnPWZ1bmN0aW9uKCl7bi5kZXF1ZXVlKGEsYil9OyJpbnByb2dyZXNzIj09PWUmJihlPWMuc2hpZnQoKSxkLS0pLGUmJigiZngiPT09YiYmYy51bnNoaWZ0KCJpbnByb2dyZXNzIiksZGVsZXRlIGYuc3RvcCxlLmNhbGwoYSxnLGYpKSwhZCYmZiYmZi5lbXB0eS5maXJlKCl9LF9xdWV1ZUhvb2tzOmZ1bmN0aW9uKGEsYil7dmFyIGM9YisicXVldWVIb29rcyI7cmV0dXJuIG4uX2RhdGEoYSxjKXx8bi5fZGF0YShhLGMse2VtcHR5Om4uQ2FsbGJhY2tzKCJvbmNlIG1lbW9yeSIpLmFkZChmdW5jdGlvbigpe24uX3JlbW92ZURhdGEoYSxiKyJxdWV1ZSIpLG4uX3JlbW92ZURhdGEoYSxjKX0pfSl9fSksbi5mbi5leHRlbmQoe3F1ZXVlOmZ1bmN0aW9uKGEsYil7dmFyIGM9MjtyZXR1cm4ic3RyaW5nIiE9dHlwZW9mIGEmJihiPWEsYT0iZngiLGMtLSksYXJndW1lbnRzLmxlbmd0aDxjP24ucXVldWUodGhpc1swXSxhKTp2b2lkIDA9PT1iP3RoaXM6dGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGM9bi5xdWV1ZSh0aGlzLGEsYik7bi5fcXVldWVIb29rcyh0aGlzLGEpLCJmeCI9PT1hJiYiaW5wcm9ncmVzcyIhPT1jWzBdJiZuLmRlcXVldWUodGhpcyxhKX0pfSxkZXF1ZXVlOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtuLmRlcXVldWUodGhpcyxhKX0pfSxjbGVhclF1ZXVlOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLnF1ZXVlKGF8fCJmeCIsW10pfSxwcm9taXNlOmZ1bmN0aW9uKGEsYil7dmFyIGMsZD0xLGU9bi5EZWZlcnJlZCgpLGY9dGhpcyxnPXRoaXMubGVuZ3RoLGg9ZnVuY3Rpb24oKXstLWR8fGUucmVzb2x2ZVdpdGgoZixbZl0pfTsic3RyaW5nIiE9dHlwZW9mIGEmJihiPWEsYT12b2lkIDApLGE9YXx8ImZ4Ijt3aGlsZShnLS0pYz1uLl9kYXRhKGZbZ10sYSsicXVldWVIb29rcyIpLGMmJmMuZW1wdHkmJihkKyssYy5lbXB0eS5hZGQoaCkpO3JldHVybiBoKCksZS5wcm9taXNlKGIpfX0pO3ZhciBUPS9bKy1dPyg/OlxkKlwufClcZCsoPzpbZUVdWystXT9cZCt8KS8uc291cmNlLFU9WyJUb3AiLCJSaWdodCIsIkJvdHRvbSIsIkxlZnQiXSxWPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGE9Ynx8YSwibm9uZSI9PT1uLmNzcyhhLCJkaXNwbGF5Iil8fCFuLmNvbnRhaW5zKGEub3duZXJEb2N1bWVudCxhKX0sVz1uLmFjY2Vzcz1mdW5jdGlvbihhLGIsYyxkLGUsZixnKXt2YXIgaD0wLGk9YS5sZW5ndGgsaj1udWxsPT1jO2lmKCJvYmplY3QiPT09bi50eXBlKGMpKXtlPSEwO2ZvcihoIGluIGMpbi5hY2Nlc3MoYSxiLGgsY1toXSwhMCxmLGcpfWVsc2UgaWYodm9pZCAwIT09ZCYmKGU9ITAsbi5pc0Z1bmN0aW9uKGQpfHwoZz0hMCksaiYmKGc/KGIuY2FsbChhLGQpLGI9bnVsbCk6KGo9YixiPWZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gai5jYWxsKG4oYSksYyl9KSksYikpZm9yKDtpPmg7aCsrKWIoYVtoXSxjLGc/ZDpkLmNhbGwoYVtoXSxoLGIoYVtoXSxjKSkpO3JldHVybiBlP2E6aj9iLmNhbGwoYSk6aT9iKGFbMF0sYyk6Zn0sWD0vXig/OmNoZWNrYm94fHJhZGlvKSQvaTshZnVuY3Rpb24oKXt2YXIgYT16LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSxiPXouY3JlYXRlRWxlbWVudCgiZGl2IiksYz16LmNyZWF0ZUVsZW1lbnQoImlucHV0Iik7aWYoYi5zZXRBdHRyaWJ1dGUoImNsYXNzTmFtZSIsInQiKSxiLmlubmVySFRNTD0iICA8bGluay8+PHRhYmxlPjwvdGFibGU+PGEgaHJlZj0nL2EnPmE8L2E+IixsLmxlYWRpbmdXaGl0ZXNwYWNlPTM9PT1iLmZpcnN0Q2hpbGQubm9kZVR5cGUsbC50Ym9keT0hYi5nZXRFbGVtZW50c0J5VGFnTmFtZSgidGJvZHkiKS5sZW5ndGgsbC5odG1sU2VyaWFsaXplPSEhYi5nZXRFbGVtZW50c0J5VGFnTmFtZSgibGluayIpLmxlbmd0aCxsLmh0bWw1Q2xvbmU9Ijw6bmF2PjwvOm5hdj4iIT09ei5jcmVhdGVFbGVtZW50KCJuYXYiKS5jbG9uZU5vZGUoITApLm91dGVySFRNTCxjLnR5cGU9ImNoZWNrYm94IixjLmNoZWNrZWQ9ITAsYS5hcHBlbmRDaGlsZChjKSxsLmFwcGVuZENoZWNrZWQ9Yy5jaGVja2VkLGIuaW5uZXJIVE1MPSI8dGV4dGFyZWE+eDwvdGV4dGFyZWE+IixsLm5vQ2xvbmVDaGVja2VkPSEhYi5jbG9uZU5vZGUoITApLmxhc3RDaGlsZC5kZWZhdWx0VmFsdWUsYS5hcHBlbmRDaGlsZChiKSxiLmlubmVySFRNTD0iPGlucHV0IHR5cGU9J3JhZGlvJyBjaGVja2VkPSdjaGVja2VkJyBuYW1lPSd0Jy8+IixsLmNoZWNrQ2xvbmU9Yi5jbG9uZU5vZGUoITApLmNsb25lTm9kZSghMCkubGFzdENoaWxkLmNoZWNrZWQsbC5ub0Nsb25lRXZlbnQ9ITAsYi5hdHRhY2hFdmVudCYmKGIuYXR0YWNoRXZlbnQoIm9uY2xpY2siLGZ1bmN0aW9uKCl7bC5ub0Nsb25lRXZlbnQ9ITF9KSxiLmNsb25lTm9kZSghMCkuY2xpY2soKSksbnVsbD09bC5kZWxldGVFeHBhbmRvKXtsLmRlbGV0ZUV4cGFuZG89ITA7dHJ5e2RlbGV0ZSBiLnRlc3R9Y2F0Y2goZCl7bC5kZWxldGVFeHBhbmRvPSExfX1hPWI9Yz1udWxsfSgpLGZ1bmN0aW9uKCl7dmFyIGIsYyxkPXouY3JlYXRlRWxlbWVudCgiZGl2Iik7Zm9yKGIgaW57c3VibWl0OiEwLGNoYW5nZTohMCxmb2N1c2luOiEwfSljPSJvbiIrYiwobFtiKyJCdWJibGVzIl09YyBpbiBhKXx8KGQuc2V0QXR0cmlidXRlKGMsInQiKSxsW2IrIkJ1YmJsZXMiXT1kLmF0dHJpYnV0ZXNbY10uZXhwYW5kbz09PSExKTtkPW51bGx9KCk7dmFyIFk9L14oPzppbnB1dHxzZWxlY3R8dGV4dGFyZWEpJC9pLFo9L15rZXkvLCQ9L14oPzptb3VzZXxjb250ZXh0bWVudSl8Y2xpY2svLF89L14oPzpmb2N1c2luZm9jdXN8Zm9jdXNvdXRibHVyKSQvLGFiPS9eKFteLl0qKSg/OlwuKC4rKXwpJC87ZnVuY3Rpb24gYmIoKXtyZXR1cm4hMH1mdW5jdGlvbiBjYigpe3JldHVybiExfWZ1bmN0aW9uIGRiKCl7dHJ5e3JldHVybiB6LmFjdGl2ZUVsZW1lbnR9Y2F0Y2goYSl7fX1uLmV2ZW50PXtnbG9iYWw6e30sYWRkOmZ1bmN0aW9uKGEsYixjLGQsZSl7dmFyIGYsZyxoLGksaixrLGwsbSxvLHAscSxyPW4uX2RhdGEoYSk7aWYocil7Yy5oYW5kbGVyJiYoaT1jLGM9aS5oYW5kbGVyLGU9aS5zZWxlY3RvciksYy5ndWlkfHwoYy5ndWlkPW4uZ3VpZCsrKSwoZz1yLmV2ZW50cyl8fChnPXIuZXZlbnRzPXt9KSwoaz1yLmhhbmRsZSl8fChrPXIuaGFuZGxlPWZ1bmN0aW9uKGEpe3JldHVybiB0eXBlb2Ygbj09PUx8fGEmJm4uZXZlbnQudHJpZ2dlcmVkPT09YS50eXBlP3ZvaWQgMDpuLmV2ZW50LmRpc3BhdGNoLmFwcGx5KGsuZWxlbSxhcmd1bWVudHMpfSxrLmVsZW09YSksYj0oYnx8IiIpLm1hdGNoKEYpfHxbIiJdLGg9Yi5sZW5ndGg7d2hpbGUoaC0tKWY9YWIuZXhlYyhiW2hdKXx8W10sbz1xPWZbMV0scD0oZlsyXXx8IiIpLnNwbGl0KCIuIikuc29ydCgpLG8mJihqPW4uZXZlbnQuc3BlY2lhbFtvXXx8e30sbz0oZT9qLmRlbGVnYXRlVHlwZTpqLmJpbmRUeXBlKXx8byxqPW4uZXZlbnQuc3BlY2lhbFtvXXx8e30sbD1uLmV4dGVuZCh7dHlwZTpvLG9yaWdUeXBlOnEsZGF0YTpkLGhhbmRsZXI6YyxndWlkOmMuZ3VpZCxzZWxlY3RvcjplLG5lZWRzQ29udGV4dDplJiZuLmV4cHIubWF0Y2gubmVlZHNDb250ZXh0LnRlc3QoZSksbmFtZXNwYWNlOnAuam9pbigiLiIpfSxpKSwobT1nW29dKXx8KG09Z1tvXT1bXSxtLmRlbGVnYXRlQ291bnQ9MCxqLnNldHVwJiZqLnNldHVwLmNhbGwoYSxkLHAsaykhPT0hMXx8KGEuYWRkRXZlbnRMaXN0ZW5lcj9hLmFkZEV2ZW50TGlzdGVuZXIobyxrLCExKTphLmF0dGFjaEV2ZW50JiZhLmF0dGFjaEV2ZW50KCJvbiIrbyxrKSkpLGouYWRkJiYoai5hZGQuY2FsbChhLGwpLGwuaGFuZGxlci5ndWlkfHwobC5oYW5kbGVyLmd1aWQ9Yy5ndWlkKSksZT9tLnNwbGljZShtLmRlbGVnYXRlQ291bnQrKywwLGwpOm0ucHVzaChsKSxuLmV2ZW50Lmdsb2JhbFtvXT0hMCk7YT1udWxsfX0scmVtb3ZlOmZ1bmN0aW9uKGEsYixjLGQsZSl7dmFyIGYsZyxoLGksaixrLGwsbSxvLHAscSxyPW4uaGFzRGF0YShhKSYmbi5fZGF0YShhKTtpZihyJiYoaz1yLmV2ZW50cykpe2I9KGJ8fCIiKS5tYXRjaChGKXx8WyIiXSxqPWIubGVuZ3RoO3doaWxlKGotLSlpZihoPWFiLmV4ZWMoYltqXSl8fFtdLG89cT1oWzFdLHA9KGhbMl18fCIiKS5zcGxpdCgiLiIpLnNvcnQoKSxvKXtsPW4uZXZlbnQuc3BlY2lhbFtvXXx8e30sbz0oZD9sLmRlbGVnYXRlVHlwZTpsLmJpbmRUeXBlKXx8byxtPWtbb118fFtdLGg9aFsyXSYmbmV3IFJlZ0V4cCgiKF58XFwuKSIrcC5qb2luKCJcXC4oPzouKlxcLnwpIikrIihcXC58JCkiKSxpPWY9bS5sZW5ndGg7d2hpbGUoZi0tKWc9bVtmXSwhZSYmcSE9PWcub3JpZ1R5cGV8fGMmJmMuZ3VpZCE9PWcuZ3VpZHx8aCYmIWgudGVzdChnLm5hbWVzcGFjZSl8fGQmJmQhPT1nLnNlbGVjdG9yJiYoIioqIiE9PWR8fCFnLnNlbGVjdG9yKXx8KG0uc3BsaWNlKGYsMSksZy5zZWxlY3RvciYmbS5kZWxlZ2F0ZUNvdW50LS0sbC5yZW1vdmUmJmwucmVtb3ZlLmNhbGwoYSxnKSk7aSYmIW0ubGVuZ3RoJiYobC50ZWFyZG93biYmbC50ZWFyZG93bi5jYWxsKGEscCxyLmhhbmRsZSkhPT0hMXx8bi5yZW1vdmVFdmVudChhLG8sci5oYW5kbGUpLGRlbGV0ZSBrW29dKX1lbHNlIGZvcihvIGluIGspbi5ldmVudC5yZW1vdmUoYSxvK2Jbal0sYyxkLCEwKTtuLmlzRW1wdHlPYmplY3QoaykmJihkZWxldGUgci5oYW5kbGUsbi5fcmVtb3ZlRGF0YShhLCJldmVudHMiKSl9fSx0cmlnZ2VyOmZ1bmN0aW9uKGIsYyxkLGUpe3ZhciBmLGcsaCxpLGssbCxtLG89W2R8fHpdLHA9ai5jYWxsKGIsInR5cGUiKT9iLnR5cGU6YixxPWouY2FsbChiLCJuYW1lc3BhY2UiKT9iLm5hbWVzcGFjZS5zcGxpdCgiLiIpOltdO2lmKGg9bD1kPWR8fHosMyE9PWQubm9kZVR5cGUmJjghPT1kLm5vZGVUeXBlJiYhXy50ZXN0KHArbi5ldmVudC50cmlnZ2VyZWQpJiYocC5pbmRleE9mKCIuIik+PTAmJihxPXAuc3BsaXQoIi4iKSxwPXEuc2hpZnQoKSxxLnNvcnQoKSksZz1wLmluZGV4T2YoIjoiKTwwJiYib24iK3AsYj1iW24uZXhwYW5kb10/YjpuZXcgbi5FdmVudChwLCJvYmplY3QiPT10eXBlb2YgYiYmYiksYi5pc1RyaWdnZXI9ZT8yOjMsYi5uYW1lc3BhY2U9cS5qb2luKCIuIiksYi5uYW1lc3BhY2VfcmU9Yi5uYW1lc3BhY2U/bmV3IFJlZ0V4cCgiKF58XFwuKSIrcS5qb2luKCJcXC4oPzouKlxcLnwpIikrIihcXC58JCkiKTpudWxsLGIucmVzdWx0PXZvaWQgMCxiLnRhcmdldHx8KGIudGFyZ2V0PWQpLGM9bnVsbD09Yz9bYl06bi5tYWtlQXJyYXkoYyxbYl0pLGs9bi5ldmVudC5zcGVjaWFsW3BdfHx7fSxlfHwhay50cmlnZ2VyfHxrLnRyaWdnZXIuYXBwbHkoZCxjKSE9PSExKSl7aWYoIWUmJiFrLm5vQnViYmxlJiYhbi5pc1dpbmRvdyhkKSl7Zm9yKGk9ay5kZWxlZ2F0ZVR5cGV8fHAsXy50ZXN0KGkrcCl8fChoPWgucGFyZW50Tm9kZSk7aDtoPWgucGFyZW50Tm9kZSlvLnB1c2goaCksbD1oO2w9PT0oZC5vd25lckRvY3VtZW50fHx6KSYmby5wdXNoKGwuZGVmYXVsdFZpZXd8fGwucGFyZW50V2luZG93fHxhKX1tPTA7d2hpbGUoKGg9b1ttKytdKSYmIWIuaXNQcm9wYWdhdGlvblN0b3BwZWQoKSliLnR5cGU9bT4xP2k6ay5iaW5kVHlwZXx8cCxmPShuLl9kYXRhKGgsImV2ZW50cyIpfHx7fSlbYi50eXBlXSYmbi5fZGF0YShoLCJoYW5kbGUiKSxmJiZmLmFwcGx5KGgsYyksZj1nJiZoW2ddLGYmJmYuYXBwbHkmJm4uYWNjZXB0RGF0YShoKSYmKGIucmVzdWx0PWYuYXBwbHkoaCxjKSxiLnJlc3VsdD09PSExJiZiLnByZXZlbnREZWZhdWx0KCkpO2lmKGIudHlwZT1wLCFlJiYhYi5pc0RlZmF1bHRQcmV2ZW50ZWQoKSYmKCFrLl9kZWZhdWx0fHxrLl9kZWZhdWx0LmFwcGx5KG8ucG9wKCksYyk9PT0hMSkmJm4uYWNjZXB0RGF0YShkKSYmZyYmZFtwXSYmIW4uaXNXaW5kb3coZCkpe2w9ZFtnXSxsJiYoZFtnXT1udWxsKSxuLmV2ZW50LnRyaWdnZXJlZD1wO3RyeXtkW3BdKCl9Y2F0Y2gocil7fW4uZXZlbnQudHJpZ2dlcmVkPXZvaWQgMCxsJiYoZFtnXT1sKX1yZXR1cm4gYi5yZXN1bHR9fSxkaXNwYXRjaDpmdW5jdGlvbihhKXthPW4uZXZlbnQuZml4KGEpO3ZhciBiLGMsZSxmLGcsaD1bXSxpPWQuY2FsbChhcmd1bWVudHMpLGo9KG4uX2RhdGEodGhpcywiZXZlbnRzIil8fHt9KVthLnR5cGVdfHxbXSxrPW4uZXZlbnQuc3BlY2lhbFthLnR5cGVdfHx7fTtpZihpWzBdPWEsYS5kZWxlZ2F0ZVRhcmdldD10aGlzLCFrLnByZURpc3BhdGNofHxrLnByZURpc3BhdGNoLmNhbGwodGhpcyxhKSE9PSExKXtoPW4uZXZlbnQuaGFuZGxlcnMuY2FsbCh0aGlzLGEsaiksYj0wO3doaWxlKChmPWhbYisrXSkmJiFhLmlzUHJvcGFnYXRpb25TdG9wcGVkKCkpe2EuY3VycmVudFRhcmdldD1mLmVsZW0sZz0wO3doaWxlKChlPWYuaGFuZGxlcnNbZysrXSkmJiFhLmlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkKCkpKCFhLm5hbWVzcGFjZV9yZXx8YS5uYW1lc3BhY2VfcmUudGVzdChlLm5hbWVzcGFjZSkpJiYoYS5oYW5kbGVPYmo9ZSxhLmRhdGE9ZS5kYXRhLGM9KChuLmV2ZW50LnNwZWNpYWxbZS5vcmlnVHlwZV18fHt9KS5oYW5kbGV8fGUuaGFuZGxlcikuYXBwbHkoZi5lbGVtLGkpLHZvaWQgMCE9PWMmJihhLnJlc3VsdD1jKT09PSExJiYoYS5wcmV2ZW50RGVmYXVsdCgpLGEuc3RvcFByb3BhZ2F0aW9uKCkpKX1yZXR1cm4gay5wb3N0RGlzcGF0Y2gmJmsucG9zdERpc3BhdGNoLmNhbGwodGhpcyxhKSxhLnJlc3VsdH19LGhhbmRsZXJzOmZ1bmN0aW9uKGEsYil7dmFyIGMsZCxlLGYsZz1bXSxoPWIuZGVsZWdhdGVDb3VudCxpPWEudGFyZ2V0O2lmKGgmJmkubm9kZVR5cGUmJighYS5idXR0b258fCJjbGljayIhPT1hLnR5cGUpKWZvcig7aSE9dGhpcztpPWkucGFyZW50Tm9kZXx8dGhpcylpZigxPT09aS5ub2RlVHlwZSYmKGkuZGlzYWJsZWQhPT0hMHx8ImNsaWNrIiE9PWEudHlwZSkpe2ZvcihlPVtdLGY9MDtoPmY7ZisrKWQ9YltmXSxjPWQuc2VsZWN0b3IrIiAiLHZvaWQgMD09PWVbY10mJihlW2NdPWQubmVlZHNDb250ZXh0P24oYyx0aGlzKS5pbmRleChpKT49MDpuLmZpbmQoYyx0aGlzLG51bGwsW2ldKS5sZW5ndGgpLGVbY10mJmUucHVzaChkKTtlLmxlbmd0aCYmZy5wdXNoKHtlbGVtOmksaGFuZGxlcnM6ZX0pfXJldHVybiBoPGIubGVuZ3RoJiZnLnB1c2goe2VsZW06dGhpcyxoYW5kbGVyczpiLnNsaWNlKGgpfSksZ30sZml4OmZ1bmN0aW9uKGEpe2lmKGFbbi5leHBhbmRvXSlyZXR1cm4gYTt2YXIgYixjLGQsZT1hLnR5cGUsZj1hLGc9dGhpcy5maXhIb29rc1tlXTtnfHwodGhpcy5maXhIb29rc1tlXT1nPSQudGVzdChlKT90aGlzLm1vdXNlSG9va3M6Wi50ZXN0KGUpP3RoaXMua2V5SG9va3M6e30pLGQ9Zy5wcm9wcz90aGlzLnByb3BzLmNvbmNhdChnLnByb3BzKTp0aGlzLnByb3BzLGE9bmV3IG4uRXZlbnQoZiksYj1kLmxlbmd0aDt3aGlsZShiLS0pYz1kW2JdLGFbY109ZltjXTtyZXR1cm4gYS50YXJnZXR8fChhLnRhcmdldD1mLnNyY0VsZW1lbnR8fHopLDM9PT1hLnRhcmdldC5ub2RlVHlwZSYmKGEudGFyZ2V0PWEudGFyZ2V0LnBhcmVudE5vZGUpLGEubWV0YUtleT0hIWEubWV0YUtleSxnLmZpbHRlcj9nLmZpbHRlcihhLGYpOmF9LHByb3BzOiJhbHRLZXkgYnViYmxlcyBjYW5jZWxhYmxlIGN0cmxLZXkgY3VycmVudFRhcmdldCBldmVudFBoYXNlIG1ldGFLZXkgcmVsYXRlZFRhcmdldCBzaGlmdEtleSB0YXJnZXQgdGltZVN0YW1wIHZpZXcgd2hpY2giLnNwbGl0KCIgIiksZml4SG9va3M6e30sa2V5SG9va3M6e3Byb3BzOiJjaGFyIGNoYXJDb2RlIGtleSBrZXlDb2RlIi5zcGxpdCgiICIpLGZpbHRlcjpmdW5jdGlvbihhLGIpe3JldHVybiBudWxsPT1hLndoaWNoJiYoYS53aGljaD1udWxsIT1iLmNoYXJDb2RlP2IuY2hhckNvZGU6Yi5rZXlDb2RlKSxhfX0sbW91c2VIb29rczp7cHJvcHM6ImJ1dHRvbiBidXR0b25zIGNsaWVudFggY2xpZW50WSBmcm9tRWxlbWVudCBvZmZzZXRYIG9mZnNldFkgcGFnZVggcGFnZVkgc2NyZWVuWCBzY3JlZW5ZIHRvRWxlbWVudCIuc3BsaXQoIiAiKSxmaWx0ZXI6ZnVuY3Rpb24oYSxiKXt2YXIgYyxkLGUsZj1iLmJ1dHRvbixnPWIuZnJvbUVsZW1lbnQ7cmV0dXJuIG51bGw9PWEucGFnZVgmJm51bGwhPWIuY2xpZW50WCYmKGQ9YS50YXJnZXQub3duZXJEb2N1bWVudHx8eixlPWQuZG9jdW1lbnRFbGVtZW50LGM9ZC5ib2R5LGEucGFnZVg9Yi5jbGllbnRYKyhlJiZlLnNjcm9sbExlZnR8fGMmJmMuc2Nyb2xsTGVmdHx8MCktKGUmJmUuY2xpZW50TGVmdHx8YyYmYy5jbGllbnRMZWZ0fHwwKSxhLnBhZ2VZPWIuY2xpZW50WSsoZSYmZS5zY3JvbGxUb3B8fGMmJmMuc2Nyb2xsVG9wfHwwKS0oZSYmZS5jbGllbnRUb3B8fGMmJmMuY2xpZW50VG9wfHwwKSksIWEucmVsYXRlZFRhcmdldCYmZyYmKGEucmVsYXRlZFRhcmdldD1nPT09YS50YXJnZXQ/Yi50b0VsZW1lbnQ6ZyksYS53aGljaHx8dm9pZCAwPT09Znx8KGEud2hpY2g9MSZmPzE6MiZmPzM6NCZmPzI6MCksYX19LHNwZWNpYWw6e2xvYWQ6e25vQnViYmxlOiEwfSxmb2N1czp7dHJpZ2dlcjpmdW5jdGlvbigpe2lmKHRoaXMhPT1kYigpJiZ0aGlzLmZvY3VzKXRyeXtyZXR1cm4gdGhpcy5mb2N1cygpLCExfWNhdGNoKGEpe319LGRlbGVnYXRlVHlwZToiZm9jdXNpbiJ9LGJsdXI6e3RyaWdnZXI6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcz09PWRiKCkmJnRoaXMuYmx1cj8odGhpcy5ibHVyKCksITEpOnZvaWQgMH0sZGVsZWdhdGVUeXBlOiJmb2N1c291dCJ9LGNsaWNrOnt0cmlnZ2VyOmZ1bmN0aW9uKCl7cmV0dXJuIG4ubm9kZU5hbWUodGhpcywiaW5wdXQiKSYmImNoZWNrYm94Ij09PXRoaXMudHlwZSYmdGhpcy5jbGljaz8odGhpcy5jbGljaygpLCExKTp2b2lkIDB9LF9kZWZhdWx0OmZ1bmN0aW9uKGEpe3JldHVybiBuLm5vZGVOYW1lKGEudGFyZ2V0LCJhIil9fSxiZWZvcmV1bmxvYWQ6e3Bvc3REaXNwYXRjaDpmdW5jdGlvbihhKXt2b2lkIDAhPT1hLnJlc3VsdCYmKGEub3JpZ2luYWxFdmVudC5yZXR1cm5WYWx1ZT1hLnJlc3VsdCl9fX0sc2ltdWxhdGU6ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9bi5leHRlbmQobmV3IG4uRXZlbnQsYyx7dHlwZTphLGlzU2ltdWxhdGVkOiEwLG9yaWdpbmFsRXZlbnQ6e319KTtkP24uZXZlbnQudHJpZ2dlcihlLG51bGwsYik6bi5ldmVudC5kaXNwYXRjaC5jYWxsKGIsZSksZS5pc0RlZmF1bHRQcmV2ZW50ZWQoKSYmYy5wcmV2ZW50RGVmYXVsdCgpfX0sbi5yZW1vdmVFdmVudD16LnJlbW92ZUV2ZW50TGlzdGVuZXI/ZnVuY3Rpb24oYSxiLGMpe2EucmVtb3ZlRXZlbnRMaXN0ZW5lciYmYS5yZW1vdmVFdmVudExpc3RlbmVyKGIsYywhMSl9OmZ1bmN0aW9uKGEsYixjKXt2YXIgZD0ib24iK2I7YS5kZXRhY2hFdmVudCYmKHR5cGVvZiBhW2RdPT09TCYmKGFbZF09bnVsbCksYS5kZXRhY2hFdmVudChkLGMpKX0sbi5FdmVudD1mdW5jdGlvbihhLGIpe3JldHVybiB0aGlzIGluc3RhbmNlb2Ygbi5FdmVudD8oYSYmYS50eXBlPyh0aGlzLm9yaWdpbmFsRXZlbnQ9YSx0aGlzLnR5cGU9YS50eXBlLHRoaXMuaXNEZWZhdWx0UHJldmVudGVkPWEuZGVmYXVsdFByZXZlbnRlZHx8dm9pZCAwPT09YS5kZWZhdWx0UHJldmVudGVkJiYoYS5yZXR1cm5WYWx1ZT09PSExfHxhLmdldFByZXZlbnREZWZhdWx0JiZhLmdldFByZXZlbnREZWZhdWx0KCkpP2JiOmNiKTp0aGlzLnR5cGU9YSxiJiZuLmV4dGVuZCh0aGlzLGIpLHRoaXMudGltZVN0YW1wPWEmJmEudGltZVN0YW1wfHxuLm5vdygpLHZvaWQodGhpc1tuLmV4cGFuZG9dPSEwKSk6bmV3IG4uRXZlbnQoYSxiKX0sbi5FdmVudC5wcm90b3R5cGU9e2lzRGVmYXVsdFByZXZlbnRlZDpjYixpc1Byb3BhZ2F0aW9uU3RvcHBlZDpjYixpc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZDpjYixwcmV2ZW50RGVmYXVsdDpmdW5jdGlvbigpe3ZhciBhPXRoaXMub3JpZ2luYWxFdmVudDt0aGlzLmlzRGVmYXVsdFByZXZlbnRlZD1iYixhJiYoYS5wcmV2ZW50RGVmYXVsdD9hLnByZXZlbnREZWZhdWx0KCk6YS5yZXR1cm5WYWx1ZT0hMSl9LHN0b3BQcm9wYWdhdGlvbjpmdW5jdGlvbigpe3ZhciBhPXRoaXMub3JpZ2luYWxFdmVudDt0aGlzLmlzUHJvcGFnYXRpb25TdG9wcGVkPWJiLGEmJihhLnN0b3BQcm9wYWdhdGlvbiYmYS5zdG9wUHJvcGFnYXRpb24oKSxhLmNhbmNlbEJ1YmJsZT0hMCl9LHN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbjpmdW5jdGlvbigpe3RoaXMuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQ9YmIsdGhpcy5zdG9wUHJvcGFnYXRpb24oKX19LG4uZWFjaCh7bW91c2VlbnRlcjoibW91c2VvdmVyIixtb3VzZWxlYXZlOiJtb3VzZW91dCJ9LGZ1bmN0aW9uKGEsYil7bi5ldmVudC5zcGVjaWFsW2FdPXtkZWxlZ2F0ZVR5cGU6YixiaW5kVHlwZTpiLGhhbmRsZTpmdW5jdGlvbihhKXt2YXIgYyxkPXRoaXMsZT1hLnJlbGF0ZWRUYXJnZXQsZj1hLmhhbmRsZU9iajtyZXR1cm4oIWV8fGUhPT1kJiYhbi5jb250YWlucyhkLGUpKSYmKGEudHlwZT1mLm9yaWdUeXBlLGM9Zi5oYW5kbGVyLmFwcGx5KHRoaXMsYXJndW1lbnRzKSxhLnR5cGU9YiksY319fSksbC5zdWJtaXRCdWJibGVzfHwobi5ldmVudC5zcGVjaWFsLnN1Ym1pdD17c2V0dXA6ZnVuY3Rpb24oKXtyZXR1cm4gbi5ub2RlTmFtZSh0aGlzLCJmb3JtIik/ITE6dm9pZCBuLmV2ZW50LmFkZCh0aGlzLCJjbGljay5fc3VibWl0IGtleXByZXNzLl9zdWJtaXQiLGZ1bmN0aW9uKGEpe3ZhciBiPWEudGFyZ2V0LGM9bi5ub2RlTmFtZShiLCJpbnB1dCIpfHxuLm5vZGVOYW1lKGIsImJ1dHRvbiIpP2IuZm9ybTp2b2lkIDA7YyYmIW4uX2RhdGEoYywic3VibWl0QnViYmxlcyIpJiYobi5ldmVudC5hZGQoYywic3VibWl0Ll9zdWJtaXQiLGZ1bmN0aW9uKGEpe2EuX3N1Ym1pdF9idWJibGU9ITB9KSxuLl9kYXRhKGMsInN1Ym1pdEJ1YmJsZXMiLCEwKSl9KX0scG9zdERpc3BhdGNoOmZ1bmN0aW9uKGEpe2EuX3N1Ym1pdF9idWJibGUmJihkZWxldGUgYS5fc3VibWl0X2J1YmJsZSx0aGlzLnBhcmVudE5vZGUmJiFhLmlzVHJpZ2dlciYmbi5ldmVudC5zaW11bGF0ZSgic3VibWl0Iix0aGlzLnBhcmVudE5vZGUsYSwhMCkpfSx0ZWFyZG93bjpmdW5jdGlvbigpe3JldHVybiBuLm5vZGVOYW1lKHRoaXMsImZvcm0iKT8hMTp2b2lkIG4uZXZlbnQucmVtb3ZlKHRoaXMsIi5fc3VibWl0Iil9fSksbC5jaGFuZ2VCdWJibGVzfHwobi5ldmVudC5zcGVjaWFsLmNoYW5nZT17c2V0dXA6ZnVuY3Rpb24oKXtyZXR1cm4gWS50ZXN0KHRoaXMubm9kZU5hbWUpPygoImNoZWNrYm94Ij09PXRoaXMudHlwZXx8InJhZGlvIj09PXRoaXMudHlwZSkmJihuLmV2ZW50LmFkZCh0aGlzLCJwcm9wZXJ0eWNoYW5nZS5fY2hhbmdlIixmdW5jdGlvbihhKXsiY2hlY2tlZCI9PT1hLm9yaWdpbmFsRXZlbnQucHJvcGVydHlOYW1lJiYodGhpcy5fanVzdF9jaGFuZ2VkPSEwKX0pLG4uZXZlbnQuYWRkKHRoaXMsImNsaWNrLl9jaGFuZ2UiLGZ1bmN0aW9uKGEpe3RoaXMuX2p1c3RfY2hhbmdlZCYmIWEuaXNUcmlnZ2VyJiYodGhpcy5fanVzdF9jaGFuZ2VkPSExKSxuLmV2ZW50LnNpbXVsYXRlKCJjaGFuZ2UiLHRoaXMsYSwhMCl9KSksITEpOnZvaWQgbi5ldmVudC5hZGQodGhpcywiYmVmb3JlYWN0aXZhdGUuX2NoYW5nZSIsZnVuY3Rpb24oYSl7dmFyIGI9YS50YXJnZXQ7WS50ZXN0KGIubm9kZU5hbWUpJiYhbi5fZGF0YShiLCJjaGFuZ2VCdWJibGVzIikmJihuLmV2ZW50LmFkZChiLCJjaGFuZ2UuX2NoYW5nZSIsZnVuY3Rpb24oYSl7IXRoaXMucGFyZW50Tm9kZXx8YS5pc1NpbXVsYXRlZHx8YS5pc1RyaWdnZXJ8fG4uZXZlbnQuc2ltdWxhdGUoImNoYW5nZSIsdGhpcy5wYXJlbnROb2RlLGEsITApfSksbi5fZGF0YShiLCJjaGFuZ2VCdWJibGVzIiwhMCkpfSl9LGhhbmRsZTpmdW5jdGlvbihhKXt2YXIgYj1hLnRhcmdldDtyZXR1cm4gdGhpcyE9PWJ8fGEuaXNTaW11bGF0ZWR8fGEuaXNUcmlnZ2VyfHwicmFkaW8iIT09Yi50eXBlJiYiY2hlY2tib3giIT09Yi50eXBlP2EuaGFuZGxlT2JqLmhhbmRsZXIuYXBwbHkodGhpcyxhcmd1bWVudHMpOnZvaWQgMH0sdGVhcmRvd246ZnVuY3Rpb24oKXtyZXR1cm4gbi5ldmVudC5yZW1vdmUodGhpcywiLl9jaGFuZ2UiKSwhWS50ZXN0KHRoaXMubm9kZU5hbWUpfX0pLGwuZm9jdXNpbkJ1YmJsZXN8fG4uZWFjaCh7Zm9jdXM6ImZvY3VzaW4iLGJsdXI6ImZvY3Vzb3V0In0sZnVuY3Rpb24oYSxiKXt2YXIgYz1mdW5jdGlvbihhKXtuLmV2ZW50LnNpbXVsYXRlKGIsYS50YXJnZXQsbi5ldmVudC5maXgoYSksITApfTtuLmV2ZW50LnNwZWNpYWxbYl09e3NldHVwOmZ1bmN0aW9uKCl7dmFyIGQ9dGhpcy5vd25lckRvY3VtZW50fHx0aGlzLGU9bi5fZGF0YShkLGIpO2V8fGQuYWRkRXZlbnRMaXN0ZW5lcihhLGMsITApLG4uX2RhdGEoZCxiLChlfHwwKSsxKX0sdGVhcmRvd246ZnVuY3Rpb24oKXt2YXIgZD10aGlzLm93bmVyRG9jdW1lbnR8fHRoaXMsZT1uLl9kYXRhKGQsYiktMTtlP24uX2RhdGEoZCxiLGUpOihkLnJlbW92ZUV2ZW50TGlzdGVuZXIoYSxjLCEwKSxuLl9yZW1vdmVEYXRhKGQsYikpfX19KSxuLmZuLmV4dGVuZCh7b246ZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgZixnO2lmKCJvYmplY3QiPT10eXBlb2YgYSl7InN0cmluZyIhPXR5cGVvZiBiJiYoYz1jfHxiLGI9dm9pZCAwKTtmb3IoZiBpbiBhKXRoaXMub24oZixiLGMsYVtmXSxlKTtyZXR1cm4gdGhpc31pZihudWxsPT1jJiZudWxsPT1kPyhkPWIsYz1iPXZvaWQgMCk6bnVsbD09ZCYmKCJzdHJpbmciPT10eXBlb2YgYj8oZD1jLGM9dm9pZCAwKTooZD1jLGM9YixiPXZvaWQgMCkpLGQ9PT0hMSlkPWNiO2Vsc2UgaWYoIWQpcmV0dXJuIHRoaXM7cmV0dXJuIDE9PT1lJiYoZz1kLGQ9ZnVuY3Rpb24oYSl7cmV0dXJuIG4oKS5vZmYoYSksZy5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGQuZ3VpZD1nLmd1aWR8fChnLmd1aWQ9bi5ndWlkKyspKSx0aGlzLmVhY2goZnVuY3Rpb24oKXtuLmV2ZW50LmFkZCh0aGlzLGEsZCxjLGIpfSl9LG9uZTpmdW5jdGlvbihhLGIsYyxkKXtyZXR1cm4gdGhpcy5vbihhLGIsYyxkLDEpfSxvZmY6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkLGU7aWYoYSYmYS5wcmV2ZW50RGVmYXVsdCYmYS5oYW5kbGVPYmopcmV0dXJuIGQ9YS5oYW5kbGVPYmosbihhLmRlbGVnYXRlVGFyZ2V0KS5vZmYoZC5uYW1lc3BhY2U/ZC5vcmlnVHlwZSsiLiIrZC5uYW1lc3BhY2U6ZC5vcmlnVHlwZSxkLnNlbGVjdG9yLGQuaGFuZGxlciksdGhpcztpZigib2JqZWN0Ij09dHlwZW9mIGEpe2ZvcihlIGluIGEpdGhpcy5vZmYoZSxiLGFbZV0pO3JldHVybiB0aGlzfXJldHVybihiPT09ITF8fCJmdW5jdGlvbiI9PXR5cGVvZiBiKSYmKGM9YixiPXZvaWQgMCksYz09PSExJiYoYz1jYiksdGhpcy5lYWNoKGZ1bmN0aW9uKCl7bi5ldmVudC5yZW1vdmUodGhpcyxhLGMsYil9KX0sdHJpZ2dlcjpmdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtuLmV2ZW50LnRyaWdnZXIoYSxiLHRoaXMpfSl9LHRyaWdnZXJIYW5kbGVyOmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpc1swXTtyZXR1cm4gYz9uLmV2ZW50LnRyaWdnZXIoYSxiLGMsITApOnZvaWQgMH19KTtmdW5jdGlvbiBlYihhKXt2YXIgYj1mYi5zcGxpdCgifCIpLGM9YS5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7aWYoYy5jcmVhdGVFbGVtZW50KXdoaWxlKGIubGVuZ3RoKWMuY3JlYXRlRWxlbWVudChiLnBvcCgpKTtyZXR1cm4gY312YXIgZmI9ImFiYnJ8YXJ0aWNsZXxhc2lkZXxhdWRpb3xiZGl8Y2FudmFzfGRhdGF8ZGF0YWxpc3R8ZGV0YWlsc3xmaWdjYXB0aW9ufGZpZ3VyZXxmb290ZXJ8aGVhZGVyfGhncm91cHxtYXJrfG1ldGVyfG5hdnxvdXRwdXR8cHJvZ3Jlc3N8c2VjdGlvbnxzdW1tYXJ5fHRpbWV8dmlkZW8iLGdiPS8galF1ZXJ5XGQrPSIoPzpudWxsfFxkKykiL2csaGI9bmV3IFJlZ0V4cCgiPCg/OiIrZmIrIilbXFxzLz5dIiwiaSIpLGliPS9eXHMrLyxqYj0vPCg/IWFyZWF8YnJ8Y29sfGVtYmVkfGhyfGltZ3xpbnB1dHxsaW5rfG1ldGF8cGFyYW0pKChbXHc6XSspW14+XSopXC8+L2dpLGtiPS88KFtcdzpdKykvLGxiPS88dGJvZHkvaSxtYj0vPHwmIz9cdys7LyxuYj0vPCg/OnNjcmlwdHxzdHlsZXxsaW5rKS9pLG9iPS9jaGVja2VkXHMqKD86W149XXw9XHMqLmNoZWNrZWQuKS9pLHBiPS9eJHxcLyg/OmphdmF8ZWNtYSlzY3JpcHQvaSxxYj0vXnRydWVcLyguKikvLHJiPS9eXHMqPCEoPzpcW0NEQVRBXFt8LS0pfCg/OlxdXF18LS0pPlxzKiQvZyxzYj17b3B0aW9uOlsxLCI8c2VsZWN0IG11bHRpcGxlPSdtdWx0aXBsZSc+IiwiPC9zZWxlY3Q+Il0sbGVnZW5kOlsxLCI8ZmllbGRzZXQ+IiwiPC9maWVsZHNldD4iXSxhcmVhOlsxLCI8bWFwPiIsIjwvbWFwPiJdLHBhcmFtOlsxLCI8b2JqZWN0PiIsIjwvb2JqZWN0PiJdLHRoZWFkOlsxLCI8dGFibGU+IiwiPC90YWJsZT4iXSx0cjpbMiwiPHRhYmxlPjx0Ym9keT4iLCI8L3Rib2R5PjwvdGFibGU+Il0sY29sOlsyLCI8dGFibGU+PHRib2R5PjwvdGJvZHk+PGNvbGdyb3VwPiIsIjwvY29sZ3JvdXA+PC90YWJsZT4iXSx0ZDpbMywiPHRhYmxlPjx0Ym9keT48dHI+IiwiPC90cj48L3Rib2R5PjwvdGFibGU+Il0sX2RlZmF1bHQ6bC5odG1sU2VyaWFsaXplP1swLCIiLCIiXTpbMSwiWDxkaXY+IiwiPC9kaXY+Il19LHRiPWViKHopLHViPXRiLmFwcGVuZENoaWxkKHouY3JlYXRlRWxlbWVudCgiZGl2IikpO3NiLm9wdGdyb3VwPXNiLm9wdGlvbixzYi50Ym9keT1zYi50Zm9vdD1zYi5jb2xncm91cD1zYi5jYXB0aW9uPXNiLnRoZWFkLHNiLnRoPXNiLnRkO2Z1bmN0aW9uIHZiKGEsYil7dmFyIGMsZCxlPTAsZj10eXBlb2YgYS5nZXRFbGVtZW50c0J5VGFnTmFtZSE9PUw/YS5nZXRFbGVtZW50c0J5VGFnTmFtZShifHwiKiIpOnR5cGVvZiBhLnF1ZXJ5U2VsZWN0b3JBbGwhPT1MP2EucXVlcnlTZWxlY3RvckFsbChifHwiKiIpOnZvaWQgMDtpZighZilmb3IoZj1bXSxjPWEuY2hpbGROb2Rlc3x8YTtudWxsIT0oZD1jW2VdKTtlKyspIWJ8fG4ubm9kZU5hbWUoZCxiKT9mLnB1c2goZCk6bi5tZXJnZShmLHZiKGQsYikpO3JldHVybiB2b2lkIDA9PT1ifHxiJiZuLm5vZGVOYW1lKGEsYik/bi5tZXJnZShbYV0sZik6Zn1mdW5jdGlvbiB3YihhKXtYLnRlc3QoYS50eXBlKSYmKGEuZGVmYXVsdENoZWNrZWQ9YS5jaGVja2VkKX1mdW5jdGlvbiB4YihhLGIpe3JldHVybiBuLm5vZGVOYW1lKGEsInRhYmxlIikmJm4ubm9kZU5hbWUoMTEhPT1iLm5vZGVUeXBlP2I6Yi5maXJzdENoaWxkLCJ0ciIpP2EuZ2V0RWxlbWVudHNCeVRhZ05hbWUoInRib2R5IilbMF18fGEuYXBwZW5kQ2hpbGQoYS5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRib2R5IikpOmF9ZnVuY3Rpb24geWIoYSl7cmV0dXJuIGEudHlwZT0obnVsbCE9PW4uZmluZC5hdHRyKGEsInR5cGUiKSkrIi8iK2EudHlwZSxhfWZ1bmN0aW9uIHpiKGEpe3ZhciBiPXFiLmV4ZWMoYS50eXBlKTtyZXR1cm4gYj9hLnR5cGU9YlsxXTphLnJlbW92ZUF0dHJpYnV0ZSgidHlwZSIpLGF9ZnVuY3Rpb24gQWIoYSxiKXtmb3IodmFyIGMsZD0wO251bGwhPShjPWFbZF0pO2QrKyluLl9kYXRhKGMsImdsb2JhbEV2YWwiLCFifHxuLl9kYXRhKGJbZF0sImdsb2JhbEV2YWwiKSl9ZnVuY3Rpb24gQmIoYSxiKXtpZigxPT09Yi5ub2RlVHlwZSYmbi5oYXNEYXRhKGEpKXt2YXIgYyxkLGUsZj1uLl9kYXRhKGEpLGc9bi5fZGF0YShiLGYpLGg9Zi5ldmVudHM7aWYoaCl7ZGVsZXRlIGcuaGFuZGxlLGcuZXZlbnRzPXt9O2ZvcihjIGluIGgpZm9yKGQ9MCxlPWhbY10ubGVuZ3RoO2U+ZDtkKyspbi5ldmVudC5hZGQoYixjLGhbY11bZF0pfWcuZGF0YSYmKGcuZGF0YT1uLmV4dGVuZCh7fSxnLmRhdGEpKX19ZnVuY3Rpb24gQ2IoYSxiKXt2YXIgYyxkLGU7aWYoMT09PWIubm9kZVR5cGUpe2lmKGM9Yi5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpLCFsLm5vQ2xvbmVFdmVudCYmYltuLmV4cGFuZG9dKXtlPW4uX2RhdGEoYik7Zm9yKGQgaW4gZS5ldmVudHMpbi5yZW1vdmVFdmVudChiLGQsZS5oYW5kbGUpO2IucmVtb3ZlQXR0cmlidXRlKG4uZXhwYW5kbyl9InNjcmlwdCI9PT1jJiZiLnRleHQhPT1hLnRleHQ/KHliKGIpLnRleHQ9YS50ZXh0LHpiKGIpKToib2JqZWN0Ij09PWM/KGIucGFyZW50Tm9kZSYmKGIub3V0ZXJIVE1MPWEub3V0ZXJIVE1MKSxsLmh0bWw1Q2xvbmUmJmEuaW5uZXJIVE1MJiYhbi50cmltKGIuaW5uZXJIVE1MKSYmKGIuaW5uZXJIVE1MPWEuaW5uZXJIVE1MKSk6ImlucHV0Ij09PWMmJlgudGVzdChhLnR5cGUpPyhiLmRlZmF1bHRDaGVja2VkPWIuY2hlY2tlZD1hLmNoZWNrZWQsYi52YWx1ZSE9PWEudmFsdWUmJihiLnZhbHVlPWEudmFsdWUpKToib3B0aW9uIj09PWM/Yi5kZWZhdWx0U2VsZWN0ZWQ9Yi5zZWxlY3RlZD1hLmRlZmF1bHRTZWxlY3RlZDooImlucHV0Ij09PWN8fCJ0ZXh0YXJlYSI9PT1jKSYmKGIuZGVmYXVsdFZhbHVlPWEuZGVmYXVsdFZhbHVlKX19bi5leHRlbmQoe2Nsb25lOmZ1bmN0aW9uKGEsYixjKXt2YXIgZCxlLGYsZyxoLGk9bi5jb250YWlucyhhLm93bmVyRG9jdW1lbnQsYSk7aWYobC5odG1sNUNsb25lfHxuLmlzWE1MRG9jKGEpfHwhaGIudGVzdCgiPCIrYS5ub2RlTmFtZSsiPiIpP2Y9YS5jbG9uZU5vZGUoITApOih1Yi5pbm5lckhUTUw9YS5vdXRlckhUTUwsdWIucmVtb3ZlQ2hpbGQoZj11Yi5maXJzdENoaWxkKSksIShsLm5vQ2xvbmVFdmVudCYmbC5ub0Nsb25lQ2hlY2tlZHx8MSE9PWEubm9kZVR5cGUmJjExIT09YS5ub2RlVHlwZXx8bi5pc1hNTERvYyhhKSkpZm9yKGQ9dmIoZiksaD12YihhKSxnPTA7bnVsbCE9KGU9aFtnXSk7KytnKWRbZ10mJkNiKGUsZFtnXSk7aWYoYilpZihjKWZvcihoPWh8fHZiKGEpLGQ9ZHx8dmIoZiksZz0wO251bGwhPShlPWhbZ10pO2crKylCYihlLGRbZ10pO2Vsc2UgQmIoYSxmKTtyZXR1cm4gZD12YihmLCJzY3JpcHQiKSxkLmxlbmd0aD4wJiZBYihkLCFpJiZ2YihhLCJzY3JpcHQiKSksZD1oPWU9bnVsbCxmfSxidWlsZEZyYWdtZW50OmZ1bmN0aW9uKGEsYixjLGQpe2Zvcih2YXIgZSxmLGcsaCxpLGosayxtPWEubGVuZ3RoLG89ZWIoYikscD1bXSxxPTA7bT5xO3ErKylpZihmPWFbcV0sZnx8MD09PWYpaWYoIm9iamVjdCI9PT1uLnR5cGUoZikpbi5tZXJnZShwLGYubm9kZVR5cGU/W2ZdOmYpO2Vsc2UgaWYobWIudGVzdChmKSl7aD1ofHxvLmFwcGVuZENoaWxkKGIuY3JlYXRlRWxlbWVudCgiZGl2IikpLGk9KGtiLmV4ZWMoZil8fFsiIiwiIl0pWzFdLnRvTG93ZXJDYXNlKCksaz1zYltpXXx8c2IuX2RlZmF1bHQsaC5pbm5lckhUTUw9a1sxXStmLnJlcGxhY2UoamIsIjwkMT48LyQyPiIpK2tbMl0sZT1rWzBdO3doaWxlKGUtLSloPWgubGFzdENoaWxkO2lmKCFsLmxlYWRpbmdXaGl0ZXNwYWNlJiZpYi50ZXN0KGYpJiZwLnB1c2goYi5jcmVhdGVUZXh0Tm9kZShpYi5leGVjKGYpWzBdKSksIWwudGJvZHkpe2Y9InRhYmxlIiE9PWl8fGxiLnRlc3QoZik/Ijx0YWJsZT4iIT09a1sxXXx8bGIudGVzdChmKT8wOmg6aC5maXJzdENoaWxkLGU9ZiYmZi5jaGlsZE5vZGVzLmxlbmd0aDt3aGlsZShlLS0pbi5ub2RlTmFtZShqPWYuY2hpbGROb2Rlc1tlXSwidGJvZHkiKSYmIWouY2hpbGROb2Rlcy5sZW5ndGgmJmYucmVtb3ZlQ2hpbGQoail9bi5tZXJnZShwLGguY2hpbGROb2RlcyksaC50ZXh0Q29udGVudD0iIjt3aGlsZShoLmZpcnN0Q2hpbGQpaC5yZW1vdmVDaGlsZChoLmZpcnN0Q2hpbGQpO2g9by5sYXN0Q2hpbGR9ZWxzZSBwLnB1c2goYi5jcmVhdGVUZXh0Tm9kZShmKSk7aCYmby5yZW1vdmVDaGlsZChoKSxsLmFwcGVuZENoZWNrZWR8fG4uZ3JlcCh2YihwLCJpbnB1dCIpLHdiKSxxPTA7d2hpbGUoZj1wW3ErK10paWYoKCFkfHwtMT09PW4uaW5BcnJheShmLGQpKSYmKGc9bi5jb250YWlucyhmLm93bmVyRG9jdW1lbnQsZiksaD12YihvLmFwcGVuZENoaWxkKGYpLCJzY3JpcHQiKSxnJiZBYihoKSxjKSl7ZT0wO3doaWxlKGY9aFtlKytdKXBiLnRlc3QoZi50eXBlfHwiIikmJmMucHVzaChmKX1yZXR1cm4gaD1udWxsLG99LGNsZWFuRGF0YTpmdW5jdGlvbihhLGIpe2Zvcih2YXIgZCxlLGYsZyxoPTAsaT1uLmV4cGFuZG8saj1uLmNhY2hlLGs9bC5kZWxldGVFeHBhbmRvLG09bi5ldmVudC5zcGVjaWFsO251bGwhPShkPWFbaF0pO2grKylpZigoYnx8bi5hY2NlcHREYXRhKGQpKSYmKGY9ZFtpXSxnPWYmJmpbZl0pKXtpZihnLmV2ZW50cylmb3IoZSBpbiBnLmV2ZW50cyltW2VdP24uZXZlbnQucmVtb3ZlKGQsZSk6bi5yZW1vdmVFdmVudChkLGUsZy5oYW5kbGUpO2pbZl0mJihkZWxldGUgaltmXSxrP2RlbGV0ZSBkW2ldOnR5cGVvZiBkLnJlbW92ZUF0dHJpYnV0ZSE9PUw/ZC5yZW1vdmVBdHRyaWJ1dGUoaSk6ZFtpXT1udWxsLGMucHVzaChmKSl9fX0pLG4uZm4uZXh0ZW5kKHt0ZXh0OmZ1bmN0aW9uKGEpe3JldHVybiBXKHRoaXMsZnVuY3Rpb24oYSl7cmV0dXJuIHZvaWQgMD09PWE/bi50ZXh0KHRoaXMpOnRoaXMuZW1wdHkoKS5hcHBlbmQoKHRoaXNbMF0mJnRoaXNbMF0ub3duZXJEb2N1bWVudHx8eikuY3JlYXRlVGV4dE5vZGUoYSkpfSxudWxsLGEsYXJndW1lbnRzLmxlbmd0aCl9LGFwcGVuZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRvbU1hbmlwKGFyZ3VtZW50cyxmdW5jdGlvbihhKXtpZigxPT09dGhpcy5ub2RlVHlwZXx8MTE9PT10aGlzLm5vZGVUeXBlfHw5PT09dGhpcy5ub2RlVHlwZSl7dmFyIGI9eGIodGhpcyxhKTtiLmFwcGVuZENoaWxkKGEpfX0pfSxwcmVwZW5kOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZG9tTWFuaXAoYXJndW1lbnRzLGZ1bmN0aW9uKGEpe2lmKDE9PT10aGlzLm5vZGVUeXBlfHwxMT09PXRoaXMubm9kZVR5cGV8fDk9PT10aGlzLm5vZGVUeXBlKXt2YXIgYj14Yih0aGlzLGEpO2IuaW5zZXJ0QmVmb3JlKGEsYi5maXJzdENoaWxkKX19KX0sYmVmb3JlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZG9tTWFuaXAoYXJndW1lbnRzLGZ1bmN0aW9uKGEpe3RoaXMucGFyZW50Tm9kZSYmdGhpcy5wYXJlbnROb2RlLmluc2VydEJlZm9yZShhLHRoaXMpfSl9LGFmdGVyOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZG9tTWFuaXAoYXJndW1lbnRzLGZ1bmN0aW9uKGEpe3RoaXMucGFyZW50Tm9kZSYmdGhpcy5wYXJlbnROb2RlLmluc2VydEJlZm9yZShhLHRoaXMubmV4dFNpYmxpbmcpfSl9LHJlbW92ZTpmdW5jdGlvbihhLGIpe2Zvcih2YXIgYyxkPWE/bi5maWx0ZXIoYSx0aGlzKTp0aGlzLGU9MDtudWxsIT0oYz1kW2VdKTtlKyspYnx8MSE9PWMubm9kZVR5cGV8fG4uY2xlYW5EYXRhKHZiKGMpKSxjLnBhcmVudE5vZGUmJihiJiZuLmNvbnRhaW5zKGMub3duZXJEb2N1bWVudCxjKSYmQWIodmIoYywic2NyaXB0IikpLGMucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChjKSk7cmV0dXJuIHRoaXN9LGVtcHR5OmZ1bmN0aW9uKCl7Zm9yKHZhciBhLGI9MDtudWxsIT0oYT10aGlzW2JdKTtiKyspezE9PT1hLm5vZGVUeXBlJiZuLmNsZWFuRGF0YSh2YihhLCExKSk7d2hpbGUoYS5maXJzdENoaWxkKWEucmVtb3ZlQ2hpbGQoYS5maXJzdENoaWxkKTthLm9wdGlvbnMmJm4ubm9kZU5hbWUoYSwic2VsZWN0IikmJihhLm9wdGlvbnMubGVuZ3RoPTApfXJldHVybiB0aGlzfSxjbG9uZTpmdW5jdGlvbihhLGIpe3JldHVybiBhPW51bGw9PWE/ITE6YSxiPW51bGw9PWI/YTpiLHRoaXMubWFwKGZ1bmN0aW9uKCl7cmV0dXJuIG4uY2xvbmUodGhpcyxhLGIpfSl9LGh0bWw6ZnVuY3Rpb24oYSl7cmV0dXJuIFcodGhpcyxmdW5jdGlvbihhKXt2YXIgYj10aGlzWzBdfHx7fSxjPTAsZD10aGlzLmxlbmd0aDtpZih2b2lkIDA9PT1hKXJldHVybiAxPT09Yi5ub2RlVHlwZT9iLmlubmVySFRNTC5yZXBsYWNlKGdiLCIiKTp2b2lkIDA7aWYoISgic3RyaW5nIiE9dHlwZW9mIGF8fG5iLnRlc3QoYSl8fCFsLmh0bWxTZXJpYWxpemUmJmhiLnRlc3QoYSl8fCFsLmxlYWRpbmdXaGl0ZXNwYWNlJiZpYi50ZXN0KGEpfHxzYlsoa2IuZXhlYyhhKXx8WyIiLCIiXSlbMV0udG9Mb3dlckNhc2UoKV0pKXthPWEucmVwbGFjZShqYiwiPCQxPjwvJDI+Iik7dHJ5e2Zvcig7ZD5jO2MrKyliPXRoaXNbY118fHt9LDE9PT1iLm5vZGVUeXBlJiYobi5jbGVhbkRhdGEodmIoYiwhMSkpLGIuaW5uZXJIVE1MPWEpO2I9MH1jYXRjaChlKXt9fWImJnRoaXMuZW1wdHkoKS5hcHBlbmQoYSl9LG51bGwsYSxhcmd1bWVudHMubGVuZ3RoKX0scmVwbGFjZVdpdGg6ZnVuY3Rpb24oKXt2YXIgYT1hcmd1bWVudHNbMF07cmV0dXJuIHRoaXMuZG9tTWFuaXAoYXJndW1lbnRzLGZ1bmN0aW9uKGIpe2E9dGhpcy5wYXJlbnROb2RlLG4uY2xlYW5EYXRhKHZiKHRoaXMpKSxhJiZhLnJlcGxhY2VDaGlsZChiLHRoaXMpfSksYSYmKGEubGVuZ3RofHxhLm5vZGVUeXBlKT90aGlzOnRoaXMucmVtb3ZlKCl9LGRldGFjaDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5yZW1vdmUoYSwhMCl9LGRvbU1hbmlwOmZ1bmN0aW9uKGEsYil7YT1lLmFwcGx5KFtdLGEpO3ZhciBjLGQsZixnLGgsaSxqPTAsaz10aGlzLmxlbmd0aCxtPXRoaXMsbz1rLTEscD1hWzBdLHE9bi5pc0Z1bmN0aW9uKHApO2lmKHF8fGs+MSYmInN0cmluZyI9PXR5cGVvZiBwJiYhbC5jaGVja0Nsb25lJiZvYi50ZXN0KHApKXJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oYyl7dmFyIGQ9bS5lcShjKTtxJiYoYVswXT1wLmNhbGwodGhpcyxjLGQuaHRtbCgpKSksZC5kb21NYW5pcChhLGIpfSk7aWYoayYmKGk9bi5idWlsZEZyYWdtZW50KGEsdGhpc1swXS5vd25lckRvY3VtZW50LCExLHRoaXMpLGM9aS5maXJzdENoaWxkLDE9PT1pLmNoaWxkTm9kZXMubGVuZ3RoJiYoaT1jKSxjKSl7Zm9yKGc9bi5tYXAodmIoaSwic2NyaXB0IikseWIpLGY9Zy5sZW5ndGg7az5qO2orKylkPWksaiE9PW8mJihkPW4uY2xvbmUoZCwhMCwhMCksZiYmbi5tZXJnZShnLHZiKGQsInNjcmlwdCIpKSksYi5jYWxsKHRoaXNbal0sZCxqKTtpZihmKWZvcihoPWdbZy5sZW5ndGgtMV0ub3duZXJEb2N1bWVudCxuLm1hcChnLHpiKSxqPTA7Zj5qO2orKylkPWdbal0scGIudGVzdChkLnR5cGV8fCIiKSYmIW4uX2RhdGEoZCwiZ2xvYmFsRXZhbCIpJiZuLmNvbnRhaW5zKGgsZCkmJihkLnNyYz9uLl9ldmFsVXJsJiZuLl9ldmFsVXJsKGQuc3JjKTpuLmdsb2JhbEV2YWwoKGQudGV4dHx8ZC50ZXh0Q29udGVudHx8ZC5pbm5lckhUTUx8fCIiKS5yZXBsYWNlKHJiLCIiKSkpO2k9Yz1udWxsfXJldHVybiB0aGlzfX0pLG4uZWFjaCh7YXBwZW5kVG86ImFwcGVuZCIscHJlcGVuZFRvOiJwcmVwZW5kIixpbnNlcnRCZWZvcmU6ImJlZm9yZSIsaW5zZXJ0QWZ0ZXI6ImFmdGVyIixyZXBsYWNlQWxsOiJyZXBsYWNlV2l0aCJ9LGZ1bmN0aW9uKGEsYil7bi5mblthXT1mdW5jdGlvbihhKXtmb3IodmFyIGMsZD0wLGU9W10sZz1uKGEpLGg9Zy5sZW5ndGgtMTtoPj1kO2QrKyljPWQ9PT1oP3RoaXM6dGhpcy5jbG9uZSghMCksbihnW2RdKVtiXShjKSxmLmFwcGx5KGUsYy5nZXQoKSk7cmV0dXJuIHRoaXMucHVzaFN0YWNrKGUpfX0pO3ZhciBEYixFYj17fTtmdW5jdGlvbiBGYihiLGMpe3ZhciBkPW4oYy5jcmVhdGVFbGVtZW50KGIpKS5hcHBlbmRUbyhjLmJvZHkpLGU9YS5nZXREZWZhdWx0Q29tcHV0ZWRTdHlsZT9hLmdldERlZmF1bHRDb21wdXRlZFN0eWxlKGRbMF0pLmRpc3BsYXk6bi5jc3MoZFswXSwiZGlzcGxheSIpO3JldHVybiBkLmRldGFjaCgpLGV9ZnVuY3Rpb24gR2IoYSl7dmFyIGI9eixjPUViW2FdO3JldHVybiBjfHwoYz1GYihhLGIpLCJub25lIiE9PWMmJmN8fChEYj0oRGJ8fG4oIjxpZnJhbWUgZnJhbWVib3JkZXI9JzAnIHdpZHRoPScwJyBoZWlnaHQ9JzAnLz4iKSkuYXBwZW5kVG8oYi5kb2N1bWVudEVsZW1lbnQpLGI9KERiWzBdLmNvbnRlbnRXaW5kb3d8fERiWzBdLmNvbnRlbnREb2N1bWVudCkuZG9jdW1lbnQsYi53cml0ZSgpLGIuY2xvc2UoKSxjPUZiKGEsYiksRGIuZGV0YWNoKCkpLEViW2FdPWMpLGN9IWZ1bmN0aW9uKCl7dmFyIGEsYixjPXouY3JlYXRlRWxlbWVudCgiZGl2IiksZD0iLXdlYmtpdC1ib3gtc2l6aW5nOmNvbnRlbnQtYm94Oy1tb3otYm94LXNpemluZzpjb250ZW50LWJveDtib3gtc2l6aW5nOmNvbnRlbnQtYm94O2Rpc3BsYXk6YmxvY2s7cGFkZGluZzowO21hcmdpbjowO2JvcmRlcjowIjtjLmlubmVySFRNTD0iICA8bGluay8+PHRhYmxlPjwvdGFibGU+PGEgaHJlZj0nL2EnPmE8L2E+PGlucHV0IHR5cGU9J2NoZWNrYm94Jy8+IixhPWMuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImEiKVswXSxhLnN0eWxlLmNzc1RleHQ9ImZsb2F0OmxlZnQ7b3BhY2l0eTouNSIsbC5vcGFjaXR5PS9eMC41Ly50ZXN0KGEuc3R5bGUub3BhY2l0eSksbC5jc3NGbG9hdD0hIWEuc3R5bGUuY3NzRmxvYXQsYy5zdHlsZS5iYWNrZ3JvdW5kQ2xpcD0iY29udGVudC1ib3giLGMuY2xvbmVOb2RlKCEwKS5zdHlsZS5iYWNrZ3JvdW5kQ2xpcD0iIixsLmNsZWFyQ2xvbmVTdHlsZT0iY29udGVudC1ib3giPT09Yy5zdHlsZS5iYWNrZ3JvdW5kQ2xpcCxhPWM9bnVsbCxsLnNocmlua1dyYXBCbG9ja3M9ZnVuY3Rpb24oKXt2YXIgYSxjLGUsZjtpZihudWxsPT1iKXtpZihhPXouZ2V0RWxlbWVudHNCeVRhZ05hbWUoImJvZHkiKVswXSwhYSlyZXR1cm47Zj0iYm9yZGVyOjA7d2lkdGg6MDtoZWlnaHQ6MDtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDtsZWZ0Oi05OTk5cHgiLGM9ei5jcmVhdGVFbGVtZW50KCJkaXYiKSxlPXouY3JlYXRlRWxlbWVudCgiZGl2IiksYS5hcHBlbmRDaGlsZChjKS5hcHBlbmRDaGlsZChlKSxiPSExLHR5cGVvZiBlLnN0eWxlLnpvb20hPT1MJiYoZS5zdHlsZS5jc3NUZXh0PWQrIjt3aWR0aDoxcHg7cGFkZGluZzoxcHg7em9vbToxIixlLmlubmVySFRNTD0iPGRpdj48L2Rpdj4iLGUuZmlyc3RDaGlsZC5zdHlsZS53aWR0aD0iNXB4IixiPTMhPT1lLm9mZnNldFdpZHRoKSxhLnJlbW92ZUNoaWxkKGMpLGE9Yz1lPW51bGx9cmV0dXJuIGJ9fSgpO3ZhciBIYj0vXm1hcmdpbi8sSWI9bmV3IFJlZ0V4cCgiXigiK1QrIikoPyFweClbYS16JV0rJCIsImkiKSxKYixLYixMYj0vXih0b3B8cmlnaHR8Ym90dG9tfGxlZnQpJC87YS5nZXRDb21wdXRlZFN0eWxlPyhKYj1mdW5jdGlvbihhKXtyZXR1cm4gYS5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGUoYSxudWxsKX0sS2I9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkLGUsZixnLGg9YS5zdHlsZTtyZXR1cm4gYz1jfHxKYihhKSxnPWM/Yy5nZXRQcm9wZXJ0eVZhbHVlKGIpfHxjW2JdOnZvaWQgMCxjJiYoIiIhPT1nfHxuLmNvbnRhaW5zKGEub3duZXJEb2N1bWVudCxhKXx8KGc9bi5zdHlsZShhLGIpKSxJYi50ZXN0KGcpJiZIYi50ZXN0KGIpJiYoZD1oLndpZHRoLGU9aC5taW5XaWR0aCxmPWgubWF4V2lkdGgsaC5taW5XaWR0aD1oLm1heFdpZHRoPWgud2lkdGg9ZyxnPWMud2lkdGgsaC53aWR0aD1kLGgubWluV2lkdGg9ZSxoLm1heFdpZHRoPWYpKSx2b2lkIDA9PT1nP2c6ZysiIn0pOnouZG9jdW1lbnRFbGVtZW50LmN1cnJlbnRTdHlsZSYmKEpiPWZ1bmN0aW9uKGEpe3JldHVybiBhLmN1cnJlbnRTdHlsZX0sS2I9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkLGUsZixnLGg9YS5zdHlsZTtyZXR1cm4gYz1jfHxKYihhKSxnPWM/Y1tiXTp2b2lkIDAsbnVsbD09ZyYmaCYmaFtiXSYmKGc9aFtiXSksSWIudGVzdChnKSYmIUxiLnRlc3QoYikmJihkPWgubGVmdCxlPWEucnVudGltZVN0eWxlLGY9ZSYmZS5sZWZ0LGYmJihlLmxlZnQ9YS5jdXJyZW50U3R5bGUubGVmdCksaC5sZWZ0PSJmb250U2l6ZSI9PT1iPyIxZW0iOmcsZz1oLnBpeGVsTGVmdCsicHgiLGgubGVmdD1kLGYmJihlLmxlZnQ9ZikpLHZvaWQgMD09PWc/ZzpnKyIifHwiYXV0byJ9KTtmdW5jdGlvbiBNYihhLGIpe3JldHVybntnZXQ6ZnVuY3Rpb24oKXt2YXIgYz1hKCk7aWYobnVsbCE9YylyZXR1cm4gYz92b2lkIGRlbGV0ZSB0aGlzLmdldDoodGhpcy5nZXQ9YikuYXBwbHkodGhpcyxhcmd1bWVudHMpfX19IWZ1bmN0aW9uKCl7dmFyIGIsYyxkLGUsZixnLGg9ei5jcmVhdGVFbGVtZW50KCJkaXYiKSxpPSJib3JkZXI6MDt3aWR0aDowO2hlaWdodDowO3Bvc2l0aW9uOmFic29sdXRlO3RvcDowO2xlZnQ6LTk5OTlweCIsaj0iLXdlYmtpdC1ib3gtc2l6aW5nOmNvbnRlbnQtYm94Oy1tb3otYm94LXNpemluZzpjb250ZW50LWJveDtib3gtc2l6aW5nOmNvbnRlbnQtYm94O2Rpc3BsYXk6YmxvY2s7cGFkZGluZzowO21hcmdpbjowO2JvcmRlcjowIjtoLmlubmVySFRNTD0iICA8bGluay8+PHRhYmxlPjwvdGFibGU+PGEgaHJlZj0nL2EnPmE8L2E+PGlucHV0IHR5cGU9J2NoZWNrYm94Jy8+IixiPWguZ2V0RWxlbWVudHNCeVRhZ05hbWUoImEiKVswXSxiLnN0eWxlLmNzc1RleHQ9ImZsb2F0OmxlZnQ7b3BhY2l0eTouNSIsbC5vcGFjaXR5PS9eMC41Ly50ZXN0KGIuc3R5bGUub3BhY2l0eSksbC5jc3NGbG9hdD0hIWIuc3R5bGUuY3NzRmxvYXQsaC5zdHlsZS5iYWNrZ3JvdW5kQ2xpcD0iY29udGVudC1ib3giLGguY2xvbmVOb2RlKCEwKS5zdHlsZS5iYWNrZ3JvdW5kQ2xpcD0iIixsLmNsZWFyQ2xvbmVTdHlsZT0iY29udGVudC1ib3giPT09aC5zdHlsZS5iYWNrZ3JvdW5kQ2xpcCxiPWg9bnVsbCxuLmV4dGVuZChsLHtyZWxpYWJsZUhpZGRlbk9mZnNldHM6ZnVuY3Rpb24oKXtpZihudWxsIT1jKXJldHVybiBjO3ZhciBhLGIsZCxlPXouY3JlYXRlRWxlbWVudCgiZGl2IiksZj16LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJib2R5IilbMF07aWYoZilyZXR1cm4gZS5zZXRBdHRyaWJ1dGUoImNsYXNzTmFtZSIsInQiKSxlLmlubmVySFRNTD0iICA8bGluay8+PHRhYmxlPjwvdGFibGU+PGEgaHJlZj0nL2EnPmE8L2E+PGlucHV0IHR5cGU9J2NoZWNrYm94Jy8+IixhPXouY3JlYXRlRWxlbWVudCgiZGl2IiksYS5zdHlsZS5jc3NUZXh0PWksZi5hcHBlbmRDaGlsZChhKS5hcHBlbmRDaGlsZChlKSxlLmlubmVySFRNTD0iPHRhYmxlPjx0cj48dGQ+PC90ZD48dGQ+dDwvdGQ+PC90cj48L3RhYmxlPiIsYj1lLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJ0ZCIpLGJbMF0uc3R5bGUuY3NzVGV4dD0icGFkZGluZzowO21hcmdpbjowO2JvcmRlcjowO2Rpc3BsYXk6bm9uZSIsZD0wPT09YlswXS5vZmZzZXRIZWlnaHQsYlswXS5zdHlsZS5kaXNwbGF5PSIiLGJbMV0uc3R5bGUuZGlzcGxheT0ibm9uZSIsYz1kJiYwPT09YlswXS5vZmZzZXRIZWlnaHQsZi5yZW1vdmVDaGlsZChhKSxlPWY9bnVsbCxjfSxib3hTaXppbmc6ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbD09ZCYmaygpLGR9LGJveFNpemluZ1JlbGlhYmxlOmZ1bmN0aW9uKCl7cmV0dXJuIG51bGw9PWUmJmsoKSxlfSxwaXhlbFBvc2l0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuIG51bGw9PWYmJmsoKSxmfSxyZWxpYWJsZU1hcmdpblJpZ2h0OmZ1bmN0aW9uKCl7dmFyIGIsYyxkLGU7aWYobnVsbD09ZyYmYS5nZXRDb21wdXRlZFN0eWxlKXtpZihiPXouZ2V0RWxlbWVudHNCeVRhZ05hbWUoImJvZHkiKVswXSwhYilyZXR1cm47Yz16LmNyZWF0ZUVsZW1lbnQoImRpdiIpLGQ9ei5jcmVhdGVFbGVtZW50KCJkaXYiKSxjLnN0eWxlLmNzc1RleHQ9aSxiLmFwcGVuZENoaWxkKGMpLmFwcGVuZENoaWxkKGQpLGU9ZC5hcHBlbmRDaGlsZCh6LmNyZWF0ZUVsZW1lbnQoImRpdiIpKSxlLnN0eWxlLmNzc1RleHQ9ZC5zdHlsZS5jc3NUZXh0PWosZS5zdHlsZS5tYXJnaW5SaWdodD1lLnN0eWxlLndpZHRoPSIwIixkLnN0eWxlLndpZHRoPSIxcHgiLGc9IXBhcnNlRmxvYXQoKGEuZ2V0Q29tcHV0ZWRTdHlsZShlLG51bGwpfHx7fSkubWFyZ2luUmlnaHQpLGIucmVtb3ZlQ2hpbGQoYyl9cmV0dXJuIGd9fSk7ZnVuY3Rpb24gaygpe3ZhciBiLGMsaD16LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJib2R5IilbMF07aCYmKGI9ei5jcmVhdGVFbGVtZW50KCJkaXYiKSxjPXouY3JlYXRlRWxlbWVudCgiZGl2IiksYi5zdHlsZS5jc3NUZXh0PWksaC5hcHBlbmRDaGlsZChiKS5hcHBlbmRDaGlsZChjKSxjLnN0eWxlLmNzc1RleHQ9Ii13ZWJraXQtYm94LXNpemluZzpib3JkZXItYm94Oy1tb3otYm94LXNpemluZzpib3JkZXItYm94O2JveC1zaXppbmc6Ym9yZGVyLWJveDtwb3NpdGlvbjphYnNvbHV0ZTtkaXNwbGF5OmJsb2NrO3BhZGRpbmc6MXB4O2JvcmRlcjoxcHg7d2lkdGg6NHB4O21hcmdpbi10b3A6MSU7dG9wOjElIixuLnN3YXAoaCxudWxsIT1oLnN0eWxlLnpvb20/e3pvb206MX06e30sZnVuY3Rpb24oKXtkPTQ9PT1jLm9mZnNldFdpZHRofSksZT0hMCxmPSExLGc9ITAsYS5nZXRDb21wdXRlZFN0eWxlJiYoZj0iMSUiIT09KGEuZ2V0Q29tcHV0ZWRTdHlsZShjLG51bGwpfHx7fSkudG9wLGU9IjRweCI9PT0oYS5nZXRDb21wdXRlZFN0eWxlKGMsbnVsbCl8fHt3aWR0aDoiNHB4In0pLndpZHRoKSxoLnJlbW92ZUNoaWxkKGIpLGM9aD1udWxsKX19KCksbi5zd2FwPWZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlLGYsZz17fTtmb3IoZiBpbiBiKWdbZl09YS5zdHlsZVtmXSxhLnN0eWxlW2ZdPWJbZl07ZT1jLmFwcGx5KGEsZHx8W10pO2ZvcihmIGluIGIpYS5zdHlsZVtmXT1nW2ZdO3JldHVybiBlfTt2YXIgTmI9L2FscGhhXChbXildKlwpL2ksT2I9L29wYWNpdHlccyo9XHMqKFteKV0qKS8sUGI9L14obm9uZXx0YWJsZSg/IS1jW2VhXSkuKykvLFFiPW5ldyBSZWdFeHAoIl4oIitUKyIpKC4qKSQiLCJpIiksUmI9bmV3IFJlZ0V4cCgiXihbKy1dKT0oIitUKyIpIiwiaSIpLFNiPXtwb3NpdGlvbjoiYWJzb2x1dGUiLHZpc2liaWxpdHk6ImhpZGRlbiIsZGlzcGxheToiYmxvY2sifSxUYj17bGV0dGVyU3BhY2luZzowLGZvbnRXZWlnaHQ6NDAwfSxVYj1bIldlYmtpdCIsIk8iLCJNb3oiLCJtcyJdO2Z1bmN0aW9uIFZiKGEsYil7aWYoYiBpbiBhKXJldHVybiBiO3ZhciBjPWIuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrYi5zbGljZSgxKSxkPWIsZT1VYi5sZW5ndGg7d2hpbGUoZS0tKWlmKGI9VWJbZV0rYyxiIGluIGEpcmV0dXJuIGI7cmV0dXJuIGR9ZnVuY3Rpb24gV2IoYSxiKXtmb3IodmFyIGMsZCxlLGY9W10sZz0wLGg9YS5sZW5ndGg7aD5nO2crKylkPWFbZ10sZC5zdHlsZSYmKGZbZ109bi5fZGF0YShkLCJvbGRkaXNwbGF5IiksYz1kLnN0eWxlLmRpc3BsYXksYj8oZltnXXx8Im5vbmUiIT09Y3x8KGQuc3R5bGUuZGlzcGxheT0iIiksIiI9PT1kLnN0eWxlLmRpc3BsYXkmJlYoZCkmJihmW2ddPW4uX2RhdGEoZCwib2xkZGlzcGxheSIsR2IoZC5ub2RlTmFtZSkpKSk6ZltnXXx8KGU9VihkKSwoYyYmIm5vbmUiIT09Y3x8IWUpJiZuLl9kYXRhKGQsIm9sZGRpc3BsYXkiLGU/YzpuLmNzcyhkLCJkaXNwbGF5IikpKSk7Zm9yKGc9MDtoPmc7ZysrKWQ9YVtnXSxkLnN0eWxlJiYoYiYmIm5vbmUiIT09ZC5zdHlsZS5kaXNwbGF5JiYiIiE9PWQuc3R5bGUuZGlzcGxheXx8KGQuc3R5bGUuZGlzcGxheT1iP2ZbZ118fCIiOiJub25lIikpO3JldHVybiBhfWZ1bmN0aW9uIFhiKGEsYixjKXt2YXIgZD1RYi5leGVjKGIpO3JldHVybiBkP01hdGgubWF4KDAsZFsxXS0oY3x8MCkpKyhkWzJdfHwicHgiKTpifWZ1bmN0aW9uIFliKGEsYixjLGQsZSl7Zm9yKHZhciBmPWM9PT0oZD8iYm9yZGVyIjoiY29udGVudCIpPzQ6IndpZHRoIj09PWI/MTowLGc9MDs0PmY7Zis9MikibWFyZ2luIj09PWMmJihnKz1uLmNzcyhhLGMrVVtmXSwhMCxlKSksZD8oImNvbnRlbnQiPT09YyYmKGctPW4uY3NzKGEsInBhZGRpbmciK1VbZl0sITAsZSkpLCJtYXJnaW4iIT09YyYmKGctPW4uY3NzKGEsImJvcmRlciIrVVtmXSsiV2lkdGgiLCEwLGUpKSk6KGcrPW4uY3NzKGEsInBhZGRpbmciK1VbZl0sITAsZSksInBhZGRpbmciIT09YyYmKGcrPW4uY3NzKGEsImJvcmRlciIrVVtmXSsiV2lkdGgiLCEwLGUpKSk7cmV0dXJuIGd9ZnVuY3Rpb24gWmIoYSxiLGMpe3ZhciBkPSEwLGU9IndpZHRoIj09PWI/YS5vZmZzZXRXaWR0aDphLm9mZnNldEhlaWdodCxmPUpiKGEpLGc9bC5ib3hTaXppbmcoKSYmImJvcmRlci1ib3giPT09bi5jc3MoYSwiYm94U2l6aW5nIiwhMSxmKTtpZigwPj1lfHxudWxsPT1lKXtpZihlPUtiKGEsYixmKSwoMD5lfHxudWxsPT1lKSYmKGU9YS5zdHlsZVtiXSksSWIudGVzdChlKSlyZXR1cm4gZTtkPWcmJihsLmJveFNpemluZ1JlbGlhYmxlKCl8fGU9PT1hLnN0eWxlW2JdKSxlPXBhcnNlRmxvYXQoZSl8fDB9cmV0dXJuIGUrWWIoYSxiLGN8fChnPyJib3JkZXIiOiJjb250ZW50IiksZCxmKSsicHgifW4uZXh0ZW5kKHtjc3NIb29rczp7b3BhY2l0eTp7Z2V0OmZ1bmN0aW9uKGEsYil7aWYoYil7dmFyIGM9S2IoYSwib3BhY2l0eSIpO3JldHVybiIiPT09Yz8iMSI6Y319fX0sY3NzTnVtYmVyOntjb2x1bW5Db3VudDohMCxmaWxsT3BhY2l0eTohMCxmb250V2VpZ2h0OiEwLGxpbmVIZWlnaHQ6ITAsb3BhY2l0eTohMCxvcmRlcjohMCxvcnBoYW5zOiEwLHdpZG93czohMCx6SW5kZXg6ITAsem9vbTohMH0sY3NzUHJvcHM6eyJmbG9hdCI6bC5jc3NGbG9hdD8iY3NzRmxvYXQiOiJzdHlsZUZsb2F0In0sc3R5bGU6ZnVuY3Rpb24oYSxiLGMsZCl7aWYoYSYmMyE9PWEubm9kZVR5cGUmJjghPT1hLm5vZGVUeXBlJiZhLnN0eWxlKXt2YXIgZSxmLGcsaD1uLmNhbWVsQ2FzZShiKSxpPWEuc3R5bGU7aWYoYj1uLmNzc1Byb3BzW2hdfHwobi5jc3NQcm9wc1toXT1WYihpLGgpKSxnPW4uY3NzSG9va3NbYl18fG4uY3NzSG9va3NbaF0sdm9pZCAwPT09YylyZXR1cm4gZyYmImdldCJpbiBnJiZ2b2lkIDAhPT0oZT1nLmdldChhLCExLGQpKT9lOmlbYl07aWYoZj10eXBlb2YgYywic3RyaW5nIj09PWYmJihlPVJiLmV4ZWMoYykpJiYoYz0oZVsxXSsxKSplWzJdK3BhcnNlRmxvYXQobi5jc3MoYSxiKSksZj0ibnVtYmVyIiksbnVsbCE9YyYmYz09PWMmJigibnVtYmVyIiE9PWZ8fG4uY3NzTnVtYmVyW2hdfHwoYys9InB4IiksbC5jbGVhckNsb25lU3R5bGV8fCIiIT09Y3x8MCE9PWIuaW5kZXhPZigiYmFja2dyb3VuZCIpfHwoaVtiXT0iaW5oZXJpdCIpLCEoZyYmInNldCJpbiBnJiZ2b2lkIDA9PT0oYz1nLnNldChhLGMsZCkpKSkpdHJ5e2lbYl09IiIsaVtiXT1jfWNhdGNoKGope319fSxjc3M6ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGUsZixnLGg9bi5jYW1lbENhc2UoYik7cmV0dXJuIGI9bi5jc3NQcm9wc1toXXx8KG4uY3NzUHJvcHNbaF09VmIoYS5zdHlsZSxoKSksZz1uLmNzc0hvb2tzW2JdfHxuLmNzc0hvb2tzW2hdLGcmJiJnZXQiaW4gZyYmKGY9Zy5nZXQoYSwhMCxjKSksdm9pZCAwPT09ZiYmKGY9S2IoYSxiLGQpKSwibm9ybWFsIj09PWYmJmIgaW4gVGImJihmPVRiW2JdKSwiIj09PWN8fGM/KGU9cGFyc2VGbG9hdChmKSxjPT09ITB8fG4uaXNOdW1lcmljKGUpP2V8fDA6Zik6Zn19KSxuLmVhY2goWyJoZWlnaHQiLCJ3aWR0aCJdLGZ1bmN0aW9uKGEsYil7bi5jc3NIb29rc1tiXT17Z2V0OmZ1bmN0aW9uKGEsYyxkKXtyZXR1cm4gYz8wPT09YS5vZmZzZXRXaWR0aCYmUGIudGVzdChuLmNzcyhhLCJkaXNwbGF5IikpP24uc3dhcChhLFNiLGZ1bmN0aW9uKCl7cmV0dXJuIFpiKGEsYixkKX0pOlpiKGEsYixkKTp2b2lkIDB9LHNldDpmdW5jdGlvbihhLGMsZCl7dmFyIGU9ZCYmSmIoYSk7cmV0dXJuIFhiKGEsYyxkP1liKGEsYixkLGwuYm94U2l6aW5nKCkmJiJib3JkZXItYm94Ij09PW4uY3NzKGEsImJveFNpemluZyIsITEsZSksZSk6MCl9fX0pLGwub3BhY2l0eXx8KG4uY3NzSG9va3Mub3BhY2l0eT17Z2V0OmZ1bmN0aW9uKGEsYil7cmV0dXJuIE9iLnRlc3QoKGImJmEuY3VycmVudFN0eWxlP2EuY3VycmVudFN0eWxlLmZpbHRlcjphLnN0eWxlLmZpbHRlcil8fCIiKT8uMDEqcGFyc2VGbG9hdChSZWdFeHAuJDEpKyIiOmI/IjEiOiIifSxzZXQ6ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLnN0eWxlLGQ9YS5jdXJyZW50U3R5bGUsZT1uLmlzTnVtZXJpYyhiKT8iYWxwaGEob3BhY2l0eT0iKzEwMCpiKyIpIjoiIixmPWQmJmQuZmlsdGVyfHxjLmZpbHRlcnx8IiI7Yy56b29tPTEsKGI+PTF8fCIiPT09YikmJiIiPT09bi50cmltKGYucmVwbGFjZShOYiwiIikpJiZjLnJlbW92ZUF0dHJpYnV0ZSYmKGMucmVtb3ZlQXR0cmlidXRlKCJmaWx0ZXIiKSwiIj09PWJ8fGQmJiFkLmZpbHRlcil8fChjLmZpbHRlcj1OYi50ZXN0KGYpP2YucmVwbGFjZShOYixlKTpmKyIgIitlKX19KSxuLmNzc0hvb2tzLm1hcmdpblJpZ2h0PU1iKGwucmVsaWFibGVNYXJnaW5SaWdodCxmdW5jdGlvbihhLGIpe3JldHVybiBiP24uc3dhcChhLHtkaXNwbGF5OiJpbmxpbmUtYmxvY2sifSxLYixbYSwibWFyZ2luUmlnaHQiXSk6dm9pZCAwfSksbi5lYWNoKHttYXJnaW46IiIscGFkZGluZzoiIixib3JkZXI6IldpZHRoIn0sZnVuY3Rpb24oYSxiKXtuLmNzc0hvb2tzW2ErYl09e2V4cGFuZDpmdW5jdGlvbihjKXtmb3IodmFyIGQ9MCxlPXt9LGY9InN0cmluZyI9PXR5cGVvZiBjP2Muc3BsaXQoIiAiKTpbY107ND5kO2QrKyllW2ErVVtkXStiXT1mW2RdfHxmW2QtMl18fGZbMF07cmV0dXJuIGV9fSxIYi50ZXN0KGEpfHwobi5jc3NIb29rc1thK2JdLnNldD1YYil9KSxuLmZuLmV4dGVuZCh7Y3NzOmZ1bmN0aW9uKGEsYil7cmV0dXJuIFcodGhpcyxmdW5jdGlvbihhLGIsYyl7dmFyIGQsZSxmPXt9LGc9MDtpZihuLmlzQXJyYXkoYikpe2ZvcihkPUpiKGEpLGU9Yi5sZW5ndGg7ZT5nO2crKylmW2JbZ11dPW4uY3NzKGEsYltnXSwhMSxkKTtyZXR1cm4gZn1yZXR1cm4gdm9pZCAwIT09Yz9uLnN0eWxlKGEsYixjKTpuLmNzcyhhLGIpCn0sYSxiLGFyZ3VtZW50cy5sZW5ndGg+MSl9LHNob3c6ZnVuY3Rpb24oKXtyZXR1cm4gV2IodGhpcywhMCl9LGhpZGU6ZnVuY3Rpb24oKXtyZXR1cm4gV2IodGhpcyl9LHRvZ2dsZTpmdW5jdGlvbihhKXtyZXR1cm4iYm9vbGVhbiI9PXR5cGVvZiBhP2E/dGhpcy5zaG93KCk6dGhpcy5oaWRlKCk6dGhpcy5lYWNoKGZ1bmN0aW9uKCl7Vih0aGlzKT9uKHRoaXMpLnNob3coKTpuKHRoaXMpLmhpZGUoKX0pfX0pO2Z1bmN0aW9uICRiKGEsYixjLGQsZSl7cmV0dXJuIG5ldyAkYi5wcm90b3R5cGUuaW5pdChhLGIsYyxkLGUpfW4uVHdlZW49JGIsJGIucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjokYixpbml0OmZ1bmN0aW9uKGEsYixjLGQsZSxmKXt0aGlzLmVsZW09YSx0aGlzLnByb3A9Yyx0aGlzLmVhc2luZz1lfHwic3dpbmciLHRoaXMub3B0aW9ucz1iLHRoaXMuc3RhcnQ9dGhpcy5ub3c9dGhpcy5jdXIoKSx0aGlzLmVuZD1kLHRoaXMudW5pdD1mfHwobi5jc3NOdW1iZXJbY10/IiI6InB4Iil9LGN1cjpmdW5jdGlvbigpe3ZhciBhPSRiLnByb3BIb29rc1t0aGlzLnByb3BdO3JldHVybiBhJiZhLmdldD9hLmdldCh0aGlzKTokYi5wcm9wSG9va3MuX2RlZmF1bHQuZ2V0KHRoaXMpfSxydW46ZnVuY3Rpb24oYSl7dmFyIGIsYz0kYi5wcm9wSG9va3NbdGhpcy5wcm9wXTtyZXR1cm4gdGhpcy5wb3M9Yj10aGlzLm9wdGlvbnMuZHVyYXRpb24/bi5lYXNpbmdbdGhpcy5lYXNpbmddKGEsdGhpcy5vcHRpb25zLmR1cmF0aW9uKmEsMCwxLHRoaXMub3B0aW9ucy5kdXJhdGlvbik6YSx0aGlzLm5vdz0odGhpcy5lbmQtdGhpcy5zdGFydCkqYit0aGlzLnN0YXJ0LHRoaXMub3B0aW9ucy5zdGVwJiZ0aGlzLm9wdGlvbnMuc3RlcC5jYWxsKHRoaXMuZWxlbSx0aGlzLm5vdyx0aGlzKSxjJiZjLnNldD9jLnNldCh0aGlzKTokYi5wcm9wSG9va3MuX2RlZmF1bHQuc2V0KHRoaXMpLHRoaXN9fSwkYi5wcm90b3R5cGUuaW5pdC5wcm90b3R5cGU9JGIucHJvdG90eXBlLCRiLnByb3BIb29rcz17X2RlZmF1bHQ6e2dldDpmdW5jdGlvbihhKXt2YXIgYjtyZXR1cm4gbnVsbD09YS5lbGVtW2EucHJvcF18fGEuZWxlbS5zdHlsZSYmbnVsbCE9YS5lbGVtLnN0eWxlW2EucHJvcF0/KGI9bi5jc3MoYS5lbGVtLGEucHJvcCwiIiksYiYmImF1dG8iIT09Yj9iOjApOmEuZWxlbVthLnByb3BdfSxzZXQ6ZnVuY3Rpb24oYSl7bi5meC5zdGVwW2EucHJvcF0/bi5meC5zdGVwW2EucHJvcF0oYSk6YS5lbGVtLnN0eWxlJiYobnVsbCE9YS5lbGVtLnN0eWxlW24uY3NzUHJvcHNbYS5wcm9wXV18fG4uY3NzSG9va3NbYS5wcm9wXSk/bi5zdHlsZShhLmVsZW0sYS5wcm9wLGEubm93K2EudW5pdCk6YS5lbGVtW2EucHJvcF09YS5ub3d9fX0sJGIucHJvcEhvb2tzLnNjcm9sbFRvcD0kYi5wcm9wSG9va3Muc2Nyb2xsTGVmdD17c2V0OmZ1bmN0aW9uKGEpe2EuZWxlbS5ub2RlVHlwZSYmYS5lbGVtLnBhcmVudE5vZGUmJihhLmVsZW1bYS5wcm9wXT1hLm5vdyl9fSxuLmVhc2luZz17bGluZWFyOmZ1bmN0aW9uKGEpe3JldHVybiBhfSxzd2luZzpmdW5jdGlvbihhKXtyZXR1cm4uNS1NYXRoLmNvcyhhKk1hdGguUEkpLzJ9fSxuLmZ4PSRiLnByb3RvdHlwZS5pbml0LG4uZnguc3RlcD17fTt2YXIgX2IsYWMsYmM9L14oPzp0b2dnbGV8c2hvd3xoaWRlKSQvLGNjPW5ldyBSZWdFeHAoIl4oPzooWystXSk9fCkoIitUKyIpKFthLXolXSopJCIsImkiKSxkYz0vcXVldWVIb29rcyQvLGVjPVtqY10sZmM9eyIqIjpbZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmNyZWF0ZVR3ZWVuKGEsYiksZD1jLmN1cigpLGU9Y2MuZXhlYyhiKSxmPWUmJmVbM118fChuLmNzc051bWJlclthXT8iIjoicHgiKSxnPShuLmNzc051bWJlclthXXx8InB4IiE9PWYmJitkKSYmY2MuZXhlYyhuLmNzcyhjLmVsZW0sYSkpLGg9MSxpPTIwO2lmKGcmJmdbM10hPT1mKXtmPWZ8fGdbM10sZT1lfHxbXSxnPStkfHwxO2RvIGg9aHx8Ii41IixnLz1oLG4uc3R5bGUoYy5lbGVtLGEsZytmKTt3aGlsZShoIT09KGg9Yy5jdXIoKS9kKSYmMSE9PWgmJi0taSl9cmV0dXJuIGUmJihnPWMuc3RhcnQ9K2d8fCtkfHwwLGMudW5pdD1mLGMuZW5kPWVbMV0/ZysoZVsxXSsxKSplWzJdOitlWzJdKSxjfV19O2Z1bmN0aW9uIGdjKCl7cmV0dXJuIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtfYj12b2lkIDB9KSxfYj1uLm5vdygpfWZ1bmN0aW9uIGhjKGEsYil7dmFyIGMsZD17aGVpZ2h0OmF9LGU9MDtmb3IoYj1iPzE6MDs0PmU7ZSs9Mi1iKWM9VVtlXSxkWyJtYXJnaW4iK2NdPWRbInBhZGRpbmciK2NdPWE7cmV0dXJuIGImJihkLm9wYWNpdHk9ZC53aWR0aD1hKSxkfWZ1bmN0aW9uIGljKGEsYixjKXtmb3IodmFyIGQsZT0oZmNbYl18fFtdKS5jb25jYXQoZmNbIioiXSksZj0wLGc9ZS5sZW5ndGg7Zz5mO2YrKylpZihkPWVbZl0uY2FsbChjLGIsYSkpcmV0dXJuIGR9ZnVuY3Rpb24gamMoYSxiLGMpe3ZhciBkLGUsZixnLGgsaSxqLGssbT10aGlzLG89e30scD1hLnN0eWxlLHE9YS5ub2RlVHlwZSYmVihhKSxyPW4uX2RhdGEoYSwiZnhzaG93Iik7Yy5xdWV1ZXx8KGg9bi5fcXVldWVIb29rcyhhLCJmeCIpLG51bGw9PWgudW5xdWV1ZWQmJihoLnVucXVldWVkPTAsaT1oLmVtcHR5LmZpcmUsaC5lbXB0eS5maXJlPWZ1bmN0aW9uKCl7aC51bnF1ZXVlZHx8aSgpfSksaC51bnF1ZXVlZCsrLG0uYWx3YXlzKGZ1bmN0aW9uKCl7bS5hbHdheXMoZnVuY3Rpb24oKXtoLnVucXVldWVkLS0sbi5xdWV1ZShhLCJmeCIpLmxlbmd0aHx8aC5lbXB0eS5maXJlKCl9KX0pKSwxPT09YS5ub2RlVHlwZSYmKCJoZWlnaHQiaW4gYnx8IndpZHRoImluIGIpJiYoYy5vdmVyZmxvdz1bcC5vdmVyZmxvdyxwLm92ZXJmbG93WCxwLm92ZXJmbG93WV0saj1uLmNzcyhhLCJkaXNwbGF5Iiksaz1HYihhLm5vZGVOYW1lKSwibm9uZSI9PT1qJiYoaj1rKSwiaW5saW5lIj09PWomJiJub25lIj09PW4uY3NzKGEsImZsb2F0IikmJihsLmlubGluZUJsb2NrTmVlZHNMYXlvdXQmJiJpbmxpbmUiIT09az9wLnpvb209MTpwLmRpc3BsYXk9ImlubGluZS1ibG9jayIpKSxjLm92ZXJmbG93JiYocC5vdmVyZmxvdz0iaGlkZGVuIixsLnNocmlua1dyYXBCbG9ja3MoKXx8bS5hbHdheXMoZnVuY3Rpb24oKXtwLm92ZXJmbG93PWMub3ZlcmZsb3dbMF0scC5vdmVyZmxvd1g9Yy5vdmVyZmxvd1sxXSxwLm92ZXJmbG93WT1jLm92ZXJmbG93WzJdfSkpO2ZvcihkIGluIGIpaWYoZT1iW2RdLGJjLmV4ZWMoZSkpe2lmKGRlbGV0ZSBiW2RdLGY9Znx8InRvZ2dsZSI9PT1lLGU9PT0ocT8iaGlkZSI6InNob3ciKSl7aWYoInNob3ciIT09ZXx8IXJ8fHZvaWQgMD09PXJbZF0pY29udGludWU7cT0hMH1vW2RdPXImJnJbZF18fG4uc3R5bGUoYSxkKX1pZighbi5pc0VtcHR5T2JqZWN0KG8pKXtyPyJoaWRkZW4iaW4gciYmKHE9ci5oaWRkZW4pOnI9bi5fZGF0YShhLCJmeHNob3ciLHt9KSxmJiYoci5oaWRkZW49IXEpLHE/bihhKS5zaG93KCk6bS5kb25lKGZ1bmN0aW9uKCl7bihhKS5oaWRlKCl9KSxtLmRvbmUoZnVuY3Rpb24oKXt2YXIgYjtuLl9yZW1vdmVEYXRhKGEsImZ4c2hvdyIpO2ZvcihiIGluIG8pbi5zdHlsZShhLGIsb1tiXSl9KTtmb3IoZCBpbiBvKWc9aWMocT9yW2RdOjAsZCxtKSxkIGluIHJ8fChyW2RdPWcuc3RhcnQscSYmKGcuZW5kPWcuc3RhcnQsZy5zdGFydD0id2lkdGgiPT09ZHx8ImhlaWdodCI9PT1kPzE6MCkpfX1mdW5jdGlvbiBrYyhhLGIpe3ZhciBjLGQsZSxmLGc7Zm9yKGMgaW4gYSlpZihkPW4uY2FtZWxDYXNlKGMpLGU9YltkXSxmPWFbY10sbi5pc0FycmF5KGYpJiYoZT1mWzFdLGY9YVtjXT1mWzBdKSxjIT09ZCYmKGFbZF09ZixkZWxldGUgYVtjXSksZz1uLmNzc0hvb2tzW2RdLGcmJiJleHBhbmQiaW4gZyl7Zj1nLmV4cGFuZChmKSxkZWxldGUgYVtkXTtmb3IoYyBpbiBmKWMgaW4gYXx8KGFbY109ZltjXSxiW2NdPWUpfWVsc2UgYltkXT1lfWZ1bmN0aW9uIGxjKGEsYixjKXt2YXIgZCxlLGY9MCxnPWVjLmxlbmd0aCxoPW4uRGVmZXJyZWQoKS5hbHdheXMoZnVuY3Rpb24oKXtkZWxldGUgaS5lbGVtfSksaT1mdW5jdGlvbigpe2lmKGUpcmV0dXJuITE7Zm9yKHZhciBiPV9ifHxnYygpLGM9TWF0aC5tYXgoMCxqLnN0YXJ0VGltZStqLmR1cmF0aW9uLWIpLGQ9Yy9qLmR1cmF0aW9ufHwwLGY9MS1kLGc9MCxpPWoudHdlZW5zLmxlbmd0aDtpPmc7ZysrKWoudHdlZW5zW2ddLnJ1bihmKTtyZXR1cm4gaC5ub3RpZnlXaXRoKGEsW2osZixjXSksMT5mJiZpP2M6KGgucmVzb2x2ZVdpdGgoYSxbal0pLCExKX0saj1oLnByb21pc2Uoe2VsZW06YSxwcm9wczpuLmV4dGVuZCh7fSxiKSxvcHRzOm4uZXh0ZW5kKCEwLHtzcGVjaWFsRWFzaW5nOnt9fSxjKSxvcmlnaW5hbFByb3BlcnRpZXM6YixvcmlnaW5hbE9wdGlvbnM6YyxzdGFydFRpbWU6X2J8fGdjKCksZHVyYXRpb246Yy5kdXJhdGlvbix0d2VlbnM6W10sY3JlYXRlVHdlZW46ZnVuY3Rpb24oYixjKXt2YXIgZD1uLlR3ZWVuKGEsai5vcHRzLGIsYyxqLm9wdHMuc3BlY2lhbEVhc2luZ1tiXXx8ai5vcHRzLmVhc2luZyk7cmV0dXJuIGoudHdlZW5zLnB1c2goZCksZH0sc3RvcDpmdW5jdGlvbihiKXt2YXIgYz0wLGQ9Yj9qLnR3ZWVucy5sZW5ndGg6MDtpZihlKXJldHVybiB0aGlzO2ZvcihlPSEwO2Q+YztjKyspai50d2VlbnNbY10ucnVuKDEpO3JldHVybiBiP2gucmVzb2x2ZVdpdGgoYSxbaixiXSk6aC5yZWplY3RXaXRoKGEsW2osYl0pLHRoaXN9fSksaz1qLnByb3BzO2ZvcihrYyhrLGoub3B0cy5zcGVjaWFsRWFzaW5nKTtnPmY7ZisrKWlmKGQ9ZWNbZl0uY2FsbChqLGEsayxqLm9wdHMpKXJldHVybiBkO3JldHVybiBuLm1hcChrLGljLGopLG4uaXNGdW5jdGlvbihqLm9wdHMuc3RhcnQpJiZqLm9wdHMuc3RhcnQuY2FsbChhLGopLG4uZngudGltZXIobi5leHRlbmQoaSx7ZWxlbTphLGFuaW06aixxdWV1ZTpqLm9wdHMucXVldWV9KSksai5wcm9ncmVzcyhqLm9wdHMucHJvZ3Jlc3MpLmRvbmUoai5vcHRzLmRvbmUsai5vcHRzLmNvbXBsZXRlKS5mYWlsKGoub3B0cy5mYWlsKS5hbHdheXMoai5vcHRzLmFsd2F5cyl9bi5BbmltYXRpb249bi5leHRlbmQobGMse3R3ZWVuZXI6ZnVuY3Rpb24oYSxiKXtuLmlzRnVuY3Rpb24oYSk/KGI9YSxhPVsiKiJdKTphPWEuc3BsaXQoIiAiKTtmb3IodmFyIGMsZD0wLGU9YS5sZW5ndGg7ZT5kO2QrKyljPWFbZF0sZmNbY109ZmNbY118fFtdLGZjW2NdLnVuc2hpZnQoYil9LHByZWZpbHRlcjpmdW5jdGlvbihhLGIpe2I/ZWMudW5zaGlmdChhKTplYy5wdXNoKGEpfX0pLG4uc3BlZWQ9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWEmJiJvYmplY3QiPT10eXBlb2YgYT9uLmV4dGVuZCh7fSxhKTp7Y29tcGxldGU6Y3x8IWMmJmJ8fG4uaXNGdW5jdGlvbihhKSYmYSxkdXJhdGlvbjphLGVhc2luZzpjJiZifHxiJiYhbi5pc0Z1bmN0aW9uKGIpJiZifTtyZXR1cm4gZC5kdXJhdGlvbj1uLmZ4Lm9mZj8wOiJudW1iZXIiPT10eXBlb2YgZC5kdXJhdGlvbj9kLmR1cmF0aW9uOmQuZHVyYXRpb24gaW4gbi5meC5zcGVlZHM/bi5meC5zcGVlZHNbZC5kdXJhdGlvbl06bi5meC5zcGVlZHMuX2RlZmF1bHQsKG51bGw9PWQucXVldWV8fGQucXVldWU9PT0hMCkmJihkLnF1ZXVlPSJmeCIpLGQub2xkPWQuY29tcGxldGUsZC5jb21wbGV0ZT1mdW5jdGlvbigpe24uaXNGdW5jdGlvbihkLm9sZCkmJmQub2xkLmNhbGwodGhpcyksZC5xdWV1ZSYmbi5kZXF1ZXVlKHRoaXMsZC5xdWV1ZSl9LGR9LG4uZm4uZXh0ZW5kKHtmYWRlVG86ZnVuY3Rpb24oYSxiLGMsZCl7cmV0dXJuIHRoaXMuZmlsdGVyKFYpLmNzcygib3BhY2l0eSIsMCkuc2hvdygpLmVuZCgpLmFuaW1hdGUoe29wYWNpdHk6Yn0sYSxjLGQpfSxhbmltYXRlOmZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPW4uaXNFbXB0eU9iamVjdChhKSxmPW4uc3BlZWQoYixjLGQpLGc9ZnVuY3Rpb24oKXt2YXIgYj1sYyh0aGlzLG4uZXh0ZW5kKHt9LGEpLGYpOyhlfHxuLl9kYXRhKHRoaXMsImZpbmlzaCIpKSYmYi5zdG9wKCEwKX07cmV0dXJuIGcuZmluaXNoPWcsZXx8Zi5xdWV1ZT09PSExP3RoaXMuZWFjaChnKTp0aGlzLnF1ZXVlKGYucXVldWUsZyl9LHN0b3A6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWZ1bmN0aW9uKGEpe3ZhciBiPWEuc3RvcDtkZWxldGUgYS5zdG9wLGIoYyl9O3JldHVybiJzdHJpbmciIT10eXBlb2YgYSYmKGM9YixiPWEsYT12b2lkIDApLGImJmEhPT0hMSYmdGhpcy5xdWV1ZShhfHwiZngiLFtdKSx0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgYj0hMCxlPW51bGwhPWEmJmErInF1ZXVlSG9va3MiLGY9bi50aW1lcnMsZz1uLl9kYXRhKHRoaXMpO2lmKGUpZ1tlXSYmZ1tlXS5zdG9wJiZkKGdbZV0pO2Vsc2UgZm9yKGUgaW4gZylnW2VdJiZnW2VdLnN0b3AmJmRjLnRlc3QoZSkmJmQoZ1tlXSk7Zm9yKGU9Zi5sZW5ndGg7ZS0tOylmW2VdLmVsZW0hPT10aGlzfHxudWxsIT1hJiZmW2VdLnF1ZXVlIT09YXx8KGZbZV0uYW5pbS5zdG9wKGMpLGI9ITEsZi5zcGxpY2UoZSwxKSk7KGJ8fCFjKSYmbi5kZXF1ZXVlKHRoaXMsYSl9KX0sZmluaXNoOmZ1bmN0aW9uKGEpe3JldHVybiBhIT09ITEmJihhPWF8fCJmeCIpLHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBiLGM9bi5fZGF0YSh0aGlzKSxkPWNbYSsicXVldWUiXSxlPWNbYSsicXVldWVIb29rcyJdLGY9bi50aW1lcnMsZz1kP2QubGVuZ3RoOjA7Zm9yKGMuZmluaXNoPSEwLG4ucXVldWUodGhpcyxhLFtdKSxlJiZlLnN0b3AmJmUuc3RvcC5jYWxsKHRoaXMsITApLGI9Zi5sZW5ndGg7Yi0tOylmW2JdLmVsZW09PT10aGlzJiZmW2JdLnF1ZXVlPT09YSYmKGZbYl0uYW5pbS5zdG9wKCEwKSxmLnNwbGljZShiLDEpKTtmb3IoYj0wO2c+YjtiKyspZFtiXSYmZFtiXS5maW5pc2gmJmRbYl0uZmluaXNoLmNhbGwodGhpcyk7ZGVsZXRlIGMuZmluaXNofSl9fSksbi5lYWNoKFsidG9nZ2xlIiwic2hvdyIsImhpZGUiXSxmdW5jdGlvbihhLGIpe3ZhciBjPW4uZm5bYl07bi5mbltiXT1mdW5jdGlvbihhLGQsZSl7cmV0dXJuIG51bGw9PWF8fCJib29sZWFuIj09dHlwZW9mIGE/Yy5hcHBseSh0aGlzLGFyZ3VtZW50cyk6dGhpcy5hbmltYXRlKGhjKGIsITApLGEsZCxlKX19KSxuLmVhY2goe3NsaWRlRG93bjpoYygic2hvdyIpLHNsaWRlVXA6aGMoImhpZGUiKSxzbGlkZVRvZ2dsZTpoYygidG9nZ2xlIiksZmFkZUluOntvcGFjaXR5OiJzaG93In0sZmFkZU91dDp7b3BhY2l0eToiaGlkZSJ9LGZhZGVUb2dnbGU6e29wYWNpdHk6InRvZ2dsZSJ9fSxmdW5jdGlvbihhLGIpe24uZm5bYV09ZnVuY3Rpb24oYSxjLGQpe3JldHVybiB0aGlzLmFuaW1hdGUoYixhLGMsZCl9fSksbi50aW1lcnM9W10sbi5meC50aWNrPWZ1bmN0aW9uKCl7dmFyIGEsYj1uLnRpbWVycyxjPTA7Zm9yKF9iPW4ubm93KCk7YzxiLmxlbmd0aDtjKyspYT1iW2NdLGEoKXx8YltjXSE9PWF8fGIuc3BsaWNlKGMtLSwxKTtiLmxlbmd0aHx8bi5meC5zdG9wKCksX2I9dm9pZCAwfSxuLmZ4LnRpbWVyPWZ1bmN0aW9uKGEpe24udGltZXJzLnB1c2goYSksYSgpP24uZnguc3RhcnQoKTpuLnRpbWVycy5wb3AoKX0sbi5meC5pbnRlcnZhbD0xMyxuLmZ4LnN0YXJ0PWZ1bmN0aW9uKCl7YWN8fChhYz1zZXRJbnRlcnZhbChuLmZ4LnRpY2ssbi5meC5pbnRlcnZhbCkpfSxuLmZ4LnN0b3A9ZnVuY3Rpb24oKXtjbGVhckludGVydmFsKGFjKSxhYz1udWxsfSxuLmZ4LnNwZWVkcz17c2xvdzo2MDAsZmFzdDoyMDAsX2RlZmF1bHQ6NDAwfSxuLmZuLmRlbGF5PWZ1bmN0aW9uKGEsYil7cmV0dXJuIGE9bi5meD9uLmZ4LnNwZWVkc1thXXx8YTphLGI9Ynx8ImZ4Iix0aGlzLnF1ZXVlKGIsZnVuY3Rpb24oYixjKXt2YXIgZD1zZXRUaW1lb3V0KGIsYSk7Yy5zdG9wPWZ1bmN0aW9uKCl7Y2xlYXJUaW1lb3V0KGQpfX0pfSxmdW5jdGlvbigpe3ZhciBhLGIsYyxkLGU9ei5jcmVhdGVFbGVtZW50KCJkaXYiKTtlLnNldEF0dHJpYnV0ZSgiY2xhc3NOYW1lIiwidCIpLGUuaW5uZXJIVE1MPSIgIDxsaW5rLz48dGFibGU+PC90YWJsZT48YSBocmVmPScvYSc+YTwvYT48aW5wdXQgdHlwZT0nY2hlY2tib3gnLz4iLGE9ZS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiYSIpWzBdLGM9ei5jcmVhdGVFbGVtZW50KCJzZWxlY3QiKSxkPWMuYXBwZW5kQ2hpbGQoei5jcmVhdGVFbGVtZW50KCJvcHRpb24iKSksYj1lLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJpbnB1dCIpWzBdLGEuc3R5bGUuY3NzVGV4dD0idG9wOjFweCIsbC5nZXRTZXRBdHRyaWJ1dGU9InQiIT09ZS5jbGFzc05hbWUsbC5zdHlsZT0vdG9wLy50ZXN0KGEuZ2V0QXR0cmlidXRlKCJzdHlsZSIpKSxsLmhyZWZOb3JtYWxpemVkPSIvYSI9PT1hLmdldEF0dHJpYnV0ZSgiaHJlZiIpLGwuY2hlY2tPbj0hIWIudmFsdWUsbC5vcHRTZWxlY3RlZD1kLnNlbGVjdGVkLGwuZW5jdHlwZT0hIXouY3JlYXRlRWxlbWVudCgiZm9ybSIpLmVuY3R5cGUsYy5kaXNhYmxlZD0hMCxsLm9wdERpc2FibGVkPSFkLmRpc2FibGVkLGI9ei5jcmVhdGVFbGVtZW50KCJpbnB1dCIpLGIuc2V0QXR0cmlidXRlKCJ2YWx1ZSIsIiIpLGwuaW5wdXQ9IiI9PT1iLmdldEF0dHJpYnV0ZSgidmFsdWUiKSxiLnZhbHVlPSJ0IixiLnNldEF0dHJpYnV0ZSgidHlwZSIsInJhZGlvIiksbC5yYWRpb1ZhbHVlPSJ0Ij09PWIudmFsdWUsYT1iPWM9ZD1lPW51bGx9KCk7dmFyIG1jPS9cci9nO24uZm4uZXh0ZW5kKHt2YWw6ZnVuY3Rpb24oYSl7dmFyIGIsYyxkLGU9dGhpc1swXTt7aWYoYXJndW1lbnRzLmxlbmd0aClyZXR1cm4gZD1uLmlzRnVuY3Rpb24oYSksdGhpcy5lYWNoKGZ1bmN0aW9uKGMpe3ZhciBlOzE9PT10aGlzLm5vZGVUeXBlJiYoZT1kP2EuY2FsbCh0aGlzLGMsbih0aGlzKS52YWwoKSk6YSxudWxsPT1lP2U9IiI6Im51bWJlciI9PXR5cGVvZiBlP2UrPSIiOm4uaXNBcnJheShlKSYmKGU9bi5tYXAoZSxmdW5jdGlvbihhKXtyZXR1cm4gbnVsbD09YT8iIjphKyIifSkpLGI9bi52YWxIb29rc1t0aGlzLnR5cGVdfHxuLnZhbEhvb2tzW3RoaXMubm9kZU5hbWUudG9Mb3dlckNhc2UoKV0sYiYmInNldCJpbiBiJiZ2b2lkIDAhPT1iLnNldCh0aGlzLGUsInZhbHVlIil8fCh0aGlzLnZhbHVlPWUpKX0pO2lmKGUpcmV0dXJuIGI9bi52YWxIb29rc1tlLnR5cGVdfHxuLnZhbEhvb2tzW2Uubm9kZU5hbWUudG9Mb3dlckNhc2UoKV0sYiYmImdldCJpbiBiJiZ2b2lkIDAhPT0oYz1iLmdldChlLCJ2YWx1ZSIpKT9jOihjPWUudmFsdWUsInN0cmluZyI9PXR5cGVvZiBjP2MucmVwbGFjZShtYywiIik6bnVsbD09Yz8iIjpjKX19fSksbi5leHRlbmQoe3ZhbEhvb2tzOntvcHRpb246e2dldDpmdW5jdGlvbihhKXt2YXIgYj1uLmZpbmQuYXR0cihhLCJ2YWx1ZSIpO3JldHVybiBudWxsIT1iP2I6bi50ZXh0KGEpfX0sc2VsZWN0OntnZXQ6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiLGMsZD1hLm9wdGlvbnMsZT1hLnNlbGVjdGVkSW5kZXgsZj0ic2VsZWN0LW9uZSI9PT1hLnR5cGV8fDA+ZSxnPWY/bnVsbDpbXSxoPWY/ZSsxOmQubGVuZ3RoLGk9MD5lP2g6Zj9lOjA7aD5pO2krKylpZihjPWRbaV0sISghYy5zZWxlY3RlZCYmaSE9PWV8fChsLm9wdERpc2FibGVkP2MuZGlzYWJsZWQ6bnVsbCE9PWMuZ2V0QXR0cmlidXRlKCJkaXNhYmxlZCIpKXx8Yy5wYXJlbnROb2RlLmRpc2FibGVkJiZuLm5vZGVOYW1lKGMucGFyZW50Tm9kZSwib3B0Z3JvdXAiKSkpe2lmKGI9bihjKS52YWwoKSxmKXJldHVybiBiO2cucHVzaChiKX1yZXR1cm4gZ30sc2V0OmZ1bmN0aW9uKGEsYil7dmFyIGMsZCxlPWEub3B0aW9ucyxmPW4ubWFrZUFycmF5KGIpLGc9ZS5sZW5ndGg7d2hpbGUoZy0tKWlmKGQ9ZVtnXSxuLmluQXJyYXkobi52YWxIb29rcy5vcHRpb24uZ2V0KGQpLGYpPj0wKXRyeXtkLnNlbGVjdGVkPWM9ITB9Y2F0Y2goaCl7ZC5zY3JvbGxIZWlnaHR9ZWxzZSBkLnNlbGVjdGVkPSExO3JldHVybiBjfHwoYS5zZWxlY3RlZEluZGV4PS0xKSxlfX19fSksbi5lYWNoKFsicmFkaW8iLCJjaGVja2JveCJdLGZ1bmN0aW9uKCl7bi52YWxIb29rc1t0aGlzXT17c2V0OmZ1bmN0aW9uKGEsYil7cmV0dXJuIG4uaXNBcnJheShiKT9hLmNoZWNrZWQ9bi5pbkFycmF5KG4oYSkudmFsKCksYik+PTA6dm9pZCAwfX0sbC5jaGVja09ufHwobi52YWxIb29rc1t0aGlzXS5nZXQ9ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGw9PT1hLmdldEF0dHJpYnV0ZSgidmFsdWUiKT8ib24iOmEudmFsdWV9KX0pO3ZhciBuYyxvYyxwYz1uLmV4cHIuYXR0ckhhbmRsZSxxYz0vXig/OmNoZWNrZWR8c2VsZWN0ZWQpJC9pLHJjPWwuZ2V0U2V0QXR0cmlidXRlLHNjPWwuaW5wdXQ7bi5mbi5leHRlbmQoe2F0dHI6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gVyh0aGlzLG4uYXR0cixhLGIsYXJndW1lbnRzLmxlbmd0aD4xKX0scmVtb3ZlQXR0cjpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7bi5yZW1vdmVBdHRyKHRoaXMsYSl9KX19KSxuLmV4dGVuZCh7YXR0cjpmdW5jdGlvbihhLGIsYyl7dmFyIGQsZSxmPWEubm9kZVR5cGU7aWYoYSYmMyE9PWYmJjghPT1mJiYyIT09ZilyZXR1cm4gdHlwZW9mIGEuZ2V0QXR0cmlidXRlPT09TD9uLnByb3AoYSxiLGMpOigxPT09ZiYmbi5pc1hNTERvYyhhKXx8KGI9Yi50b0xvd2VyQ2FzZSgpLGQ9bi5hdHRySG9va3NbYl18fChuLmV4cHIubWF0Y2guYm9vbC50ZXN0KGIpP29jOm5jKSksdm9pZCAwPT09Yz9kJiYiZ2V0ImluIGQmJm51bGwhPT0oZT1kLmdldChhLGIpKT9lOihlPW4uZmluZC5hdHRyKGEsYiksbnVsbD09ZT92b2lkIDA6ZSk6bnVsbCE9PWM/ZCYmInNldCJpbiBkJiZ2b2lkIDAhPT0oZT1kLnNldChhLGMsYikpP2U6KGEuc2V0QXR0cmlidXRlKGIsYysiIiksYyk6dm9pZCBuLnJlbW92ZUF0dHIoYSxiKSl9LHJlbW92ZUF0dHI6ZnVuY3Rpb24oYSxiKXt2YXIgYyxkLGU9MCxmPWImJmIubWF0Y2goRik7aWYoZiYmMT09PWEubm9kZVR5cGUpd2hpbGUoYz1mW2UrK10pZD1uLnByb3BGaXhbY118fGMsbi5leHByLm1hdGNoLmJvb2wudGVzdChjKT9zYyYmcmN8fCFxYy50ZXN0KGMpP2FbZF09ITE6YVtuLmNhbWVsQ2FzZSgiZGVmYXVsdC0iK2MpXT1hW2RdPSExOm4uYXR0cihhLGMsIiIpLGEucmVtb3ZlQXR0cmlidXRlKHJjP2M6ZCl9LGF0dHJIb29rczp7dHlwZTp7c2V0OmZ1bmN0aW9uKGEsYil7aWYoIWwucmFkaW9WYWx1ZSYmInJhZGlvIj09PWImJm4ubm9kZU5hbWUoYSwiaW5wdXQiKSl7dmFyIGM9YS52YWx1ZTtyZXR1cm4gYS5zZXRBdHRyaWJ1dGUoInR5cGUiLGIpLGMmJihhLnZhbHVlPWMpLGJ9fX19fSksb2M9e3NldDpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIGI9PT0hMT9uLnJlbW92ZUF0dHIoYSxjKTpzYyYmcmN8fCFxYy50ZXN0KGMpP2Euc2V0QXR0cmlidXRlKCFyYyYmbi5wcm9wRml4W2NdfHxjLGMpOmFbbi5jYW1lbENhc2UoImRlZmF1bHQtIitjKV09YVtjXT0hMCxjfX0sbi5lYWNoKG4uZXhwci5tYXRjaC5ib29sLnNvdXJjZS5tYXRjaCgvXHcrL2cpLGZ1bmN0aW9uKGEsYil7dmFyIGM9cGNbYl18fG4uZmluZC5hdHRyO3BjW2JdPXNjJiZyY3x8IXFjLnRlc3QoYik/ZnVuY3Rpb24oYSxiLGQpe3ZhciBlLGY7cmV0dXJuIGR8fChmPXBjW2JdLHBjW2JdPWUsZT1udWxsIT1jKGEsYixkKT9iLnRvTG93ZXJDYXNlKCk6bnVsbCxwY1tiXT1mKSxlfTpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIGM/dm9pZCAwOmFbbi5jYW1lbENhc2UoImRlZmF1bHQtIitiKV0/Yi50b0xvd2VyQ2FzZSgpOm51bGx9fSksc2MmJnJjfHwobi5hdHRySG9va3MudmFsdWU9e3NldDpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIG4ubm9kZU5hbWUoYSwiaW5wdXQiKT92b2lkKGEuZGVmYXVsdFZhbHVlPWIpOm5jJiZuYy5zZXQoYSxiLGMpfX0pLHJjfHwobmM9e3NldDpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9YS5nZXRBdHRyaWJ1dGVOb2RlKGMpO3JldHVybiBkfHxhLnNldEF0dHJpYnV0ZU5vZGUoZD1hLm93bmVyRG9jdW1lbnQuY3JlYXRlQXR0cmlidXRlKGMpKSxkLnZhbHVlPWIrPSIiLCJ2YWx1ZSI9PT1jfHxiPT09YS5nZXRBdHRyaWJ1dGUoYyk/Yjp2b2lkIDB9fSxwYy5pZD1wYy5uYW1lPXBjLmNvb3Jkcz1mdW5jdGlvbihhLGIsYyl7dmFyIGQ7cmV0dXJuIGM/dm9pZCAwOihkPWEuZ2V0QXR0cmlidXRlTm9kZShiKSkmJiIiIT09ZC52YWx1ZT9kLnZhbHVlOm51bGx9LG4udmFsSG9va3MuYnV0dG9uPXtnZXQ6ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLmdldEF0dHJpYnV0ZU5vZGUoYik7cmV0dXJuIGMmJmMuc3BlY2lmaWVkP2MudmFsdWU6dm9pZCAwfSxzZXQ6bmMuc2V0fSxuLmF0dHJIb29rcy5jb250ZW50ZWRpdGFibGU9e3NldDpmdW5jdGlvbihhLGIsYyl7bmMuc2V0KGEsIiI9PT1iPyExOmIsYyl9fSxuLmVhY2goWyJ3aWR0aCIsImhlaWdodCJdLGZ1bmN0aW9uKGEsYil7bi5hdHRySG9va3NbYl09e3NldDpmdW5jdGlvbihhLGMpe3JldHVybiIiPT09Yz8oYS5zZXRBdHRyaWJ1dGUoYiwiYXV0byIpLGMpOnZvaWQgMH19fSkpLGwuc3R5bGV8fChuLmF0dHJIb29rcy5zdHlsZT17Z2V0OmZ1bmN0aW9uKGEpe3JldHVybiBhLnN0eWxlLmNzc1RleHR8fHZvaWQgMH0sc2V0OmZ1bmN0aW9uKGEsYil7cmV0dXJuIGEuc3R5bGUuY3NzVGV4dD1iKyIifX0pO3ZhciB0Yz0vXig/OmlucHV0fHNlbGVjdHx0ZXh0YXJlYXxidXR0b258b2JqZWN0KSQvaSx1Yz0vXig/OmF8YXJlYSkkL2k7bi5mbi5leHRlbmQoe3Byb3A6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gVyh0aGlzLG4ucHJvcCxhLGIsYXJndW1lbnRzLmxlbmd0aD4xKX0scmVtb3ZlUHJvcDpmdW5jdGlvbihhKXtyZXR1cm4gYT1uLnByb3BGaXhbYV18fGEsdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dHJ5e3RoaXNbYV09dm9pZCAwLGRlbGV0ZSB0aGlzW2FdfWNhdGNoKGIpe319KX19KSxuLmV4dGVuZCh7cHJvcEZpeDp7ImZvciI6Imh0bWxGb3IiLCJjbGFzcyI6ImNsYXNzTmFtZSJ9LHByb3A6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkLGUsZixnPWEubm9kZVR5cGU7aWYoYSYmMyE9PWcmJjghPT1nJiYyIT09ZylyZXR1cm4gZj0xIT09Z3x8IW4uaXNYTUxEb2MoYSksZiYmKGI9bi5wcm9wRml4W2JdfHxiLGU9bi5wcm9wSG9va3NbYl0pLHZvaWQgMCE9PWM/ZSYmInNldCJpbiBlJiZ2b2lkIDAhPT0oZD1lLnNldChhLGMsYikpP2Q6YVtiXT1jOmUmJiJnZXQiaW4gZSYmbnVsbCE9PShkPWUuZ2V0KGEsYikpP2Q6YVtiXX0scHJvcEhvb2tzOnt0YWJJbmRleDp7Z2V0OmZ1bmN0aW9uKGEpe3ZhciBiPW4uZmluZC5hdHRyKGEsInRhYmluZGV4Iik7cmV0dXJuIGI/cGFyc2VJbnQoYiwxMCk6dGMudGVzdChhLm5vZGVOYW1lKXx8dWMudGVzdChhLm5vZGVOYW1lKSYmYS5ocmVmPzA6LTF9fX19KSxsLmhyZWZOb3JtYWxpemVkfHxuLmVhY2goWyJocmVmIiwic3JjIl0sZnVuY3Rpb24oYSxiKXtuLnByb3BIb29rc1tiXT17Z2V0OmZ1bmN0aW9uKGEpe3JldHVybiBhLmdldEF0dHJpYnV0ZShiLDQpfX19KSxsLm9wdFNlbGVjdGVkfHwobi5wcm9wSG9va3Muc2VsZWN0ZWQ9e2dldDpmdW5jdGlvbihhKXt2YXIgYj1hLnBhcmVudE5vZGU7cmV0dXJuIGImJihiLnNlbGVjdGVkSW5kZXgsYi5wYXJlbnROb2RlJiZiLnBhcmVudE5vZGUuc2VsZWN0ZWRJbmRleCksbnVsbH19KSxuLmVhY2goWyJ0YWJJbmRleCIsInJlYWRPbmx5IiwibWF4TGVuZ3RoIiwiY2VsbFNwYWNpbmciLCJjZWxsUGFkZGluZyIsInJvd1NwYW4iLCJjb2xTcGFuIiwidXNlTWFwIiwiZnJhbWVCb3JkZXIiLCJjb250ZW50RWRpdGFibGUiXSxmdW5jdGlvbigpe24ucHJvcEZpeFt0aGlzLnRvTG93ZXJDYXNlKCldPXRoaXN9KSxsLmVuY3R5cGV8fChuLnByb3BGaXguZW5jdHlwZT0iZW5jb2RpbmciKTt2YXIgdmM9L1tcdFxyXG5cZl0vZztuLmZuLmV4dGVuZCh7YWRkQ2xhc3M6ZnVuY3Rpb24oYSl7dmFyIGIsYyxkLGUsZixnLGg9MCxpPXRoaXMubGVuZ3RoLGo9InN0cmluZyI9PXR5cGVvZiBhJiZhO2lmKG4uaXNGdW5jdGlvbihhKSlyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKGIpe24odGhpcykuYWRkQ2xhc3MoYS5jYWxsKHRoaXMsYix0aGlzLmNsYXNzTmFtZSkpfSk7aWYoailmb3IoYj0oYXx8IiIpLm1hdGNoKEYpfHxbXTtpPmg7aCsrKWlmKGM9dGhpc1toXSxkPTE9PT1jLm5vZGVUeXBlJiYoYy5jbGFzc05hbWU/KCIgIitjLmNsYXNzTmFtZSsiICIpLnJlcGxhY2UodmMsIiAiKToiICIpKXtmPTA7d2hpbGUoZT1iW2YrK10pZC5pbmRleE9mKCIgIitlKyIgIik8MCYmKGQrPWUrIiAiKTtnPW4udHJpbShkKSxjLmNsYXNzTmFtZSE9PWcmJihjLmNsYXNzTmFtZT1nKX1yZXR1cm4gdGhpc30scmVtb3ZlQ2xhc3M6ZnVuY3Rpb24oYSl7dmFyIGIsYyxkLGUsZixnLGg9MCxpPXRoaXMubGVuZ3RoLGo9MD09PWFyZ3VtZW50cy5sZW5ndGh8fCJzdHJpbmciPT10eXBlb2YgYSYmYTtpZihuLmlzRnVuY3Rpb24oYSkpcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihiKXtuKHRoaXMpLnJlbW92ZUNsYXNzKGEuY2FsbCh0aGlzLGIsdGhpcy5jbGFzc05hbWUpKX0pO2lmKGopZm9yKGI9KGF8fCIiKS5tYXRjaChGKXx8W107aT5oO2grKylpZihjPXRoaXNbaF0sZD0xPT09Yy5ub2RlVHlwZSYmKGMuY2xhc3NOYW1lPygiICIrYy5jbGFzc05hbWUrIiAiKS5yZXBsYWNlKHZjLCIgIik6IiIpKXtmPTA7d2hpbGUoZT1iW2YrK10pd2hpbGUoZC5pbmRleE9mKCIgIitlKyIgIik+PTApZD1kLnJlcGxhY2UoIiAiK2UrIiAiLCIgIik7Zz1hP24udHJpbShkKToiIixjLmNsYXNzTmFtZSE9PWcmJihjLmNsYXNzTmFtZT1nKX1yZXR1cm4gdGhpc30sdG9nZ2xlQ2xhc3M6ZnVuY3Rpb24oYSxiKXt2YXIgYz10eXBlb2YgYTtyZXR1cm4iYm9vbGVhbiI9PXR5cGVvZiBiJiYic3RyaW5nIj09PWM/Yj90aGlzLmFkZENsYXNzKGEpOnRoaXMucmVtb3ZlQ2xhc3MoYSk6dGhpcy5lYWNoKG4uaXNGdW5jdGlvbihhKT9mdW5jdGlvbihjKXtuKHRoaXMpLnRvZ2dsZUNsYXNzKGEuY2FsbCh0aGlzLGMsdGhpcy5jbGFzc05hbWUsYiksYil9OmZ1bmN0aW9uKCl7aWYoInN0cmluZyI9PT1jKXt2YXIgYixkPTAsZT1uKHRoaXMpLGY9YS5tYXRjaChGKXx8W107d2hpbGUoYj1mW2QrK10pZS5oYXNDbGFzcyhiKT9lLnJlbW92ZUNsYXNzKGIpOmUuYWRkQ2xhc3MoYil9ZWxzZShjPT09THx8ImJvb2xlYW4iPT09YykmJih0aGlzLmNsYXNzTmFtZSYmbi5fZGF0YSh0aGlzLCJfX2NsYXNzTmFtZV9fIix0aGlzLmNsYXNzTmFtZSksdGhpcy5jbGFzc05hbWU9dGhpcy5jbGFzc05hbWV8fGE9PT0hMT8iIjpuLl9kYXRhKHRoaXMsIl9fY2xhc3NOYW1lX18iKXx8IiIpfSl9LGhhc0NsYXNzOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYj0iICIrYSsiICIsYz0wLGQ9dGhpcy5sZW5ndGg7ZD5jO2MrKylpZigxPT09dGhpc1tjXS5ub2RlVHlwZSYmKCIgIit0aGlzW2NdLmNsYXNzTmFtZSsiICIpLnJlcGxhY2UodmMsIiAiKS5pbmRleE9mKGIpPj0wKXJldHVybiEwO3JldHVybiExfX0pLG4uZWFjaCgiYmx1ciBmb2N1cyBmb2N1c2luIGZvY3Vzb3V0IGxvYWQgcmVzaXplIHNjcm9sbCB1bmxvYWQgY2xpY2sgZGJsY2xpY2sgbW91c2Vkb3duIG1vdXNldXAgbW91c2Vtb3ZlIG1vdXNlb3ZlciBtb3VzZW91dCBtb3VzZWVudGVyIG1vdXNlbGVhdmUgY2hhbmdlIHNlbGVjdCBzdWJtaXQga2V5ZG93biBrZXlwcmVzcyBrZXl1cCBlcnJvciBjb250ZXh0bWVudSIuc3BsaXQoIiAiKSxmdW5jdGlvbihhLGIpe24uZm5bYl09ZnVuY3Rpb24oYSxjKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD4wP3RoaXMub24oYixudWxsLGEsYyk6dGhpcy50cmlnZ2VyKGIpfX0pLG4uZm4uZXh0ZW5kKHtob3ZlcjpmdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLm1vdXNlZW50ZXIoYSkubW91c2VsZWF2ZShifHxhKX0sYmluZDpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIHRoaXMub24oYSxudWxsLGIsYyl9LHVuYmluZDpmdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLm9mZihhLG51bGwsYil9LGRlbGVnYXRlOmZ1bmN0aW9uKGEsYixjLGQpe3JldHVybiB0aGlzLm9uKGIsYSxjLGQpfSx1bmRlbGVnYXRlOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gMT09PWFyZ3VtZW50cy5sZW5ndGg/dGhpcy5vZmYoYSwiKioiKTp0aGlzLm9mZihiLGF8fCIqKiIsYyl9fSk7dmFyIHdjPW4ubm93KCkseGM9L1w/Lyx5Yz0vKCwpfChcW3x7KXwofXxdKXwiKD86W14iXFxcclxuXXxcXFsiXFxcL2JmbnJ0XXxcXHVbXGRhLWZBLUZdezR9KSoiXHMqOj98dHJ1ZXxmYWxzZXxudWxsfC0/KD8hMFxkKVxkKyg/OlwuXGQrfCkoPzpbZUVdWystXT9cZCt8KS9nO24ucGFyc2VKU09OPWZ1bmN0aW9uKGIpe2lmKGEuSlNPTiYmYS5KU09OLnBhcnNlKXJldHVybiBhLkpTT04ucGFyc2UoYisiIik7dmFyIGMsZD1udWxsLGU9bi50cmltKGIrIiIpO3JldHVybiBlJiYhbi50cmltKGUucmVwbGFjZSh5YyxmdW5jdGlvbihhLGIsZSxmKXtyZXR1cm4gYyYmYiYmKGQ9MCksMD09PWQ/YTooYz1lfHxiLGQrPSFmLSFlLCIiKX0pKT9GdW5jdGlvbigicmV0dXJuICIrZSkoKTpuLmVycm9yKCJJbnZhbGlkIEpTT046ICIrYil9LG4ucGFyc2VYTUw9ZnVuY3Rpb24oYil7dmFyIGMsZDtpZighYnx8InN0cmluZyIhPXR5cGVvZiBiKXJldHVybiBudWxsO3RyeXthLkRPTVBhcnNlcj8oZD1uZXcgRE9NUGFyc2VyLGM9ZC5wYXJzZUZyb21TdHJpbmcoYiwidGV4dC94bWwiKSk6KGM9bmV3IEFjdGl2ZVhPYmplY3QoIk1pY3Jvc29mdC5YTUxET00iKSxjLmFzeW5jPSJmYWxzZSIsYy5sb2FkWE1MKGIpKX1jYXRjaChlKXtjPXZvaWQgMH1yZXR1cm4gYyYmYy5kb2N1bWVudEVsZW1lbnQmJiFjLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJwYXJzZXJlcnJvciIpLmxlbmd0aHx8bi5lcnJvcigiSW52YWxpZCBYTUw6ICIrYiksY307dmFyIHpjLEFjLEJjPS8jLiokLyxDYz0vKFs/Jl0pXz1bXiZdKi8sRGM9L14oLio/KTpbIFx0XSooW15cclxuXSopXHI/JC9nbSxFYz0vXig/OmFib3V0fGFwcHxhcHAtc3RvcmFnZXwuKy1leHRlbnNpb258ZmlsZXxyZXN8d2lkZ2V0KTokLyxGYz0vXig/OkdFVHxIRUFEKSQvLEdjPS9eXC9cLy8sSGM9L14oW1x3ListXSs6KSg/OlwvXC8oPzpbXlwvPyNdKkB8KShbXlwvPyM6XSopKD86OihcZCspfCl8KS8sSWM9e30sSmM9e30sS2M9IiovIi5jb25jYXQoIioiKTt0cnl7QWM9bG9jYXRpb24uaHJlZn1jYXRjaChMYyl7QWM9ei5jcmVhdGVFbGVtZW50KCJhIiksQWMuaHJlZj0iIixBYz1BYy5ocmVmfXpjPUhjLmV4ZWMoQWMudG9Mb3dlckNhc2UoKSl8fFtdO2Z1bmN0aW9uIE1jKGEpe3JldHVybiBmdW5jdGlvbihiLGMpeyJzdHJpbmciIT10eXBlb2YgYiYmKGM9YixiPSIqIik7dmFyIGQsZT0wLGY9Yi50b0xvd2VyQ2FzZSgpLm1hdGNoKEYpfHxbXTtpZihuLmlzRnVuY3Rpb24oYykpd2hpbGUoZD1mW2UrK10pIisiPT09ZC5jaGFyQXQoMCk/KGQ9ZC5zbGljZSgxKXx8IioiLChhW2RdPWFbZF18fFtdKS51bnNoaWZ0KGMpKTooYVtkXT1hW2RdfHxbXSkucHVzaChjKX19ZnVuY3Rpb24gTmMoYSxiLGMsZCl7dmFyIGU9e30sZj1hPT09SmM7ZnVuY3Rpb24gZyhoKXt2YXIgaTtyZXR1cm4gZVtoXT0hMCxuLmVhY2goYVtoXXx8W10sZnVuY3Rpb24oYSxoKXt2YXIgaj1oKGIsYyxkKTtyZXR1cm4ic3RyaW5nIiE9dHlwZW9mIGp8fGZ8fGVbal0/Zj8hKGk9aik6dm9pZCAwOihiLmRhdGFUeXBlcy51bnNoaWZ0KGopLGcoaiksITEpfSksaX1yZXR1cm4gZyhiLmRhdGFUeXBlc1swXSl8fCFlWyIqIl0mJmcoIioiKX1mdW5jdGlvbiBPYyhhLGIpe3ZhciBjLGQsZT1uLmFqYXhTZXR0aW5ncy5mbGF0T3B0aW9uc3x8e307Zm9yKGQgaW4gYil2b2lkIDAhPT1iW2RdJiYoKGVbZF0/YTpjfHwoYz17fSkpW2RdPWJbZF0pO3JldHVybiBjJiZuLmV4dGVuZCghMCxhLGMpLGF9ZnVuY3Rpb24gUGMoYSxiLGMpe3ZhciBkLGUsZixnLGg9YS5jb250ZW50cyxpPWEuZGF0YVR5cGVzO3doaWxlKCIqIj09PWlbMF0paS5zaGlmdCgpLHZvaWQgMD09PWUmJihlPWEubWltZVR5cGV8fGIuZ2V0UmVzcG9uc2VIZWFkZXIoIkNvbnRlbnQtVHlwZSIpKTtpZihlKWZvcihnIGluIGgpaWYoaFtnXSYmaFtnXS50ZXN0KGUpKXtpLnVuc2hpZnQoZyk7YnJlYWt9aWYoaVswXWluIGMpZj1pWzBdO2Vsc2V7Zm9yKGcgaW4gYyl7aWYoIWlbMF18fGEuY29udmVydGVyc1tnKyIgIitpWzBdXSl7Zj1nO2JyZWFrfWR8fChkPWcpfWY9Znx8ZH1yZXR1cm4gZj8oZiE9PWlbMF0mJmkudW5zaGlmdChmKSxjW2ZdKTp2b2lkIDB9ZnVuY3Rpb24gUWMoYSxiLGMsZCl7dmFyIGUsZixnLGgsaSxqPXt9LGs9YS5kYXRhVHlwZXMuc2xpY2UoKTtpZihrWzFdKWZvcihnIGluIGEuY29udmVydGVycylqW2cudG9Mb3dlckNhc2UoKV09YS5jb252ZXJ0ZXJzW2ddO2Y9ay5zaGlmdCgpO3doaWxlKGYpaWYoYS5yZXNwb25zZUZpZWxkc1tmXSYmKGNbYS5yZXNwb25zZUZpZWxkc1tmXV09YiksIWkmJmQmJmEuZGF0YUZpbHRlciYmKGI9YS5kYXRhRmlsdGVyKGIsYS5kYXRhVHlwZSkpLGk9ZixmPWsuc2hpZnQoKSlpZigiKiI9PT1mKWY9aTtlbHNlIGlmKCIqIiE9PWkmJmkhPT1mKXtpZihnPWpbaSsiICIrZl18fGpbIiogIitmXSwhZylmb3IoZSBpbiBqKWlmKGg9ZS5zcGxpdCgiICIpLGhbMV09PT1mJiYoZz1qW2krIiAiK2hbMF1dfHxqWyIqICIraFswXV0pKXtnPT09ITA/Zz1qW2VdOmpbZV0hPT0hMCYmKGY9aFswXSxrLnVuc2hpZnQoaFsxXSkpO2JyZWFrfWlmKGchPT0hMClpZihnJiZhWyJ0aHJvd3MiXSliPWcoYik7ZWxzZSB0cnl7Yj1nKGIpfWNhdGNoKGwpe3JldHVybntzdGF0ZToicGFyc2VyZXJyb3IiLGVycm9yOmc/bDoiTm8gY29udmVyc2lvbiBmcm9tICIraSsiIHRvICIrZn19fXJldHVybntzdGF0ZToic3VjY2VzcyIsZGF0YTpifX1uLmV4dGVuZCh7YWN0aXZlOjAsbGFzdE1vZGlmaWVkOnt9LGV0YWc6e30sYWpheFNldHRpbmdzOnt1cmw6QWMsdHlwZToiR0VUIixpc0xvY2FsOkVjLnRlc3QoemNbMV0pLGdsb2JhbDohMCxwcm9jZXNzRGF0YTohMCxhc3luYzohMCxjb250ZW50VHlwZToiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkOyBjaGFyc2V0PVVURi04IixhY2NlcHRzOnsiKiI6S2MsdGV4dDoidGV4dC9wbGFpbiIsaHRtbDoidGV4dC9odG1sIix4bWw6ImFwcGxpY2F0aW9uL3htbCwgdGV4dC94bWwiLGpzb246ImFwcGxpY2F0aW9uL2pzb24sIHRleHQvamF2YXNjcmlwdCJ9LGNvbnRlbnRzOnt4bWw6L3htbC8saHRtbDovaHRtbC8sanNvbjovanNvbi99LHJlc3BvbnNlRmllbGRzOnt4bWw6InJlc3BvbnNlWE1MIix0ZXh0OiJyZXNwb25zZVRleHQiLGpzb246InJlc3BvbnNlSlNPTiJ9LGNvbnZlcnRlcnM6eyIqIHRleHQiOlN0cmluZywidGV4dCBodG1sIjohMCwidGV4dCBqc29uIjpuLnBhcnNlSlNPTiwidGV4dCB4bWwiOm4ucGFyc2VYTUx9LGZsYXRPcHRpb25zOnt1cmw6ITAsY29udGV4dDohMH19LGFqYXhTZXR1cDpmdW5jdGlvbihhLGIpe3JldHVybiBiP09jKE9jKGEsbi5hamF4U2V0dGluZ3MpLGIpOk9jKG4uYWpheFNldHRpbmdzLGEpfSxhamF4UHJlZmlsdGVyOk1jKEljKSxhamF4VHJhbnNwb3J0Ok1jKEpjKSxhamF4OmZ1bmN0aW9uKGEsYil7Im9iamVjdCI9PXR5cGVvZiBhJiYoYj1hLGE9dm9pZCAwKSxiPWJ8fHt9O3ZhciBjLGQsZSxmLGcsaCxpLGosaz1uLmFqYXhTZXR1cCh7fSxiKSxsPWsuY29udGV4dHx8ayxtPWsuY29udGV4dCYmKGwubm9kZVR5cGV8fGwuanF1ZXJ5KT9uKGwpOm4uZXZlbnQsbz1uLkRlZmVycmVkKCkscD1uLkNhbGxiYWNrcygib25jZSBtZW1vcnkiKSxxPWsuc3RhdHVzQ29kZXx8e30scj17fSxzPXt9LHQ9MCx1PSJjYW5jZWxlZCIsdj17cmVhZHlTdGF0ZTowLGdldFJlc3BvbnNlSGVhZGVyOmZ1bmN0aW9uKGEpe3ZhciBiO2lmKDI9PT10KXtpZighail7aj17fTt3aGlsZShiPURjLmV4ZWMoZikpaltiWzFdLnRvTG93ZXJDYXNlKCldPWJbMl19Yj1qW2EudG9Mb3dlckNhc2UoKV19cmV0dXJuIG51bGw9PWI/bnVsbDpifSxnZXRBbGxSZXNwb25zZUhlYWRlcnM6ZnVuY3Rpb24oKXtyZXR1cm4gMj09PXQ/ZjpudWxsfSxzZXRSZXF1ZXN0SGVhZGVyOmZ1bmN0aW9uKGEsYil7dmFyIGM9YS50b0xvd2VyQ2FzZSgpO3JldHVybiB0fHwoYT1zW2NdPXNbY118fGEsclthXT1iKSx0aGlzfSxvdmVycmlkZU1pbWVUeXBlOmZ1bmN0aW9uKGEpe3JldHVybiB0fHwoay5taW1lVHlwZT1hKSx0aGlzfSxzdGF0dXNDb2RlOmZ1bmN0aW9uKGEpe3ZhciBiO2lmKGEpaWYoMj50KWZvcihiIGluIGEpcVtiXT1bcVtiXSxhW2JdXTtlbHNlIHYuYWx3YXlzKGFbdi5zdGF0dXNdKTtyZXR1cm4gdGhpc30sYWJvcnQ6ZnVuY3Rpb24oYSl7dmFyIGI9YXx8dTtyZXR1cm4gaSYmaS5hYm9ydChiKSx4KDAsYiksdGhpc319O2lmKG8ucHJvbWlzZSh2KS5jb21wbGV0ZT1wLmFkZCx2LnN1Y2Nlc3M9di5kb25lLHYuZXJyb3I9di5mYWlsLGsudXJsPSgoYXx8ay51cmx8fEFjKSsiIikucmVwbGFjZShCYywiIikucmVwbGFjZShHYyx6Y1sxXSsiLy8iKSxrLnR5cGU9Yi5tZXRob2R8fGIudHlwZXx8ay5tZXRob2R8fGsudHlwZSxrLmRhdGFUeXBlcz1uLnRyaW0oay5kYXRhVHlwZXx8IioiKS50b0xvd2VyQ2FzZSgpLm1hdGNoKEYpfHxbIiJdLG51bGw9PWsuY3Jvc3NEb21haW4mJihjPUhjLmV4ZWMoay51cmwudG9Mb3dlckNhc2UoKSksay5jcm9zc0RvbWFpbj0hKCFjfHxjWzFdPT09emNbMV0mJmNbMl09PT16Y1syXSYmKGNbM118fCgiaHR0cDoiPT09Y1sxXT8iODAiOiI0NDMiKSk9PT0oemNbM118fCgiaHR0cDoiPT09emNbMV0/IjgwIjoiNDQzIikpKSksay5kYXRhJiZrLnByb2Nlc3NEYXRhJiYic3RyaW5nIiE9dHlwZW9mIGsuZGF0YSYmKGsuZGF0YT1uLnBhcmFtKGsuZGF0YSxrLnRyYWRpdGlvbmFsKSksTmMoSWMsayxiLHYpLDI9PT10KXJldHVybiB2O2g9ay5nbG9iYWwsaCYmMD09PW4uYWN0aXZlKysmJm4uZXZlbnQudHJpZ2dlcigiYWpheFN0YXJ0Iiksay50eXBlPWsudHlwZS50b1VwcGVyQ2FzZSgpLGsuaGFzQ29udGVudD0hRmMudGVzdChrLnR5cGUpLGU9ay51cmwsay5oYXNDb250ZW50fHwoay5kYXRhJiYoZT1rLnVybCs9KHhjLnRlc3QoZSk/IiYiOiI/Iikray5kYXRhLGRlbGV0ZSBrLmRhdGEpLGsuY2FjaGU9PT0hMSYmKGsudXJsPUNjLnRlc3QoZSk/ZS5yZXBsYWNlKENjLCIkMV89Iit3YysrKTplKyh4Yy50ZXN0KGUpPyImIjoiPyIpKyJfPSIrd2MrKykpLGsuaWZNb2RpZmllZCYmKG4ubGFzdE1vZGlmaWVkW2VdJiZ2LnNldFJlcXVlc3RIZWFkZXIoIklmLU1vZGlmaWVkLVNpbmNlIixuLmxhc3RNb2RpZmllZFtlXSksbi5ldGFnW2VdJiZ2LnNldFJlcXVlc3RIZWFkZXIoIklmLU5vbmUtTWF0Y2giLG4uZXRhZ1tlXSkpLChrLmRhdGEmJmsuaGFzQ29udGVudCYmay5jb250ZW50VHlwZSE9PSExfHxiLmNvbnRlbnRUeXBlKSYmdi5zZXRSZXF1ZXN0SGVhZGVyKCJDb250ZW50LVR5cGUiLGsuY29udGVudFR5cGUpLHYuc2V0UmVxdWVzdEhlYWRlcigiQWNjZXB0IixrLmRhdGFUeXBlc1swXSYmay5hY2NlcHRzW2suZGF0YVR5cGVzWzBdXT9rLmFjY2VwdHNbay5kYXRhVHlwZXNbMF1dKygiKiIhPT1rLmRhdGFUeXBlc1swXT8iLCAiK0tjKyI7IHE9MC4wMSI6IiIpOmsuYWNjZXB0c1siKiJdKTtmb3IoZCBpbiBrLmhlYWRlcnMpdi5zZXRSZXF1ZXN0SGVhZGVyKGQsay5oZWFkZXJzW2RdKTtpZihrLmJlZm9yZVNlbmQmJihrLmJlZm9yZVNlbmQuY2FsbChsLHYsayk9PT0hMXx8Mj09PXQpKXJldHVybiB2LmFib3J0KCk7dT0iYWJvcnQiO2ZvcihkIGlue3N1Y2Nlc3M6MSxlcnJvcjoxLGNvbXBsZXRlOjF9KXZbZF0oa1tkXSk7aWYoaT1OYyhKYyxrLGIsdikpe3YucmVhZHlTdGF0ZT0xLGgmJm0udHJpZ2dlcigiYWpheFNlbmQiLFt2LGtdKSxrLmFzeW5jJiZrLnRpbWVvdXQ+MCYmKGc9c2V0VGltZW91dChmdW5jdGlvbigpe3YuYWJvcnQoInRpbWVvdXQiKX0say50aW1lb3V0KSk7dHJ5e3Q9MSxpLnNlbmQocix4KX1jYXRjaCh3KXtpZighKDI+dCkpdGhyb3cgdzt4KC0xLHcpfX1lbHNlIHgoLTEsIk5vIFRyYW5zcG9ydCIpO2Z1bmN0aW9uIHgoYSxiLGMsZCl7dmFyIGoscixzLHUsdyx4PWI7MiE9PXQmJih0PTIsZyYmY2xlYXJUaW1lb3V0KGcpLGk9dm9pZCAwLGY9ZHx8IiIsdi5yZWFkeVN0YXRlPWE+MD80OjAsaj1hPj0yMDAmJjMwMD5hfHwzMDQ9PT1hLGMmJih1PVBjKGssdixjKSksdT1RYyhrLHUsdixqKSxqPyhrLmlmTW9kaWZpZWQmJih3PXYuZ2V0UmVzcG9uc2VIZWFkZXIoIkxhc3QtTW9kaWZpZWQiKSx3JiYobi5sYXN0TW9kaWZpZWRbZV09dyksdz12LmdldFJlc3BvbnNlSGVhZGVyKCJldGFnIiksdyYmKG4uZXRhZ1tlXT13KSksMjA0PT09YXx8IkhFQUQiPT09ay50eXBlP3g9Im5vY29udGVudCI6MzA0PT09YT94PSJub3Rtb2RpZmllZCI6KHg9dS5zdGF0ZSxyPXUuZGF0YSxzPXUuZXJyb3Isaj0hcykpOihzPXgsKGF8fCF4KSYmKHg9ImVycm9yIiwwPmEmJihhPTApKSksdi5zdGF0dXM9YSx2LnN0YXR1c1RleHQ9KGJ8fHgpKyIiLGo/by5yZXNvbHZlV2l0aChsLFtyLHgsdl0pOm8ucmVqZWN0V2l0aChsLFt2LHgsc10pLHYuc3RhdHVzQ29kZShxKSxxPXZvaWQgMCxoJiZtLnRyaWdnZXIoaj8iYWpheFN1Y2Nlc3MiOiJhamF4RXJyb3IiLFt2LGssaj9yOnNdKSxwLmZpcmVXaXRoKGwsW3YseF0pLGgmJihtLnRyaWdnZXIoImFqYXhDb21wbGV0ZSIsW3Ysa10pLC0tbi5hY3RpdmV8fG4uZXZlbnQudHJpZ2dlcigiYWpheFN0b3AiKSkpfXJldHVybiB2fSxnZXRKU09OOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gbi5nZXQoYSxiLGMsImpzb24iKX0sZ2V0U2NyaXB0OmZ1bmN0aW9uKGEsYil7cmV0dXJuIG4uZ2V0KGEsdm9pZCAwLGIsInNjcmlwdCIpfX0pLG4uZWFjaChbImdldCIsInBvc3QiXSxmdW5jdGlvbihhLGIpe25bYl09ZnVuY3Rpb24oYSxjLGQsZSl7cmV0dXJuIG4uaXNGdW5jdGlvbihjKSYmKGU9ZXx8ZCxkPWMsYz12b2lkIDApLG4uYWpheCh7dXJsOmEsdHlwZTpiLGRhdGFUeXBlOmUsZGF0YTpjLHN1Y2Nlc3M6ZH0pfX0pLG4uZWFjaChbImFqYXhTdGFydCIsImFqYXhTdG9wIiwiYWpheENvbXBsZXRlIiwiYWpheEVycm9yIiwiYWpheFN1Y2Nlc3MiLCJhamF4U2VuZCJdLGZ1bmN0aW9uKGEsYil7bi5mbltiXT1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5vbihiLGEpfX0pLG4uX2V2YWxVcmw9ZnVuY3Rpb24oYSl7cmV0dXJuIG4uYWpheCh7dXJsOmEsdHlwZToiR0VUIixkYXRhVHlwZToic2NyaXB0Iixhc3luYzohMSxnbG9iYWw6ITEsInRocm93cyI6ITB9KX0sbi5mbi5leHRlbmQoe3dyYXBBbGw6ZnVuY3Rpb24oYSl7aWYobi5pc0Z1bmN0aW9uKGEpKXJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oYil7bih0aGlzKS53cmFwQWxsKGEuY2FsbCh0aGlzLGIpKX0pO2lmKHRoaXNbMF0pe3ZhciBiPW4oYSx0aGlzWzBdLm93bmVyRG9jdW1lbnQpLmVxKDApLmNsb25lKCEwKTt0aGlzWzBdLnBhcmVudE5vZGUmJmIuaW5zZXJ0QmVmb3JlKHRoaXNbMF0pLGIubWFwKGZ1bmN0aW9uKCl7dmFyIGE9dGhpczt3aGlsZShhLmZpcnN0Q2hpbGQmJjE9PT1hLmZpcnN0Q2hpbGQubm9kZVR5cGUpYT1hLmZpcnN0Q2hpbGQ7cmV0dXJuIGF9KS5hcHBlbmQodGhpcyl9cmV0dXJuIHRoaXN9LHdyYXBJbm5lcjpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5lYWNoKG4uaXNGdW5jdGlvbihhKT9mdW5jdGlvbihiKXtuKHRoaXMpLndyYXBJbm5lcihhLmNhbGwodGhpcyxiKSl9OmZ1bmN0aW9uKCl7dmFyIGI9bih0aGlzKSxjPWIuY29udGVudHMoKTtjLmxlbmd0aD9jLndyYXBBbGwoYSk6Yi5hcHBlbmQoYSl9KX0sd3JhcDpmdW5jdGlvbihhKXt2YXIgYj1uLmlzRnVuY3Rpb24oYSk7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihjKXtuKHRoaXMpLndyYXBBbGwoYj9hLmNhbGwodGhpcyxjKTphKX0pfSx1bndyYXA6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wYXJlbnQoKS5lYWNoKGZ1bmN0aW9uKCl7bi5ub2RlTmFtZSh0aGlzLCJib2R5Iil8fG4odGhpcykucmVwbGFjZVdpdGgodGhpcy5jaGlsZE5vZGVzKX0pLmVuZCgpfX0pLG4uZXhwci5maWx0ZXJzLmhpZGRlbj1mdW5jdGlvbihhKXtyZXR1cm4gYS5vZmZzZXRXaWR0aDw9MCYmYS5vZmZzZXRIZWlnaHQ8PTB8fCFsLnJlbGlhYmxlSGlkZGVuT2Zmc2V0cygpJiYibm9uZSI9PT0oYS5zdHlsZSYmYS5zdHlsZS5kaXNwbGF5fHxuLmNzcyhhLCJkaXNwbGF5IikpfSxuLmV4cHIuZmlsdGVycy52aXNpYmxlPWZ1bmN0aW9uKGEpe3JldHVybiFuLmV4cHIuZmlsdGVycy5oaWRkZW4oYSl9O3ZhciBSYz0vJTIwL2csU2M9L1xbXF0kLyxUYz0vXHI/XG4vZyxVYz0vXig/OnN1Ym1pdHxidXR0b258aW1hZ2V8cmVzZXR8ZmlsZSkkL2ksVmM9L14oPzppbnB1dHxzZWxlY3R8dGV4dGFyZWF8a2V5Z2VuKS9pO2Z1bmN0aW9uIFdjKGEsYixjLGQpe3ZhciBlO2lmKG4uaXNBcnJheShiKSluLmVhY2goYixmdW5jdGlvbihiLGUpe2N8fFNjLnRlc3QoYSk/ZChhLGUpOldjKGErIlsiKygib2JqZWN0Ij09dHlwZW9mIGU/YjoiIikrIl0iLGUsYyxkKX0pO2Vsc2UgaWYoY3x8Im9iamVjdCIhPT1uLnR5cGUoYikpZChhLGIpO2Vsc2UgZm9yKGUgaW4gYilXYyhhKyJbIitlKyJdIixiW2VdLGMsZCl9bi5wYXJhbT1mdW5jdGlvbihhLGIpe3ZhciBjLGQ9W10sZT1mdW5jdGlvbihhLGIpe2I9bi5pc0Z1bmN0aW9uKGIpP2IoKTpudWxsPT1iPyIiOmIsZFtkLmxlbmd0aF09ZW5jb2RlVVJJQ29tcG9uZW50KGEpKyI9IitlbmNvZGVVUklDb21wb25lbnQoYil9O2lmKHZvaWQgMD09PWImJihiPW4uYWpheFNldHRpbmdzJiZuLmFqYXhTZXR0aW5ncy50cmFkaXRpb25hbCksbi5pc0FycmF5KGEpfHxhLmpxdWVyeSYmIW4uaXNQbGFpbk9iamVjdChhKSluLmVhY2goYSxmdW5jdGlvbigpe2UodGhpcy5uYW1lLHRoaXMudmFsdWUpfSk7ZWxzZSBmb3IoYyBpbiBhKVdjKGMsYVtjXSxiLGUpO3JldHVybiBkLmpvaW4oIiYiKS5yZXBsYWNlKFJjLCIrIil9LG4uZm4uZXh0ZW5kKHtzZXJpYWxpemU6ZnVuY3Rpb24oKXtyZXR1cm4gbi5wYXJhbSh0aGlzLnNlcmlhbGl6ZUFycmF5KCkpfSxzZXJpYWxpemVBcnJheTpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1hcChmdW5jdGlvbigpe3ZhciBhPW4ucHJvcCh0aGlzLCJlbGVtZW50cyIpO3JldHVybiBhP24ubWFrZUFycmF5KGEpOnRoaXN9KS5maWx0ZXIoZnVuY3Rpb24oKXt2YXIgYT10aGlzLnR5cGU7cmV0dXJuIHRoaXMubmFtZSYmIW4odGhpcykuaXMoIjpkaXNhYmxlZCIpJiZWYy50ZXN0KHRoaXMubm9kZU5hbWUpJiYhVWMudGVzdChhKSYmKHRoaXMuY2hlY2tlZHx8IVgudGVzdChhKSl9KS5tYXAoZnVuY3Rpb24oYSxiKXt2YXIgYz1uKHRoaXMpLnZhbCgpO3JldHVybiBudWxsPT1jP251bGw6bi5pc0FycmF5KGMpP24ubWFwKGMsZnVuY3Rpb24oYSl7cmV0dXJue25hbWU6Yi5uYW1lLHZhbHVlOmEucmVwbGFjZShUYywiXHJcbiIpfX0pOntuYW1lOmIubmFtZSx2YWx1ZTpjLnJlcGxhY2UoVGMsIlxyXG4iKX19KS5nZXQoKX19KSxuLmFqYXhTZXR0aW5ncy54aHI9dm9pZCAwIT09YS5BY3RpdmVYT2JqZWN0P2Z1bmN0aW9uKCl7cmV0dXJuIXRoaXMuaXNMb2NhbCYmL14oZ2V0fHBvc3R8aGVhZHxwdXR8ZGVsZXRlfG9wdGlvbnMpJC9pLnRlc3QodGhpcy50eXBlKSYmJGMoKXx8X2MoKX06JGM7dmFyIFhjPTAsWWM9e30sWmM9bi5hamF4U2V0dGluZ3MueGhyKCk7YS5BY3RpdmVYT2JqZWN0JiZuKGEpLm9uKCJ1bmxvYWQiLGZ1bmN0aW9uKCl7Zm9yKHZhciBhIGluIFljKVljW2FdKHZvaWQgMCwhMCl9KSxsLmNvcnM9ISFaYyYmIndpdGhDcmVkZW50aWFscyJpbiBaYyxaYz1sLmFqYXg9ISFaYyxaYyYmbi5hamF4VHJhbnNwb3J0KGZ1bmN0aW9uKGEpe2lmKCFhLmNyb3NzRG9tYWlufHxsLmNvcnMpe3ZhciBiO3JldHVybntzZW5kOmZ1bmN0aW9uKGMsZCl7dmFyIGUsZj1hLnhocigpLGc9KytYYztpZihmLm9wZW4oYS50eXBlLGEudXJsLGEuYXN5bmMsYS51c2VybmFtZSxhLnBhc3N3b3JkKSxhLnhockZpZWxkcylmb3IoZSBpbiBhLnhockZpZWxkcylmW2VdPWEueGhyRmllbGRzW2VdO2EubWltZVR5cGUmJmYub3ZlcnJpZGVNaW1lVHlwZSYmZi5vdmVycmlkZU1pbWVUeXBlKGEubWltZVR5cGUpLGEuY3Jvc3NEb21haW58fGNbIlgtUmVxdWVzdGVkLVdpdGgiXXx8KGNbIlgtUmVxdWVzdGVkLVdpdGgiXT0iWE1MSHR0cFJlcXVlc3QiKTtmb3IoZSBpbiBjKXZvaWQgMCE9PWNbZV0mJmYuc2V0UmVxdWVzdEhlYWRlcihlLGNbZV0rIiIpO2Yuc2VuZChhLmhhc0NvbnRlbnQmJmEuZGF0YXx8bnVsbCksYj1mdW5jdGlvbihjLGUpe3ZhciBoLGksajtpZihiJiYoZXx8ND09PWYucmVhZHlTdGF0ZSkpaWYoZGVsZXRlIFljW2ddLGI9dm9pZCAwLGYub25yZWFkeXN0YXRlY2hhbmdlPW4ubm9vcCxlKTQhPT1mLnJlYWR5U3RhdGUmJmYuYWJvcnQoKTtlbHNle2o9e30saD1mLnN0YXR1cywic3RyaW5nIj09dHlwZW9mIGYucmVzcG9uc2VUZXh0JiYoai50ZXh0PWYucmVzcG9uc2VUZXh0KTt0cnl7aT1mLnN0YXR1c1RleHR9Y2F0Y2goayl7aT0iIn1ofHwhYS5pc0xvY2FsfHxhLmNyb3NzRG9tYWluPzEyMjM9PT1oJiYoaD0yMDQpOmg9ai50ZXh0PzIwMDo0MDR9aiYmZChoLGksaixmLmdldEFsbFJlc3BvbnNlSGVhZGVycygpKX0sYS5hc3luYz80PT09Zi5yZWFkeVN0YXRlP3NldFRpbWVvdXQoYik6Zi5vbnJlYWR5c3RhdGVjaGFuZ2U9WWNbZ109YjpiKCl9LGFib3J0OmZ1bmN0aW9uKCl7YiYmYih2b2lkIDAsITApfX19fSk7ZnVuY3Rpb24gJGMoKXt0cnl7cmV0dXJuIG5ldyBhLlhNTEh0dHBSZXF1ZXN0fWNhdGNoKGIpe319ZnVuY3Rpb24gX2MoKXt0cnl7cmV0dXJuIG5ldyBhLkFjdGl2ZVhPYmplY3QoIk1pY3Jvc29mdC5YTUxIVFRQIil9Y2F0Y2goYil7fX1uLmFqYXhTZXR1cCh7YWNjZXB0czp7c2NyaXB0OiJ0ZXh0L2phdmFzY3JpcHQsIGFwcGxpY2F0aW9uL2phdmFzY3JpcHQsIGFwcGxpY2F0aW9uL2VjbWFzY3JpcHQsIGFwcGxpY2F0aW9uL3gtZWNtYXNjcmlwdCJ9LGNvbnRlbnRzOntzY3JpcHQ6Lyg/OmphdmF8ZWNtYSlzY3JpcHQvfSxjb252ZXJ0ZXJzOnsidGV4dCBzY3JpcHQiOmZ1bmN0aW9uKGEpe3JldHVybiBuLmdsb2JhbEV2YWwoYSksYX19fSksbi5hamF4UHJlZmlsdGVyKCJzY3JpcHQiLGZ1bmN0aW9uKGEpe3ZvaWQgMD09PWEuY2FjaGUmJihhLmNhY2hlPSExKSxhLmNyb3NzRG9tYWluJiYoYS50eXBlPSJHRVQiLGEuZ2xvYmFsPSExKX0pLG4uYWpheFRyYW5zcG9ydCgic2NyaXB0IixmdW5jdGlvbihhKXtpZihhLmNyb3NzRG9tYWluKXt2YXIgYixjPXouaGVhZHx8bigiaGVhZCIpWzBdfHx6LmRvY3VtZW50RWxlbWVudDtyZXR1cm57c2VuZDpmdW5jdGlvbihkLGUpe2I9ei5jcmVhdGVFbGVtZW50KCJzY3JpcHQiKSxiLmFzeW5jPSEwLGEuc2NyaXB0Q2hhcnNldCYmKGIuY2hhcnNldD1hLnNjcmlwdENoYXJzZXQpLGIuc3JjPWEudXJsLGIub25sb2FkPWIub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKGEsYyl7KGN8fCFiLnJlYWR5U3RhdGV8fC9sb2FkZWR8Y29tcGxldGUvLnRlc3QoYi5yZWFkeVN0YXRlKSkmJihiLm9ubG9hZD1iLm9ucmVhZHlzdGF0ZWNoYW5nZT1udWxsLGIucGFyZW50Tm9kZSYmYi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGIpLGI9bnVsbCxjfHxlKDIwMCwic3VjY2VzcyIpKX0sYy5pbnNlcnRCZWZvcmUoYixjLmZpcnN0Q2hpbGQpfSxhYm9ydDpmdW5jdGlvbigpe2ImJmIub25sb2FkKHZvaWQgMCwhMCl9fX19KTt2YXIgYWQ9W10sYmQ9Lyg9KVw/KD89JnwkKXxcP1w/LztuLmFqYXhTZXR1cCh7anNvbnA6ImNhbGxiYWNrIixqc29ucENhbGxiYWNrOmZ1bmN0aW9uKCl7dmFyIGE9YWQucG9wKCl8fG4uZXhwYW5kbysiXyIrd2MrKztyZXR1cm4gdGhpc1thXT0hMCxhfX0pLG4uYWpheFByZWZpbHRlcigianNvbiBqc29ucCIsZnVuY3Rpb24oYixjLGQpe3ZhciBlLGYsZyxoPWIuanNvbnAhPT0hMSYmKGJkLnRlc3QoYi51cmwpPyJ1cmwiOiJzdHJpbmciPT10eXBlb2YgYi5kYXRhJiYhKGIuY29udGVudFR5cGV8fCIiKS5pbmRleE9mKCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQiKSYmYmQudGVzdChiLmRhdGEpJiYiZGF0YSIpO3JldHVybiBofHwianNvbnAiPT09Yi5kYXRhVHlwZXNbMF0/KGU9Yi5qc29ucENhbGxiYWNrPW4uaXNGdW5jdGlvbihiLmpzb25wQ2FsbGJhY2spP2IuanNvbnBDYWxsYmFjaygpOmIuanNvbnBDYWxsYmFjayxoP2JbaF09YltoXS5yZXBsYWNlKGJkLCIkMSIrZSk6Yi5qc29ucCE9PSExJiYoYi51cmwrPSh4Yy50ZXN0KGIudXJsKT8iJiI6Ij8iKStiLmpzb25wKyI9IitlKSxiLmNvbnZlcnRlcnNbInNjcmlwdCBqc29uIl09ZnVuY3Rpb24oKXtyZXR1cm4gZ3x8bi5lcnJvcihlKyIgd2FzIG5vdCBjYWxsZWQiKSxnWzBdfSxiLmRhdGFUeXBlc1swXT0ianNvbiIsZj1hW2VdLGFbZV09ZnVuY3Rpb24oKXtnPWFyZ3VtZW50c30sZC5hbHdheXMoZnVuY3Rpb24oKXthW2VdPWYsYltlXSYmKGIuanNvbnBDYWxsYmFjaz1jLmpzb25wQ2FsbGJhY2ssYWQucHVzaChlKSksZyYmbi5pc0Z1bmN0aW9uKGYpJiZmKGdbMF0pLGc9Zj12b2lkIDB9KSwic2NyaXB0Iik6dm9pZCAwfSksbi5wYXJzZUhUTUw9ZnVuY3Rpb24oYSxiLGMpe2lmKCFhfHwic3RyaW5nIiE9dHlwZW9mIGEpcmV0dXJuIG51bGw7ImJvb2xlYW4iPT10eXBlb2YgYiYmKGM9YixiPSExKSxiPWJ8fHo7dmFyIGQ9di5leGVjKGEpLGU9IWMmJltdO3JldHVybiBkP1tiLmNyZWF0ZUVsZW1lbnQoZFsxXSldOihkPW4uYnVpbGRGcmFnbWVudChbYV0sYixlKSxlJiZlLmxlbmd0aCYmbihlKS5yZW1vdmUoKSxuLm1lcmdlKFtdLGQuY2hpbGROb2RlcykpfTt2YXIgY2Q9bi5mbi5sb2FkO24uZm4ubG9hZD1mdW5jdGlvbihhLGIsYyl7aWYoInN0cmluZyIhPXR5cGVvZiBhJiZjZClyZXR1cm4gY2QuYXBwbHkodGhpcyxhcmd1bWVudHMpO3ZhciBkLGUsZixnPXRoaXMsaD1hLmluZGV4T2YoIiAiKTtyZXR1cm4gaD49MCYmKGQ9YS5zbGljZShoLGEubGVuZ3RoKSxhPWEuc2xpY2UoMCxoKSksbi5pc0Z1bmN0aW9uKGIpPyhjPWIsYj12b2lkIDApOmImJiJvYmplY3QiPT10eXBlb2YgYiYmKGY9IlBPU1QiKSxnLmxlbmd0aD4wJiZuLmFqYXgoe3VybDphLHR5cGU6ZixkYXRhVHlwZToiaHRtbCIsZGF0YTpifSkuZG9uZShmdW5jdGlvbihhKXtlPWFyZ3VtZW50cyxnLmh0bWwoZD9uKCI8ZGl2PiIpLmFwcGVuZChuLnBhcnNlSFRNTChhKSkuZmluZChkKTphKX0pLmNvbXBsZXRlKGMmJmZ1bmN0aW9uKGEsYil7Zy5lYWNoKGMsZXx8W2EucmVzcG9uc2VUZXh0LGIsYV0pfSksdGhpc30sbi5leHByLmZpbHRlcnMuYW5pbWF0ZWQ9ZnVuY3Rpb24oYSl7cmV0dXJuIG4uZ3JlcChuLnRpbWVycyxmdW5jdGlvbihiKXtyZXR1cm4gYT09PWIuZWxlbX0pLmxlbmd0aH07dmFyIGRkPWEuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O2Z1bmN0aW9uIGVkKGEpe3JldHVybiBuLmlzV2luZG93KGEpP2E6OT09PWEubm9kZVR5cGU/YS5kZWZhdWx0Vmlld3x8YS5wYXJlbnRXaW5kb3c6ITF9bi5vZmZzZXQ9e3NldE9mZnNldDpmdW5jdGlvbihhLGIsYyl7dmFyIGQsZSxmLGcsaCxpLGosaz1uLmNzcyhhLCJwb3NpdGlvbiIpLGw9bihhKSxtPXt9OyJzdGF0aWMiPT09ayYmKGEuc3R5bGUucG9zaXRpb249InJlbGF0aXZlIiksaD1sLm9mZnNldCgpLGY9bi5jc3MoYSwidG9wIiksaT1uLmNzcyhhLCJsZWZ0Iiksaj0oImFic29sdXRlIj09PWt8fCJmaXhlZCI9PT1rKSYmbi5pbkFycmF5KCJhdXRvIixbZixpXSk+LTEsaj8oZD1sLnBvc2l0aW9uKCksZz1kLnRvcCxlPWQubGVmdCk6KGc9cGFyc2VGbG9hdChmKXx8MCxlPXBhcnNlRmxvYXQoaSl8fDApLG4uaXNGdW5jdGlvbihiKSYmKGI9Yi5jYWxsKGEsYyxoKSksbnVsbCE9Yi50b3AmJihtLnRvcD1iLnRvcC1oLnRvcCtnKSxudWxsIT1iLmxlZnQmJihtLmxlZnQ9Yi5sZWZ0LWgubGVmdCtlKSwidXNpbmciaW4gYj9iLnVzaW5nLmNhbGwoYSxtKTpsLmNzcyhtKX19LG4uZm4uZXh0ZW5kKHtvZmZzZXQ6ZnVuY3Rpb24oYSl7aWYoYXJndW1lbnRzLmxlbmd0aClyZXR1cm4gdm9pZCAwPT09YT90aGlzOnRoaXMuZWFjaChmdW5jdGlvbihiKXtuLm9mZnNldC5zZXRPZmZzZXQodGhpcyxhLGIpfSk7dmFyIGIsYyxkPXt0b3A6MCxsZWZ0OjB9LGU9dGhpc1swXSxmPWUmJmUub3duZXJEb2N1bWVudDtpZihmKXJldHVybiBiPWYuZG9jdW1lbnRFbGVtZW50LG4uY29udGFpbnMoYixlKT8odHlwZW9mIGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0IT09TCYmKGQ9ZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSksYz1lZChmKSx7dG9wOmQudG9wKyhjLnBhZ2VZT2Zmc2V0fHxiLnNjcm9sbFRvcCktKGIuY2xpZW50VG9wfHwwKSxsZWZ0OmQubGVmdCsoYy5wYWdlWE9mZnNldHx8Yi5zY3JvbGxMZWZ0KS0oYi5jbGllbnRMZWZ0fHwwKX0pOmR9LHBvc2l0aW9uOmZ1bmN0aW9uKCl7aWYodGhpc1swXSl7dmFyIGEsYixjPXt0b3A6MCxsZWZ0OjB9LGQ9dGhpc1swXTtyZXR1cm4iZml4ZWQiPT09bi5jc3MoZCwicG9zaXRpb24iKT9iPWQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk6KGE9dGhpcy5vZmZzZXRQYXJlbnQoKSxiPXRoaXMub2Zmc2V0KCksbi5ub2RlTmFtZShhWzBdLCJodG1sIil8fChjPWEub2Zmc2V0KCkpLGMudG9wKz1uLmNzcyhhWzBdLCJib3JkZXJUb3BXaWR0aCIsITApLGMubGVmdCs9bi5jc3MoYVswXSwiYm9yZGVyTGVmdFdpZHRoIiwhMCkpLHt0b3A6Yi50b3AtYy50b3Atbi5jc3MoZCwibWFyZ2luVG9wIiwhMCksbGVmdDpiLmxlZnQtYy5sZWZ0LW4uY3NzKGQsIm1hcmdpbkxlZnQiLCEwKX19fSxvZmZzZXRQYXJlbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24oKXt2YXIgYT10aGlzLm9mZnNldFBhcmVudHx8ZGQ7d2hpbGUoYSYmIW4ubm9kZU5hbWUoYSwiaHRtbCIpJiYic3RhdGljIj09PW4uY3NzKGEsInBvc2l0aW9uIikpYT1hLm9mZnNldFBhcmVudDtyZXR1cm4gYXx8ZGR9KX19KSxuLmVhY2goe3Njcm9sbExlZnQ6InBhZ2VYT2Zmc2V0IixzY3JvbGxUb3A6InBhZ2VZT2Zmc2V0In0sZnVuY3Rpb24oYSxiKXt2YXIgYz0vWS8udGVzdChiKTtuLmZuW2FdPWZ1bmN0aW9uKGQpe3JldHVybiBXKHRoaXMsZnVuY3Rpb24oYSxkLGUpe3ZhciBmPWVkKGEpO3JldHVybiB2b2lkIDA9PT1lP2Y/YiBpbiBmP2ZbYl06Zi5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnRbZF06YVtkXTp2b2lkKGY/Zi5zY3JvbGxUbyhjP24oZikuc2Nyb2xsTGVmdCgpOmUsYz9lOm4oZikuc2Nyb2xsVG9wKCkpOmFbZF09ZSl9LGEsZCxhcmd1bWVudHMubGVuZ3RoLG51bGwpfX0pLG4uZWFjaChbInRvcCIsImxlZnQiXSxmdW5jdGlvbihhLGIpe24uY3NzSG9va3NbYl09TWIobC5waXhlbFBvc2l0aW9uLGZ1bmN0aW9uKGEsYyl7cmV0dXJuIGM/KGM9S2IoYSxiKSxJYi50ZXN0KGMpP24oYSkucG9zaXRpb24oKVtiXSsicHgiOmMpOnZvaWQgMH0pfSksbi5lYWNoKHtIZWlnaHQ6ImhlaWdodCIsV2lkdGg6IndpZHRoIn0sZnVuY3Rpb24oYSxiKXtuLmVhY2goe3BhZGRpbmc6ImlubmVyIithLGNvbnRlbnQ6YiwiIjoib3V0ZXIiK2F9LGZ1bmN0aW9uKGMsZCl7bi5mbltkXT1mdW5jdGlvbihkLGUpe3ZhciBmPWFyZ3VtZW50cy5sZW5ndGgmJihjfHwiYm9vbGVhbiIhPXR5cGVvZiBkKSxnPWN8fChkPT09ITB8fGU9PT0hMD8ibWFyZ2luIjoiYm9yZGVyIik7cmV0dXJuIFcodGhpcyxmdW5jdGlvbihiLGMsZCl7dmFyIGU7cmV0dXJuIG4uaXNXaW5kb3coYik/Yi5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnRbImNsaWVudCIrYV06OT09PWIubm9kZVR5cGU/KGU9Yi5kb2N1bWVudEVsZW1lbnQsTWF0aC5tYXgoYi5ib2R5WyJzY3JvbGwiK2FdLGVbInNjcm9sbCIrYV0sYi5ib2R5WyJvZmZzZXQiK2FdLGVbIm9mZnNldCIrYV0sZVsiY2xpZW50IithXSkpOnZvaWQgMD09PWQ/bi5jc3MoYixjLGcpOm4uc3R5bGUoYixjLGQsZyl9LGIsZj9kOnZvaWQgMCxmLG51bGwpfX0pfSksbi5mbi5zaXplPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubGVuZ3RofSxuLmZuLmFuZFNlbGY9bi5mbi5hZGRCYWNrLCJmdW5jdGlvbiI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQmJmRlZmluZSgianF1ZXJ5IixbXSxmdW5jdGlvbigpe3JldHVybiBufSk7dmFyIGZkPWEualF1ZXJ5LGdkPWEuJDtyZXR1cm4gbi5ub0NvbmZsaWN0PWZ1bmN0aW9uKGIpe3JldHVybiBhLiQ9PT1uJiYoYS4kPWdkKSxiJiZhLmpRdWVyeT09PW4mJihhLmpRdWVyeT1mZCksbn0sdHlwZW9mIGI9PT1MJiYoYS5qUXVlcnk9YS4kPW4pLG59KTsK"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<script src="data:application/x-javascript;base64,LyohCiAqIEJvb3RzdHJhcCB2My4zLjEgKGh0dHA6Ly9nZXRib290c3RyYXAuY29tKQogKiBDb3B5cmlnaHQgMjAxMS0yMDE0IFR3aXR0ZXIsIEluYy4KICogTGljZW5zZWQgdW5kZXIgTUlUIChodHRwczovL2dpdGh1Yi5jb20vdHdicy9ib290c3RyYXAvYmxvYi9tYXN0ZXIvTElDRU5TRSkKICovCmlmKCJ1bmRlZmluZWQiPT10eXBlb2YgalF1ZXJ5KXRocm93IG5ldyBFcnJvcigiQm9vdHN0cmFwJ3MgSmF2YVNjcmlwdCByZXF1aXJlcyBqUXVlcnkiKTsrZnVuY3Rpb24oYSl7dmFyIGI9YS5mbi5qcXVlcnkuc3BsaXQoIiAiKVswXS5zcGxpdCgiLiIpO2lmKGJbMF08MiYmYlsxXTw5fHwxPT1iWzBdJiY5PT1iWzFdJiZiWzJdPDEpdGhyb3cgbmV3IEVycm9yKCJCb290c3RyYXAncyBKYXZhU2NyaXB0IHJlcXVpcmVzIGpRdWVyeSB2ZXJzaW9uIDEuOS4xIG9yIGhpZ2hlciIpfShqUXVlcnkpLCtmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYigpe3ZhciBhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImJvb3RzdHJhcCIpLGI9e1dlYmtpdFRyYW5zaXRpb246IndlYmtpdFRyYW5zaXRpb25FbmQiLE1velRyYW5zaXRpb246InRyYW5zaXRpb25lbmQiLE9UcmFuc2l0aW9uOiJvVHJhbnNpdGlvbkVuZCBvdHJhbnNpdGlvbmVuZCIsdHJhbnNpdGlvbjoidHJhbnNpdGlvbmVuZCJ9O2Zvcih2YXIgYyBpbiBiKWlmKHZvaWQgMCE9PWEuc3R5bGVbY10pcmV0dXJue2VuZDpiW2NdfTtyZXR1cm4hMX1hLmZuLmVtdWxhdGVUcmFuc2l0aW9uRW5kPWZ1bmN0aW9uKGIpe3ZhciBjPSExLGQ9dGhpczthKHRoaXMpLm9uZSgiYnNUcmFuc2l0aW9uRW5kIixmdW5jdGlvbigpe2M9ITB9KTt2YXIgZT1mdW5jdGlvbigpe2N8fGEoZCkudHJpZ2dlcihhLnN1cHBvcnQudHJhbnNpdGlvbi5lbmQpfTtyZXR1cm4gc2V0VGltZW91dChlLGIpLHRoaXN9LGEoZnVuY3Rpb24oKXthLnN1cHBvcnQudHJhbnNpdGlvbj1iKCksYS5zdXBwb3J0LnRyYW5zaXRpb24mJihhLmV2ZW50LnNwZWNpYWwuYnNUcmFuc2l0aW9uRW5kPXtiaW5kVHlwZTphLnN1cHBvcnQudHJhbnNpdGlvbi5lbmQsZGVsZWdhdGVUeXBlOmEuc3VwcG9ydC50cmFuc2l0aW9uLmVuZCxoYW5kbGU6ZnVuY3Rpb24oYil7cmV0dXJuIGEoYi50YXJnZXQpLmlzKHRoaXMpP2IuaGFuZGxlT2JqLmhhbmRsZXIuYXBwbHkodGhpcyxhcmd1bWVudHMpOnZvaWQgMH19KX0pfShqUXVlcnkpLCtmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihiKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGM9YSh0aGlzKSxlPWMuZGF0YSgiYnMuYWxlcnQiKTtlfHxjLmRhdGEoImJzLmFsZXJ0IixlPW5ldyBkKHRoaXMpKSwic3RyaW5nIj09dHlwZW9mIGImJmVbYl0uY2FsbChjKX0pfXZhciBjPSdbZGF0YS1kaXNtaXNzPSJhbGVydCJdJyxkPWZ1bmN0aW9uKGIpe2EoYikub24oImNsaWNrIixjLHRoaXMuY2xvc2UpfTtkLlZFUlNJT049IjMuMy4xIixkLlRSQU5TSVRJT05fRFVSQVRJT049MTUwLGQucHJvdG90eXBlLmNsb3NlPWZ1bmN0aW9uKGIpe2Z1bmN0aW9uIGMoKXtnLmRldGFjaCgpLnRyaWdnZXIoImNsb3NlZC5icy5hbGVydCIpLnJlbW92ZSgpfXZhciBlPWEodGhpcyksZj1lLmF0dHIoImRhdGEtdGFyZ2V0Iik7Znx8KGY9ZS5hdHRyKCJocmVmIiksZj1mJiZmLnJlcGxhY2UoLy4qKD89I1teXHNdKiQpLywiIikpO3ZhciBnPWEoZik7YiYmYi5wcmV2ZW50RGVmYXVsdCgpLGcubGVuZ3RofHwoZz1lLmNsb3Nlc3QoIi5hbGVydCIpKSxnLnRyaWdnZXIoYj1hLkV2ZW50KCJjbG9zZS5icy5hbGVydCIpKSxiLmlzRGVmYXVsdFByZXZlbnRlZCgpfHwoZy5yZW1vdmVDbGFzcygiaW4iKSxhLnN1cHBvcnQudHJhbnNpdGlvbiYmZy5oYXNDbGFzcygiZmFkZSIpP2cub25lKCJic1RyYW5zaXRpb25FbmQiLGMpLmVtdWxhdGVUcmFuc2l0aW9uRW5kKGQuVFJBTlNJVElPTl9EVVJBVElPTik6YygpKX07dmFyIGU9YS5mbi5hbGVydDthLmZuLmFsZXJ0PWIsYS5mbi5hbGVydC5Db25zdHJ1Y3Rvcj1kLGEuZm4uYWxlcnQubm9Db25mbGljdD1mdW5jdGlvbigpe3JldHVybiBhLmZuLmFsZXJ0PWUsdGhpc30sYShkb2N1bWVudCkub24oImNsaWNrLmJzLmFsZXJ0LmRhdGEtYXBpIixjLGQucHJvdG90eXBlLmNsb3NlKX0oalF1ZXJ5KSwrZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYil7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBkPWEodGhpcyksZT1kLmRhdGEoImJzLmJ1dHRvbiIpLGY9Im9iamVjdCI9PXR5cGVvZiBiJiZiO2V8fGQuZGF0YSgiYnMuYnV0dG9uIixlPW5ldyBjKHRoaXMsZikpLCJ0b2dnbGUiPT1iP2UudG9nZ2xlKCk6YiYmZS5zZXRTdGF0ZShiKX0pfXZhciBjPWZ1bmN0aW9uKGIsZCl7dGhpcy4kZWxlbWVudD1hKGIpLHRoaXMub3B0aW9ucz1hLmV4dGVuZCh7fSxjLkRFRkFVTFRTLGQpLHRoaXMuaXNMb2FkaW5nPSExfTtjLlZFUlNJT049IjMuMy4xIixjLkRFRkFVTFRTPXtsb2FkaW5nVGV4dDoibG9hZGluZy4uLiJ9LGMucHJvdG90eXBlLnNldFN0YXRlPWZ1bmN0aW9uKGIpe3ZhciBjPSJkaXNhYmxlZCIsZD10aGlzLiRlbGVtZW50LGU9ZC5pcygiaW5wdXQiKT8idmFsIjoiaHRtbCIsZj1kLmRhdGEoKTtiKz0iVGV4dCIsbnVsbD09Zi5yZXNldFRleHQmJmQuZGF0YSgicmVzZXRUZXh0IixkW2VdKCkpLHNldFRpbWVvdXQoYS5wcm94eShmdW5jdGlvbigpe2RbZV0obnVsbD09ZltiXT90aGlzLm9wdGlvbnNbYl06ZltiXSksImxvYWRpbmdUZXh0Ij09Yj8odGhpcy5pc0xvYWRpbmc9ITAsZC5hZGRDbGFzcyhjKS5hdHRyKGMsYykpOnRoaXMuaXNMb2FkaW5nJiYodGhpcy5pc0xvYWRpbmc9ITEsZC5yZW1vdmVDbGFzcyhjKS5yZW1vdmVBdHRyKGMpKX0sdGhpcyksMCl9LGMucHJvdG90eXBlLnRvZ2dsZT1mdW5jdGlvbigpe3ZhciBhPSEwLGI9dGhpcy4kZWxlbWVudC5jbG9zZXN0KCdbZGF0YS10b2dnbGU9ImJ1dHRvbnMiXScpO2lmKGIubGVuZ3RoKXt2YXIgYz10aGlzLiRlbGVtZW50LmZpbmQoImlucHV0Iik7InJhZGlvIj09Yy5wcm9wKCJ0eXBlIikmJihjLnByb3AoImNoZWNrZWQiKSYmdGhpcy4kZWxlbWVudC5oYXNDbGFzcygiYWN0aXZlIik/YT0hMTpiLmZpbmQoIi5hY3RpdmUiKS5yZW1vdmVDbGFzcygiYWN0aXZlIikpLGEmJmMucHJvcCgiY2hlY2tlZCIsIXRoaXMuJGVsZW1lbnQuaGFzQ2xhc3MoImFjdGl2ZSIpKS50cmlnZ2VyKCJjaGFuZ2UiKX1lbHNlIHRoaXMuJGVsZW1lbnQuYXR0cigiYXJpYS1wcmVzc2VkIiwhdGhpcy4kZWxlbWVudC5oYXNDbGFzcygiYWN0aXZlIikpO2EmJnRoaXMuJGVsZW1lbnQudG9nZ2xlQ2xhc3MoImFjdGl2ZSIpfTt2YXIgZD1hLmZuLmJ1dHRvbjthLmZuLmJ1dHRvbj1iLGEuZm4uYnV0dG9uLkNvbnN0cnVjdG9yPWMsYS5mbi5idXR0b24ubm9Db25mbGljdD1mdW5jdGlvbigpe3JldHVybiBhLmZuLmJ1dHRvbj1kLHRoaXN9LGEoZG9jdW1lbnQpLm9uKCJjbGljay5icy5idXR0b24uZGF0YS1hcGkiLCdbZGF0YS10b2dnbGVePSJidXR0b24iXScsZnVuY3Rpb24oYyl7dmFyIGQ9YShjLnRhcmdldCk7ZC5oYXNDbGFzcygiYnRuIil8fChkPWQuY2xvc2VzdCgiLmJ0biIpKSxiLmNhbGwoZCwidG9nZ2xlIiksYy5wcmV2ZW50RGVmYXVsdCgpfSkub24oImZvY3VzLmJzLmJ1dHRvbi5kYXRhLWFwaSBibHVyLmJzLmJ1dHRvbi5kYXRhLWFwaSIsJ1tkYXRhLXRvZ2dsZV49ImJ1dHRvbiJdJyxmdW5jdGlvbihiKXthKGIudGFyZ2V0KS5jbG9zZXN0KCIuYnRuIikudG9nZ2xlQ2xhc3MoImZvY3VzIiwvXmZvY3VzKGluKT8kLy50ZXN0KGIudHlwZSkpfSl9KGpRdWVyeSksK2Z1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKGIpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgZD1hKHRoaXMpLGU9ZC5kYXRhKCJicy5jYXJvdXNlbCIpLGY9YS5leHRlbmQoe30sYy5ERUZBVUxUUyxkLmRhdGEoKSwib2JqZWN0Ij09dHlwZW9mIGImJmIpLGc9InN0cmluZyI9PXR5cGVvZiBiP2I6Zi5zbGlkZTtlfHxkLmRhdGEoImJzLmNhcm91c2VsIixlPW5ldyBjKHRoaXMsZikpLCJudW1iZXIiPT10eXBlb2YgYj9lLnRvKGIpOmc/ZVtnXSgpOmYuaW50ZXJ2YWwmJmUucGF1c2UoKS5jeWNsZSgpfSl9dmFyIGM9ZnVuY3Rpb24oYixjKXt0aGlzLiRlbGVtZW50PWEoYiksdGhpcy4kaW5kaWNhdG9ycz10aGlzLiRlbGVtZW50LmZpbmQoIi5jYXJvdXNlbC1pbmRpY2F0b3JzIiksdGhpcy5vcHRpb25zPWMsdGhpcy5wYXVzZWQ9dGhpcy5zbGlkaW5nPXRoaXMuaW50ZXJ2YWw9dGhpcy4kYWN0aXZlPXRoaXMuJGl0ZW1zPW51bGwsdGhpcy5vcHRpb25zLmtleWJvYXJkJiZ0aGlzLiRlbGVtZW50Lm9uKCJrZXlkb3duLmJzLmNhcm91c2VsIixhLnByb3h5KHRoaXMua2V5ZG93bix0aGlzKSksImhvdmVyIj09dGhpcy5vcHRpb25zLnBhdXNlJiYhKCJvbnRvdWNoc3RhcnQiaW4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KSYmdGhpcy4kZWxlbWVudC5vbigibW91c2VlbnRlci5icy5jYXJvdXNlbCIsYS5wcm94eSh0aGlzLnBhdXNlLHRoaXMpKS5vbigibW91c2VsZWF2ZS5icy5jYXJvdXNlbCIsYS5wcm94eSh0aGlzLmN5Y2xlLHRoaXMpKX07Yy5WRVJTSU9OPSIzLjMuMSIsYy5UUkFOU0lUSU9OX0RVUkFUSU9OPTYwMCxjLkRFRkFVTFRTPXtpbnRlcnZhbDo1ZTMscGF1c2U6ImhvdmVyIix3cmFwOiEwLGtleWJvYXJkOiEwfSxjLnByb3RvdHlwZS5rZXlkb3duPWZ1bmN0aW9uKGEpe2lmKCEvaW5wdXR8dGV4dGFyZWEvaS50ZXN0KGEudGFyZ2V0LnRhZ05hbWUpKXtzd2l0Y2goYS53aGljaCl7Y2FzZSAzNzp0aGlzLnByZXYoKTticmVhaztjYXNlIDM5OnRoaXMubmV4dCgpO2JyZWFrO2RlZmF1bHQ6cmV0dXJufWEucHJldmVudERlZmF1bHQoKX19LGMucHJvdG90eXBlLmN5Y2xlPWZ1bmN0aW9uKGIpe3JldHVybiBifHwodGhpcy5wYXVzZWQ9ITEpLHRoaXMuaW50ZXJ2YWwmJmNsZWFySW50ZXJ2YWwodGhpcy5pbnRlcnZhbCksdGhpcy5vcHRpb25zLmludGVydmFsJiYhdGhpcy5wYXVzZWQmJih0aGlzLmludGVydmFsPXNldEludGVydmFsKGEucHJveHkodGhpcy5uZXh0LHRoaXMpLHRoaXMub3B0aW9ucy5pbnRlcnZhbCkpLHRoaXN9LGMucHJvdG90eXBlLmdldEl0ZW1JbmRleD1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy4kaXRlbXM9YS5wYXJlbnQoKS5jaGlsZHJlbigiLml0ZW0iKSx0aGlzLiRpdGVtcy5pbmRleChhfHx0aGlzLiRhY3RpdmUpfSxjLnByb3RvdHlwZS5nZXRJdGVtRm9yRGlyZWN0aW9uPWZ1bmN0aW9uKGEsYil7dmFyIGM9InByZXYiPT1hPy0xOjEsZD10aGlzLmdldEl0ZW1JbmRleChiKSxlPShkK2MpJXRoaXMuJGl0ZW1zLmxlbmd0aDtyZXR1cm4gdGhpcy4kaXRlbXMuZXEoZSl9LGMucHJvdG90eXBlLnRvPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMsYz10aGlzLmdldEl0ZW1JbmRleCh0aGlzLiRhY3RpdmU9dGhpcy4kZWxlbWVudC5maW5kKCIuaXRlbS5hY3RpdmUiKSk7cmV0dXJuIGE+dGhpcy4kaXRlbXMubGVuZ3RoLTF8fDA+YT92b2lkIDA6dGhpcy5zbGlkaW5nP3RoaXMuJGVsZW1lbnQub25lKCJzbGlkLmJzLmNhcm91c2VsIixmdW5jdGlvbigpe2IudG8oYSl9KTpjPT1hP3RoaXMucGF1c2UoKS5jeWNsZSgpOnRoaXMuc2xpZGUoYT5jPyJuZXh0IjoicHJldiIsdGhpcy4kaXRlbXMuZXEoYSkpfSxjLnByb3RvdHlwZS5wYXVzZT1mdW5jdGlvbihiKXtyZXR1cm4gYnx8KHRoaXMucGF1c2VkPSEwKSx0aGlzLiRlbGVtZW50LmZpbmQoIi5uZXh0LCAucHJldiIpLmxlbmd0aCYmYS5zdXBwb3J0LnRyYW5zaXRpb24mJih0aGlzLiRlbGVtZW50LnRyaWdnZXIoYS5zdXBwb3J0LnRyYW5zaXRpb24uZW5kKSx0aGlzLmN5Y2xlKCEwKSksdGhpcy5pbnRlcnZhbD1jbGVhckludGVydmFsKHRoaXMuaW50ZXJ2YWwpLHRoaXN9LGMucHJvdG90eXBlLm5leHQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zbGlkaW5nP3ZvaWQgMDp0aGlzLnNsaWRlKCJuZXh0Iil9LGMucHJvdG90eXBlLnByZXY9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zbGlkaW5nP3ZvaWQgMDp0aGlzLnNsaWRlKCJwcmV2Iil9LGMucHJvdG90eXBlLnNsaWRlPWZ1bmN0aW9uKGIsZCl7dmFyIGU9dGhpcy4kZWxlbWVudC5maW5kKCIuaXRlbS5hY3RpdmUiKSxmPWR8fHRoaXMuZ2V0SXRlbUZvckRpcmVjdGlvbihiLGUpLGc9dGhpcy5pbnRlcnZhbCxoPSJuZXh0Ij09Yj8ibGVmdCI6InJpZ2h0IixpPSJuZXh0Ij09Yj8iZmlyc3QiOiJsYXN0IixqPXRoaXM7aWYoIWYubGVuZ3RoKXtpZighdGhpcy5vcHRpb25zLndyYXApcmV0dXJuO2Y9dGhpcy4kZWxlbWVudC5maW5kKCIuaXRlbSIpW2ldKCl9aWYoZi5oYXNDbGFzcygiYWN0aXZlIikpcmV0dXJuIHRoaXMuc2xpZGluZz0hMTt2YXIgaz1mWzBdLGw9YS5FdmVudCgic2xpZGUuYnMuY2Fyb3VzZWwiLHtyZWxhdGVkVGFyZ2V0OmssZGlyZWN0aW9uOmh9KTtpZih0aGlzLiRlbGVtZW50LnRyaWdnZXIobCksIWwuaXNEZWZhdWx0UHJldmVudGVkKCkpe2lmKHRoaXMuc2xpZGluZz0hMCxnJiZ0aGlzLnBhdXNlKCksdGhpcy4kaW5kaWNhdG9ycy5sZW5ndGgpe3RoaXMuJGluZGljYXRvcnMuZmluZCgiLmFjdGl2ZSIpLnJlbW92ZUNsYXNzKCJhY3RpdmUiKTt2YXIgbT1hKHRoaXMuJGluZGljYXRvcnMuY2hpbGRyZW4oKVt0aGlzLmdldEl0ZW1JbmRleChmKV0pO20mJm0uYWRkQ2xhc3MoImFjdGl2ZSIpfXZhciBuPWEuRXZlbnQoInNsaWQuYnMuY2Fyb3VzZWwiLHtyZWxhdGVkVGFyZ2V0OmssZGlyZWN0aW9uOmh9KTtyZXR1cm4gYS5zdXBwb3J0LnRyYW5zaXRpb24mJnRoaXMuJGVsZW1lbnQuaGFzQ2xhc3MoInNsaWRlIik/KGYuYWRkQ2xhc3MoYiksZlswXS5vZmZzZXRXaWR0aCxlLmFkZENsYXNzKGgpLGYuYWRkQ2xhc3MoaCksZS5vbmUoImJzVHJhbnNpdGlvbkVuZCIsZnVuY3Rpb24oKXtmLnJlbW92ZUNsYXNzKFtiLGhdLmpvaW4oIiAiKSkuYWRkQ2xhc3MoImFjdGl2ZSIpLGUucmVtb3ZlQ2xhc3MoWyJhY3RpdmUiLGhdLmpvaW4oIiAiKSksai5zbGlkaW5nPSExLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtqLiRlbGVtZW50LnRyaWdnZXIobil9LDApfSkuZW11bGF0ZVRyYW5zaXRpb25FbmQoYy5UUkFOU0lUSU9OX0RVUkFUSU9OKSk6KGUucmVtb3ZlQ2xhc3MoImFjdGl2ZSIpLGYuYWRkQ2xhc3MoImFjdGl2ZSIpLHRoaXMuc2xpZGluZz0hMSx0aGlzLiRlbGVtZW50LnRyaWdnZXIobikpLGcmJnRoaXMuY3ljbGUoKSx0aGlzfX07dmFyIGQ9YS5mbi5jYXJvdXNlbDthLmZuLmNhcm91c2VsPWIsYS5mbi5jYXJvdXNlbC5Db25zdHJ1Y3Rvcj1jLGEuZm4uY2Fyb3VzZWwubm9Db25mbGljdD1mdW5jdGlvbigpe3JldHVybiBhLmZuLmNhcm91c2VsPWQsdGhpc307dmFyIGU9ZnVuY3Rpb24oYyl7dmFyIGQsZT1hKHRoaXMpLGY9YShlLmF0dHIoImRhdGEtdGFyZ2V0Iil8fChkPWUuYXR0cigiaHJlZiIpKSYmZC5yZXBsYWNlKC8uKig/PSNbXlxzXSskKS8sIiIpKTtpZihmLmhhc0NsYXNzKCJjYXJvdXNlbCIpKXt2YXIgZz1hLmV4dGVuZCh7fSxmLmRhdGEoKSxlLmRhdGEoKSksaD1lLmF0dHIoImRhdGEtc2xpZGUtdG8iKTtoJiYoZy5pbnRlcnZhbD0hMSksYi5jYWxsKGYsZyksaCYmZi5kYXRhKCJicy5jYXJvdXNlbCIpLnRvKGgpLGMucHJldmVudERlZmF1bHQoKX19O2EoZG9jdW1lbnQpLm9uKCJjbGljay5icy5jYXJvdXNlbC5kYXRhLWFwaSIsIltkYXRhLXNsaWRlXSIsZSkub24oImNsaWNrLmJzLmNhcm91c2VsLmRhdGEtYXBpIiwiW2RhdGEtc2xpZGUtdG9dIixlKSxhKHdpbmRvdykub24oImxvYWQiLGZ1bmN0aW9uKCl7YSgnW2RhdGEtcmlkZT0iY2Fyb3VzZWwiXScpLmVhY2goZnVuY3Rpb24oKXt2YXIgYz1hKHRoaXMpO2IuY2FsbChjLGMuZGF0YSgpKX0pfSl9KGpRdWVyeSksK2Z1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKGIpe3ZhciBjLGQ9Yi5hdHRyKCJkYXRhLXRhcmdldCIpfHwoYz1iLmF0dHIoImhyZWYiKSkmJmMucmVwbGFjZSgvLiooPz0jW15cc10rJCkvLCIiKTtyZXR1cm4gYShkKX1mdW5jdGlvbiBjKGIpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgYz1hKHRoaXMpLGU9Yy5kYXRhKCJicy5jb2xsYXBzZSIpLGY9YS5leHRlbmQoe30sZC5ERUZBVUxUUyxjLmRhdGEoKSwib2JqZWN0Ij09dHlwZW9mIGImJmIpOyFlJiZmLnRvZ2dsZSYmInNob3ciPT1iJiYoZi50b2dnbGU9ITEpLGV8fGMuZGF0YSgiYnMuY29sbGFwc2UiLGU9bmV3IGQodGhpcyxmKSksInN0cmluZyI9PXR5cGVvZiBiJiZlW2JdKCl9KX12YXIgZD1mdW5jdGlvbihiLGMpe3RoaXMuJGVsZW1lbnQ9YShiKSx0aGlzLm9wdGlvbnM9YS5leHRlbmQoe30sZC5ERUZBVUxUUyxjKSx0aGlzLiR0cmlnZ2VyPWEodGhpcy5vcHRpb25zLnRyaWdnZXIpLmZpbHRlcignW2hyZWY9IiMnK2IuaWQrJyJdLCBbZGF0YS10YXJnZXQ9IiMnK2IuaWQrJyJdJyksdGhpcy50cmFuc2l0aW9uaW5nPW51bGwsdGhpcy5vcHRpb25zLnBhcmVudD90aGlzLiRwYXJlbnQ9dGhpcy5nZXRQYXJlbnQoKTp0aGlzLmFkZEFyaWFBbmRDb2xsYXBzZWRDbGFzcyh0aGlzLiRlbGVtZW50LHRoaXMuJHRyaWdnZXIpLHRoaXMub3B0aW9ucy50b2dnbGUmJnRoaXMudG9nZ2xlKCl9O2QuVkVSU0lPTj0iMy4zLjEiLGQuVFJBTlNJVElPTl9EVVJBVElPTj0zNTAsZC5ERUZBVUxUUz17dG9nZ2xlOiEwLHRyaWdnZXI6J1tkYXRhLXRvZ2dsZT0iY29sbGFwc2UiXSd9LGQucHJvdG90eXBlLmRpbWVuc2lvbj1mdW5jdGlvbigpe3ZhciBhPXRoaXMuJGVsZW1lbnQuaGFzQ2xhc3MoIndpZHRoIik7cmV0dXJuIGE/IndpZHRoIjoiaGVpZ2h0In0sZC5wcm90b3R5cGUuc2hvdz1mdW5jdGlvbigpe2lmKCF0aGlzLnRyYW5zaXRpb25pbmcmJiF0aGlzLiRlbGVtZW50Lmhhc0NsYXNzKCJpbiIpKXt2YXIgYixlPXRoaXMuJHBhcmVudCYmdGhpcy4kcGFyZW50LmZpbmQoIj4gLnBhbmVsIikuY2hpbGRyZW4oIi5pbiwgLmNvbGxhcHNpbmciKTtpZighKGUmJmUubGVuZ3RoJiYoYj1lLmRhdGEoImJzLmNvbGxhcHNlIiksYiYmYi50cmFuc2l0aW9uaW5nKSkpe3ZhciBmPWEuRXZlbnQoInNob3cuYnMuY29sbGFwc2UiKTtpZih0aGlzLiRlbGVtZW50LnRyaWdnZXIoZiksIWYuaXNEZWZhdWx0UHJldmVudGVkKCkpe2UmJmUubGVuZ3RoJiYoYy5jYWxsKGUsImhpZGUiKSxifHxlLmRhdGEoImJzLmNvbGxhcHNlIixudWxsKSk7dmFyIGc9dGhpcy5kaW1lbnNpb24oKTt0aGlzLiRlbGVtZW50LnJlbW92ZUNsYXNzKCJjb2xsYXBzZSIpLmFkZENsYXNzKCJjb2xsYXBzaW5nIilbZ10oMCkuYXR0cigiYXJpYS1leHBhbmRlZCIsITApLHRoaXMuJHRyaWdnZXIucmVtb3ZlQ2xhc3MoImNvbGxhcHNlZCIpLmF0dHIoImFyaWEtZXhwYW5kZWQiLCEwKSx0aGlzLnRyYW5zaXRpb25pbmc9MTt2YXIgaD1mdW5jdGlvbigpe3RoaXMuJGVsZW1lbnQucmVtb3ZlQ2xhc3MoImNvbGxhcHNpbmciKS5hZGRDbGFzcygiY29sbGFwc2UgaW4iKVtnXSgiIiksdGhpcy50cmFuc2l0aW9uaW5nPTAsdGhpcy4kZWxlbWVudC50cmlnZ2VyKCJzaG93bi5icy5jb2xsYXBzZSIpfTtpZighYS5zdXBwb3J0LnRyYW5zaXRpb24pcmV0dXJuIGguY2FsbCh0aGlzKTt2YXIgaT1hLmNhbWVsQ2FzZShbInNjcm9sbCIsZ10uam9pbigiLSIpKTt0aGlzLiRlbGVtZW50Lm9uZSgiYnNUcmFuc2l0aW9uRW5kIixhLnByb3h5KGgsdGhpcykpLmVtdWxhdGVUcmFuc2l0aW9uRW5kKGQuVFJBTlNJVElPTl9EVVJBVElPTilbZ10odGhpcy4kZWxlbWVudFswXVtpXSl9fX19LGQucHJvdG90eXBlLmhpZGU9ZnVuY3Rpb24oKXtpZighdGhpcy50cmFuc2l0aW9uaW5nJiZ0aGlzLiRlbGVtZW50Lmhhc0NsYXNzKCJpbiIpKXt2YXIgYj1hLkV2ZW50KCJoaWRlLmJzLmNvbGxhcHNlIik7aWYodGhpcy4kZWxlbWVudC50cmlnZ2VyKGIpLCFiLmlzRGVmYXVsdFByZXZlbnRlZCgpKXt2YXIgYz10aGlzLmRpbWVuc2lvbigpO3RoaXMuJGVsZW1lbnRbY10odGhpcy4kZWxlbWVudFtjXSgpKVswXS5vZmZzZXRIZWlnaHQsdGhpcy4kZWxlbWVudC5hZGRDbGFzcygiY29sbGFwc2luZyIpLnJlbW92ZUNsYXNzKCJjb2xsYXBzZSBpbiIpLmF0dHIoImFyaWEtZXhwYW5kZWQiLCExKSx0aGlzLiR0cmlnZ2VyLmFkZENsYXNzKCJjb2xsYXBzZWQiKS5hdHRyKCJhcmlhLWV4cGFuZGVkIiwhMSksdGhpcy50cmFuc2l0aW9uaW5nPTE7dmFyIGU9ZnVuY3Rpb24oKXt0aGlzLnRyYW5zaXRpb25pbmc9MCx0aGlzLiRlbGVtZW50LnJlbW92ZUNsYXNzKCJjb2xsYXBzaW5nIikuYWRkQ2xhc3MoImNvbGxhcHNlIikudHJpZ2dlcigiaGlkZGVuLmJzLmNvbGxhcHNlIil9O3JldHVybiBhLnN1cHBvcnQudHJhbnNpdGlvbj92b2lkIHRoaXMuJGVsZW1lbnRbY10oMCkub25lKCJic1RyYW5zaXRpb25FbmQiLGEucHJveHkoZSx0aGlzKSkuZW11bGF0ZVRyYW5zaXRpb25FbmQoZC5UUkFOU0lUSU9OX0RVUkFUSU9OKTplLmNhbGwodGhpcyl9fX0sZC5wcm90b3R5cGUudG9nZ2xlPWZ1bmN0aW9uKCl7dGhpc1t0aGlzLiRlbGVtZW50Lmhhc0NsYXNzKCJpbiIpPyJoaWRlIjoic2hvdyJdKCl9LGQucHJvdG90eXBlLmdldFBhcmVudD1mdW5jdGlvbigpe3JldHVybiBhKHRoaXMub3B0aW9ucy5wYXJlbnQpLmZpbmQoJ1tkYXRhLXRvZ2dsZT0iY29sbGFwc2UiXVtkYXRhLXBhcmVudD0iJyt0aGlzLm9wdGlvbnMucGFyZW50KyciXScpLmVhY2goYS5wcm94eShmdW5jdGlvbihjLGQpe3ZhciBlPWEoZCk7dGhpcy5hZGRBcmlhQW5kQ29sbGFwc2VkQ2xhc3MoYihlKSxlKX0sdGhpcykpLmVuZCgpfSxkLnByb3RvdHlwZS5hZGRBcmlhQW5kQ29sbGFwc2VkQ2xhc3M9ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLmhhc0NsYXNzKCJpbiIpO2EuYXR0cigiYXJpYS1leHBhbmRlZCIsYyksYi50b2dnbGVDbGFzcygiY29sbGFwc2VkIiwhYykuYXR0cigiYXJpYS1leHBhbmRlZCIsYyl9O3ZhciBlPWEuZm4uY29sbGFwc2U7YS5mbi5jb2xsYXBzZT1jLGEuZm4uY29sbGFwc2UuQ29uc3RydWN0b3I9ZCxhLmZuLmNvbGxhcHNlLm5vQ29uZmxpY3Q9ZnVuY3Rpb24oKXtyZXR1cm4gYS5mbi5jb2xsYXBzZT1lLHRoaXN9LGEoZG9jdW1lbnQpLm9uKCJjbGljay5icy5jb2xsYXBzZS5kYXRhLWFwaSIsJ1tkYXRhLXRvZ2dsZT0iY29sbGFwc2UiXScsZnVuY3Rpb24oZCl7dmFyIGU9YSh0aGlzKTtlLmF0dHIoImRhdGEtdGFyZ2V0Iil8fGQucHJldmVudERlZmF1bHQoKTt2YXIgZj1iKGUpLGc9Zi5kYXRhKCJicy5jb2xsYXBzZSIpLGg9Zz8idG9nZ2xlIjphLmV4dGVuZCh7fSxlLmRhdGEoKSx7dHJpZ2dlcjp0aGlzfSk7Yy5jYWxsKGYsaCl9KX0oalF1ZXJ5KSwrZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYil7YiYmMz09PWIud2hpY2h8fChhKGUpLnJlbW92ZSgpLGEoZikuZWFjaChmdW5jdGlvbigpe3ZhciBkPWEodGhpcyksZT1jKGQpLGY9e3JlbGF0ZWRUYXJnZXQ6dGhpc307ZS5oYXNDbGFzcygib3BlbiIpJiYoZS50cmlnZ2VyKGI9YS5FdmVudCgiaGlkZS5icy5kcm9wZG93biIsZikpLGIuaXNEZWZhdWx0UHJldmVudGVkKCl8fChkLmF0dHIoImFyaWEtZXhwYW5kZWQiLCJmYWxzZSIpLGUucmVtb3ZlQ2xhc3MoIm9wZW4iKS50cmlnZ2VyKCJoaWRkZW4uYnMuZHJvcGRvd24iLGYpKSl9KSl9ZnVuY3Rpb24gYyhiKXt2YXIgYz1iLmF0dHIoImRhdGEtdGFyZ2V0Iik7Y3x8KGM9Yi5hdHRyKCJocmVmIiksYz1jJiYvI1tBLVphLXpdLy50ZXN0KGMpJiZjLnJlcGxhY2UoLy4qKD89I1teXHNdKiQpLywiIikpO3ZhciBkPWMmJmEoYyk7cmV0dXJuIGQmJmQubGVuZ3RoP2Q6Yi5wYXJlbnQoKX1mdW5jdGlvbiBkKGIpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgYz1hKHRoaXMpLGQ9Yy5kYXRhKCJicy5kcm9wZG93biIpO2R8fGMuZGF0YSgiYnMuZHJvcGRvd24iLGQ9bmV3IGcodGhpcykpLCJzdHJpbmciPT10eXBlb2YgYiYmZFtiXS5jYWxsKGMpfSl9dmFyIGU9Ii5kcm9wZG93bi1iYWNrZHJvcCIsZj0nW2RhdGEtdG9nZ2xlPSJkcm9wZG93biJdJyxnPWZ1bmN0aW9uKGIpe2EoYikub24oImNsaWNrLmJzLmRyb3Bkb3duIix0aGlzLnRvZ2dsZSl9O2cuVkVSU0lPTj0iMy4zLjEiLGcucHJvdG90eXBlLnRvZ2dsZT1mdW5jdGlvbihkKXt2YXIgZT1hKHRoaXMpO2lmKCFlLmlzKCIuZGlzYWJsZWQsIDpkaXNhYmxlZCIpKXt2YXIgZj1jKGUpLGc9Zi5oYXNDbGFzcygib3BlbiIpO2lmKGIoKSwhZyl7Im9udG91Y2hzdGFydCJpbiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQmJiFmLmNsb3Nlc3QoIi5uYXZiYXItbmF2IikubGVuZ3RoJiZhKCc8ZGl2IGNsYXNzPSJkcm9wZG93bi1iYWNrZHJvcCIvPicpLmluc2VydEFmdGVyKGEodGhpcykpLm9uKCJjbGljayIsYik7dmFyIGg9e3JlbGF0ZWRUYXJnZXQ6dGhpc307aWYoZi50cmlnZ2VyKGQ9YS5FdmVudCgic2hvdy5icy5kcm9wZG93biIsaCkpLGQuaXNEZWZhdWx0UHJldmVudGVkKCkpcmV0dXJuO2UudHJpZ2dlcigiZm9jdXMiKS5hdHRyKCJhcmlhLWV4cGFuZGVkIiwidHJ1ZSIpLGYudG9nZ2xlQ2xhc3MoIm9wZW4iKS50cmlnZ2VyKCJzaG93bi5icy5kcm9wZG93biIsaCl9cmV0dXJuITF9fSxnLnByb3RvdHlwZS5rZXlkb3duPWZ1bmN0aW9uKGIpe2lmKC8oMzh8NDB8Mjd8MzIpLy50ZXN0KGIud2hpY2gpJiYhL2lucHV0fHRleHRhcmVhL2kudGVzdChiLnRhcmdldC50YWdOYW1lKSl7dmFyIGQ9YSh0aGlzKTtpZihiLnByZXZlbnREZWZhdWx0KCksYi5zdG9wUHJvcGFnYXRpb24oKSwhZC5pcygiLmRpc2FibGVkLCA6ZGlzYWJsZWQiKSl7dmFyIGU9YyhkKSxnPWUuaGFzQ2xhc3MoIm9wZW4iKTtpZighZyYmMjchPWIud2hpY2h8fGcmJjI3PT1iLndoaWNoKXJldHVybiAyNz09Yi53aGljaCYmZS5maW5kKGYpLnRyaWdnZXIoImZvY3VzIiksZC50cmlnZ2VyKCJjbGljayIpO3ZhciBoPSIgbGk6bm90KC5kaXZpZGVyKTp2aXNpYmxlIGEiLGk9ZS5maW5kKCdbcm9sZT0ibWVudSJdJytoKycsIFtyb2xlPSJsaXN0Ym94Il0nK2gpO2lmKGkubGVuZ3RoKXt2YXIgaj1pLmluZGV4KGIudGFyZ2V0KTszOD09Yi53aGljaCYmaj4wJiZqLS0sNDA9PWIud2hpY2gmJmo8aS5sZW5ndGgtMSYmaisrLH5qfHwoaj0wKSxpLmVxKGopLnRyaWdnZXIoImZvY3VzIil9fX19O3ZhciBoPWEuZm4uZHJvcGRvd247YS5mbi5kcm9wZG93bj1kLGEuZm4uZHJvcGRvd24uQ29uc3RydWN0b3I9ZyxhLmZuLmRyb3Bkb3duLm5vQ29uZmxpY3Q9ZnVuY3Rpb24oKXtyZXR1cm4gYS5mbi5kcm9wZG93bj1oLHRoaXN9LGEoZG9jdW1lbnQpLm9uKCJjbGljay5icy5kcm9wZG93bi5kYXRhLWFwaSIsYikub24oImNsaWNrLmJzLmRyb3Bkb3duLmRhdGEtYXBpIiwiLmRyb3Bkb3duIGZvcm0iLGZ1bmN0aW9uKGEpe2Euc3RvcFByb3BhZ2F0aW9uKCl9KS5vbigiY2xpY2suYnMuZHJvcGRvd24uZGF0YS1hcGkiLGYsZy5wcm90b3R5cGUudG9nZ2xlKS5vbigia2V5ZG93bi5icy5kcm9wZG93bi5kYXRhLWFwaSIsZixnLnByb3RvdHlwZS5rZXlkb3duKS5vbigia2V5ZG93bi5icy5kcm9wZG93bi5kYXRhLWFwaSIsJ1tyb2xlPSJtZW51Il0nLGcucHJvdG90eXBlLmtleWRvd24pLm9uKCJrZXlkb3duLmJzLmRyb3Bkb3duLmRhdGEtYXBpIiwnW3JvbGU9Imxpc3Rib3giXScsZy5wcm90b3R5cGUua2V5ZG93bil9KGpRdWVyeSksK2Z1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKGIsZCl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBlPWEodGhpcyksZj1lLmRhdGEoImJzLm1vZGFsIiksZz1hLmV4dGVuZCh7fSxjLkRFRkFVTFRTLGUuZGF0YSgpLCJvYmplY3QiPT10eXBlb2YgYiYmYik7Znx8ZS5kYXRhKCJicy5tb2RhbCIsZj1uZXcgYyh0aGlzLGcpKSwic3RyaW5nIj09dHlwZW9mIGI/ZltiXShkKTpnLnNob3cmJmYuc2hvdyhkKX0pfXZhciBjPWZ1bmN0aW9uKGIsYyl7dGhpcy5vcHRpb25zPWMsdGhpcy4kYm9keT1hKGRvY3VtZW50LmJvZHkpLHRoaXMuJGVsZW1lbnQ9YShiKSx0aGlzLiRiYWNrZHJvcD10aGlzLmlzU2hvd249bnVsbCx0aGlzLnNjcm9sbGJhcldpZHRoPTAsdGhpcy5vcHRpb25zLnJlbW90ZSYmdGhpcy4kZWxlbWVudC5maW5kKCIubW9kYWwtY29udGVudCIpLmxvYWQodGhpcy5vcHRpb25zLnJlbW90ZSxhLnByb3h5KGZ1bmN0aW9uKCl7dGhpcy4kZWxlbWVudC50cmlnZ2VyKCJsb2FkZWQuYnMubW9kYWwiKX0sdGhpcykpfTtjLlZFUlNJT049IjMuMy4xIixjLlRSQU5TSVRJT05fRFVSQVRJT049MzAwLGMuQkFDS0RST1BfVFJBTlNJVElPTl9EVVJBVElPTj0xNTAsYy5ERUZBVUxUUz17YmFja2Ryb3A6ITAsa2V5Ym9hcmQ6ITAsc2hvdzohMH0sYy5wcm90b3R5cGUudG9nZ2xlPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmlzU2hvd24/dGhpcy5oaWRlKCk6dGhpcy5zaG93KGEpfSxjLnByb3RvdHlwZS5zaG93PWZ1bmN0aW9uKGIpe3ZhciBkPXRoaXMsZT1hLkV2ZW50KCJzaG93LmJzLm1vZGFsIix7cmVsYXRlZFRhcmdldDpifSk7dGhpcy4kZWxlbWVudC50cmlnZ2VyKGUpLHRoaXMuaXNTaG93bnx8ZS5pc0RlZmF1bHRQcmV2ZW50ZWQoKXx8KHRoaXMuaXNTaG93bj0hMCx0aGlzLmNoZWNrU2Nyb2xsYmFyKCksdGhpcy5zZXRTY3JvbGxiYXIoKSx0aGlzLiRib2R5LmFkZENsYXNzKCJtb2RhbC1vcGVuIiksdGhpcy5lc2NhcGUoKSx0aGlzLnJlc2l6ZSgpLHRoaXMuJGVsZW1lbnQub24oImNsaWNrLmRpc21pc3MuYnMubW9kYWwiLCdbZGF0YS1kaXNtaXNzPSJtb2RhbCJdJyxhLnByb3h5KHRoaXMuaGlkZSx0aGlzKSksdGhpcy5iYWNrZHJvcChmdW5jdGlvbigpe3ZhciBlPWEuc3VwcG9ydC50cmFuc2l0aW9uJiZkLiRlbGVtZW50Lmhhc0NsYXNzKCJmYWRlIik7ZC4kZWxlbWVudC5wYXJlbnQoKS5sZW5ndGh8fGQuJGVsZW1lbnQuYXBwZW5kVG8oZC4kYm9keSksZC4kZWxlbWVudC5zaG93KCkuc2Nyb2xsVG9wKDApLGQub3B0aW9ucy5iYWNrZHJvcCYmZC5hZGp1c3RCYWNrZHJvcCgpLGQuYWRqdXN0RGlhbG9nKCksZSYmZC4kZWxlbWVudFswXS5vZmZzZXRXaWR0aCxkLiRlbGVtZW50LmFkZENsYXNzKCJpbiIpLmF0dHIoImFyaWEtaGlkZGVuIiwhMSksZC5lbmZvcmNlRm9jdXMoKTt2YXIgZj1hLkV2ZW50KCJzaG93bi5icy5tb2RhbCIse3JlbGF0ZWRUYXJnZXQ6Yn0pO2U/ZC4kZWxlbWVudC5maW5kKCIubW9kYWwtZGlhbG9nIikub25lKCJic1RyYW5zaXRpb25FbmQiLGZ1bmN0aW9uKCl7ZC4kZWxlbWVudC50cmlnZ2VyKCJmb2N1cyIpLnRyaWdnZXIoZil9KS5lbXVsYXRlVHJhbnNpdGlvbkVuZChjLlRSQU5TSVRJT05fRFVSQVRJT04pOmQuJGVsZW1lbnQudHJpZ2dlcigiZm9jdXMiKS50cmlnZ2VyKGYpfSkpfSxjLnByb3RvdHlwZS5oaWRlPWZ1bmN0aW9uKGIpe2ImJmIucHJldmVudERlZmF1bHQoKSxiPWEuRXZlbnQoImhpZGUuYnMubW9kYWwiKSx0aGlzLiRlbGVtZW50LnRyaWdnZXIoYiksdGhpcy5pc1Nob3duJiYhYi5pc0RlZmF1bHRQcmV2ZW50ZWQoKSYmKHRoaXMuaXNTaG93bj0hMSx0aGlzLmVzY2FwZSgpLHRoaXMucmVzaXplKCksYShkb2N1bWVudCkub2ZmKCJmb2N1c2luLmJzLm1vZGFsIiksdGhpcy4kZWxlbWVudC5yZW1vdmVDbGFzcygiaW4iKS5hdHRyKCJhcmlhLWhpZGRlbiIsITApLm9mZigiY2xpY2suZGlzbWlzcy5icy5tb2RhbCIpLGEuc3VwcG9ydC50cmFuc2l0aW9uJiZ0aGlzLiRlbGVtZW50Lmhhc0NsYXNzKCJmYWRlIik/dGhpcy4kZWxlbWVudC5vbmUoImJzVHJhbnNpdGlvbkVuZCIsYS5wcm94eSh0aGlzLmhpZGVNb2RhbCx0aGlzKSkuZW11bGF0ZVRyYW5zaXRpb25FbmQoYy5UUkFOU0lUSU9OX0RVUkFUSU9OKTp0aGlzLmhpZGVNb2RhbCgpKX0sYy5wcm90b3R5cGUuZW5mb3JjZUZvY3VzPWZ1bmN0aW9uKCl7YShkb2N1bWVudCkub2ZmKCJmb2N1c2luLmJzLm1vZGFsIikub24oImZvY3VzaW4uYnMubW9kYWwiLGEucHJveHkoZnVuY3Rpb24oYSl7dGhpcy4kZWxlbWVudFswXT09PWEudGFyZ2V0fHx0aGlzLiRlbGVtZW50LmhhcyhhLnRhcmdldCkubGVuZ3RofHx0aGlzLiRlbGVtZW50LnRyaWdnZXIoImZvY3VzIil9LHRoaXMpKX0sYy5wcm90b3R5cGUuZXNjYXBlPWZ1bmN0aW9uKCl7dGhpcy5pc1Nob3duJiZ0aGlzLm9wdGlvbnMua2V5Ym9hcmQ/dGhpcy4kZWxlbWVudC5vbigia2V5ZG93bi5kaXNtaXNzLmJzLm1vZGFsIixhLnByb3h5KGZ1bmN0aW9uKGEpezI3PT1hLndoaWNoJiZ0aGlzLmhpZGUoKX0sdGhpcykpOnRoaXMuaXNTaG93bnx8dGhpcy4kZWxlbWVudC5vZmYoImtleWRvd24uZGlzbWlzcy5icy5tb2RhbCIpfSxjLnByb3RvdHlwZS5yZXNpemU9ZnVuY3Rpb24oKXt0aGlzLmlzU2hvd24/YSh3aW5kb3cpLm9uKCJyZXNpemUuYnMubW9kYWwiLGEucHJveHkodGhpcy5oYW5kbGVVcGRhdGUsdGhpcykpOmEod2luZG93KS5vZmYoInJlc2l6ZS5icy5tb2RhbCIpfSxjLnByb3RvdHlwZS5oaWRlTW9kYWw9ZnVuY3Rpb24oKXt2YXIgYT10aGlzO3RoaXMuJGVsZW1lbnQuaGlkZSgpLHRoaXMuYmFja2Ryb3AoZnVuY3Rpb24oKXthLiRib2R5LnJlbW92ZUNsYXNzKCJtb2RhbC1vcGVuIiksYS5yZXNldEFkanVzdG1lbnRzKCksYS5yZXNldFNjcm9sbGJhcigpLGEuJGVsZW1lbnQudHJpZ2dlcigiaGlkZGVuLmJzLm1vZGFsIil9KX0sYy5wcm90b3R5cGUucmVtb3ZlQmFja2Ryb3A9ZnVuY3Rpb24oKXt0aGlzLiRiYWNrZHJvcCYmdGhpcy4kYmFja2Ryb3AucmVtb3ZlKCksdGhpcy4kYmFja2Ryb3A9bnVsbH0sYy5wcm90b3R5cGUuYmFja2Ryb3A9ZnVuY3Rpb24oYil7dmFyIGQ9dGhpcyxlPXRoaXMuJGVsZW1lbnQuaGFzQ2xhc3MoImZhZGUiKT8iZmFkZSI6IiI7aWYodGhpcy5pc1Nob3duJiZ0aGlzLm9wdGlvbnMuYmFja2Ryb3Ape3ZhciBmPWEuc3VwcG9ydC50cmFuc2l0aW9uJiZlO2lmKHRoaXMuJGJhY2tkcm9wPWEoJzxkaXYgY2xhc3M9Im1vZGFsLWJhY2tkcm9wICcrZSsnIiAvPicpLnByZXBlbmRUbyh0aGlzLiRlbGVtZW50KS5vbigiY2xpY2suZGlzbWlzcy5icy5tb2RhbCIsYS5wcm94eShmdW5jdGlvbihhKXthLnRhcmdldD09PWEuY3VycmVudFRhcmdldCYmKCJzdGF0aWMiPT10aGlzLm9wdGlvbnMuYmFja2Ryb3A/dGhpcy4kZWxlbWVudFswXS5mb2N1cy5jYWxsKHRoaXMuJGVsZW1lbnRbMF0pOnRoaXMuaGlkZS5jYWxsKHRoaXMpKX0sdGhpcykpLGYmJnRoaXMuJGJhY2tkcm9wWzBdLm9mZnNldFdpZHRoLHRoaXMuJGJhY2tkcm9wLmFkZENsYXNzKCJpbiIpLCFiKXJldHVybjtmP3RoaXMuJGJhY2tkcm9wLm9uZSgiYnNUcmFuc2l0aW9uRW5kIixiKS5lbXVsYXRlVHJhbnNpdGlvbkVuZChjLkJBQ0tEUk9QX1RSQU5TSVRJT05fRFVSQVRJT04pOmIoKX1lbHNlIGlmKCF0aGlzLmlzU2hvd24mJnRoaXMuJGJhY2tkcm9wKXt0aGlzLiRiYWNrZHJvcC5yZW1vdmVDbGFzcygiaW4iKTt2YXIgZz1mdW5jdGlvbigpe2QucmVtb3ZlQmFja2Ryb3AoKSxiJiZiKCl9O2Euc3VwcG9ydC50cmFuc2l0aW9uJiZ0aGlzLiRlbGVtZW50Lmhhc0NsYXNzKCJmYWRlIik/dGhpcy4kYmFja2Ryb3Aub25lKCJic1RyYW5zaXRpb25FbmQiLGcpLmVtdWxhdGVUcmFuc2l0aW9uRW5kKGMuQkFDS0RST1BfVFJBTlNJVElPTl9EVVJBVElPTik6ZygpfWVsc2UgYiYmYigpfSxjLnByb3RvdHlwZS5oYW5kbGVVcGRhdGU9ZnVuY3Rpb24oKXt0aGlzLm9wdGlvbnMuYmFja2Ryb3AmJnRoaXMuYWRqdXN0QmFja2Ryb3AoKSx0aGlzLmFkanVzdERpYWxvZygpfSxjLnByb3RvdHlwZS5hZGp1c3RCYWNrZHJvcD1mdW5jdGlvbigpe3RoaXMuJGJhY2tkcm9wLmNzcygiaGVpZ2h0IiwwKS5jc3MoImhlaWdodCIsdGhpcy4kZWxlbWVudFswXS5zY3JvbGxIZWlnaHQpfSxjLnByb3RvdHlwZS5hZGp1c3REaWFsb2c9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLiRlbGVtZW50WzBdLnNjcm9sbEhlaWdodD5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0O3RoaXMuJGVsZW1lbnQuY3NzKHtwYWRkaW5nTGVmdDohdGhpcy5ib2R5SXNPdmVyZmxvd2luZyYmYT90aGlzLnNjcm9sbGJhcldpZHRoOiIiLHBhZGRpbmdSaWdodDp0aGlzLmJvZHlJc092ZXJmbG93aW5nJiYhYT90aGlzLnNjcm9sbGJhcldpZHRoOiIifSl9LGMucHJvdG90eXBlLnJlc2V0QWRqdXN0bWVudHM9ZnVuY3Rpb24oKXt0aGlzLiRlbGVtZW50LmNzcyh7cGFkZGluZ0xlZnQ6IiIscGFkZGluZ1JpZ2h0OiIifSl9LGMucHJvdG90eXBlLmNoZWNrU2Nyb2xsYmFyPWZ1bmN0aW9uKCl7dGhpcy5ib2R5SXNPdmVyZmxvd2luZz1kb2N1bWVudC5ib2R5LnNjcm9sbEhlaWdodD5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0LHRoaXMuc2Nyb2xsYmFyV2lkdGg9dGhpcy5tZWFzdXJlU2Nyb2xsYmFyKCl9LGMucHJvdG90eXBlLnNldFNjcm9sbGJhcj1mdW5jdGlvbigpe3ZhciBhPXBhcnNlSW50KHRoaXMuJGJvZHkuY3NzKCJwYWRkaW5nLXJpZ2h0Iil8fDAsMTApO3RoaXMuYm9keUlzT3ZlcmZsb3dpbmcmJnRoaXMuJGJvZHkuY3NzKCJwYWRkaW5nLXJpZ2h0IixhK3RoaXMuc2Nyb2xsYmFyV2lkdGgpfSxjLnByb3RvdHlwZS5yZXNldFNjcm9sbGJhcj1mdW5jdGlvbigpe3RoaXMuJGJvZHkuY3NzKCJwYWRkaW5nLXJpZ2h0IiwiIil9LGMucHJvdG90eXBlLm1lYXN1cmVTY3JvbGxiYXI9ZnVuY3Rpb24oKXt2YXIgYT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTthLmNsYXNzTmFtZT0ibW9kYWwtc2Nyb2xsYmFyLW1lYXN1cmUiLHRoaXMuJGJvZHkuYXBwZW5kKGEpO3ZhciBiPWEub2Zmc2V0V2lkdGgtYS5jbGllbnRXaWR0aDtyZXR1cm4gdGhpcy4kYm9keVswXS5yZW1vdmVDaGlsZChhKSxifTt2YXIgZD1hLmZuLm1vZGFsO2EuZm4ubW9kYWw9YixhLmZuLm1vZGFsLkNvbnN0cnVjdG9yPWMsYS5mbi5tb2RhbC5ub0NvbmZsaWN0PWZ1bmN0aW9uKCl7cmV0dXJuIGEuZm4ubW9kYWw9ZCx0aGlzfSxhKGRvY3VtZW50KS5vbigiY2xpY2suYnMubW9kYWwuZGF0YS1hcGkiLCdbZGF0YS10b2dnbGU9Im1vZGFsIl0nLGZ1bmN0aW9uKGMpe3ZhciBkPWEodGhpcyksZT1kLmF0dHIoImhyZWYiKSxmPWEoZC5hdHRyKCJkYXRhLXRhcmdldCIpfHxlJiZlLnJlcGxhY2UoLy4qKD89I1teXHNdKyQpLywiIikpLGc9Zi5kYXRhKCJicy5tb2RhbCIpPyJ0b2dnbGUiOmEuZXh0ZW5kKHtyZW1vdGU6IS8jLy50ZXN0KGUpJiZlfSxmLmRhdGEoKSxkLmRhdGEoKSk7ZC5pcygiYSIpJiZjLnByZXZlbnREZWZhdWx0KCksZi5vbmUoInNob3cuYnMubW9kYWwiLGZ1bmN0aW9uKGEpe2EuaXNEZWZhdWx0UHJldmVudGVkKCl8fGYub25lKCJoaWRkZW4uYnMubW9kYWwiLGZ1bmN0aW9uKCl7ZC5pcygiOnZpc2libGUiKSYmZC50cmlnZ2VyKCJmb2N1cyIpfSl9KSxiLmNhbGwoZixnLHRoaXMpfSl9KGpRdWVyeSksK2Z1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKGIpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgZD1hKHRoaXMpLGU9ZC5kYXRhKCJicy50b29sdGlwIiksZj0ib2JqZWN0Ij09dHlwZW9mIGImJmIsZz1mJiZmLnNlbGVjdG9yOyhlfHwiZGVzdHJveSIhPWIpJiYoZz8oZXx8ZC5kYXRhKCJicy50b29sdGlwIixlPXt9KSxlW2ddfHwoZVtnXT1uZXcgYyh0aGlzLGYpKSk6ZXx8ZC5kYXRhKCJicy50b29sdGlwIixlPW5ldyBjKHRoaXMsZikpLCJzdHJpbmciPT10eXBlb2YgYiYmZVtiXSgpKX0pfXZhciBjPWZ1bmN0aW9uKGEsYil7dGhpcy50eXBlPXRoaXMub3B0aW9ucz10aGlzLmVuYWJsZWQ9dGhpcy50aW1lb3V0PXRoaXMuaG92ZXJTdGF0ZT10aGlzLiRlbGVtZW50PW51bGwsdGhpcy5pbml0KCJ0b29sdGlwIixhLGIpfTtjLlZFUlNJT049IjMuMy4xIixjLlRSQU5TSVRJT05fRFVSQVRJT049MTUwLGMuREVGQVVMVFM9e2FuaW1hdGlvbjohMCxwbGFjZW1lbnQ6InRvcCIsc2VsZWN0b3I6ITEsdGVtcGxhdGU6JzxkaXYgY2xhc3M9InRvb2x0aXAiIHJvbGU9InRvb2x0aXAiPjxkaXYgY2xhc3M9InRvb2x0aXAtYXJyb3ciPjwvZGl2PjxkaXYgY2xhc3M9InRvb2x0aXAtaW5uZXIiPjwvZGl2PjwvZGl2PicsdHJpZ2dlcjoiaG92ZXIgZm9jdXMiLHRpdGxlOiIiLGRlbGF5OjAsaHRtbDohMSxjb250YWluZXI6ITEsdmlld3BvcnQ6e3NlbGVjdG9yOiJib2R5IixwYWRkaW5nOjB9fSxjLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKGIsYyxkKXt0aGlzLmVuYWJsZWQ9ITAsdGhpcy50eXBlPWIsdGhpcy4kZWxlbWVudD1hKGMpLHRoaXMub3B0aW9ucz10aGlzLmdldE9wdGlvbnMoZCksdGhpcy4kdmlld3BvcnQ9dGhpcy5vcHRpb25zLnZpZXdwb3J0JiZhKHRoaXMub3B0aW9ucy52aWV3cG9ydC5zZWxlY3Rvcnx8dGhpcy5vcHRpb25zLnZpZXdwb3J0KTtmb3IodmFyIGU9dGhpcy5vcHRpb25zLnRyaWdnZXIuc3BsaXQoIiAiKSxmPWUubGVuZ3RoO2YtLTspe3ZhciBnPWVbZl07aWYoImNsaWNrIj09Zyl0aGlzLiRlbGVtZW50Lm9uKCJjbGljay4iK3RoaXMudHlwZSx0aGlzLm9wdGlvbnMuc2VsZWN0b3IsYS5wcm94eSh0aGlzLnRvZ2dsZSx0aGlzKSk7ZWxzZSBpZigibWFudWFsIiE9Zyl7dmFyIGg9ImhvdmVyIj09Zz8ibW91c2VlbnRlciI6ImZvY3VzaW4iLGk9ImhvdmVyIj09Zz8ibW91c2VsZWF2ZSI6ImZvY3Vzb3V0Ijt0aGlzLiRlbGVtZW50Lm9uKGgrIi4iK3RoaXMudHlwZSx0aGlzLm9wdGlvbnMuc2VsZWN0b3IsYS5wcm94eSh0aGlzLmVudGVyLHRoaXMpKSx0aGlzLiRlbGVtZW50Lm9uKGkrIi4iK3RoaXMudHlwZSx0aGlzLm9wdGlvbnMuc2VsZWN0b3IsYS5wcm94eSh0aGlzLmxlYXZlLHRoaXMpKX19dGhpcy5vcHRpb25zLnNlbGVjdG9yP3RoaXMuX29wdGlvbnM9YS5leHRlbmQoe30sdGhpcy5vcHRpb25zLHt0cmlnZ2VyOiJtYW51YWwiLHNlbGVjdG9yOiIifSk6dGhpcy5maXhUaXRsZSgpfSxjLnByb3RvdHlwZS5nZXREZWZhdWx0cz1mdW5jdGlvbigpe3JldHVybiBjLkRFRkFVTFRTfSxjLnByb3RvdHlwZS5nZXRPcHRpb25zPWZ1bmN0aW9uKGIpe3JldHVybiBiPWEuZXh0ZW5kKHt9LHRoaXMuZ2V0RGVmYXVsdHMoKSx0aGlzLiRlbGVtZW50LmRhdGEoKSxiKSxiLmRlbGF5JiYibnVtYmVyIj09dHlwZW9mIGIuZGVsYXkmJihiLmRlbGF5PXtzaG93OmIuZGVsYXksaGlkZTpiLmRlbGF5fSksYn0sYy5wcm90b3R5cGUuZ2V0RGVsZWdhdGVPcHRpb25zPWZ1bmN0aW9uKCl7dmFyIGI9e30sYz10aGlzLmdldERlZmF1bHRzKCk7cmV0dXJuIHRoaXMuX29wdGlvbnMmJmEuZWFjaCh0aGlzLl9vcHRpb25zLGZ1bmN0aW9uKGEsZCl7Y1thXSE9ZCYmKGJbYV09ZCl9KSxifSxjLnByb3RvdHlwZS5lbnRlcj1mdW5jdGlvbihiKXt2YXIgYz1iIGluc3RhbmNlb2YgdGhpcy5jb25zdHJ1Y3Rvcj9iOmEoYi5jdXJyZW50VGFyZ2V0KS5kYXRhKCJicy4iK3RoaXMudHlwZSk7cmV0dXJuIGMmJmMuJHRpcCYmYy4kdGlwLmlzKCI6dmlzaWJsZSIpP3ZvaWQoYy5ob3ZlclN0YXRlPSJpbiIpOihjfHwoYz1uZXcgdGhpcy5jb25zdHJ1Y3RvcihiLmN1cnJlbnRUYXJnZXQsdGhpcy5nZXREZWxlZ2F0ZU9wdGlvbnMoKSksYShiLmN1cnJlbnRUYXJnZXQpLmRhdGEoImJzLiIrdGhpcy50eXBlLGMpKSxjbGVhclRpbWVvdXQoYy50aW1lb3V0KSxjLmhvdmVyU3RhdGU9ImluIixjLm9wdGlvbnMuZGVsYXkmJmMub3B0aW9ucy5kZWxheS5zaG93P3ZvaWQoYy50aW1lb3V0PXNldFRpbWVvdXQoZnVuY3Rpb24oKXsiaW4iPT1jLmhvdmVyU3RhdGUmJmMuc2hvdygpfSxjLm9wdGlvbnMuZGVsYXkuc2hvdykpOmMuc2hvdygpKX0sYy5wcm90b3R5cGUubGVhdmU9ZnVuY3Rpb24oYil7dmFyIGM9YiBpbnN0YW5jZW9mIHRoaXMuY29uc3RydWN0b3I/YjphKGIuY3VycmVudFRhcmdldCkuZGF0YSgiYnMuIit0aGlzLnR5cGUpO3JldHVybiBjfHwoYz1uZXcgdGhpcy5jb25zdHJ1Y3RvcihiLmN1cnJlbnRUYXJnZXQsdGhpcy5nZXREZWxlZ2F0ZU9wdGlvbnMoKSksYShiLmN1cnJlbnRUYXJnZXQpLmRhdGEoImJzLiIrdGhpcy50eXBlLGMpKSxjbGVhclRpbWVvdXQoYy50aW1lb3V0KSxjLmhvdmVyU3RhdGU9Im91dCIsYy5vcHRpb25zLmRlbGF5JiZjLm9wdGlvbnMuZGVsYXkuaGlkZT92b2lkKGMudGltZW91dD1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Im91dCI9PWMuaG92ZXJTdGF0ZSYmYy5oaWRlKCl9LGMub3B0aW9ucy5kZWxheS5oaWRlKSk6Yy5oaWRlKCl9LGMucHJvdG90eXBlLnNob3c9ZnVuY3Rpb24oKXt2YXIgYj1hLkV2ZW50KCJzaG93LmJzLiIrdGhpcy50eXBlKTtpZih0aGlzLmhhc0NvbnRlbnQoKSYmdGhpcy5lbmFibGVkKXt0aGlzLiRlbGVtZW50LnRyaWdnZXIoYik7dmFyIGQ9YS5jb250YWlucyh0aGlzLiRlbGVtZW50WzBdLm93bmVyRG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LHRoaXMuJGVsZW1lbnRbMF0pO2lmKGIuaXNEZWZhdWx0UHJldmVudGVkKCl8fCFkKXJldHVybjt2YXIgZT10aGlzLGY9dGhpcy50aXAoKSxnPXRoaXMuZ2V0VUlEKHRoaXMudHlwZSk7dGhpcy5zZXRDb250ZW50KCksZi5hdHRyKCJpZCIsZyksdGhpcy4kZWxlbWVudC5hdHRyKCJhcmlhLWRlc2NyaWJlZGJ5IixnKSx0aGlzLm9wdGlvbnMuYW5pbWF0aW9uJiZmLmFkZENsYXNzKCJmYWRlIik7dmFyIGg9ImZ1bmN0aW9uIj09dHlwZW9mIHRoaXMub3B0aW9ucy5wbGFjZW1lbnQ/dGhpcy5vcHRpb25zLnBsYWNlbWVudC5jYWxsKHRoaXMsZlswXSx0aGlzLiRlbGVtZW50WzBdKTp0aGlzLm9wdGlvbnMucGxhY2VtZW50LGk9L1xzP2F1dG8/XHM/L2ksaj1pLnRlc3QoaCk7aiYmKGg9aC5yZXBsYWNlKGksIiIpfHwidG9wIiksZi5kZXRhY2goKS5jc3Moe3RvcDowLGxlZnQ6MCxkaXNwbGF5OiJibG9jayJ9KS5hZGRDbGFzcyhoKS5kYXRhKCJicy4iK3RoaXMudHlwZSx0aGlzKSx0aGlzLm9wdGlvbnMuY29udGFpbmVyP2YuYXBwZW5kVG8odGhpcy5vcHRpb25zLmNvbnRhaW5lcik6Zi5pbnNlcnRBZnRlcih0aGlzLiRlbGVtZW50KTt2YXIgaz10aGlzLmdldFBvc2l0aW9uKCksbD1mWzBdLm9mZnNldFdpZHRoLG09ZlswXS5vZmZzZXRIZWlnaHQ7aWYoail7dmFyIG49aCxvPXRoaXMub3B0aW9ucy5jb250YWluZXI/YSh0aGlzLm9wdGlvbnMuY29udGFpbmVyKTp0aGlzLiRlbGVtZW50LnBhcmVudCgpLHA9dGhpcy5nZXRQb3NpdGlvbihvKTtoPSJib3R0b20iPT1oJiZrLmJvdHRvbSttPnAuYm90dG9tPyJ0b3AiOiJ0b3AiPT1oJiZrLnRvcC1tPHAudG9wPyJib3R0b20iOiJyaWdodCI9PWgmJmsucmlnaHQrbD5wLndpZHRoPyJsZWZ0IjoibGVmdCI9PWgmJmsubGVmdC1sPHAubGVmdD8icmlnaHQiOmgsZi5yZW1vdmVDbGFzcyhuKS5hZGRDbGFzcyhoKX12YXIgcT10aGlzLmdldENhbGN1bGF0ZWRPZmZzZXQoaCxrLGwsbSk7dGhpcy5hcHBseVBsYWNlbWVudChxLGgpO3ZhciByPWZ1bmN0aW9uKCl7dmFyIGE9ZS5ob3ZlclN0YXRlO2UuJGVsZW1lbnQudHJpZ2dlcigic2hvd24uYnMuIitlLnR5cGUpLGUuaG92ZXJTdGF0ZT1udWxsLCJvdXQiPT1hJiZlLmxlYXZlKGUpfTthLnN1cHBvcnQudHJhbnNpdGlvbiYmdGhpcy4kdGlwLmhhc0NsYXNzKCJmYWRlIik/Zi5vbmUoImJzVHJhbnNpdGlvbkVuZCIscikuZW11bGF0ZVRyYW5zaXRpb25FbmQoYy5UUkFOU0lUSU9OX0RVUkFUSU9OKTpyKCl9fSxjLnByb3RvdHlwZS5hcHBseVBsYWNlbWVudD1mdW5jdGlvbihiLGMpe3ZhciBkPXRoaXMudGlwKCksZT1kWzBdLm9mZnNldFdpZHRoLGY9ZFswXS5vZmZzZXRIZWlnaHQsZz1wYXJzZUludChkLmNzcygibWFyZ2luLXRvcCIpLDEwKSxoPXBhcnNlSW50KGQuY3NzKCJtYXJnaW4tbGVmdCIpLDEwKTtpc05hTihnKSYmKGc9MCksaXNOYU4oaCkmJihoPTApLGIudG9wPWIudG9wK2csYi5sZWZ0PWIubGVmdCtoLGEub2Zmc2V0LnNldE9mZnNldChkWzBdLGEuZXh0ZW5kKHt1c2luZzpmdW5jdGlvbihhKXtkLmNzcyh7dG9wOk1hdGgucm91bmQoYS50b3ApLGxlZnQ6TWF0aC5yb3VuZChhLmxlZnQpfSl9fSxiKSwwKSxkLmFkZENsYXNzKCJpbiIpO3ZhciBpPWRbMF0ub2Zmc2V0V2lkdGgsaj1kWzBdLm9mZnNldEhlaWdodDsidG9wIj09YyYmaiE9ZiYmKGIudG9wPWIudG9wK2Ytaik7dmFyIGs9dGhpcy5nZXRWaWV3cG9ydEFkanVzdGVkRGVsdGEoYyxiLGksaik7ay5sZWZ0P2IubGVmdCs9ay5sZWZ0OmIudG9wKz1rLnRvcDt2YXIgbD0vdG9wfGJvdHRvbS8udGVzdChjKSxtPWw/MiprLmxlZnQtZStpOjIqay50b3AtZitqLG49bD8ib2Zmc2V0V2lkdGgiOiJvZmZzZXRIZWlnaHQiO2Qub2Zmc2V0KGIpLHRoaXMucmVwbGFjZUFycm93KG0sZFswXVtuXSxsKX0sYy5wcm90b3R5cGUucmVwbGFjZUFycm93PWZ1bmN0aW9uKGEsYixjKXt0aGlzLmFycm93KCkuY3NzKGM/ImxlZnQiOiJ0b3AiLDUwKigxLWEvYikrIiUiKS5jc3MoYz8idG9wIjoibGVmdCIsIiIpfSxjLnByb3RvdHlwZS5zZXRDb250ZW50PWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy50aXAoKSxiPXRoaXMuZ2V0VGl0bGUoKTthLmZpbmQoIi50b29sdGlwLWlubmVyIilbdGhpcy5vcHRpb25zLmh0bWw/Imh0bWwiOiJ0ZXh0Il0oYiksYS5yZW1vdmVDbGFzcygiZmFkZSBpbiB0b3AgYm90dG9tIGxlZnQgcmlnaHQiKX0sYy5wcm90b3R5cGUuaGlkZT1mdW5jdGlvbihiKXtmdW5jdGlvbiBkKCl7ImluIiE9ZS5ob3ZlclN0YXRlJiZmLmRldGFjaCgpLGUuJGVsZW1lbnQucmVtb3ZlQXR0cigiYXJpYS1kZXNjcmliZWRieSIpLnRyaWdnZXIoImhpZGRlbi5icy4iK2UudHlwZSksYiYmYigpfXZhciBlPXRoaXMsZj10aGlzLnRpcCgpLGc9YS5FdmVudCgiaGlkZS5icy4iK3RoaXMudHlwZSk7cmV0dXJuIHRoaXMuJGVsZW1lbnQudHJpZ2dlcihnKSxnLmlzRGVmYXVsdFByZXZlbnRlZCgpP3ZvaWQgMDooZi5yZW1vdmVDbGFzcygiaW4iKSxhLnN1cHBvcnQudHJhbnNpdGlvbiYmdGhpcy4kdGlwLmhhc0NsYXNzKCJmYWRlIik/Zi5vbmUoImJzVHJhbnNpdGlvbkVuZCIsZCkuZW11bGF0ZVRyYW5zaXRpb25FbmQoYy5UUkFOU0lUSU9OX0RVUkFUSU9OKTpkKCksdGhpcy5ob3ZlclN0YXRlPW51bGwsdGhpcyl9LGMucHJvdG90eXBlLmZpeFRpdGxlPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy4kZWxlbWVudDsoYS5hdHRyKCJ0aXRsZSIpfHwic3RyaW5nIiE9dHlwZW9mIGEuYXR0cigiZGF0YS1vcmlnaW5hbC10aXRsZSIpKSYmYS5hdHRyKCJkYXRhLW9yaWdpbmFsLXRpdGxlIixhLmF0dHIoInRpdGxlIil8fCIiKS5hdHRyKCJ0aXRsZSIsIiIpfSxjLnByb3RvdHlwZS5oYXNDb250ZW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0VGl0bGUoKX0sYy5wcm90b3R5cGUuZ2V0UG9zaXRpb249ZnVuY3Rpb24oYil7Yj1ifHx0aGlzLiRlbGVtZW50O3ZhciBjPWJbMF0sZD0iQk9EWSI9PWMudGFnTmFtZSxlPWMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7bnVsbD09ZS53aWR0aCYmKGU9YS5leHRlbmQoe30sZSx7d2lkdGg6ZS5yaWdodC1lLmxlZnQsaGVpZ2h0OmUuYm90dG9tLWUudG9wfSkpO3ZhciBmPWQ/e3RvcDowLGxlZnQ6MH06Yi5vZmZzZXQoKSxnPXtzY3JvbGw6ZD9kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wfHxkb2N1bWVudC5ib2R5LnNjcm9sbFRvcDpiLnNjcm9sbFRvcCgpfSxoPWQ/e3dpZHRoOmEod2luZG93KS53aWR0aCgpLGhlaWdodDphKHdpbmRvdykuaGVpZ2h0KCl9Om51bGw7cmV0dXJuIGEuZXh0ZW5kKHt9LGUsZyxoLGYpfSxjLnByb3RvdHlwZS5nZXRDYWxjdWxhdGVkT2Zmc2V0PWZ1bmN0aW9uKGEsYixjLGQpe3JldHVybiJib3R0b20iPT1hP3t0b3A6Yi50b3ArYi5oZWlnaHQsbGVmdDpiLmxlZnQrYi53aWR0aC8yLWMvMn06InRvcCI9PWE/e3RvcDpiLnRvcC1kLGxlZnQ6Yi5sZWZ0K2Iud2lkdGgvMi1jLzJ9OiJsZWZ0Ij09YT97dG9wOmIudG9wK2IuaGVpZ2h0LzItZC8yLGxlZnQ6Yi5sZWZ0LWN9Ont0b3A6Yi50b3ArYi5oZWlnaHQvMi1kLzIsbGVmdDpiLmxlZnQrYi53aWR0aH19LGMucHJvdG90eXBlLmdldFZpZXdwb3J0QWRqdXN0ZWREZWx0YT1mdW5jdGlvbihhLGIsYyxkKXt2YXIgZT17dG9wOjAsbGVmdDowfTtpZighdGhpcy4kdmlld3BvcnQpcmV0dXJuIGU7dmFyIGY9dGhpcy5vcHRpb25zLnZpZXdwb3J0JiZ0aGlzLm9wdGlvbnMudmlld3BvcnQucGFkZGluZ3x8MCxnPXRoaXMuZ2V0UG9zaXRpb24odGhpcy4kdmlld3BvcnQpO2lmKC9yaWdodHxsZWZ0Ly50ZXN0KGEpKXt2YXIgaD1iLnRvcC1mLWcuc2Nyb2xsLGk9Yi50b3ArZi1nLnNjcm9sbCtkO2g8Zy50b3A/ZS50b3A9Zy50b3AtaDppPmcudG9wK2cuaGVpZ2h0JiYoZS50b3A9Zy50b3ArZy5oZWlnaHQtaSl9ZWxzZXt2YXIgaj1iLmxlZnQtZixrPWIubGVmdCtmK2M7ajxnLmxlZnQ/ZS5sZWZ0PWcubGVmdC1qOms+Zy53aWR0aCYmKGUubGVmdD1nLmxlZnQrZy53aWR0aC1rKX1yZXR1cm4gZX0sYy5wcm90b3R5cGUuZ2V0VGl0bGU9ZnVuY3Rpb24oKXt2YXIgYSxiPXRoaXMuJGVsZW1lbnQsYz10aGlzLm9wdGlvbnM7cmV0dXJuIGE9Yi5hdHRyKCJkYXRhLW9yaWdpbmFsLXRpdGxlIil8fCgiZnVuY3Rpb24iPT10eXBlb2YgYy50aXRsZT9jLnRpdGxlLmNhbGwoYlswXSk6Yy50aXRsZSl9LGMucHJvdG90eXBlLmdldFVJRD1mdW5jdGlvbihhKXtkbyBhKz1+figxZTYqTWF0aC5yYW5kb20oKSk7d2hpbGUoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYSkpO3JldHVybiBhfSxjLnByb3RvdHlwZS50aXA9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kdGlwPXRoaXMuJHRpcHx8YSh0aGlzLm9wdGlvbnMudGVtcGxhdGUpfSxjLnByb3RvdHlwZS5hcnJvdz1mdW5jdGlvbigpe3JldHVybiB0aGlzLiRhcnJvdz10aGlzLiRhcnJvd3x8dGhpcy50aXAoKS5maW5kKCIudG9vbHRpcC1hcnJvdyIpfSxjLnByb3RvdHlwZS5lbmFibGU9ZnVuY3Rpb24oKXt0aGlzLmVuYWJsZWQ9ITB9LGMucHJvdG90eXBlLmRpc2FibGU9ZnVuY3Rpb24oKXt0aGlzLmVuYWJsZWQ9ITF9LGMucHJvdG90eXBlLnRvZ2dsZUVuYWJsZWQ9ZnVuY3Rpb24oKXt0aGlzLmVuYWJsZWQ9IXRoaXMuZW5hYmxlZH0sYy5wcm90b3R5cGUudG9nZ2xlPWZ1bmN0aW9uKGIpe3ZhciBjPXRoaXM7YiYmKGM9YShiLmN1cnJlbnRUYXJnZXQpLmRhdGEoImJzLiIrdGhpcy50eXBlKSxjfHwoYz1uZXcgdGhpcy5jb25zdHJ1Y3RvcihiLmN1cnJlbnRUYXJnZXQsdGhpcy5nZXREZWxlZ2F0ZU9wdGlvbnMoKSksYShiLmN1cnJlbnRUYXJnZXQpLmRhdGEoImJzLiIrdGhpcy50eXBlLGMpKSksYy50aXAoKS5oYXNDbGFzcygiaW4iKT9jLmxlYXZlKGMpOmMuZW50ZXIoYyl9LGMucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt2YXIgYT10aGlzO2NsZWFyVGltZW91dCh0aGlzLnRpbWVvdXQpLHRoaXMuaGlkZShmdW5jdGlvbigpe2EuJGVsZW1lbnQub2ZmKCIuIithLnR5cGUpLnJlbW92ZURhdGEoImJzLiIrYS50eXBlKX0pfTt2YXIgZD1hLmZuLnRvb2x0aXA7YS5mbi50b29sdGlwPWIsYS5mbi50b29sdGlwLkNvbnN0cnVjdG9yPWMsYS5mbi50b29sdGlwLm5vQ29uZmxpY3Q9ZnVuY3Rpb24oKXtyZXR1cm4gYS5mbi50b29sdGlwPWQsdGhpc319KGpRdWVyeSksK2Z1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKGIpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgZD1hKHRoaXMpLGU9ZC5kYXRhKCJicy5wb3BvdmVyIiksZj0ib2JqZWN0Ij09dHlwZW9mIGImJmIsZz1mJiZmLnNlbGVjdG9yOyhlfHwiZGVzdHJveSIhPWIpJiYoZz8oZXx8ZC5kYXRhKCJicy5wb3BvdmVyIixlPXt9KSxlW2ddfHwoZVtnXT1uZXcgYyh0aGlzLGYpKSk6ZXx8ZC5kYXRhKCJicy5wb3BvdmVyIixlPW5ldyBjKHRoaXMsZikpLCJzdHJpbmciPT10eXBlb2YgYiYmZVtiXSgpKX0pfXZhciBjPWZ1bmN0aW9uKGEsYil7dGhpcy5pbml0KCJwb3BvdmVyIixhLGIpfTtpZighYS5mbi50b29sdGlwKXRocm93IG5ldyBFcnJvcigiUG9wb3ZlciByZXF1aXJlcyB0b29sdGlwLmpzIik7Yy5WRVJTSU9OPSIzLjMuMSIsYy5ERUZBVUxUUz1hLmV4dGVuZCh7fSxhLmZuLnRvb2x0aXAuQ29uc3RydWN0b3IuREVGQVVMVFMse3BsYWNlbWVudDoicmlnaHQiLHRyaWdnZXI6ImNsaWNrIixjb250ZW50OiIiLHRlbXBsYXRlOic8ZGl2IGNsYXNzPSJwb3BvdmVyIiByb2xlPSJ0b29sdGlwIj48ZGl2IGNsYXNzPSJhcnJvdyI+PC9kaXY+PGgzIGNsYXNzPSJwb3BvdmVyLXRpdGxlIj48L2gzPjxkaXYgY2xhc3M9InBvcG92ZXItY29udGVudCI+PC9kaXY+PC9kaXY+J30pLGMucHJvdG90eXBlPWEuZXh0ZW5kKHt9LGEuZm4udG9vbHRpcC5Db25zdHJ1Y3Rvci5wcm90b3R5cGUpLGMucHJvdG90eXBlLmNvbnN0cnVjdG9yPWMsYy5wcm90b3R5cGUuZ2V0RGVmYXVsdHM9ZnVuY3Rpb24oKXtyZXR1cm4gYy5ERUZBVUxUU30sYy5wcm90b3R5cGUuc2V0Q29udGVudD1mdW5jdGlvbigpe3ZhciBhPXRoaXMudGlwKCksYj10aGlzLmdldFRpdGxlKCksYz10aGlzLmdldENvbnRlbnQoKTthLmZpbmQoIi5wb3BvdmVyLXRpdGxlIilbdGhpcy5vcHRpb25zLmh0bWw/Imh0bWwiOiJ0ZXh0Il0oYiksYS5maW5kKCIucG9wb3Zlci1jb250ZW50IikuY2hpbGRyZW4oKS5kZXRhY2goKS5lbmQoKVt0aGlzLm9wdGlvbnMuaHRtbD8ic3RyaW5nIj09dHlwZW9mIGM/Imh0bWwiOiJhcHBlbmQiOiJ0ZXh0Il0oYyksYS5yZW1vdmVDbGFzcygiZmFkZSB0b3AgYm90dG9tIGxlZnQgcmlnaHQgaW4iKSxhLmZpbmQoIi5wb3BvdmVyLXRpdGxlIikuaHRtbCgpfHxhLmZpbmQoIi5wb3BvdmVyLXRpdGxlIikuaGlkZSgpfSxjLnByb3RvdHlwZS5oYXNDb250ZW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0VGl0bGUoKXx8dGhpcy5nZXRDb250ZW50KCl9LGMucHJvdG90eXBlLmdldENvbnRlbnQ9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLiRlbGVtZW50LGI9dGhpcy5vcHRpb25zO3JldHVybiBhLmF0dHIoImRhdGEtY29udGVudCIpfHwoImZ1bmN0aW9uIj09dHlwZW9mIGIuY29udGVudD9iLmNvbnRlbnQuY2FsbChhWzBdKTpiLmNvbnRlbnQpfSxjLnByb3RvdHlwZS5hcnJvdz1mdW5jdGlvbigpe3JldHVybiB0aGlzLiRhcnJvdz10aGlzLiRhcnJvd3x8dGhpcy50aXAoKS5maW5kKCIuYXJyb3ciKX0sYy5wcm90b3R5cGUudGlwPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJHRpcHx8KHRoaXMuJHRpcD1hKHRoaXMub3B0aW9ucy50ZW1wbGF0ZSkpLHRoaXMuJHRpcH07dmFyIGQ9YS5mbi5wb3BvdmVyO2EuZm4ucG9wb3Zlcj1iLGEuZm4ucG9wb3Zlci5Db25zdHJ1Y3Rvcj1jLGEuZm4ucG9wb3Zlci5ub0NvbmZsaWN0PWZ1bmN0aW9uKCl7cmV0dXJuIGEuZm4ucG9wb3Zlcj1kLHRoaXN9fShqUXVlcnkpLCtmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihjLGQpe3ZhciBlPWEucHJveHkodGhpcy5wcm9jZXNzLHRoaXMpO3RoaXMuJGJvZHk9YSgiYm9keSIpLHRoaXMuJHNjcm9sbEVsZW1lbnQ9YShhKGMpLmlzKCJib2R5Iik/d2luZG93OmMpLHRoaXMub3B0aW9ucz1hLmV4dGVuZCh7fSxiLkRFRkFVTFRTLGQpLHRoaXMuc2VsZWN0b3I9KHRoaXMub3B0aW9ucy50YXJnZXR8fCIiKSsiIC5uYXYgbGkgPiBhIix0aGlzLm9mZnNldHM9W10sdGhpcy50YXJnZXRzPVtdLHRoaXMuYWN0aXZlVGFyZ2V0PW51bGwsdGhpcy5zY3JvbGxIZWlnaHQ9MCx0aGlzLiRzY3JvbGxFbGVtZW50Lm9uKCJzY3JvbGwuYnMuc2Nyb2xsc3B5IixlKSx0aGlzLnJlZnJlc2goKSx0aGlzLnByb2Nlc3MoKX1mdW5jdGlvbiBjKGMpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgZD1hKHRoaXMpLGU9ZC5kYXRhKCJicy5zY3JvbGxzcHkiKSxmPSJvYmplY3QiPT10eXBlb2YgYyYmYztlfHxkLmRhdGEoImJzLnNjcm9sbHNweSIsZT1uZXcgYih0aGlzLGYpKSwic3RyaW5nIj09dHlwZW9mIGMmJmVbY10oKX0pfWIuVkVSU0lPTj0iMy4zLjEiLGIuREVGQVVMVFM9e29mZnNldDoxMH0sYi5wcm90b3R5cGUuZ2V0U2Nyb2xsSGVpZ2h0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJHNjcm9sbEVsZW1lbnRbMF0uc2Nyb2xsSGVpZ2h0fHxNYXRoLm1heCh0aGlzLiRib2R5WzBdLnNjcm9sbEhlaWdodCxkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsSGVpZ2h0KX0sYi5wcm90b3R5cGUucmVmcmVzaD1mdW5jdGlvbigpe3ZhciBiPSJvZmZzZXQiLGM9MDthLmlzV2luZG93KHRoaXMuJHNjcm9sbEVsZW1lbnRbMF0pfHwoYj0icG9zaXRpb24iLGM9dGhpcy4kc2Nyb2xsRWxlbWVudC5zY3JvbGxUb3AoKSksdGhpcy5vZmZzZXRzPVtdLHRoaXMudGFyZ2V0cz1bXSx0aGlzLnNjcm9sbEhlaWdodD10aGlzLmdldFNjcm9sbEhlaWdodCgpO3ZhciBkPXRoaXM7dGhpcy4kYm9keS5maW5kKHRoaXMuc2VsZWN0b3IpLm1hcChmdW5jdGlvbigpe3ZhciBkPWEodGhpcyksZT1kLmRhdGEoInRhcmdldCIpfHxkLmF0dHIoImhyZWYiKSxmPS9eIy4vLnRlc3QoZSkmJmEoZSk7cmV0dXJuIGYmJmYubGVuZ3RoJiZmLmlzKCI6dmlzaWJsZSIpJiZbW2ZbYl0oKS50b3ArYyxlXV18fG51bGx9KS5zb3J0KGZ1bmN0aW9uKGEsYil7cmV0dXJuIGFbMF0tYlswXX0pLmVhY2goZnVuY3Rpb24oKXtkLm9mZnNldHMucHVzaCh0aGlzWzBdKSxkLnRhcmdldHMucHVzaCh0aGlzWzFdKX0pfSxiLnByb3RvdHlwZS5wcm9jZXNzPWZ1bmN0aW9uKCl7dmFyIGEsYj10aGlzLiRzY3JvbGxFbGVtZW50LnNjcm9sbFRvcCgpK3RoaXMub3B0aW9ucy5vZmZzZXQsYz10aGlzLmdldFNjcm9sbEhlaWdodCgpLGQ9dGhpcy5vcHRpb25zLm9mZnNldCtjLXRoaXMuJHNjcm9sbEVsZW1lbnQuaGVpZ2h0KCksZT10aGlzLm9mZnNldHMsZj10aGlzLnRhcmdldHMsZz10aGlzLmFjdGl2ZVRhcmdldDtpZih0aGlzLnNjcm9sbEhlaWdodCE9YyYmdGhpcy5yZWZyZXNoKCksYj49ZClyZXR1cm4gZyE9KGE9ZltmLmxlbmd0aC0xXSkmJnRoaXMuYWN0aXZhdGUoYSk7aWYoZyYmYjxlWzBdKXJldHVybiB0aGlzLmFjdGl2ZVRhcmdldD1udWxsLHRoaXMuY2xlYXIoKTtmb3IoYT1lLmxlbmd0aDthLS07KWchPWZbYV0mJmI+PWVbYV0mJighZVthKzFdfHxiPD1lW2ErMV0pJiZ0aGlzLmFjdGl2YXRlKGZbYV0pfSxiLnByb3RvdHlwZS5hY3RpdmF0ZT1mdW5jdGlvbihiKXt0aGlzLmFjdGl2ZVRhcmdldD1iLHRoaXMuY2xlYXIoKTt2YXIgYz10aGlzLnNlbGVjdG9yKydbZGF0YS10YXJnZXQ9IicrYisnIl0sJyt0aGlzLnNlbGVjdG9yKydbaHJlZj0iJytiKyciXScsZD1hKGMpLnBhcmVudHMoImxpIikuYWRkQ2xhc3MoImFjdGl2ZSIpO2QucGFyZW50KCIuZHJvcGRvd24tbWVudSIpLmxlbmd0aCYmKGQ9ZC5jbG9zZXN0KCJsaS5kcm9wZG93biIpLmFkZENsYXNzKCJhY3RpdmUiKSksZC50cmlnZ2VyKCJhY3RpdmF0ZS5icy5zY3JvbGxzcHkiKX0sYi5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24oKXthKHRoaXMuc2VsZWN0b3IpLnBhcmVudHNVbnRpbCh0aGlzLm9wdGlvbnMudGFyZ2V0LCIuYWN0aXZlIikucmVtb3ZlQ2xhc3MoImFjdGl2ZSIpfTt2YXIgZD1hLmZuLnNjcm9sbHNweTthLmZuLnNjcm9sbHNweT1jLGEuZm4uc2Nyb2xsc3B5LkNvbnN0cnVjdG9yPWIsYS5mbi5zY3JvbGxzcHkubm9Db25mbGljdD1mdW5jdGlvbigpe3JldHVybiBhLmZuLnNjcm9sbHNweT1kLHRoaXN9LGEod2luZG93KS5vbigibG9hZC5icy5zY3JvbGxzcHkuZGF0YS1hcGkiLGZ1bmN0aW9uKCl7YSgnW2RhdGEtc3B5PSJzY3JvbGwiXScpLmVhY2goZnVuY3Rpb24oKXt2YXIgYj1hKHRoaXMpO2MuY2FsbChiLGIuZGF0YSgpKX0pfSl9KGpRdWVyeSksK2Z1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKGIpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgZD1hKHRoaXMpLGU9ZC5kYXRhKCJicy50YWIiKTtlfHxkLmRhdGEoImJzLnRhYiIsZT1uZXcgYyh0aGlzKSksInN0cmluZyI9PXR5cGVvZiBiJiZlW2JdKCl9KX12YXIgYz1mdW5jdGlvbihiKXt0aGlzLmVsZW1lbnQ9YShiKX07Yy5WRVJTSU9OPSIzLjMuMSIsYy5UUkFOU0lUSU9OX0RVUkFUSU9OPTE1MCxjLnByb3RvdHlwZS5zaG93PWZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5lbGVtZW50LGM9Yi5jbG9zZXN0KCJ1bDpub3QoLmRyb3Bkb3duLW1lbnUpIiksZD1iLmRhdGEoInRhcmdldCIpO2lmKGR8fChkPWIuYXR0cigiaHJlZiIpLGQ9ZCYmZC5yZXBsYWNlKC8uKig/PSNbXlxzXSokKS8sIiIpKSwhYi5wYXJlbnQoImxpIikuaGFzQ2xhc3MoImFjdGl2ZSIpKXt2YXIgZT1jLmZpbmQoIi5hY3RpdmU6bGFzdCBhIiksZj1hLkV2ZW50KCJoaWRlLmJzLnRhYiIse3JlbGF0ZWRUYXJnZXQ6YlswXX0pLGc9YS5FdmVudCgic2hvdy5icy50YWIiLHtyZWxhdGVkVGFyZ2V0OmVbMF19KTtpZihlLnRyaWdnZXIoZiksYi50cmlnZ2VyKGcpLCFnLmlzRGVmYXVsdFByZXZlbnRlZCgpJiYhZi5pc0RlZmF1bHRQcmV2ZW50ZWQoKSl7dmFyIGg9YShkKTt0aGlzLmFjdGl2YXRlKGIuY2xvc2VzdCgibGkiKSxjKSx0aGlzLmFjdGl2YXRlKGgsaC5wYXJlbnQoKSxmdW5jdGlvbigpe2UudHJpZ2dlcih7dHlwZToiaGlkZGVuLmJzLnRhYiIscmVsYXRlZFRhcmdldDpiWzBdfSksYi50cmlnZ2VyKHt0eXBlOiJzaG93bi5icy50YWIiLHJlbGF0ZWRUYXJnZXQ6ZVswXX0pCn0pfX19LGMucHJvdG90eXBlLmFjdGl2YXRlPWZ1bmN0aW9uKGIsZCxlKXtmdW5jdGlvbiBmKCl7Zy5yZW1vdmVDbGFzcygiYWN0aXZlIikuZmluZCgiPiAuZHJvcGRvd24tbWVudSA+IC5hY3RpdmUiKS5yZW1vdmVDbGFzcygiYWN0aXZlIikuZW5kKCkuZmluZCgnW2RhdGEtdG9nZ2xlPSJ0YWIiXScpLmF0dHIoImFyaWEtZXhwYW5kZWQiLCExKSxiLmFkZENsYXNzKCJhY3RpdmUiKS5maW5kKCdbZGF0YS10b2dnbGU9InRhYiJdJykuYXR0cigiYXJpYS1leHBhbmRlZCIsITApLGg/KGJbMF0ub2Zmc2V0V2lkdGgsYi5hZGRDbGFzcygiaW4iKSk6Yi5yZW1vdmVDbGFzcygiZmFkZSIpLGIucGFyZW50KCIuZHJvcGRvd24tbWVudSIpJiZiLmNsb3Nlc3QoImxpLmRyb3Bkb3duIikuYWRkQ2xhc3MoImFjdGl2ZSIpLmVuZCgpLmZpbmQoJ1tkYXRhLXRvZ2dsZT0idGFiIl0nKS5hdHRyKCJhcmlhLWV4cGFuZGVkIiwhMCksZSYmZSgpfXZhciBnPWQuZmluZCgiPiAuYWN0aXZlIiksaD1lJiZhLnN1cHBvcnQudHJhbnNpdGlvbiYmKGcubGVuZ3RoJiZnLmhhc0NsYXNzKCJmYWRlIil8fCEhZC5maW5kKCI+IC5mYWRlIikubGVuZ3RoKTtnLmxlbmd0aCYmaD9nLm9uZSgiYnNUcmFuc2l0aW9uRW5kIixmKS5lbXVsYXRlVHJhbnNpdGlvbkVuZChjLlRSQU5TSVRJT05fRFVSQVRJT04pOmYoKSxnLnJlbW92ZUNsYXNzKCJpbiIpfTt2YXIgZD1hLmZuLnRhYjthLmZuLnRhYj1iLGEuZm4udGFiLkNvbnN0cnVjdG9yPWMsYS5mbi50YWIubm9Db25mbGljdD1mdW5jdGlvbigpe3JldHVybiBhLmZuLnRhYj1kLHRoaXN9O3ZhciBlPWZ1bmN0aW9uKGMpe2MucHJldmVudERlZmF1bHQoKSxiLmNhbGwoYSh0aGlzKSwic2hvdyIpfTthKGRvY3VtZW50KS5vbigiY2xpY2suYnMudGFiLmRhdGEtYXBpIiwnW2RhdGEtdG9nZ2xlPSJ0YWIiXScsZSkub24oImNsaWNrLmJzLnRhYi5kYXRhLWFwaSIsJ1tkYXRhLXRvZ2dsZT0icGlsbCJdJyxlKX0oalF1ZXJ5KSwrZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYil7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBkPWEodGhpcyksZT1kLmRhdGEoImJzLmFmZml4IiksZj0ib2JqZWN0Ij09dHlwZW9mIGImJmI7ZXx8ZC5kYXRhKCJicy5hZmZpeCIsZT1uZXcgYyh0aGlzLGYpKSwic3RyaW5nIj09dHlwZW9mIGImJmVbYl0oKX0pfXZhciBjPWZ1bmN0aW9uKGIsZCl7dGhpcy5vcHRpb25zPWEuZXh0ZW5kKHt9LGMuREVGQVVMVFMsZCksdGhpcy4kdGFyZ2V0PWEodGhpcy5vcHRpb25zLnRhcmdldCkub24oInNjcm9sbC5icy5hZmZpeC5kYXRhLWFwaSIsYS5wcm94eSh0aGlzLmNoZWNrUG9zaXRpb24sdGhpcykpLm9uKCJjbGljay5icy5hZmZpeC5kYXRhLWFwaSIsYS5wcm94eSh0aGlzLmNoZWNrUG9zaXRpb25XaXRoRXZlbnRMb29wLHRoaXMpKSx0aGlzLiRlbGVtZW50PWEoYiksdGhpcy5hZmZpeGVkPXRoaXMudW5waW49dGhpcy5waW5uZWRPZmZzZXQ9bnVsbCx0aGlzLmNoZWNrUG9zaXRpb24oKX07Yy5WRVJTSU9OPSIzLjMuMSIsYy5SRVNFVD0iYWZmaXggYWZmaXgtdG9wIGFmZml4LWJvdHRvbSIsYy5ERUZBVUxUUz17b2Zmc2V0OjAsdGFyZ2V0OndpbmRvd30sYy5wcm90b3R5cGUuZ2V0U3RhdGU9ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9dGhpcy4kdGFyZ2V0LnNjcm9sbFRvcCgpLGY9dGhpcy4kZWxlbWVudC5vZmZzZXQoKSxnPXRoaXMuJHRhcmdldC5oZWlnaHQoKTtpZihudWxsIT1jJiYidG9wIj09dGhpcy5hZmZpeGVkKXJldHVybiBjPmU/InRvcCI6ITE7aWYoImJvdHRvbSI9PXRoaXMuYWZmaXhlZClyZXR1cm4gbnVsbCE9Yz9lK3RoaXMudW5waW48PWYudG9wPyExOiJib3R0b20iOmEtZD49ZStnPyExOiJib3R0b20iO3ZhciBoPW51bGw9PXRoaXMuYWZmaXhlZCxpPWg/ZTpmLnRvcCxqPWg/ZzpiO3JldHVybiBudWxsIT1jJiZjPj1pPyJ0b3AiOm51bGwhPWQmJmkraj49YS1kPyJib3R0b20iOiExfSxjLnByb3RvdHlwZS5nZXRQaW5uZWRPZmZzZXQ9ZnVuY3Rpb24oKXtpZih0aGlzLnBpbm5lZE9mZnNldClyZXR1cm4gdGhpcy5waW5uZWRPZmZzZXQ7dGhpcy4kZWxlbWVudC5yZW1vdmVDbGFzcyhjLlJFU0VUKS5hZGRDbGFzcygiYWZmaXgiKTt2YXIgYT10aGlzLiR0YXJnZXQuc2Nyb2xsVG9wKCksYj10aGlzLiRlbGVtZW50Lm9mZnNldCgpO3JldHVybiB0aGlzLnBpbm5lZE9mZnNldD1iLnRvcC1hfSxjLnByb3RvdHlwZS5jaGVja1Bvc2l0aW9uV2l0aEV2ZW50TG9vcD1mdW5jdGlvbigpe3NldFRpbWVvdXQoYS5wcm94eSh0aGlzLmNoZWNrUG9zaXRpb24sdGhpcyksMSl9LGMucHJvdG90eXBlLmNoZWNrUG9zaXRpb249ZnVuY3Rpb24oKXtpZih0aGlzLiRlbGVtZW50LmlzKCI6dmlzaWJsZSIpKXt2YXIgYj10aGlzLiRlbGVtZW50LmhlaWdodCgpLGQ9dGhpcy5vcHRpb25zLm9mZnNldCxlPWQudG9wLGY9ZC5ib3R0b20sZz1hKCJib2R5IikuaGVpZ2h0KCk7Im9iamVjdCIhPXR5cGVvZiBkJiYoZj1lPWQpLCJmdW5jdGlvbiI9PXR5cGVvZiBlJiYoZT1kLnRvcCh0aGlzLiRlbGVtZW50KSksImZ1bmN0aW9uIj09dHlwZW9mIGYmJihmPWQuYm90dG9tKHRoaXMuJGVsZW1lbnQpKTt2YXIgaD10aGlzLmdldFN0YXRlKGcsYixlLGYpO2lmKHRoaXMuYWZmaXhlZCE9aCl7bnVsbCE9dGhpcy51bnBpbiYmdGhpcy4kZWxlbWVudC5jc3MoInRvcCIsIiIpO3ZhciBpPSJhZmZpeCIrKGg/Ii0iK2g6IiIpLGo9YS5FdmVudChpKyIuYnMuYWZmaXgiKTtpZih0aGlzLiRlbGVtZW50LnRyaWdnZXIoaiksai5pc0RlZmF1bHRQcmV2ZW50ZWQoKSlyZXR1cm47dGhpcy5hZmZpeGVkPWgsdGhpcy51bnBpbj0iYm90dG9tIj09aD90aGlzLmdldFBpbm5lZE9mZnNldCgpOm51bGwsdGhpcy4kZWxlbWVudC5yZW1vdmVDbGFzcyhjLlJFU0VUKS5hZGRDbGFzcyhpKS50cmlnZ2VyKGkucmVwbGFjZSgiYWZmaXgiLCJhZmZpeGVkIikrIi5icy5hZmZpeCIpfSJib3R0b20iPT1oJiZ0aGlzLiRlbGVtZW50Lm9mZnNldCh7dG9wOmctYi1mfSl9fTt2YXIgZD1hLmZuLmFmZml4O2EuZm4uYWZmaXg9YixhLmZuLmFmZml4LkNvbnN0cnVjdG9yPWMsYS5mbi5hZmZpeC5ub0NvbmZsaWN0PWZ1bmN0aW9uKCl7cmV0dXJuIGEuZm4uYWZmaXg9ZCx0aGlzfSxhKHdpbmRvdykub24oImxvYWQiLGZ1bmN0aW9uKCl7YSgnW2RhdGEtc3B5PSJhZmZpeCJdJykuZWFjaChmdW5jdGlvbigpe3ZhciBjPWEodGhpcyksZD1jLmRhdGEoKTtkLm9mZnNldD1kLm9mZnNldHx8e30sbnVsbCE9ZC5vZmZzZXRCb3R0b20mJihkLm9mZnNldC5ib3R0b209ZC5vZmZzZXRCb3R0b20pLG51bGwhPWQub2Zmc2V0VG9wJiYoZC5vZmZzZXQudG9wPWQub2Zmc2V0VG9wKSxiLmNhbGwoYyxkKX0pfSl9KGpRdWVyeSk7"></script>
<script src="data:application/x-javascript;base64,LyoqCiogQHByZXNlcnZlIEhUTUw1IFNoaXYgMy43LjIgfCBAYWZhcmthcyBAamRhbHRvbiBAam9uX25lYWwgQHJlbSB8IE1JVC9HUEwyIExpY2Vuc2VkCiovCi8vIE9ubHkgcnVuIHRoaXMgY29kZSBpbiBJRSA4CmlmICghIXdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKCJNU0lFIDgiKSkgewohZnVuY3Rpb24oYSxiKXtmdW5jdGlvbiBjKGEsYil7dmFyIGM9YS5jcmVhdGVFbGVtZW50KCJwIiksZD1hLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJoZWFkIilbMF18fGEuZG9jdW1lbnRFbGVtZW50O3JldHVybiBjLmlubmVySFRNTD0ieDxzdHlsZT4iK2IrIjwvc3R5bGU+IixkLmluc2VydEJlZm9yZShjLmxhc3RDaGlsZCxkLmZpcnN0Q2hpbGQpfWZ1bmN0aW9uIGQoKXt2YXIgYT10LmVsZW1lbnRzO3JldHVybiJzdHJpbmciPT10eXBlb2YgYT9hLnNwbGl0KCIgIik6YX1mdW5jdGlvbiBlKGEsYil7dmFyIGM9dC5lbGVtZW50czsic3RyaW5nIiE9dHlwZW9mIGMmJihjPWMuam9pbigiICIpKSwic3RyaW5nIiE9dHlwZW9mIGEmJihhPWEuam9pbigiICIpKSx0LmVsZW1lbnRzPWMrIiAiK2EsaihiKX1mdW5jdGlvbiBmKGEpe3ZhciBiPXNbYVtxXV07cmV0dXJuIGJ8fChiPXt9LHIrKyxhW3FdPXIsc1tyXT1iKSxifWZ1bmN0aW9uIGcoYSxjLGQpe2lmKGN8fChjPWIpLGwpcmV0dXJuIGMuY3JlYXRlRWxlbWVudChhKTtkfHwoZD1mKGMpKTt2YXIgZTtyZXR1cm4gZT1kLmNhY2hlW2FdP2QuY2FjaGVbYV0uY2xvbmVOb2RlKCk6cC50ZXN0KGEpPyhkLmNhY2hlW2FdPWQuY3JlYXRlRWxlbShhKSkuY2xvbmVOb2RlKCk6ZC5jcmVhdGVFbGVtKGEpLCFlLmNhbkhhdmVDaGlsZHJlbnx8by50ZXN0KGEpfHxlLnRhZ1Vybj9lOmQuZnJhZy5hcHBlbmRDaGlsZChlKX1mdW5jdGlvbiBoKGEsYyl7aWYoYXx8KGE9YiksbClyZXR1cm4gYS5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7Yz1jfHxmKGEpO2Zvcih2YXIgZT1jLmZyYWcuY2xvbmVOb2RlKCksZz0wLGg9ZCgpLGk9aC5sZW5ndGg7aT5nO2crKyllLmNyZWF0ZUVsZW1lbnQoaFtnXSk7cmV0dXJuIGV9ZnVuY3Rpb24gaShhLGIpe2IuY2FjaGV8fChiLmNhY2hlPXt9LGIuY3JlYXRlRWxlbT1hLmNyZWF0ZUVsZW1lbnQsYi5jcmVhdGVGcmFnPWEuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCxiLmZyYWc9Yi5jcmVhdGVGcmFnKCkpLGEuY3JlYXRlRWxlbWVudD1mdW5jdGlvbihjKXtyZXR1cm4gdC5zaGl2TWV0aG9kcz9nKGMsYSxiKTpiLmNyZWF0ZUVsZW0oYyl9LGEuY3JlYXRlRG9jdW1lbnRGcmFnbWVudD1GdW5jdGlvbigiaCxmIiwicmV0dXJuIGZ1bmN0aW9uKCl7dmFyIG49Zi5jbG9uZU5vZGUoKSxjPW4uY3JlYXRlRWxlbWVudDtoLnNoaXZNZXRob2RzJiYoIitkKCkuam9pbigpLnJlcGxhY2UoL1tcd1wtOl0rL2csZnVuY3Rpb24oYSl7cmV0dXJuIGIuY3JlYXRlRWxlbShhKSxiLmZyYWcuY3JlYXRlRWxlbWVudChhKSwnYygiJythKyciKSd9KSsiKTtyZXR1cm4gbn0iKSh0LGIuZnJhZyl9ZnVuY3Rpb24gaihhKXthfHwoYT1iKTt2YXIgZD1mKGEpO3JldHVybiF0LnNoaXZDU1N8fGt8fGQuaGFzQ1NTfHwoZC5oYXNDU1M9ISFjKGEsImFydGljbGUsYXNpZGUsZGlhbG9nLGZpZ2NhcHRpb24sZmlndXJlLGZvb3RlcixoZWFkZXIsaGdyb3VwLG1haW4sbmF2LHNlY3Rpb257ZGlzcGxheTpibG9ja31tYXJre2JhY2tncm91bmQ6I0ZGMDtjb2xvcjojMDAwfXRlbXBsYXRle2Rpc3BsYXk6bm9uZX0iKSksbHx8aShhLGQpLGF9dmFyIGssbCxtPSIzLjcuMiIsbj1hLmh0bWw1fHx7fSxvPS9ePHxeKD86YnV0dG9ufG1hcHxzZWxlY3R8dGV4dGFyZWF8b2JqZWN0fGlmcmFtZXxvcHRpb258b3B0Z3JvdXApJC9pLHA9L14oPzphfGJ8Y29kZXxkaXZ8ZmllbGRzZXR8aDF8aDJ8aDN8aDR8aDV8aDZ8aXxsYWJlbHxsaXxvbHxwfHF8c3BhbnxzdHJvbmd8c3R5bGV8dGFibGV8dGJvZHl8dGR8dGh8dHJ8dWwpJC9pLHE9Il9odG1sNXNoaXYiLHI9MCxzPXt9OyFmdW5jdGlvbigpe3RyeXt2YXIgYT1iLmNyZWF0ZUVsZW1lbnQoImEiKTthLmlubmVySFRNTD0iPHh5ej48L3h5ej4iLGs9ImhpZGRlbiJpbiBhLGw9MT09YS5jaGlsZE5vZGVzLmxlbmd0aHx8ZnVuY3Rpb24oKXtiLmNyZWF0ZUVsZW1lbnQoImEiKTt2YXIgYT1iLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtyZXR1cm4idW5kZWZpbmVkIj09dHlwZW9mIGEuY2xvbmVOb2RlfHwidW5kZWZpbmVkIj09dHlwZW9mIGEuY3JlYXRlRG9jdW1lbnRGcmFnbWVudHx8InVuZGVmaW5lZCI9PXR5cGVvZiBhLmNyZWF0ZUVsZW1lbnR9KCl9Y2F0Y2goYyl7az0hMCxsPSEwfX0oKTt2YXIgdD17ZWxlbWVudHM6bi5lbGVtZW50c3x8ImFiYnIgYXJ0aWNsZSBhc2lkZSBhdWRpbyBiZGkgY2FudmFzIGRhdGEgZGF0YWxpc3QgZGV0YWlscyBkaWFsb2cgZmlnY2FwdGlvbiBmaWd1cmUgZm9vdGVyIGhlYWRlciBoZ3JvdXAgbWFpbiBtYXJrIG1ldGVyIG5hdiBvdXRwdXQgcGljdHVyZSBwcm9ncmVzcyBzZWN0aW9uIHN1bW1hcnkgdGVtcGxhdGUgdGltZSB2aWRlbyIsdmVyc2lvbjptLHNoaXZDU1M6bi5zaGl2Q1NTIT09ITEsc3VwcG9ydHNVbmtub3duRWxlbWVudHM6bCxzaGl2TWV0aG9kczpuLnNoaXZNZXRob2RzIT09ITEsdHlwZToiZGVmYXVsdCIsc2hpdkRvY3VtZW50OmosY3JlYXRlRWxlbWVudDpnLGNyZWF0ZURvY3VtZW50RnJhZ21lbnQ6aCxhZGRFbGVtZW50czplfTthLmh0bWw1PXQsaihiKX0odGhpcyxkb2N1bWVudCk7Cn07Cg=="></script>
<script src="data:application/x-javascript;base64,LyohIFJlc3BvbmQuanMgdjEuNC4yOiBtaW4vbWF4LXdpZHRoIG1lZGlhIHF1ZXJ5IHBvbHlmaWxsICogQ29weXJpZ2h0IDIwMTMgU2NvdHQgSmVobAogKiBMaWNlbnNlZCB1bmRlciBodHRwczovL2dpdGh1Yi5jb20vc2NvdHRqZWhsL1Jlc3BvbmQvYmxvYi9tYXN0ZXIvTElDRU5TRS1NSVQKICogICovCgppZiAoISF3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgiTVNJRSA4IikpIHsKIWZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjthLm1hdGNoTWVkaWE9YS5tYXRjaE1lZGlhfHxmdW5jdGlvbihhKXt2YXIgYixjPWEuZG9jdW1lbnRFbGVtZW50LGQ9Yy5maXJzdEVsZW1lbnRDaGlsZHx8Yy5maXJzdENoaWxkLGU9YS5jcmVhdGVFbGVtZW50KCJib2R5IiksZj1hLmNyZWF0ZUVsZW1lbnQoImRpdiIpO3JldHVybiBmLmlkPSJtcS10ZXN0LTEiLGYuc3R5bGUuY3NzVGV4dD0icG9zaXRpb246YWJzb2x1dGU7dG9wOi0xMDBlbSIsZS5zdHlsZS5iYWNrZ3JvdW5kPSJub25lIixlLmFwcGVuZENoaWxkKGYpLGZ1bmN0aW9uKGEpe3JldHVybiBmLmlubmVySFRNTD0nJnNoeTs8c3R5bGUgbWVkaWE9IicrYSsnIj4gI21xLXRlc3QtMSB7IHdpZHRoOiA0MnB4OyB9PC9zdHlsZT4nLGMuaW5zZXJ0QmVmb3JlKGUsZCksYj00Mj09PWYub2Zmc2V0V2lkdGgsYy5yZW1vdmVDaGlsZChlKSx7bWF0Y2hlczpiLG1lZGlhOmF9fX0oYS5kb2N1bWVudCl9KHRoaXMpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKCl7dSghMCl9dmFyIGM9e307YS5yZXNwb25kPWMsYy51cGRhdGU9ZnVuY3Rpb24oKXt9O3ZhciBkPVtdLGU9ZnVuY3Rpb24oKXt2YXIgYj0hMTt0cnl7Yj1uZXcgYS5YTUxIdHRwUmVxdWVzdH1jYXRjaChjKXtiPW5ldyBhLkFjdGl2ZVhPYmplY3QoIk1pY3Jvc29mdC5YTUxIVFRQIil9cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGJ9fSgpLGY9ZnVuY3Rpb24oYSxiKXt2YXIgYz1lKCk7YyYmKGMub3BlbigiR0VUIixhLCEwKSxjLm9ucmVhZHlzdGF0ZWNoYW5nZT1mdW5jdGlvbigpezQhPT1jLnJlYWR5U3RhdGV8fDIwMCE9PWMuc3RhdHVzJiYzMDQhPT1jLnN0YXR1c3x8YihjLnJlc3BvbnNlVGV4dCl9LDQhPT1jLnJlYWR5U3RhdGUmJmMuc2VuZChudWxsKSl9O2lmKGMuYWpheD1mLGMucXVldWU9ZCxjLnJlZ2V4PXttZWRpYTovQG1lZGlhW15ce10rXHsoW15ce1x9XSpce1teXH1ce10qXH0pKy9naSxrZXlmcmFtZXM6L0AoPzpcLSg/Om98bW96fHdlYmtpdClcLSk/a2V5ZnJhbWVzW15ce10rXHsoPzpbXlx7XH1dKlx7W15cfVx7XSpcfSkrW15cfV0qXH0vZ2ksdXJsczovKHVybFwoKVsnIl0/KFteXC9cKSciXVteOlwpJyJdKylbJyJdPyhcKSkvZyxmaW5kU3R5bGVzOi9AbWVkaWEgKihbXlx7XSspXHsoW1xTXHNdKz8pJC8sb25seTovKG9ubHlccyspPyhbYS16QS1aXSspXHM/LyxtaW53Oi9cKFtcc10qbWluXC13aWR0aFxzKjpbXHNdKihbXHNdKlswLTlcLl0rKShweHxlbSlbXHNdKlwpLyxtYXh3Oi9cKFtcc10qbWF4XC13aWR0aFxzKjpbXHNdKihbXHNdKlswLTlcLl0rKShweHxlbSlbXHNdKlwpL30sYy5tZWRpYVF1ZXJpZXNTdXBwb3J0ZWQ9YS5tYXRjaE1lZGlhJiZudWxsIT09YS5tYXRjaE1lZGlhKCJvbmx5IGFsbCIpJiZhLm1hdGNoTWVkaWEoIm9ubHkgYWxsIikubWF0Y2hlcywhYy5tZWRpYVF1ZXJpZXNTdXBwb3J0ZWQpe3ZhciBnLGgsaSxqPWEuZG9jdW1lbnQsaz1qLmRvY3VtZW50RWxlbWVudCxsPVtdLG09W10sbj1bXSxvPXt9LHA9MzAscT1qLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJoZWFkIilbMF18fGsscj1qLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJiYXNlIilbMF0scz1xLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJsaW5rIiksdD1mdW5jdGlvbigpe3ZhciBhLGI9ai5jcmVhdGVFbGVtZW50KCJkaXYiKSxjPWouYm9keSxkPWsuc3R5bGUuZm9udFNpemUsZT1jJiZjLnN0eWxlLmZvbnRTaXplLGY9ITE7cmV0dXJuIGIuc3R5bGUuY3NzVGV4dD0icG9zaXRpb246YWJzb2x1dGU7Zm9udC1zaXplOjFlbTt3aWR0aDoxZW0iLGN8fChjPWY9ai5jcmVhdGVFbGVtZW50KCJib2R5IiksYy5zdHlsZS5iYWNrZ3JvdW5kPSJub25lIiksay5zdHlsZS5mb250U2l6ZT0iMTAwJSIsYy5zdHlsZS5mb250U2l6ZT0iMTAwJSIsYy5hcHBlbmRDaGlsZChiKSxmJiZrLmluc2VydEJlZm9yZShjLGsuZmlyc3RDaGlsZCksYT1iLm9mZnNldFdpZHRoLGY/ay5yZW1vdmVDaGlsZChjKTpjLnJlbW92ZUNoaWxkKGIpLGsuc3R5bGUuZm9udFNpemU9ZCxlJiYoYy5zdHlsZS5mb250U2l6ZT1lKSxhPWk9cGFyc2VGbG9hdChhKX0sdT1mdW5jdGlvbihiKXt2YXIgYz0iY2xpZW50V2lkdGgiLGQ9a1tjXSxlPSJDU1MxQ29tcGF0Ij09PWouY29tcGF0TW9kZSYmZHx8ai5ib2R5W2NdfHxkLGY9e30sbz1zW3MubGVuZ3RoLTFdLHI9KG5ldyBEYXRlKS5nZXRUaW1lKCk7aWYoYiYmZyYmcD5yLWcpcmV0dXJuIGEuY2xlYXJUaW1lb3V0KGgpLGg9YS5zZXRUaW1lb3V0KHUscCksdm9pZCAwO2c9cjtmb3IodmFyIHYgaW4gbClpZihsLmhhc093blByb3BlcnR5KHYpKXt2YXIgdz1sW3ZdLHg9dy5taW53LHk9dy5tYXh3LHo9bnVsbD09PXgsQT1udWxsPT09eSxCPSJlbSI7eCYmKHg9cGFyc2VGbG9hdCh4KSooeC5pbmRleE9mKEIpPi0xP2l8fHQoKToxKSkseSYmKHk9cGFyc2VGbG9hdCh5KSooeS5pbmRleE9mKEIpPi0xP2l8fHQoKToxKSksdy5oYXNxdWVyeSYmKHomJkF8fCEoenx8ZT49eCl8fCEoQXx8eT49ZSkpfHwoZlt3Lm1lZGlhXXx8KGZbdy5tZWRpYV09W10pLGZbdy5tZWRpYV0ucHVzaChtW3cucnVsZXNdKSl9Zm9yKHZhciBDIGluIG4pbi5oYXNPd25Qcm9wZXJ0eShDKSYmbltDXSYmbltDXS5wYXJlbnROb2RlPT09cSYmcS5yZW1vdmVDaGlsZChuW0NdKTtuLmxlbmd0aD0wO2Zvcih2YXIgRCBpbiBmKWlmKGYuaGFzT3duUHJvcGVydHkoRCkpe3ZhciBFPWouY3JlYXRlRWxlbWVudCgic3R5bGUiKSxGPWZbRF0uam9pbigiXG4iKTtFLnR5cGU9InRleHQvY3NzIixFLm1lZGlhPUQscS5pbnNlcnRCZWZvcmUoRSxvLm5leHRTaWJsaW5nKSxFLnN0eWxlU2hlZXQ/RS5zdHlsZVNoZWV0LmNzc1RleHQ9RjpFLmFwcGVuZENoaWxkKGouY3JlYXRlVGV4dE5vZGUoRikpLG4ucHVzaChFKX19LHY9ZnVuY3Rpb24oYSxiLGQpe3ZhciBlPWEucmVwbGFjZShjLnJlZ2V4LmtleWZyYW1lcywiIikubWF0Y2goYy5yZWdleC5tZWRpYSksZj1lJiZlLmxlbmd0aHx8MDtiPWIuc3Vic3RyaW5nKDAsYi5sYXN0SW5kZXhPZigiLyIpKTt2YXIgZz1mdW5jdGlvbihhKXtyZXR1cm4gYS5yZXBsYWNlKGMucmVnZXgudXJscywiJDEiK2IrIiQyJDMiKX0saD0hZiYmZDtiLmxlbmd0aCYmKGIrPSIvIiksaCYmKGY9MSk7Zm9yKHZhciBpPTA7Zj5pO2krKyl7dmFyIGosayxuLG87aD8oaj1kLG0ucHVzaChnKGEpKSk6KGo9ZVtpXS5tYXRjaChjLnJlZ2V4LmZpbmRTdHlsZXMpJiZSZWdFeHAuJDEsbS5wdXNoKFJlZ0V4cC4kMiYmZyhSZWdFeHAuJDIpKSksbj1qLnNwbGl0KCIsIiksbz1uLmxlbmd0aDtmb3IodmFyIHA9MDtvPnA7cCsrKWs9bltwXSxsLnB1c2goe21lZGlhOmsuc3BsaXQoIigiKVswXS5tYXRjaChjLnJlZ2V4Lm9ubHkpJiZSZWdFeHAuJDJ8fCJhbGwiLHJ1bGVzOm0ubGVuZ3RoLTEsaGFzcXVlcnk6ay5pbmRleE9mKCIoIik+LTEsbWludzprLm1hdGNoKGMucmVnZXgubWludykmJnBhcnNlRmxvYXQoUmVnRXhwLiQxKSsoUmVnRXhwLiQyfHwiIiksbWF4dzprLm1hdGNoKGMucmVnZXgubWF4dykmJnBhcnNlRmxvYXQoUmVnRXhwLiQxKSsoUmVnRXhwLiQyfHwiIil9KX11KCl9LHc9ZnVuY3Rpb24oKXtpZihkLmxlbmd0aCl7dmFyIGI9ZC5zaGlmdCgpO2YoYi5ocmVmLGZ1bmN0aW9uKGMpe3YoYyxiLmhyZWYsYi5tZWRpYSksb1tiLmhyZWZdPSEwLGEuc2V0VGltZW91dChmdW5jdGlvbigpe3coKX0sMCl9KX19LHg9ZnVuY3Rpb24oKXtmb3IodmFyIGI9MDtiPHMubGVuZ3RoO2IrKyl7dmFyIGM9c1tiXSxlPWMuaHJlZixmPWMubWVkaWEsZz1jLnJlbCYmInN0eWxlc2hlZXQiPT09Yy5yZWwudG9Mb3dlckNhc2UoKTtlJiZnJiYhb1tlXSYmKGMuc3R5bGVTaGVldCYmYy5zdHlsZVNoZWV0LnJhd0Nzc1RleHQ/KHYoYy5zdHlsZVNoZWV0LnJhd0Nzc1RleHQsZSxmKSxvW2VdPSEwKTooIS9eKFthLXpBLVo6XSpcL1wvKS8udGVzdChlKSYmIXJ8fGUucmVwbGFjZShSZWdFeHAuJDEsIiIpLnNwbGl0KCIvIilbMF09PT1hLmxvY2F0aW9uLmhvc3QpJiYoIi8vIj09PWUuc3Vic3RyaW5nKDAsMikmJihlPWEubG9jYXRpb24ucHJvdG9jb2wrZSksZC5wdXNoKHtocmVmOmUsbWVkaWE6Zn0pKSl9dygpfTt4KCksYy51cGRhdGU9eCxjLmdldEVtVmFsdWU9dCxhLmFkZEV2ZW50TGlzdGVuZXI/YS5hZGRFdmVudExpc3RlbmVyKCJyZXNpemUiLGIsITEpOmEuYXR0YWNoRXZlbnQmJmEuYXR0YWNoRXZlbnQoIm9ucmVzaXplIixiKX19KHRoaXMpOwp9Ow=="></script>
<style type="text/css">
/*!
 * bootswatch v3.3.1+1
 * Homepage: http://bootswatch.com
 * Copyright 2012-2014 Thomas Park
 * Licensed under MIT
 * Based on Bootstrap
*//*! normalize.css v3.0.2 | MIT License | git.io/normalize */html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,hgroup,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block;vertical-align:baseline}audio:not([controls]){display:none;height:0}[hidden],template{display:none}a{background-color:transparent}a:active,a:hover{outline:0}abbr[title]{border-bottom:1px dotted}b,strong{font-weight:bold}dfn{font-style:italic}h1{font-size:2em;margin:0.67em 0}mark{background:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sup{top:-0.5em}sub{bottom:-0.25em}img{border:0}svg:not(:root){overflow:hidden}figure{margin:1em 40px}hr{-moz-box-sizing:content-box;-webkit-box-sizing:content-box;box-sizing:content-box;height:0}pre{overflow:auto}code,kbd,pre,samp{font-family:monospace, monospace;font-size:1em}button,input,optgroup,select,textarea{color:inherit;font:inherit;margin:0}button{overflow:visible}button,select{text-transform:none}button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}button[disabled],html input[disabled]{cursor:default}button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}input{line-height:normal}input[type="checkbox"],input[type="radio"]{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;padding:0}input[type="number"]::-webkit-inner-spin-button,input[type="number"]::-webkit-outer-spin-button{height:auto}input[type="search"]{-webkit-appearance:textfield;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;box-sizing:content-box}input[type="search"]::-webkit-search-cancel-button,input[type="search"]::-webkit-search-decoration{-webkit-appearance:none}fieldset{border:1px solid #c0c0c0;margin:0 2px;padding:0.35em 0.625em 0.75em}legend{border:0;padding:0}textarea{overflow:auto}optgroup{font-weight:bold}table{border-collapse:collapse;border-spacing:0}td,th{padding:0}/*! Source: https://github.com/h5bp/html5-boilerplate/blob/master/src/css/main.css */@media print{*,*:before,*:after{background:transparent !important;color:#000 !important;-webkit-box-shadow:none !important;box-shadow:none !important;text-shadow:none !important}a,a:visited{text-decoration:underline}a[href]:after{content:" (" attr(href) ")"}abbr[title]:after{content:" (" attr(title) ")"}a[href^="#"]:after,a[href^="javascript:"]:after{content:""}pre,blockquote{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}tr,img{page-break-inside:avoid}img{max-width:100% !important}p,h2,h3{orphans:3;widows:3}h2,h3{page-break-after:avoid}select{background:#fff !important}.navbar{display:none}.btn>.caret,.dropup>.btn>.caret{border-top-color:#000 !important}.label{border:1px solid #000}.table{border-collapse:collapse !important}.table td,.table th{background-color:#fff !important}.table-bordered th,.table-bordered td{border:1px solid #ddd !important}}@font-face{font-family:'Glyphicons Halflings';src:url('../fonts/glyphicons-halflings-regular.eot');src:url('../fonts/glyphicons-halflings-regular.eot?#iefix') format('embedded-opentype'),url('../fonts/glyphicons-halflings-regular.woff') format('woff'),url('../fonts/glyphicons-halflings-regular.ttf') format('truetype'),url('../fonts/glyphicons-halflings-regular.svg#glyphicons_halflingsregular') format('svg')}.glyphicon{position:relative;top:1px;display:inline-block;font-family:'Glyphicons Halflings';font-style:normal;font-weight:normal;line-height:1;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.glyphicon-asterisk:before{content:"\2a"}.glyphicon-plus:before{content:"\2b"}.glyphicon-euro:before,.glyphicon-eur:before{content:"\20ac"}.glyphicon-minus:before{content:"\2212"}.glyphicon-cloud:before{content:"\2601"}.glyphicon-envelope:before{content:"\2709"}.glyphicon-pencil:before{content:"\270f"}.glyphicon-glass:before{content:"\e001"}.glyphicon-music:before{content:"\e002"}.glyphicon-search:before{content:"\e003"}.glyphicon-heart:before{content:"\e005"}.glyphicon-star:before{content:"\e006"}.glyphicon-star-empty:before{content:"\e007"}.glyphicon-user:before{content:"\e008"}.glyphicon-film:before{content:"\e009"}.glyphicon-th-large:before{content:"\e010"}.glyphicon-th:before{content:"\e011"}.glyphicon-th-list:before{content:"\e012"}.glyphicon-ok:before{content:"\e013"}.glyphicon-remove:before{content:"\e014"}.glyphicon-zoom-in:before{content:"\e015"}.glyphicon-zoom-out:before{content:"\e016"}.glyphicon-off:before{content:"\e017"}.glyphicon-signal:before{content:"\e018"}.glyphicon-cog:before{content:"\e019"}.glyphicon-trash:before{content:"\e020"}.glyphicon-home:before{content:"\e021"}.glyphicon-file:before{content:"\e022"}.glyphicon-time:before{content:"\e023"}.glyphicon-road:before{content:"\e024"}.glyphicon-download-alt:before{content:"\e025"}.glyphicon-download:before{content:"\e026"}.glyphicon-upload:before{content:"\e027"}.glyphicon-inbox:before{content:"\e028"}.glyphicon-play-circle:before{content:"\e029"}.glyphicon-repeat:before{content:"\e030"}.glyphicon-refresh:before{content:"\e031"}.glyphicon-list-alt:before{content:"\e032"}.glyphicon-lock:before{content:"\e033"}.glyphicon-flag:before{content:"\e034"}.glyphicon-headphones:before{content:"\e035"}.glyphicon-volume-off:before{content:"\e036"}.glyphicon-volume-down:before{content:"\e037"}.glyphicon-volume-up:before{content:"\e038"}.glyphicon-qrcode:before{content:"\e039"}.glyphicon-barcode:before{content:"\e040"}.glyphicon-tag:before{content:"\e041"}.glyphicon-tags:before{content:"\e042"}.glyphicon-book:before{content:"\e043"}.glyphicon-bookmark:before{content:"\e044"}.glyphicon-print:before{content:"\e045"}.glyphicon-camera:before{content:"\e046"}.glyphicon-font:before{content:"\e047"}.glyphicon-bold:before{content:"\e048"}.glyphicon-italic:before{content:"\e049"}.glyphicon-text-height:before{content:"\e050"}.glyphicon-text-width:before{content:"\e051"}.glyphicon-align-left:before{content:"\e052"}.glyphicon-align-center:before{content:"\e053"}.glyphicon-align-right:before{content:"\e054"}.glyphicon-align-justify:before{content:"\e055"}.glyphicon-list:before{content:"\e056"}.glyphicon-indent-left:before{content:"\e057"}.glyphicon-indent-right:before{content:"\e058"}.glyphicon-facetime-video:before{content:"\e059"}.glyphicon-picture:before{content:"\e060"}.glyphicon-map-marker:before{content:"\e062"}.glyphicon-adjust:before{content:"\e063"}.glyphicon-tint:before{content:"\e064"}.glyphicon-edit:before{content:"\e065"}.glyphicon-share:before{content:"\e066"}.glyphicon-check:before{content:"\e067"}.glyphicon-move:before{content:"\e068"}.glyphicon-step-backward:before{content:"\e069"}.glyphicon-fast-backward:before{content:"\e070"}.glyphicon-backward:before{content:"\e071"}.glyphicon-play:before{content:"\e072"}.glyphicon-pause:before{content:"\e073"}.glyphicon-stop:before{content:"\e074"}.glyphicon-forward:before{content:"\e075"}.glyphicon-fast-forward:before{content:"\e076"}.glyphicon-step-forward:before{content:"\e077"}.glyphicon-eject:before{content:"\e078"}.glyphicon-chevron-left:before{content:"\e079"}.glyphicon-chevron-right:before{content:"\e080"}.glyphicon-plus-sign:before{content:"\e081"}.glyphicon-minus-sign:before{content:"\e082"}.glyphicon-remove-sign:before{content:"\e083"}.glyphicon-ok-sign:before{content:"\e084"}.glyphicon-question-sign:before{content:"\e085"}.glyphicon-info-sign:before{content:"\e086"}.glyphicon-screenshot:before{content:"\e087"}.glyphicon-remove-circle:before{content:"\e088"}.glyphicon-ok-circle:before{content:"\e089"}.glyphicon-ban-circle:before{content:"\e090"}.glyphicon-arrow-left:before{content:"\e091"}.glyphicon-arrow-right:before{content:"\e092"}.glyphicon-arrow-up:before{content:"\e093"}.glyphicon-arrow-down:before{content:"\e094"}.glyphicon-share-alt:before{content:"\e095"}.glyphicon-resize-full:before{content:"\e096"}.glyphicon-resize-small:before{content:"\e097"}.glyphicon-exclamation-sign:before{content:"\e101"}.glyphicon-gift:before{content:"\e102"}.glyphicon-leaf:before{content:"\e103"}.glyphicon-fire:before{content:"\e104"}.glyphicon-eye-open:before{content:"\e105"}.glyphicon-eye-close:before{content:"\e106"}.glyphicon-warning-sign:before{content:"\e107"}.glyphicon-plane:before{content:"\e108"}.glyphicon-calendar:before{content:"\e109"}.glyphicon-random:before{content:"\e110"}.glyphicon-comment:before{content:"\e111"}.glyphicon-magnet:before{content:"\e112"}.glyphicon-chevron-up:before{content:"\e113"}.glyphicon-chevron-down:before{content:"\e114"}.glyphicon-retweet:before{content:"\e115"}.glyphicon-shopping-cart:before{content:"\e116"}.glyphicon-folder-close:before{content:"\e117"}.glyphicon-folder-open:before{content:"\e118"}.glyphicon-resize-vertical:before{content:"\e119"}.glyphicon-resize-horizontal:before{content:"\e120"}.glyphicon-hdd:before{content:"\e121"}.glyphicon-bullhorn:before{content:"\e122"}.glyphicon-bell:before{content:"\e123"}.glyphicon-certificate:before{content:"\e124"}.glyphicon-thumbs-up:before{content:"\e125"}.glyphicon-thumbs-down:before{content:"\e126"}.glyphicon-hand-right:before{content:"\e127"}.glyphicon-hand-left:before{content:"\e128"}.glyphicon-hand-up:before{content:"\e129"}.glyphicon-hand-down:before{content:"\e130"}.glyphicon-circle-arrow-right:before{content:"\e131"}.glyphicon-circle-arrow-left:before{content:"\e132"}.glyphicon-circle-arrow-up:before{content:"\e133"}.glyphicon-circle-arrow-down:before{content:"\e134"}.glyphicon-globe:before{content:"\e135"}.glyphicon-wrench:before{content:"\e136"}.glyphicon-tasks:before{content:"\e137"}.glyphicon-filter:before{content:"\e138"}.glyphicon-briefcase:before{content:"\e139"}.glyphicon-fullscreen:before{content:"\e140"}.glyphicon-dashboard:before{content:"\e141"}.glyphicon-paperclip:before{content:"\e142"}.glyphicon-heart-empty:before{content:"\e143"}.glyphicon-link:before{content:"\e144"}.glyphicon-phone:before{content:"\e145"}.glyphicon-pushpin:before{content:"\e146"}.glyphicon-usd:before{content:"\e148"}.glyphicon-gbp:before{content:"\e149"}.glyphicon-sort:before{content:"\e150"}.glyphicon-sort-by-alphabet:before{content:"\e151"}.glyphicon-sort-by-alphabet-alt:before{content:"\e152"}.glyphicon-sort-by-order:before{content:"\e153"}.glyphicon-sort-by-order-alt:before{content:"\e154"}.glyphicon-sort-by-attributes:before{content:"\e155"}.glyphicon-sort-by-attributes-alt:before{content:"\e156"}.glyphicon-unchecked:before{content:"\e157"}.glyphicon-expand:before{content:"\e158"}.glyphicon-collapse-down:before{content:"\e159"}.glyphicon-collapse-up:before{content:"\e160"}.glyphicon-log-in:before{content:"\e161"}.glyphicon-flash:before{content:"\e162"}.glyphicon-log-out:before{content:"\e163"}.glyphicon-new-window:before{content:"\e164"}.glyphicon-record:before{content:"\e165"}.glyphicon-save:before{content:"\e166"}.glyphicon-open:before{content:"\e167"}.glyphicon-saved:before{content:"\e168"}.glyphicon-import:before{content:"\e169"}.glyphicon-export:before{content:"\e170"}.glyphicon-send:before{content:"\e171"}.glyphicon-floppy-disk:before{content:"\e172"}.glyphicon-floppy-saved:before{content:"\e173"}.glyphicon-floppy-remove:before{content:"\e174"}.glyphicon-floppy-save:before{content:"\e175"}.glyphicon-floppy-open:before{content:"\e176"}.glyphicon-credit-card:before{content:"\e177"}.glyphicon-transfer:before{content:"\e178"}.glyphicon-cutlery:before{content:"\e179"}.glyphicon-header:before{content:"\e180"}.glyphicon-compressed:before{content:"\e181"}.glyphicon-earphone:before{content:"\e182"}.glyphicon-phone-alt:before{content:"\e183"}.glyphicon-tower:before{content:"\e184"}.glyphicon-stats:before{content:"\e185"}.glyphicon-sd-video:before{content:"\e186"}.glyphicon-hd-video:before{content:"\e187"}.glyphicon-subtitles:before{content:"\e188"}.glyphicon-sound-stereo:before{content:"\e189"}.glyphicon-sound-dolby:before{content:"\e190"}.glyphicon-sound-5-1:before{content:"\e191"}.glyphicon-sound-6-1:before{content:"\e192"}.glyphicon-sound-7-1:before{content:"\e193"}.glyphicon-copyright-mark:before{content:"\e194"}.glyphicon-registration-mark:before{content:"\e195"}.glyphicon-cloud-download:before{content:"\e197"}.glyphicon-cloud-upload:before{content:"\e198"}.glyphicon-tree-conifer:before{content:"\e199"}.glyphicon-tree-deciduous:before{content:"\e200"}*{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}*:before,*:after{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}html{font-size:10px;-webkit-tap-highlight-color:rgba(0,0,0,0)}body{font-family:"Helvetica Neue",Helvetica,Arial,sans-serif;font-size:14px;line-height:1.42857143;color:#555555;background-color:#ffffff}input,button,select,textarea{font-family:inherit;font-size:inherit;line-height:inherit}a{color:#2fa4e7;text-decoration:none}a:hover,a:focus{color:#157ab5;text-decoration:underline}a:focus{outline:thin dotted;outline:5px auto -webkit-focus-ring-color;outline-offset:-2px}figure{margin:0}img{vertical-align:middle}.img-responsive,.thumbnail>img,.thumbnail a>img,.carousel-inner>.item>img,.carousel-inner>.item>a>img{display:block;max-width:100%;height:auto}.img-rounded{border-radius:6px}.img-thumbnail{padding:4px;line-height:1.42857143;background-color:#ffffff;border:1px solid #dddddd;border-radius:4px;-webkit-transition:all .2s ease-in-out;-o-transition:all .2s ease-in-out;transition:all .2s ease-in-out;display:inline-block;max-width:100%;height:auto}.img-circle{border-radius:50%}hr{margin-top:20px;margin-bottom:20px;border:0;border-top:1px solid #eeeeee}.sr-only{position:absolute;width:1px;height:1px;margin:-1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);border:0}.sr-only-focusable:active,.sr-only-focusable:focus{position:static;width:auto;height:auto;margin:0;overflow:visible;clip:auto}h1,h2,h3,h4,h5,h6,.h1,.h2,.h3,.h4,.h5,.h6{font-family:"Helvetica Neue",Helvetica,Arial,sans-serif;font-weight:500;line-height:1.1;color:#317eac}h1 small,h2 small,h3 small,h4 small,h5 small,h6 small,.h1 small,.h2 small,.h3 small,.h4 small,.h5 small,.h6 small,h1 .small,h2 .small,h3 .small,h4 .small,h5 .small,h6 .small,.h1 .small,.h2 .small,.h3 .small,.h4 .small,.h5 .small,.h6 .small{font-weight:normal;line-height:1;color:#999999}h1,.h1,h2,.h2,h3,.h3{margin-top:20px;margin-bottom:10px}h1 small,.h1 small,h2 small,.h2 small,h3 small,.h3 small,h1 .small,.h1 .small,h2 .small,.h2 .small,h3 .small,.h3 .small{font-size:65%}h4,.h4,h5,.h5,h6,.h6{margin-top:10px;margin-bottom:10px}h4 small,.h4 small,h5 small,.h5 small,h6 small,.h6 small,h4 .small,.h4 .small,h5 .small,.h5 .small,h6 .small,.h6 .small{font-size:75%}h1,.h1{font-size:36px}h2,.h2{font-size:30px}h3,.h3{font-size:24px}h4,.h4{font-size:18px}h5,.h5{font-size:14px}h6,.h6{font-size:12px}p{margin:0 0 10px}.lead{margin-bottom:20px;font-size:16px;font-weight:300;line-height:1.4}@media (min-width:768px){.lead{font-size:21px}}small,.small{font-size:85%}mark,.mark{background-color:#fcf8e3;padding:.2em}.text-left{text-align:left}.text-right{text-align:right}.text-center{text-align:center}.text-justify{text-align:justify}.text-nowrap{white-space:nowrap}.text-lowercase{text-transform:lowercase}.text-uppercase{text-transform:uppercase}.text-capitalize{text-transform:capitalize}.text-muted{color:#999999}.text-primary{color:#2fa4e7}a.text-primary:hover{color:#178acc}.text-success{color:#468847}a.text-success:hover{color:#356635}.text-info{color:#3a87ad}a.text-info:hover{color:#2d6987}.text-warning{color:#c09853}a.text-warning:hover{color:#a47e3c}.text-danger{color:#b94a48}a.text-danger:hover{color:#953b39}.bg-primary{color:#fff;background-color:#2fa4e7}a.bg-primary:hover{background-color:#178acc}.bg-success{background-color:#dff0d8}a.bg-success:hover{background-color:#c1e2b3}.bg-info{background-color:#d9edf7}a.bg-info:hover{background-color:#afd9ee}.bg-warning{background-color:#fcf8e3}a.bg-warning:hover{background-color:#f7ecb5}.bg-danger{background-color:#f2dede}a.bg-danger:hover{background-color:#e4b9b9}.page-header{padding-bottom:9px;margin:40px 0 20px;border-bottom:1px solid #eeeeee}ul,ol{margin-top:0;margin-bottom:10px}ul ul,ol ul,ul ol,ol ol{margin-bottom:0}.list-unstyled{padding-left:0;list-style:none}.list-inline{padding-left:0;list-style:none;margin-left:-5px}.list-inline>li{display:inline-block;padding-left:5px;padding-right:5px}dl{margin-top:0;margin-bottom:20px}dt,dd{line-height:1.42857143}dt{font-weight:bold}dd{margin-left:0}@media (min-width:768px){.dl-horizontal dt{float:left;width:160px;clear:left;text-align:right;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.dl-horizontal dd{margin-left:180px}}abbr[title],abbr[data-original-title]{cursor:help;border-bottom:1px dotted #999999}.initialism{font-size:90%;text-transform:uppercase}blockquote{padding:10px 20px;margin:0 0 20px;font-size:17.5px;border-left:5px solid #eeeeee}blockquote p:last-child,blockquote ul:last-child,blockquote ol:last-child{margin-bottom:0}blockquote footer,blockquote small,blockquote .small{display:block;font-size:80%;line-height:1.42857143;color:#999999}blockquote footer:before,blockquote small:before,blockquote .small:before{content:'\2014 \00A0'}.blockquote-reverse,blockquote.pull-right{padding-right:15px;padding-left:0;border-right:5px solid #eeeeee;border-left:0;text-align:right}.blockquote-reverse footer:before,blockquote.pull-right footer:before,.blockquote-reverse small:before,blockquote.pull-right small:before,.blockquote-reverse .small:before,blockquote.pull-right .small:before{content:''}.blockquote-reverse footer:after,blockquote.pull-right footer:after,.blockquote-reverse small:after,blockquote.pull-right small:after,.blockquote-reverse .small:after,blockquote.pull-right .small:after{content:'\00A0 \2014'}address{margin-bottom:20px;font-style:normal;line-height:1.42857143}code,kbd,pre,samp{font-family:monospace}code{padding:2px 4px;font-size:90%;color:#c7254e;background-color:#f9f2f4;border-radius:4px}kbd{padding:2px 4px;font-size:90%;color:#ffffff;background-color:#333333;border-radius:3px;-webkit-box-shadow:inset 0 -1px 0 rgba(0,0,0,0.25);box-shadow:inset 0 -1px 0 rgba(0,0,0,0.25)}kbd kbd{padding:0;font-size:100%;font-weight:bold;-webkit-box-shadow:none;box-shadow:none}pre{display:block;padding:9.5px;margin:0 0 10px;font-size:13px;line-height:1.42857143;word-break:break-all;word-wrap:break-word;color:#333333;background-color:#f5f5f5;border:1px solid #cccccc;border-radius:4px}pre code{padding:0;font-size:inherit;color:inherit;white-space:pre-wrap;background-color:transparent;border-radius:0}.pre-scrollable{max-height:340px;overflow-y:scroll}.container{margin-right:auto;margin-left:auto;padding-left:15px;padding-right:15px}@media (min-width:768px){.container{width:750px}}@media (min-width:992px){.container{width:970px}}@media (min-width:1200px){.container{width:1170px}}.container-fluid{margin-right:auto;margin-left:auto;padding-left:15px;padding-right:15px}.row{margin-left:-15px;margin-right:-15px}.col-xs-1,.col-sm-1,.col-md-1,.col-lg-1,.col-xs-2,.col-sm-2,.col-md-2,.col-lg-2,.col-xs-3,.col-sm-3,.col-md-3,.col-lg-3,.col-xs-4,.col-sm-4,.col-md-4,.col-lg-4,.col-xs-5,.col-sm-5,.col-md-5,.col-lg-5,.col-xs-6,.col-sm-6,.col-md-6,.col-lg-6,.col-xs-7,.col-sm-7,.col-md-7,.col-lg-7,.col-xs-8,.col-sm-8,.col-md-8,.col-lg-8,.col-xs-9,.col-sm-9,.col-md-9,.col-lg-9,.col-xs-10,.col-sm-10,.col-md-10,.col-lg-10,.col-xs-11,.col-sm-11,.col-md-11,.col-lg-11,.col-xs-12,.col-sm-12,.col-md-12,.col-lg-12{position:relative;min-height:1px;padding-left:15px;padding-right:15px}.col-xs-1,.col-xs-2,.col-xs-3,.col-xs-4,.col-xs-5,.col-xs-6,.col-xs-7,.col-xs-8,.col-xs-9,.col-xs-10,.col-xs-11,.col-xs-12{float:left}.col-xs-12{width:100%}.col-xs-11{width:91.66666667%}.col-xs-10{width:83.33333333%}.col-xs-9{width:75%}.col-xs-8{width:66.66666667%}.col-xs-7{width:58.33333333%}.col-xs-6{width:50%}.col-xs-5{width:41.66666667%}.col-xs-4{width:33.33333333%}.col-xs-3{width:25%}.col-xs-2{width:16.66666667%}.col-xs-1{width:8.33333333%}.col-xs-pull-12{right:100%}.col-xs-pull-11{right:91.66666667%}.col-xs-pull-10{right:83.33333333%}.col-xs-pull-9{right:75%}.col-xs-pull-8{right:66.66666667%}.col-xs-pull-7{right:58.33333333%}.col-xs-pull-6{right:50%}.col-xs-pull-5{right:41.66666667%}.col-xs-pull-4{right:33.33333333%}.col-xs-pull-3{right:25%}.col-xs-pull-2{right:16.66666667%}.col-xs-pull-1{right:8.33333333%}.col-xs-pull-0{right:auto}.col-xs-push-12{left:100%}.col-xs-push-11{left:91.66666667%}.col-xs-push-10{left:83.33333333%}.col-xs-push-9{left:75%}.col-xs-push-8{left:66.66666667%}.col-xs-push-7{left:58.33333333%}.col-xs-push-6{left:50%}.col-xs-push-5{left:41.66666667%}.col-xs-push-4{left:33.33333333%}.col-xs-push-3{left:25%}.col-xs-push-2{left:16.66666667%}.col-xs-push-1{left:8.33333333%}.col-xs-push-0{left:auto}.col-xs-offset-12{margin-left:100%}.col-xs-offset-11{margin-left:91.66666667%}.col-xs-offset-10{margin-left:83.33333333%}.col-xs-offset-9{margin-left:75%}.col-xs-offset-8{margin-left:66.66666667%}.col-xs-offset-7{margin-left:58.33333333%}.col-xs-offset-6{margin-left:50%}.col-xs-offset-5{margin-left:41.66666667%}.col-xs-offset-4{margin-left:33.33333333%}.col-xs-offset-3{margin-left:25%}.col-xs-offset-2{margin-left:16.66666667%}.col-xs-offset-1{margin-left:8.33333333%}.col-xs-offset-0{margin-left:0%}@media (min-width:768px){.col-sm-1,.col-sm-2,.col-sm-3,.col-sm-4,.col-sm-5,.col-sm-6,.col-sm-7,.col-sm-8,.col-sm-9,.col-sm-10,.col-sm-11,.col-sm-12{float:left}.col-sm-12{width:100%}.col-sm-11{width:91.66666667%}.col-sm-10{width:83.33333333%}.col-sm-9{width:75%}.col-sm-8{width:66.66666667%}.col-sm-7{width:58.33333333%}.col-sm-6{width:50%}.col-sm-5{width:41.66666667%}.col-sm-4{width:33.33333333%}.col-sm-3{width:25%}.col-sm-2{width:16.66666667%}.col-sm-1{width:8.33333333%}.col-sm-pull-12{right:100%}.col-sm-pull-11{right:91.66666667%}.col-sm-pull-10{right:83.33333333%}.col-sm-pull-9{right:75%}.col-sm-pull-8{right:66.66666667%}.col-sm-pull-7{right:58.33333333%}.col-sm-pull-6{right:50%}.col-sm-pull-5{right:41.66666667%}.col-sm-pull-4{right:33.33333333%}.col-sm-pull-3{right:25%}.col-sm-pull-2{right:16.66666667%}.col-sm-pull-1{right:8.33333333%}.col-sm-pull-0{right:auto}.col-sm-push-12{left:100%}.col-sm-push-11{left:91.66666667%}.col-sm-push-10{left:83.33333333%}.col-sm-push-9{left:75%}.col-sm-push-8{left:66.66666667%}.col-sm-push-7{left:58.33333333%}.col-sm-push-6{left:50%}.col-sm-push-5{left:41.66666667%}.col-sm-push-4{left:33.33333333%}.col-sm-push-3{left:25%}.col-sm-push-2{left:16.66666667%}.col-sm-push-1{left:8.33333333%}.col-sm-push-0{left:auto}.col-sm-offset-12{margin-left:100%}.col-sm-offset-11{margin-left:91.66666667%}.col-sm-offset-10{margin-left:83.33333333%}.col-sm-offset-9{margin-left:75%}.col-sm-offset-8{margin-left:66.66666667%}.col-sm-offset-7{margin-left:58.33333333%}.col-sm-offset-6{margin-left:50%}.col-sm-offset-5{margin-left:41.66666667%}.col-sm-offset-4{margin-left:33.33333333%}.col-sm-offset-3{margin-left:25%}.col-sm-offset-2{margin-left:16.66666667%}.col-sm-offset-1{margin-left:8.33333333%}.col-sm-offset-0{margin-left:0%}}@media (min-width:992px){.col-md-1,.col-md-2,.col-md-3,.col-md-4,.col-md-5,.col-md-6,.col-md-7,.col-md-8,.col-md-9,.col-md-10,.col-md-11,.col-md-12{float:left}.col-md-12{width:100%}.col-md-11{width:91.66666667%}.col-md-10{width:83.33333333%}.col-md-9{width:75%}.col-md-8{width:66.66666667%}.col-md-7{width:58.33333333%}.col-md-6{width:50%}.col-md-5{width:41.66666667%}.col-md-4{width:33.33333333%}.col-md-3{width:25%}.col-md-2{width:16.66666667%}.col-md-1{width:8.33333333%}.col-md-pull-12{right:100%}.col-md-pull-11{right:91.66666667%}.col-md-pull-10{right:83.33333333%}.col-md-pull-9{right:75%}.col-md-pull-8{right:66.66666667%}.col-md-pull-7{right:58.33333333%}.col-md-pull-6{right:50%}.col-md-pull-5{right:41.66666667%}.col-md-pull-4{right:33.33333333%}.col-md-pull-3{right:25%}.col-md-pull-2{right:16.66666667%}.col-md-pull-1{right:8.33333333%}.col-md-pull-0{right:auto}.col-md-push-12{left:100%}.col-md-push-11{left:91.66666667%}.col-md-push-10{left:83.33333333%}.col-md-push-9{left:75%}.col-md-push-8{left:66.66666667%}.col-md-push-7{left:58.33333333%}.col-md-push-6{left:50%}.col-md-push-5{left:41.66666667%}.col-md-push-4{left:33.33333333%}.col-md-push-3{left:25%}.col-md-push-2{left:16.66666667%}.col-md-push-1{left:8.33333333%}.col-md-push-0{left:auto}.col-md-offset-12{margin-left:100%}.col-md-offset-11{margin-left:91.66666667%}.col-md-offset-10{margin-left:83.33333333%}.col-md-offset-9{margin-left:75%}.col-md-offset-8{margin-left:66.66666667%}.col-md-offset-7{margin-left:58.33333333%}.col-md-offset-6{margin-left:50%}.col-md-offset-5{margin-left:41.66666667%}.col-md-offset-4{margin-left:33.33333333%}.col-md-offset-3{margin-left:25%}.col-md-offset-2{margin-left:16.66666667%}.col-md-offset-1{margin-left:8.33333333%}.col-md-offset-0{margin-left:0%}}@media (min-width:1200px){.col-lg-1,.col-lg-2,.col-lg-3,.col-lg-4,.col-lg-5,.col-lg-6,.col-lg-7,.col-lg-8,.col-lg-9,.col-lg-10,.col-lg-11,.col-lg-12{float:left}.col-lg-12{width:100%}.col-lg-11{width:91.66666667%}.col-lg-10{width:83.33333333%}.col-lg-9{width:75%}.col-lg-8{width:66.66666667%}.col-lg-7{width:58.33333333%}.col-lg-6{width:50%}.col-lg-5{width:41.66666667%}.col-lg-4{width:33.33333333%}.col-lg-3{width:25%}.col-lg-2{width:16.66666667%}.col-lg-1{width:8.33333333%}.col-lg-pull-12{right:100%}.col-lg-pull-11{right:91.66666667%}.col-lg-pull-10{right:83.33333333%}.col-lg-pull-9{right:75%}.col-lg-pull-8{right:66.66666667%}.col-lg-pull-7{right:58.33333333%}.col-lg-pull-6{right:50%}.col-lg-pull-5{right:41.66666667%}.col-lg-pull-4{right:33.33333333%}.col-lg-pull-3{right:25%}.col-lg-pull-2{right:16.66666667%}.col-lg-pull-1{right:8.33333333%}.col-lg-pull-0{right:auto}.col-lg-push-12{left:100%}.col-lg-push-11{left:91.66666667%}.col-lg-push-10{left:83.33333333%}.col-lg-push-9{left:75%}.col-lg-push-8{left:66.66666667%}.col-lg-push-7{left:58.33333333%}.col-lg-push-6{left:50%}.col-lg-push-5{left:41.66666667%}.col-lg-push-4{left:33.33333333%}.col-lg-push-3{left:25%}.col-lg-push-2{left:16.66666667%}.col-lg-push-1{left:8.33333333%}.col-lg-push-0{left:auto}.col-lg-offset-12{margin-left:100%}.col-lg-offset-11{margin-left:91.66666667%}.col-lg-offset-10{margin-left:83.33333333%}.col-lg-offset-9{margin-left:75%}.col-lg-offset-8{margin-left:66.66666667%}.col-lg-offset-7{margin-left:58.33333333%}.col-lg-offset-6{margin-left:50%}.col-lg-offset-5{margin-left:41.66666667%}.col-lg-offset-4{margin-left:33.33333333%}.col-lg-offset-3{margin-left:25%}.col-lg-offset-2{margin-left:16.66666667%}.col-lg-offset-1{margin-left:8.33333333%}.col-lg-offset-0{margin-left:0%}}table{background-color:transparent}caption{padding-top:8px;padding-bottom:8px;color:#999999;text-align:left}th{}.table{width:100%;max-width:100%;margin-bottom:20px}.table>thead>tr>th,.table>tbody>tr>th,.table>tfoot>tr>th,.table>thead>tr>td,.table>tbody>tr>td,.table>tfoot>tr>td{padding:8px;line-height:1.42857143;vertical-align:top;border-top:1px solid #dddddd}.table>thead>tr>th{vertical-align:bottom;border-bottom:2px solid #dddddd}.table>caption+thead>tr:first-child>th,.table>colgroup+thead>tr:first-child>th,.table>thead:first-child>tr:first-child>th,.table>caption+thead>tr:first-child>td,.table>colgroup+thead>tr:first-child>td,.table>thead:first-child>tr:first-child>td{border-top:0}.table>tbody+tbody{border-top:2px solid #dddddd}.table .table{background-color:#ffffff}.table-condensed>thead>tr>th,.table-condensed>tbody>tr>th,.table-condensed>tfoot>tr>th,.table-condensed>thead>tr>td,.table-condensed>tbody>tr>td,.table-condensed>tfoot>tr>td{padding:5px}.table-bordered{border:1px solid #dddddd}.table-bordered>thead>tr>th,.table-bordered>tbody>tr>th,.table-bordered>tfoot>tr>th,.table-bordered>thead>tr>td,.table-bordered>tbody>tr>td,.table-bordered>tfoot>tr>td{border:1px solid #dddddd}.table-bordered>thead>tr>th,.table-bordered>thead>tr>td{border-bottom-width:2px}.table-striped>tbody>tr:nth-child(odd){background-color:#f9f9f9}.table-hover>tbody>tr:hover{background-color:#f5f5f5}table col[class*="col-"]{position:static;float:none;display:table-column}table td[class*="col-"],table th[class*="col-"]{position:static;float:none;display:table-cell}.table>thead>tr>td.active,.table>tbody>tr>td.active,.table>tfoot>tr>td.active,.table>thead>tr>th.active,.table>tbody>tr>th.active,.table>tfoot>tr>th.active,.table>thead>tr.active>td,.table>tbody>tr.active>td,.table>tfoot>tr.active>td,.table>thead>tr.active>th,.table>tbody>tr.active>th,.table>tfoot>tr.active>th{background-color:#f5f5f5}.table-hover>tbody>tr>td.active:hover,.table-hover>tbody>tr>th.active:hover,.table-hover>tbody>tr.active:hover>td,.table-hover>tbody>tr:hover>.active,.table-hover>tbody>tr.active:hover>th{background-color:#e8e8e8}.table>thead>tr>td.success,.table>tbody>tr>td.success,.table>tfoot>tr>td.success,.table>thead>tr>th.success,.table>tbody>tr>th.success,.table>tfoot>tr>th.success,.table>thead>tr.success>td,.table>tbody>tr.success>td,.table>tfoot>tr.success>td,.table>thead>tr.success>th,.table>tbody>tr.success>th,.table>tfoot>tr.success>th{background-color:#dff0d8}.table-hover>tbody>tr>td.success:hover,.table-hover>tbody>tr>th.success:hover,.table-hover>tbody>tr.success:hover>td,.table-hover>tbody>tr:hover>.success,.table-hover>tbody>tr.success:hover>th{background-color:#d0e9c6}.table>thead>tr>td.info,.table>tbody>tr>td.info,.table>tfoot>tr>td.info,.table>thead>tr>th.info,.table>tbody>tr>th.info,.table>tfoot>tr>th.info,.table>thead>tr.info>td,.table>tbody>tr.info>td,.table>tfoot>tr.info>td,.table>thead>tr.info>th,.table>tbody>tr.info>th,.table>tfoot>tr.info>th{background-color:#d9edf7}.table-hover>tbody>tr>td.info:hover,.table-hover>tbody>tr>th.info:hover,.table-hover>tbody>tr.info:hover>td,.table-hover>tbody>tr:hover>.info,.table-hover>tbody>tr.info:hover>th{background-color:#c4e3f3}.table>thead>tr>td.warning,.table>tbody>tr>td.warning,.table>tfoot>tr>td.warning,.table>thead>tr>th.warning,.table>tbody>tr>th.warning,.table>tfoot>tr>th.warning,.table>thead>tr.warning>td,.table>tbody>tr.warning>td,.table>tfoot>tr.warning>td,.table>thead>tr.warning>th,.table>tbody>tr.warning>th,.table>tfoot>tr.warning>th{background-color:#fcf8e3}.table-hover>tbody>tr>td.warning:hover,.table-hover>tbody>tr>th.warning:hover,.table-hover>tbody>tr.warning:hover>td,.table-hover>tbody>tr:hover>.warning,.table-hover>tbody>tr.warning:hover>th{background-color:#faf2cc}.table>thead>tr>td.danger,.table>tbody>tr>td.danger,.table>tfoot>tr>td.danger,.table>thead>tr>th.danger,.table>tbody>tr>th.danger,.table>tfoot>tr>th.danger,.table>thead>tr.danger>td,.table>tbody>tr.danger>td,.table>tfoot>tr.danger>td,.table>thead>tr.danger>th,.table>tbody>tr.danger>th,.table>tfoot>tr.danger>th{background-color:#f2dede}.table-hover>tbody>tr>td.danger:hover,.table-hover>tbody>tr>th.danger:hover,.table-hover>tbody>tr.danger:hover>td,.table-hover>tbody>tr:hover>.danger,.table-hover>tbody>tr.danger:hover>th{background-color:#ebcccc}.table-responsive{overflow-x:auto;min-height:0.01%}@media screen and (max-width:767px){.table-responsive{width:100%;margin-bottom:15px;overflow-y:hidden;-ms-overflow-style:-ms-autohiding-scrollbar;border:1px solid #dddddd}.table-responsive>.table{margin-bottom:0}.table-responsive>.table>thead>tr>th,.table-responsive>.table>tbody>tr>th,.table-responsive>.table>tfoot>tr>th,.table-responsive>.table>thead>tr>td,.table-responsive>.table>tbody>tr>td,.table-responsive>.table>tfoot>tr>td{white-space:nowrap}.table-responsive>.table-bordered{border:0}.table-responsive>.table-bordered>thead>tr>th:first-child,.table-responsive>.table-bordered>tbody>tr>th:first-child,.table-responsive>.table-bordered>tfoot>tr>th:first-child,.table-responsive>.table-bordered>thead>tr>td:first-child,.table-responsive>.table-bordered>tbody>tr>td:first-child,.table-responsive>.table-bordered>tfoot>tr>td:first-child{border-left:0}.table-responsive>.table-bordered>thead>tr>th:last-child,.table-responsive>.table-bordered>tbody>tr>th:last-child,.table-responsive>.table-bordered>tfoot>tr>th:last-child,.table-responsive>.table-bordered>thead>tr>td:last-child,.table-responsive>.table-bordered>tbody>tr>td:last-child,.table-responsive>.table-bordered>tfoot>tr>td:last-child{border-right:0}.table-responsive>.table-bordered>tbody>tr:last-child>th,.table-responsive>.table-bordered>tfoot>tr:last-child>th,.table-responsive>.table-bordered>tbody>tr:last-child>td,.table-responsive>.table-bordered>tfoot>tr:last-child>td{border-bottom:0}}fieldset{padding:0;margin:0;border:0;min-width:0}legend{display:block;width:100%;padding:0;margin-bottom:20px;font-size:21px;line-height:inherit;color:#555555;border:0;border-bottom:1px solid #e5e5e5}label{display:inline-block;max-width:100%;margin-bottom:5px;font-weight:bold}input[type="search"]{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}input[type="radio"],input[type="checkbox"]{margin:4px 0 0;margin-top:1px \9;line-height:normal}input[type="file"]{display:block}input[type="range"]{display:block;width:100%}select[multiple],select[size]{height:auto}input[type="file"]:focus,input[type="radio"]:focus,input[type="checkbox"]:focus{outline:thin dotted;outline:5px auto -webkit-focus-ring-color;outline-offset:-2px}output{display:block;padding-top:9px;font-size:14px;line-height:1.42857143;color:#555555}.form-control{display:block;width:100%;height:38px;padding:8px 12px;font-size:14px;line-height:1.42857143;color:#555555;background-color:#ffffff;background-image:none;border:1px solid #cccccc;border-radius:4px;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,0.075);box-shadow:inset 0 1px 1px rgba(0,0,0,0.075);-webkit-transition:border-color ease-in-out .15s,-webkit-box-shadow ease-in-out .15s;-o-transition:border-color ease-in-out .15s,box-shadow ease-in-out .15s;transition:border-color ease-in-out .15s,box-shadow ease-in-out .15s}.form-control:focus{border-color:#66afe9;outline:0;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,0.075),0 0 8px rgba(102,175,233,0.6);box-shadow:inset 0 1px 1px rgba(0,0,0,0.075),0 0 8px rgba(102,175,233,0.6)}.form-control::-moz-placeholder{color:#999999;opacity:1}.form-control:-ms-input-placeholder{color:#999999}.form-control::-webkit-input-placeholder{color:#999999}.form-control[disabled],.form-control[readonly],fieldset[disabled] .form-control{cursor:not-allowed;background-color:#eeeeee;opacity:1}textarea.form-control{height:auto}input[type="search"]{-webkit-appearance:none}@media screen and (-webkit-min-device-pixel-ratio:0){input[type="date"],input[type="time"],input[type="datetime-local"],input[type="month"]{line-height:38px}input[type="date"].input-sm,input[type="time"].input-sm,input[type="datetime-local"].input-sm,input[type="month"].input-sm{line-height:30px}input[type="date"].input-lg,input[type="time"].input-lg,input[type="datetime-local"].input-lg,input[type="month"].input-lg{line-height:54px}}.form-group{margin-bottom:15px}.radio,.checkbox{position:relative;display:block;margin-top:10px;margin-bottom:10px}.radio label,.checkbox label{min-height:20px;padding-left:20px;margin-bottom:0;font-weight:normal;cursor:pointer}.radio input[type="radio"],.radio-inline input[type="radio"],.checkbox input[type="checkbox"],.checkbox-inline input[type="checkbox"]{position:absolute;margin-left:-20px;margin-top:4px \9}.radio+.radio,.checkbox+.checkbox{margin-top:-5px}.radio-inline,.checkbox-inline{display:inline-block;padding-left:20px;margin-bottom:0;vertical-align:middle;font-weight:normal;cursor:pointer}.radio-inline+.radio-inline,.checkbox-inline+.checkbox-inline{margin-top:0;margin-left:10px}input[type="radio"][disabled],input[type="checkbox"][disabled],input[type="radio"].disabled,input[type="checkbox"].disabled,fieldset[disabled] input[type="radio"],fieldset[disabled] input[type="checkbox"]{cursor:not-allowed}.radio-inline.disabled,.checkbox-inline.disabled,fieldset[disabled] .radio-inline,fieldset[disabled] .checkbox-inline{cursor:not-allowed}.radio.disabled label,.checkbox.disabled label,fieldset[disabled] .radio label,fieldset[disabled] .checkbox label{cursor:not-allowed}.form-control-static{padding-top:9px;padding-bottom:9px;margin-bottom:0}.form-control-static.input-lg,.form-control-static.input-sm{padding-left:0;padding-right:0}.input-sm,.form-group-sm .form-control{height:30px;padding:5px 10px;font-size:12px;line-height:1.5;border-radius:3px}select.input-sm,select.form-group-sm .form-control{height:30px;line-height:30px}textarea.input-sm,textarea.form-group-sm .form-control,select[multiple].input-sm,select[multiple].form-group-sm .form-control{height:auto}.input-lg,.form-group-lg .form-control{height:54px;padding:14px 16px;font-size:18px;line-height:1.33;border-radius:6px}select.input-lg,select.form-group-lg .form-control{height:54px;line-height:54px}textarea.input-lg,textarea.form-group-lg .form-control,select[multiple].input-lg,select[multiple].form-group-lg .form-control{height:auto}.has-feedback{position:relative}.has-feedback .form-control{padding-right:47.5px}.form-control-feedback{position:absolute;top:0;right:0;z-index:2;display:block;width:38px;height:38px;line-height:38px;text-align:center;pointer-events:none}.input-lg+.form-control-feedback{width:54px;height:54px;line-height:54px}.input-sm+.form-control-feedback{width:30px;height:30px;line-height:30px}.has-success .help-block,.has-success .control-label,.has-success .radio,.has-success .checkbox,.has-success .radio-inline,.has-success .checkbox-inline,.has-success.radio label,.has-success.checkbox label,.has-success.radio-inline label,.has-success.checkbox-inline label{color:#468847}.has-success .form-control{border-color:#468847;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,0.075);box-shadow:inset 0 1px 1px rgba(0,0,0,0.075)}.has-success .form-control:focus{border-color:#356635;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,0.075),0 0 6px #7aba7b;box-shadow:inset 0 1px 1px rgba(0,0,0,0.075),0 0 6px #7aba7b}.has-success .input-group-addon{color:#468847;border-color:#468847;background-color:#dff0d8}.has-success .form-control-feedback{color:#468847}.has-warning .help-block,.has-warning .control-label,.has-warning .radio,.has-warning .checkbox,.has-warning .radio-inline,.has-warning .checkbox-inline,.has-warning.radio label,.has-warning.checkbox label,.has-warning.radio-inline label,.has-warning.checkbox-inline label{color:#c09853}.has-warning .form-control{border-color:#c09853;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,0.075);box-shadow:inset 0 1px 1px rgba(0,0,0,0.075)}.has-warning .form-control:focus{border-color:#a47e3c;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,0.075),0 0 6px #dbc59e;box-shadow:inset 0 1px 1px rgba(0,0,0,0.075),0 0 6px #dbc59e}.has-warning .input-group-addon{color:#c09853;border-color:#c09853;background-color:#fcf8e3}.has-warning .form-control-feedback{color:#c09853}.has-error .help-block,.has-error .control-label,.has-error .radio,.has-error .checkbox,.has-error .radio-inline,.has-error .checkbox-inline,.has-error.radio label,.has-error.checkbox label,.has-error.radio-inline label,.has-error.checkbox-inline label{color:#b94a48}.has-error .form-control{border-color:#b94a48;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,0.075);box-shadow:inset 0 1px 1px rgba(0,0,0,0.075)}.has-error .form-control:focus{border-color:#953b39;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,0.075),0 0 6px #d59392;box-shadow:inset 0 1px 1px rgba(0,0,0,0.075),0 0 6px #d59392}.has-error .input-group-addon{color:#b94a48;border-color:#b94a48;background-color:#f2dede}.has-error .form-control-feedback{color:#b94a48}.has-feedback label~.form-control-feedback{top:25px}.has-feedback label.sr-only~.form-control-feedback{top:0}.help-block{display:block;margin-top:5px;margin-bottom:10px;color:#959595}@media (min-width:768px){.form-inline .form-group{display:inline-block;margin-bottom:0;vertical-align:middle}.form-inline .form-control{display:inline-block;width:auto;vertical-align:middle}.form-inline .form-control-static{display:inline-block}.form-inline .input-group{display:inline-table;vertical-align:middle}.form-inline .input-group .input-group-addon,.form-inline .input-group .input-group-btn,.form-inline .input-group .form-control{width:auto}.form-inline .input-group>.form-control{width:100%}.form-inline .control-label{margin-bottom:0;vertical-align:middle}.form-inline .radio,.form-inline .checkbox{display:inline-block;margin-top:0;margin-bottom:0;vertical-align:middle}.form-inline .radio label,.form-inline .checkbox label{padding-left:0}.form-inline .radio input[type="radio"],.form-inline .checkbox input[type="checkbox"]{position:relative;margin-left:0}.form-inline .has-feedback .form-control-feedback{top:0}}.form-horizontal .radio,.form-horizontal .checkbox,.form-horizontal .radio-inline,.form-horizontal .checkbox-inline{margin-top:0;margin-bottom:0;padding-top:9px}.form-horizontal .radio,.form-horizontal .checkbox{min-height:29px}.form-horizontal .form-group{margin-left:-15px;margin-right:-15px}@media (min-width:768px){.form-horizontal .control-label{text-align:right;margin-bottom:0;padding-top:9px}}.form-horizontal .has-feedback .form-control-feedback{right:15px}@media (min-width:768px){.form-horizontal .form-group-lg .control-label{padding-top:19.62px}}@media (min-width:768px){.form-horizontal .form-group-sm .control-label{padding-top:6px}}.btn{display:inline-block;margin-bottom:0;font-weight:normal;text-align:center;vertical-align:middle;-ms-touch-action:manipulation;touch-action:manipulation;cursor:pointer;background-image:none;border:1px solid transparent;white-space:nowrap;padding:8px 12px;font-size:14px;line-height:1.42857143;border-radius:4px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.btn:focus,.btn:active:focus,.btn.active:focus,.btn.focus,.btn:active.focus,.btn.active.focus{outline:thin dotted;outline:5px auto -webkit-focus-ring-color;outline-offset:-2px}.btn:hover,.btn:focus,.btn.focus{color:#555555;text-decoration:none}.btn:active,.btn.active{outline:0;background-image:none;-webkit-box-shadow:inset 0 3px 5px rgba(0,0,0,0.125);box-shadow:inset 0 3px 5px rgba(0,0,0,0.125)}.btn.disabled,.btn[disabled],fieldset[disabled] .btn{cursor:not-allowed;pointer-events:none;opacity:0.65;filter:alpha(opacity=65);-webkit-box-shadow:none;box-shadow:none}.btn-default{color:#555555;background-color:#ffffff;border-color:rgba(0,0,0,0.1)}.btn-default:hover,.btn-default:focus,.btn-default.focus,.btn-default:active,.btn-default.active,.open>.dropdown-toggle.btn-default{color:#555555;background-color:#e6e6e6;border-color:rgba(0,0,0,0.1)}.btn-default:active,.btn-default.active,.open>.dropdown-toggle.btn-default{background-image:none}.btn-default.disabled,.btn-default[disabled],fieldset[disabled] .btn-default,.btn-default.disabled:hover,.btn-default[disabled]:hover,fieldset[disabled] .btn-default:hover,.btn-default.disabled:focus,.btn-default[disabled]:focus,fieldset[disabled] .btn-default:focus,.btn-default.disabled.focus,.btn-default[disabled].focus,fieldset[disabled] .btn-default.focus,.btn-default.disabled:active,.btn-default[disabled]:active,fieldset[disabled] .btn-default:active,.btn-default.disabled.active,.btn-default[disabled].active,fieldset[disabled] .btn-default.active{background-color:#ffffff;border-color:rgba(0,0,0,0.1)}.btn-default .badge{color:#ffffff;background-color:#555555}.btn-primary{color:#ffffff;background-color:#2fa4e7;border-color:#2fa4e7}.btn-primary:hover,.btn-primary:focus,.btn-primary.focus,.btn-primary:active,.btn-primary.active,.open>.dropdown-toggle.btn-primary{color:#ffffff;background-color:#178acc;border-color:#1684c2}.btn-primary:active,.btn-primary.active,.open>.dropdown-toggle.btn-primary{background-image:none}.btn-primary.disabled,.btn-primary[disabled],fieldset[disabled] .btn-primary,.btn-primary.disabled:hover,.btn-primary[disabled]:hover,fieldset[disabled] .btn-primary:hover,.btn-primary.disabled:focus,.btn-primary[disabled]:focus,fieldset[disabled] .btn-primary:focus,.btn-primary.disabled.focus,.btn-primary[disabled].focus,fieldset[disabled] .btn-primary.focus,.btn-primary.disabled:active,.btn-primary[disabled]:active,fieldset[disabled] .btn-primary:active,.btn-primary.disabled.active,.btn-primary[disabled].active,fieldset[disabled] .btn-primary.active{background-color:#2fa4e7;border-color:#2fa4e7}.btn-primary .badge{color:#2fa4e7;background-color:#ffffff}.btn-success{color:#ffffff;background-color:#73a839;border-color:#73a839}.btn-success:hover,.btn-success:focus,.btn-success.focus,.btn-success:active,.btn-success.active,.open>.dropdown-toggle.btn-success{color:#ffffff;background-color:#59822c;border-color:#547a29}.btn-success:active,.btn-success.active,.open>.dropdown-toggle.btn-success{background-image:none}.btn-success.disabled,.btn-success[disabled],fieldset[disabled] .btn-success,.btn-success.disabled:hover,.btn-success[disabled]:hover,fieldset[disabled] .btn-success:hover,.btn-success.disabled:focus,.btn-success[disabled]:focus,fieldset[disabled] .btn-success:focus,.btn-success.disabled.focus,.btn-success[disabled].focus,fieldset[disabled] .btn-success.focus,.btn-success.disabled:active,.btn-success[disabled]:active,fieldset[disabled] .btn-success:active,.btn-success.disabled.active,.btn-success[disabled].active,fieldset[disabled] .btn-success.active{background-color:#73a839;border-color:#73a839}.btn-success .badge{color:#73a839;background-color:#ffffff}.btn-info{color:#ffffff;background-color:#033c73;border-color:#033c73}.btn-info:hover,.btn-info:focus,.btn-info.focus,.btn-info:active,.btn-info.active,.open>.dropdown-toggle.btn-info{color:#ffffff;background-color:#022241;border-color:#011d37}.btn-info:active,.btn-info.active,.open>.dropdown-toggle.btn-info{background-image:none}.btn-info.disabled,.btn-info[disabled],fieldset[disabled] .btn-info,.btn-info.disabled:hover,.btn-info[disabled]:hover,fieldset[disabled] .btn-info:hover,.btn-info.disabled:focus,.btn-info[disabled]:focus,fieldset[disabled] .btn-info:focus,.btn-info.disabled.focus,.btn-info[disabled].focus,fieldset[disabled] .btn-info.focus,.btn-info.disabled:active,.btn-info[disabled]:active,fieldset[disabled] .btn-info:active,.btn-info.disabled.active,.btn-info[disabled].active,fieldset[disabled] .btn-info.active{background-color:#033c73;border-color:#033c73}.btn-info .badge{color:#033c73;background-color:#ffffff}.btn-warning{color:#ffffff;background-color:#dd5600;border-color:#dd5600}.btn-warning:hover,.btn-warning:focus,.btn-warning.focus,.btn-warning:active,.btn-warning.active,.open>.dropdown-toggle.btn-warning{color:#ffffff;background-color:#aa4200;border-color:#a03e00}.btn-warning:active,.btn-warning.active,.open>.dropdown-toggle.btn-warning{background-image:none}.btn-warning.disabled,.btn-warning[disabled],fieldset[disabled] .btn-warning,.btn-warning.disabled:hover,.btn-warning[disabled]:hover,fieldset[disabled] .btn-warning:hover,.btn-warning.disabled:focus,.btn-warning[disabled]:focus,fieldset[disabled] .btn-warning:focus,.btn-warning.disabled.focus,.btn-warning[disabled].focus,fieldset[disabled] .btn-warning.focus,.btn-warning.disabled:active,.btn-warning[disabled]:active,fieldset[disabled] .btn-warning:active,.btn-warning.disabled.active,.btn-warning[disabled].active,fieldset[disabled] .btn-warning.active{background-color:#dd5600;border-color:#dd5600}.btn-warning .badge{color:#dd5600;background-color:#ffffff}.btn-danger{color:#ffffff;background-color:#c71c22;border-color:#c71c22}.btn-danger:hover,.btn-danger:focus,.btn-danger.focus,.btn-danger:active,.btn-danger.active,.open>.dropdown-toggle.btn-danger{color:#ffffff;background-color:#9a161a;border-color:#911419}.btn-danger:active,.btn-danger.active,.open>.dropdown-toggle.btn-danger{background-image:none}.btn-danger.disabled,.btn-danger[disabled],fieldset[disabled] .btn-danger,.btn-danger.disabled:hover,.btn-danger[disabled]:hover,fieldset[disabled] .btn-danger:hover,.btn-danger.disabled:focus,.btn-danger[disabled]:focus,fieldset[disabled] .btn-danger:focus,.btn-danger.disabled.focus,.btn-danger[disabled].focus,fieldset[disabled] .btn-danger.focus,.btn-danger.disabled:active,.btn-danger[disabled]:active,fieldset[disabled] .btn-danger:active,.btn-danger.disabled.active,.btn-danger[disabled].active,fieldset[disabled] .btn-danger.active{background-color:#c71c22;border-color:#c71c22}.btn-danger .badge{color:#c71c22;background-color:#ffffff}.btn-link{color:#2fa4e7;font-weight:normal;border-radius:0}.btn-link,.btn-link:active,.btn-link.active,.btn-link[disabled],fieldset[disabled] .btn-link{background-color:transparent;-webkit-box-shadow:none;box-shadow:none}.btn-link,.btn-link:hover,.btn-link:focus,.btn-link:active{border-color:transparent}.btn-link:hover,.btn-link:focus{color:#157ab5;text-decoration:underline;background-color:transparent}.btn-link[disabled]:hover,fieldset[disabled] .btn-link:hover,.btn-link[disabled]:focus,fieldset[disabled] .btn-link:focus{color:#999999;text-decoration:none}.btn-lg,.btn-group-lg>.btn{padding:14px 16px;font-size:18px;line-height:1.33;border-radius:6px}.btn-sm,.btn-group-sm>.btn{padding:5px 10px;font-size:12px;line-height:1.5;border-radius:3px}.btn-xs,.btn-group-xs>.btn{padding:1px 5px;font-size:12px;line-height:1.5;border-radius:3px}.btn-block{display:block;width:100%}.btn-block+.btn-block{margin-top:5px}input[type="submit"].btn-block,input[type="reset"].btn-block,input[type="button"].btn-block{width:100%}.fade{opacity:0;-webkit-transition:opacity 0.15s linear;-o-transition:opacity 0.15s linear;transition:opacity 0.15s linear}.fade.in{opacity:1}.collapse{display:none;visibility:hidden}.collapse.in{display:block;visibility:visible}tr.collapse.in{display:table-row}tbody.collapse.in{display:table-row-group}.collapsing{position:relative;height:0;overflow:hidden;-webkit-transition-property:height, visibility;-o-transition-property:height, visibility;transition-property:height, visibility;-webkit-transition-duration:0.35s;-o-transition-duration:0.35s;transition-duration:0.35s;-webkit-transition-timing-function:ease;-o-transition-timing-function:ease;transition-timing-function:ease}.caret{display:inline-block;width:0;height:0;margin-left:2px;vertical-align:middle;border-top:4px solid;border-right:4px solid transparent;border-left:4px solid transparent}.dropdown{position:relative}.dropdown-toggle:focus{outline:0}.dropdown-menu{position:absolute;top:100%;left:0;z-index:1000;display:none;float:left;min-width:160px;padding:5px 0;margin:2px 0 0;list-style:none;font-size:14px;text-align:left;background-color:#ffffff;border:1px solid #cccccc;border:1px solid rgba(0,0,0,0.15);border-radius:4px;-webkit-box-shadow:0 6px 12px rgba(0,0,0,0.175);box-shadow:0 6px 12px rgba(0,0,0,0.175);-webkit-background-clip:padding-box;background-clip:padding-box}.dropdown-menu.pull-right{right:0;left:auto}.dropdown-menu .divider{height:1px;margin:9px 0;overflow:hidden;background-color:#e5e5e5}.dropdown-menu>li>a{display:block;padding:3px 20px;clear:both;font-weight:normal;line-height:1.42857143;color:#333333;white-space:nowrap}.dropdown-menu>li>a:hover,.dropdown-menu>li>a:focus{text-decoration:none;color:#ffffff;background-color:#2fa4e7}.dropdown-menu>.active>a,.dropdown-menu>.active>a:hover,.dropdown-menu>.active>a:focus{color:#ffffff;text-decoration:none;outline:0;background-color:#2fa4e7}.dropdown-menu>.disabled>a,.dropdown-menu>.disabled>a:hover,.dropdown-menu>.disabled>a:focus{color:#999999}.dropdown-menu>.disabled>a:hover,.dropdown-menu>.disabled>a:focus{text-decoration:none;background-color:transparent;background-image:none;filter:progid:DXImageTransform.Microsoft.gradient(enabled=false);cursor:not-allowed}.open>.dropdown-menu{display:block}.open>a{outline:0}.dropdown-menu-right{left:auto;right:0}.dropdown-menu-left{left:0;right:auto}.dropdown-header{display:block;padding:3px 20px;font-size:12px;line-height:1.42857143;color:#999999;white-space:nowrap}.dropdown-backdrop{position:fixed;left:0;right:0;bottom:0;top:0;z-index:990}.pull-right>.dropdown-menu{right:0;left:auto}.dropup .caret,.navbar-fixed-bottom .dropdown .caret{border-top:0;border-bottom:4px solid;content:""}.dropup .dropdown-menu,.navbar-fixed-bottom .dropdown .dropdown-menu{top:auto;bottom:100%;margin-bottom:1px}@media (min-width:768px){.navbar-right .dropdown-menu{left:auto;right:0}.navbar-right .dropdown-menu-left{left:0;right:auto}}.btn-group,.btn-group-vertical{position:relative;display:inline-block;vertical-align:middle}.btn-group>.btn,.btn-group-vertical>.btn{position:relative;float:left}.btn-group>.btn:hover,.btn-group-vertical>.btn:hover,.btn-group>.btn:focus,.btn-group-vertical>.btn:focus,.btn-group>.btn:active,.btn-group-vertical>.btn:active,.btn-group>.btn.active,.btn-group-vertical>.btn.active{z-index:2}.btn-group .btn+.btn,.btn-group .btn+.btn-group,.btn-group .btn-group+.btn,.btn-group .btn-group+.btn-group{margin-left:-1px}.btn-toolbar{margin-left:-5px}.btn-toolbar .btn-group,.btn-toolbar .input-group{float:left}.btn-toolbar>.btn,.btn-toolbar>.btn-group,.btn-toolbar>.input-group{margin-left:5px}.btn-group>.btn:not(:first-child):not(:last-child):not(.dropdown-toggle){border-radius:0}.btn-group>.btn:first-child{margin-left:0}.btn-group>.btn:first-child:not(:last-child):not(.dropdown-toggle){border-bottom-right-radius:0;border-top-right-radius:0}.btn-group>.btn:last-child:not(:first-child),.btn-group>.dropdown-toggle:not(:first-child){border-bottom-left-radius:0;border-top-left-radius:0}.btn-group>.btn-group{float:left}.btn-group>.btn-group:not(:first-child):not(:last-child)>.btn{border-radius:0}.btn-group>.btn-group:first-child>.btn:last-child,.btn-group>.btn-group:first-child>.dropdown-toggle{border-bottom-right-radius:0;border-top-right-radius:0}.btn-group>.btn-group:last-child>.btn:first-child{border-bottom-left-radius:0;border-top-left-radius:0}.btn-group .dropdown-toggle:active,.btn-group.open .dropdown-toggle{outline:0}.btn-group>.btn+.dropdown-toggle{padding-left:8px;padding-right:8px}.btn-group>.btn-lg+.dropdown-toggle{padding-left:12px;padding-right:12px}.btn-group.open .dropdown-toggle{-webkit-box-shadow:inset 0 3px 5px rgba(0,0,0,0.125);box-shadow:inset 0 3px 5px rgba(0,0,0,0.125)}.btn-group.open .dropdown-toggle.btn-link{-webkit-box-shadow:none;box-shadow:none}.btn .caret{margin-left:0}.btn-lg .caret{border-width:5px 5px 0;border-bottom-width:0}.dropup .btn-lg .caret{border-width:0 5px 5px}.btn-group-vertical>.btn,.btn-group-vertical>.btn-group,.btn-group-vertical>.btn-group>.btn{display:block;float:none;width:100%;max-width:100%}.btn-group-vertical>.btn-group>.btn{float:none}.btn-group-vertical>.btn+.btn,.btn-group-vertical>.btn+.btn-group,.btn-group-vertical>.btn-group+.btn,.btn-group-vertical>.btn-group+.btn-group{margin-top:-1px;margin-left:0}.btn-group-vertical>.btn:not(:first-child):not(:last-child){border-radius:0}.btn-group-vertical>.btn:first-child:not(:last-child){border-top-right-radius:4px;border-bottom-right-radius:0;border-bottom-left-radius:0}.btn-group-vertical>.btn:last-child:not(:first-child){border-bottom-left-radius:4px;border-top-right-radius:0;border-top-left-radius:0}.btn-group-vertical>.btn-group:not(:first-child):not(:last-child)>.btn{border-radius:0}.btn-group-vertical>.btn-group:first-child:not(:last-child)>.btn:last-child,.btn-group-vertical>.btn-group:first-child:not(:last-child)>.dropdown-toggle{border-bottom-right-radius:0;border-bottom-left-radius:0}.btn-group-vertical>.btn-group:last-child:not(:first-child)>.btn:first-child{border-top-right-radius:0;border-top-left-radius:0}.btn-group-justified{display:table;width:100%;table-layout:fixed;border-collapse:separate}.btn-group-justified>.btn,.btn-group-justified>.btn-group{float:none;display:table-cell;width:1%}.btn-group-justified>.btn-group .btn{width:100%}.btn-group-justified>.btn-group .dropdown-menu{left:auto}[data-toggle="buttons"]>.btn input[type="radio"],[data-toggle="buttons"]>.btn-group>.btn input[type="radio"],[data-toggle="buttons"]>.btn input[type="checkbox"],[data-toggle="buttons"]>.btn-group>.btn input[type="checkbox"]{position:absolute;clip:rect(0, 0, 0, 0);pointer-events:none}.input-group{position:relative;display:table;border-collapse:separate}.input-group[class*="col-"]{float:none;padding-left:0;padding-right:0}.input-group .form-control{position:relative;z-index:2;float:left;width:100%;margin-bottom:0}.input-group-lg>.form-control,.input-group-lg>.input-group-addon,.input-group-lg>.input-group-btn>.btn{height:54px;padding:14px 16px;font-size:18px;line-height:1.33;border-radius:6px}select.input-group-lg>.form-control,select.input-group-lg>.input-group-addon,select.input-group-lg>.input-group-btn>.btn{height:54px;line-height:54px}textarea.input-group-lg>.form-control,textarea.input-group-lg>.input-group-addon,textarea.input-group-lg>.input-group-btn>.btn,select[multiple].input-group-lg>.form-control,select[multiple].input-group-lg>.input-group-addon,select[multiple].input-group-lg>.input-group-btn>.btn{height:auto}.input-group-sm>.form-control,.input-group-sm>.input-group-addon,.input-group-sm>.input-group-btn>.btn{height:30px;padding:5px 10px;font-size:12px;line-height:1.5;border-radius:3px}select.input-group-sm>.form-control,select.input-group-sm>.input-group-addon,select.input-group-sm>.input-group-btn>.btn{height:30px;line-height:30px}textarea.input-group-sm>.form-control,textarea.input-group-sm>.input-group-addon,textarea.input-group-sm>.input-group-btn>.btn,select[multiple].input-group-sm>.form-control,select[multiple].input-group-sm>.input-group-addon,select[multiple].input-group-sm>.input-group-btn>.btn{height:auto}.input-group-addon,.input-group-btn,.input-group .form-control{display:table-cell}.input-group-addon:not(:first-child):not(:last-child),.input-group-btn:not(:first-child):not(:last-child),.input-group .form-control:not(:first-child):not(:last-child){border-radius:0}.input-group-addon,.input-group-btn{width:1%;white-space:nowrap;vertical-align:middle}.input-group-addon{padding:8px 12px;font-size:14px;font-weight:normal;line-height:1;color:#555555;text-align:center;background-color:#eeeeee;border:1px solid #cccccc;border-radius:4px}.input-group-addon.input-sm{padding:5px 10px;font-size:12px;border-radius:3px}.input-group-addon.input-lg{padding:14px 16px;font-size:18px;border-radius:6px}.input-group-addon input[type="radio"],.input-group-addon input[type="checkbox"]{margin-top:0}.input-group .form-control:first-child,.input-group-addon:first-child,.input-group-btn:first-child>.btn,.input-group-btn:first-child>.btn-group>.btn,.input-group-btn:first-child>.dropdown-toggle,.input-group-btn:last-child>.btn:not(:last-child):not(.dropdown-toggle),.input-group-btn:last-child>.btn-group:not(:last-child)>.btn{border-bottom-right-radius:0;border-top-right-radius:0}.input-group-addon:first-child{border-right:0}.input-group .form-control:last-child,.input-group-addon:last-child,.input-group-btn:last-child>.btn,.input-group-btn:last-child>.btn-group>.btn,.input-group-btn:last-child>.dropdown-toggle,.input-group-btn:first-child>.btn:not(:first-child),.input-group-btn:first-child>.btn-group:not(:first-child)>.btn{border-bottom-left-radius:0;border-top-left-radius:0}.input-group-addon:last-child{border-left:0}.input-group-btn{position:relative;font-size:0;white-space:nowrap}.input-group-btn>.btn{position:relative}.input-group-btn>.btn+.btn{margin-left:-1px}.input-group-btn>.btn:hover,.input-group-btn>.btn:focus,.input-group-btn>.btn:active{z-index:2}.input-group-btn:first-child>.btn,.input-group-btn:first-child>.btn-group{margin-right:-1px}.input-group-btn:last-child>.btn,.input-group-btn:last-child>.btn-group{margin-left:-1px}.nav{margin-bottom:0;padding-left:0;list-style:none}.nav>li{position:relative;display:block}.nav>li>a{position:relative;display:block;padding:10px 15px}.nav>li>a:hover,.nav>li>a:focus{text-decoration:none;background-color:#eeeeee}.nav>li.disabled>a{color:#999999}.nav>li.disabled>a:hover,.nav>li.disabled>a:focus{color:#999999;text-decoration:none;background-color:transparent;cursor:not-allowed}.nav .open>a,.nav .open>a:hover,.nav .open>a:focus{background-color:#eeeeee;border-color:#2fa4e7}.nav .nav-divider{height:1px;margin:9px 0;overflow:hidden;background-color:#e5e5e5}.nav>li>a>img{max-width:none}.nav-tabs{border-bottom:1px solid #dddddd}.nav-tabs>li{float:left;margin-bottom:-1px}.nav-tabs>li>a{margin-right:2px;line-height:1.42857143;border:1px solid transparent;border-radius:4px 4px 0 0}.nav-tabs>li>a:hover{border-color:#eeeeee #eeeeee #dddddd}.nav-tabs>li.active>a,.nav-tabs>li.active>a:hover,.nav-tabs>li.active>a:focus{color:#555555;background-color:#ffffff;border:1px solid #dddddd;border-bottom-color:transparent;cursor:default}.nav-tabs.nav-justified{width:100%;border-bottom:0}.nav-tabs.nav-justified>li{float:none}.nav-tabs.nav-justified>li>a{text-align:center;margin-bottom:5px}.nav-tabs.nav-justified>.dropdown .dropdown-menu{top:auto;left:auto}@media (min-width:768px){.nav-tabs.nav-justified>li{display:table-cell;width:1%}.nav-tabs.nav-justified>li>a{margin-bottom:0}}.nav-tabs.nav-justified>li>a{margin-right:0;border-radius:4px}.nav-tabs.nav-justified>.active>a,.nav-tabs.nav-justified>.active>a:hover,.nav-tabs.nav-justified>.active>a:focus{border:1px solid #dddddd}@media (min-width:768px){.nav-tabs.nav-justified>li>a{border-bottom:1px solid #dddddd;border-radius:4px 4px 0 0}.nav-tabs.nav-justified>.active>a,.nav-tabs.nav-justified>.active>a:hover,.nav-tabs.nav-justified>.active>a:focus{border-bottom-color:#ffffff}}.nav-pills>li{float:left}.nav-pills>li>a{border-radius:4px}.nav-pills>li+li{margin-left:2px}.nav-pills>li.active>a,.nav-pills>li.active>a:hover,.nav-pills>li.active>a:focus{color:#ffffff;background-color:#2fa4e7}.nav-stacked>li{float:none}.nav-stacked>li+li{margin-top:2px;margin-left:0}.nav-justified{width:100%}.nav-justified>li{float:none}.nav-justified>li>a{text-align:center;margin-bottom:5px}.nav-justified>.dropdown .dropdown-menu{top:auto;left:auto}@media (min-width:768px){.nav-justified>li{display:table-cell;width:1%}.nav-justified>li>a{margin-bottom:0}}.nav-tabs-justified{border-bottom:0}.nav-tabs-justified>li>a{margin-right:0;border-radius:4px}.nav-tabs-justified>.active>a,.nav-tabs-justified>.active>a:hover,.nav-tabs-justified>.active>a:focus{border:1px solid #dddddd}@media (min-width:768px){.nav-tabs-justified>li>a{border-bottom:1px solid #dddddd;border-radius:4px 4px 0 0}.nav-tabs-justified>.active>a,.nav-tabs-justified>.active>a:hover,.nav-tabs-justified>.active>a:focus{border-bottom-color:#ffffff}}.tab-content>.tab-pane{display:none;visibility:hidden}.tab-content>.active{display:block;visibility:visible}.nav-tabs .dropdown-menu{margin-top:-1px;border-top-right-radius:0;border-top-left-radius:0}.navbar{position:relative;min-height:50px;margin-bottom:20px;border:1px solid transparent}@media (min-width:768px){.navbar{border-radius:4px}}@media (min-width:768px){.navbar-header{float:left}}.navbar-collapse{overflow-x:visible;padding-right:15px;padding-left:15px;border-top:1px solid transparent;-webkit-box-shadow:inset 0 1px 0 rgba(255,255,255,0.1);box-shadow:inset 0 1px 0 rgba(255,255,255,0.1);-webkit-overflow-scrolling:touch}.navbar-collapse.in{overflow-y:auto}@media (min-width:768px){.navbar-collapse{width:auto;border-top:0;-webkit-box-shadow:none;box-shadow:none}.navbar-collapse.collapse{display:block !important;visibility:visible !important;height:auto !important;padding-bottom:0;overflow:visible !important}.navbar-collapse.in{overflow-y:visible}.navbar-fixed-top .navbar-collapse,.navbar-static-top .navbar-collapse,.navbar-fixed-bottom .navbar-collapse{padding-left:0;padding-right:0}}.navbar-fixed-top .navbar-collapse,.navbar-fixed-bottom .navbar-collapse{max-height:340px}@media (max-device-width:480px) and (orientation:landscape){.navbar-fixed-top .navbar-collapse,.navbar-fixed-bottom .navbar-collapse{max-height:200px}}.container>.navbar-header,.container-fluid>.navbar-header,.container>.navbar-collapse,.container-fluid>.navbar-collapse{margin-right:-15px;margin-left:-15px}@media (min-width:768px){.container>.navbar-header,.container-fluid>.navbar-header,.container>.navbar-collapse,.container-fluid>.navbar-collapse{margin-right:0;margin-left:0}}.navbar-static-top{z-index:1000;border-width:0 0 1px}@media (min-width:768px){.navbar-static-top{border-radius:0}}.navbar-fixed-top,.navbar-fixed-bottom{position:fixed;right:0;left:0;z-index:1030}@media (min-width:768px){.navbar-fixed-top,.navbar-fixed-bottom{border-radius:0}}.navbar-fixed-top{top:0;border-width:0 0 1px}.navbar-fixed-bottom{bottom:0;margin-bottom:0;border-width:1px 0 0}.navbar-brand{float:left;padding:15px 15px;font-size:18px;line-height:20px;height:50px}.navbar-brand:hover,.navbar-brand:focus{text-decoration:none}.navbar-brand>img{display:block}@media (min-width:768px){.navbar>.container .navbar-brand,.navbar>.container-fluid .navbar-brand{margin-left:-15px}}.navbar-toggle{position:relative;float:right;margin-right:15px;padding:9px 10px;margin-top:8px;margin-bottom:8px;background-color:transparent;background-image:none;border:1px solid transparent;border-radius:4px}.navbar-toggle:focus{outline:0}.navbar-toggle .icon-bar{display:block;width:22px;height:2px;border-radius:1px}.navbar-toggle .icon-bar+.icon-bar{margin-top:4px}@media (min-width:768px){.navbar-toggle{display:none}}.navbar-nav{margin:7.5px -15px}.navbar-nav>li>a{padding-top:10px;padding-bottom:10px;line-height:20px}@media (max-width:767px){.navbar-nav .open .dropdown-menu{position:static;float:none;width:auto;margin-top:0;background-color:transparent;border:0;-webkit-box-shadow:none;box-shadow:none}.navbar-nav .open .dropdown-menu>li>a,.navbar-nav .open .dropdown-menu .dropdown-header{padding:5px 15px 5px 25px}.navbar-nav .open .dropdown-menu>li>a{line-height:20px}.navbar-nav .open .dropdown-menu>li>a:hover,.navbar-nav .open .dropdown-menu>li>a:focus{background-image:none}}@media (min-width:768px){.navbar-nav{float:left;margin:0}.navbar-nav>li{float:left}.navbar-nav>li>a{padding-top:15px;padding-bottom:15px}}.navbar-form{margin-left:-15px;margin-right:-15px;padding:10px 15px;border-top:1px solid transparent;border-bottom:1px solid transparent;-webkit-box-shadow:inset 0 1px 0 rgba(255,255,255,0.1),0 1px 0 rgba(255,255,255,0.1);box-shadow:inset 0 1px 0 rgba(255,255,255,0.1),0 1px 0 rgba(255,255,255,0.1);margin-top:6px;margin-bottom:6px}@media (min-width:768px){.navbar-form .form-group{display:inline-block;margin-bottom:0;vertical-align:middle}.navbar-form .form-control{display:inline-block;width:auto;vertical-align:middle}.navbar-form .form-control-static{display:inline-block}.navbar-form .input-group{display:inline-table;vertical-align:middle}.navbar-form .input-group .input-group-addon,.navbar-form .input-group .input-group-btn,.navbar-form .input-group .form-control{width:auto}.navbar-form .input-group>.form-control{width:100%}.navbar-form .control-label{margin-bottom:0;vertical-align:middle}.navbar-form .radio,.navbar-form .checkbox{display:inline-block;margin-top:0;margin-bottom:0;vertical-align:middle}.navbar-form .radio label,.navbar-form .checkbox label{padding-left:0}.navbar-form .radio input[type="radio"],.navbar-form .checkbox input[type="checkbox"]{position:relative;margin-left:0}.navbar-form .has-feedback .form-control-feedback{top:0}}@media (max-width:767px){.navbar-form .form-group{margin-bottom:5px}.navbar-form .form-group:last-child{margin-bottom:0}}@media (min-width:768px){.navbar-form{width:auto;border:0;margin-left:0;margin-right:0;padding-top:0;padding-bottom:0;-webkit-box-shadow:none;box-shadow:none}}.navbar-nav>li>.dropdown-menu{margin-top:0;border-top-right-radius:0;border-top-left-radius:0}.navbar-fixed-bottom .navbar-nav>li>.dropdown-menu{border-top-right-radius:4px;border-top-left-radius:4px;border-bottom-right-radius:0;border-bottom-left-radius:0}.navbar-btn{margin-top:6px;margin-bottom:6px}.navbar-btn.btn-sm{margin-top:10px;margin-bottom:10px}.navbar-btn.btn-xs{margin-top:14px;margin-bottom:14px}.navbar-text{margin-top:15px;margin-bottom:15px}@media (min-width:768px){.navbar-text{float:left;margin-left:15px;margin-right:15px}}@media (min-width:768px){.navbar-left{float:left !important}.navbar-right{float:right !important;margin-right:-15px}.navbar-right~.navbar-right{margin-right:0}}.navbar-default{background-color:#2fa4e7;border-color:#1995dc}.navbar-default .navbar-brand{color:#ffffff}.navbar-default .navbar-brand:hover,.navbar-default .navbar-brand:focus{color:#ffffff;background-color:none}.navbar-default .navbar-text{color:#dddddd}.navbar-default .navbar-nav>li>a{color:#ffffff}.navbar-default .navbar-nav>li>a:hover,.navbar-default .navbar-nav>li>a:focus{color:#ffffff;background-color:#178acc}.navbar-default .navbar-nav>.active>a,.navbar-default .navbar-nav>.active>a:hover,.navbar-default .navbar-nav>.active>a:focus{color:#ffffff;background-color:#178acc}.navbar-default .navbar-nav>.disabled>a,.navbar-default .navbar-nav>.disabled>a:hover,.navbar-default .navbar-nav>.disabled>a:focus{color:#dddddd;background-color:transparent}.navbar-default .navbar-toggle{border-color:#178acc}.navbar-default .navbar-toggle:hover,.navbar-default .navbar-toggle:focus{background-color:#178acc}.navbar-default .navbar-toggle .icon-bar{background-color:#ffffff}.navbar-default .navbar-collapse,.navbar-default .navbar-form{border-color:#1995dc}.navbar-default .navbar-nav>.open>a,.navbar-default .navbar-nav>.open>a:hover,.navbar-default .navbar-nav>.open>a:focus{background-color:#178acc;color:#ffffff}@media (max-width:767px){.navbar-default .navbar-nav .open .dropdown-menu>li>a{color:#ffffff}.navbar-default .navbar-nav .open .dropdown-menu>li>a:hover,.navbar-default .navbar-nav .open .dropdown-menu>li>a:focus{color:#ffffff;background-color:#178acc}.navbar-default .navbar-nav .open .dropdown-menu>.active>a,.navbar-default .navbar-nav .open .dropdown-menu>.active>a:hover,.navbar-default .navbar-nav .open .dropdown-menu>.active>a:focus{color:#ffffff;background-color:#178acc}.navbar-default .navbar-nav .open .dropdown-menu>.disabled>a,.navbar-default .navbar-nav .open .dropdown-menu>.disabled>a:hover,.navbar-default .navbar-nav .open .dropdown-menu>.disabled>a:focus{color:#dddddd;background-color:transparent}}.navbar-default .navbar-link{color:#ffffff}.navbar-default .navbar-link:hover{color:#ffffff}.navbar-default .btn-link{color:#ffffff}.navbar-default .btn-link:hover,.navbar-default .btn-link:focus{color:#ffffff}.navbar-default .btn-link[disabled]:hover,fieldset[disabled] .navbar-default .btn-link:hover,.navbar-default .btn-link[disabled]:focus,fieldset[disabled] .navbar-default .btn-link:focus{color:#dddddd}.navbar-inverse{background-color:#033c73;border-color:#022f5a}.navbar-inverse .navbar-brand{color:#ffffff}.navbar-inverse .navbar-brand:hover,.navbar-inverse .navbar-brand:focus{color:#ffffff;background-color:none}.navbar-inverse .navbar-text{color:#ffffff}.navbar-inverse .navbar-nav>li>a{color:#ffffff}.navbar-inverse .navbar-nav>li>a:hover,.navbar-inverse .navbar-nav>li>a:focus{color:#ffffff;background-color:#022f5a}.navbar-inverse .navbar-nav>.active>a,.navbar-inverse .navbar-nav>.active>a:hover,.navbar-inverse .navbar-nav>.active>a:focus{color:#ffffff;background-color:#022f5a}.navbar-inverse .navbar-nav>.disabled>a,.navbar-inverse .navbar-nav>.disabled>a:hover,.navbar-inverse .navbar-nav>.disabled>a:focus{color:#cccccc;background-color:transparent}.navbar-inverse .navbar-toggle{border-color:#022f5a}.navbar-inverse .navbar-toggle:hover,.navbar-inverse .navbar-toggle:focus{background-color:#022f5a}.navbar-inverse .navbar-toggle .icon-bar{background-color:#ffffff}.navbar-inverse .navbar-collapse,.navbar-inverse .navbar-form{border-color:#022a50}.navbar-inverse .navbar-nav>.open>a,.navbar-inverse .navbar-nav>.open>a:hover,.navbar-inverse .navbar-nav>.open>a:focus{background-color:#022f5a;color:#ffffff}@media (max-width:767px){.navbar-inverse .navbar-nav .open .dropdown-menu>.dropdown-header{border-color:#022f5a}.navbar-inverse .navbar-nav .open .dropdown-menu .divider{background-color:#022f5a}.navbar-inverse .navbar-nav .open .dropdown-menu>li>a{color:#ffffff}.navbar-inverse .navbar-nav .open .dropdown-menu>li>a:hover,.navbar-inverse .navbar-nav .open .dropdown-menu>li>a:focus{color:#ffffff;background-color:#022f5a}.navbar-inverse .navbar-nav .open .dropdown-menu>.active>a,.navbar-inverse .navbar-nav .open .dropdown-menu>.active>a:hover,.navbar-inverse .navbar-nav .open .dropdown-menu>.active>a:focus{color:#ffffff;background-color:#022f5a}.navbar-inverse .navbar-nav .open .dropdown-menu>.disabled>a,.navbar-inverse .navbar-nav .open .dropdown-menu>.disabled>a:hover,.navbar-inverse .navbar-nav .open .dropdown-menu>.disabled>a:focus{color:#cccccc;background-color:transparent}}.navbar-inverse .navbar-link{color:#ffffff}.navbar-inverse .navbar-link:hover{color:#ffffff}.navbar-inverse .btn-link{color:#ffffff}.navbar-inverse .btn-link:hover,.navbar-inverse .btn-link:focus{color:#ffffff}.navbar-inverse .btn-link[disabled]:hover,fieldset[disabled] .navbar-inverse .btn-link:hover,.navbar-inverse .btn-link[disabled]:focus,fieldset[disabled] .navbar-inverse .btn-link:focus{color:#cccccc}.breadcrumb{padding:8px 15px;margin-bottom:20px;list-style:none;background-color:#f5f5f5;border-radius:4px}.breadcrumb>li{display:inline-block}.breadcrumb>li+li:before{content:"/\00a0";padding:0 5px;color:#cccccc}.breadcrumb>.active{color:#999999}.pagination{display:inline-block;padding-left:0;margin:20px 0;border-radius:4px}.pagination>li{display:inline}.pagination>li>a,.pagination>li>span{position:relative;float:left;padding:8px 12px;line-height:1.42857143;text-decoration:none;color:#2fa4e7;background-color:#ffffff;border:1px solid #dddddd;margin-left:-1px}.pagination>li:first-child>a,.pagination>li:first-child>span{margin-left:0;border-bottom-left-radius:4px;border-top-left-radius:4px}.pagination>li:last-child>a,.pagination>li:last-child>span{border-bottom-right-radius:4px;border-top-right-radius:4px}.pagination>li>a:hover,.pagination>li>span:hover,.pagination>li>a:focus,.pagination>li>span:focus{color:#157ab5;background-color:#eeeeee;border-color:#dddddd}.pagination>.active>a,.pagination>.active>span,.pagination>.active>a:hover,.pagination>.active>span:hover,.pagination>.active>a:focus,.pagination>.active>span:focus{z-index:2;color:#999999;background-color:#f5f5f5;border-color:#dddddd;cursor:default}.pagination>.disabled>span,.pagination>.disabled>span:hover,.pagination>.disabled>span:focus,.pagination>.disabled>a,.pagination>.disabled>a:hover,.pagination>.disabled>a:focus{color:#999999;background-color:#ffffff;border-color:#dddddd;cursor:not-allowed}.pagination-lg>li>a,.pagination-lg>li>span{padding:14px 16px;font-size:18px}.pagination-lg>li:first-child>a,.pagination-lg>li:first-child>span{border-bottom-left-radius:6px;border-top-left-radius:6px}.pagination-lg>li:last-child>a,.pagination-lg>li:last-child>span{border-bottom-right-radius:6px;border-top-right-radius:6px}.pagination-sm>li>a,.pagination-sm>li>span{padding:5px 10px;font-size:12px}.pagination-sm>li:first-child>a,.pagination-sm>li:first-child>span{border-bottom-left-radius:3px;border-top-left-radius:3px}.pagination-sm>li:last-child>a,.pagination-sm>li:last-child>span{border-bottom-right-radius:3px;border-top-right-radius:3px}.pager{padding-left:0;margin:20px 0;list-style:none;text-align:center}.pager li{display:inline}.pager li>a,.pager li>span{display:inline-block;padding:5px 14px;background-color:#ffffff;border:1px solid #dddddd;border-radius:15px}.pager li>a:hover,.pager li>a:focus{text-decoration:none;background-color:#eeeeee}.pager .next>a,.pager .next>span{float:right}.pager .previous>a,.pager .previous>span{float:left}.pager .disabled>a,.pager .disabled>a:hover,.pager .disabled>a:focus,.pager .disabled>span{color:#999999;background-color:#ffffff;cursor:not-allowed}.label{display:inline;padding:.2em .6em .3em;font-size:75%;font-weight:bold;line-height:1;color:#ffffff;text-align:center;white-space:nowrap;vertical-align:baseline;border-radius:.25em}a.label:hover,a.label:focus{color:#ffffff;text-decoration:none;cursor:pointer}.label:empty{display:none}.btn .label{position:relative;top:-1px}.label-default{background-color:#999999}.label-default[href]:hover,.label-default[href]:focus{background-color:#808080}.label-primary{background-color:#2fa4e7}.label-primary[href]:hover,.label-primary[href]:focus{background-color:#178acc}.label-success{background-color:#73a839}.label-success[href]:hover,.label-success[href]:focus{background-color:#59822c}.label-info{background-color:#033c73}.label-info[href]:hover,.label-info[href]:focus{background-color:#022241}.label-warning{background-color:#dd5600}.label-warning[href]:hover,.label-warning[href]:focus{background-color:#aa4200}.label-danger{background-color:#c71c22}.label-danger[href]:hover,.label-danger[href]:focus{background-color:#9a161a}.badge{display:inline-block;min-width:10px;padding:3px 7px;font-size:12px;font-weight:bold;color:#ffffff;line-height:1;vertical-align:baseline;white-space:nowrap;text-align:center;background-color:#2fa4e7;border-radius:10px}.badge:empty{display:none}.btn .badge{position:relative;top:-1px}.btn-xs .badge{top:0;padding:1px 5px}a.badge:hover,a.badge:focus{color:#ffffff;text-decoration:none;cursor:pointer}.list-group-item.active>.badge,.nav-pills>.active>a>.badge{color:#2fa4e7;background-color:#ffffff}.list-group-item>.badge{float:right}.list-group-item>.badge+.badge{margin-right:5px}.nav-pills>li>a>.badge{margin-left:3px}.jumbotron{padding:30px 15px;margin-bottom:30px;color:inherit;background-color:#eeeeee}.jumbotron h1,.jumbotron .h1{color:inherit}.jumbotron p{margin-bottom:15px;font-size:21px;font-weight:200}.jumbotron>hr{border-top-color:#d5d5d5}.container .jumbotron,.container-fluid .jumbotron{border-radius:6px}.jumbotron .container{max-width:100%}@media screen and (min-width:768px){.jumbotron{padding:48px 0}.container .jumbotron,.container-fluid .jumbotron{padding-left:60px;padding-right:60px}.jumbotron h1,.jumbotron .h1{font-size:63px}}.thumbnail{display:block;padding:4px;margin-bottom:20px;line-height:1.42857143;background-color:#ffffff;border:1px solid #dddddd;border-radius:4px;-webkit-transition:border .2s ease-in-out;-o-transition:border .2s ease-in-out;transition:border .2s ease-in-out}.thumbnail>img,.thumbnail a>img{margin-left:auto;margin-right:auto}a.thumbnail:hover,a.thumbnail:focus,a.thumbnail.active{border-color:#2fa4e7}.thumbnail .caption{padding:9px;color:#555555}.alert{padding:15px;margin-bottom:20px;border:1px solid transparent;border-radius:4px}.alert h4{margin-top:0;color:inherit}.alert .alert-link{font-weight:bold}.alert>p,.alert>ul{margin-bottom:0}.alert>p+p{margin-top:5px}.alert-dismissable,.alert-dismissible{padding-right:35px}.alert-dismissable .close,.alert-dismissible .close{position:relative;top:-2px;right:-21px;color:inherit}.alert-success{background-color:#dff0d8;border-color:#d6e9c6;color:#468847}.alert-success hr{border-top-color:#c9e2b3}.alert-success .alert-link{color:#356635}.alert-info{background-color:#d9edf7;border-color:#bce8f1;color:#3a87ad}.alert-info hr{border-top-color:#a6e1ec}.alert-info .alert-link{color:#2d6987}.alert-warning{background-color:#fcf8e3;border-color:#fbeed5;color:#c09853}.alert-warning hr{border-top-color:#f8e5be}.alert-warning .alert-link{color:#a47e3c}.alert-danger{background-color:#f2dede;border-color:#eed3d7;color:#b94a48}.alert-danger hr{border-top-color:#e6c1c7}.alert-danger .alert-link{color:#953b39}@-webkit-keyframes progress-bar-stripes{from{background-position:40px 0}to{background-position:0 0}}@-o-keyframes progress-bar-stripes{from{background-position:40px 0}to{background-position:0 0}}@keyframes progress-bar-stripes{from{background-position:40px 0}to{background-position:0 0}}.progress{overflow:hidden;height:20px;margin-bottom:20px;background-color:#f5f5f5;border-radius:4px;-webkit-box-shadow:inset 0 1px 2px rgba(0,0,0,0.1);box-shadow:inset 0 1px 2px rgba(0,0,0,0.1)}.progress-bar{float:left;width:0%;height:100%;font-size:12px;line-height:20px;color:#ffffff;text-align:center;background-color:#2fa4e7;-webkit-box-shadow:inset 0 -1px 0 rgba(0,0,0,0.15);box-shadow:inset 0 -1px 0 rgba(0,0,0,0.15);-webkit-transition:width 0.6s ease;-o-transition:width 0.6s ease;transition:width 0.6s ease}.progress-striped .progress-bar,.progress-bar-striped{background-image:-webkit-linear-gradient(45deg, rgba(255,255,255,0.15) 25%, transparent 25%, transparent 50%, rgba(255,255,255,0.15) 50%, rgba(255,255,255,0.15) 75%, transparent 75%, transparent);background-image:-o-linear-gradient(45deg, rgba(255,255,255,0.15) 25%, transparent 25%, transparent 50%, rgba(255,255,255,0.15) 50%, rgba(255,255,255,0.15) 75%, transparent 75%, transparent);background-image:linear-gradient(45deg, rgba(255,255,255,0.15) 25%, transparent 25%, transparent 50%, rgba(255,255,255,0.15) 50%, rgba(255,255,255,0.15) 75%, transparent 75%, transparent);-webkit-background-size:40px 40px;background-size:40px 40px}.progress.active .progress-bar,.progress-bar.active{-webkit-animation:progress-bar-stripes 2s linear infinite;-o-animation:progress-bar-stripes 2s linear infinite;animation:progress-bar-stripes 2s linear infinite}.progress-bar-success{background-color:#73a839}.progress-striped .progress-bar-success{background-image:-webkit-linear-gradient(45deg, rgba(255,255,255,0.15) 25%, transparent 25%, transparent 50%, rgba(255,255,255,0.15) 50%, rgba(255,255,255,0.15) 75%, transparent 75%, transparent);background-image:-o-linear-gradient(45deg, rgba(255,255,255,0.15) 25%, transparent 25%, transparent 50%, rgba(255,255,255,0.15) 50%, rgba(255,255,255,0.15) 75%, transparent 75%, transparent);background-image:linear-gradient(45deg, rgba(255,255,255,0.15) 25%, transparent 25%, transparent 50%, rgba(255,255,255,0.15) 50%, rgba(255,255,255,0.15) 75%, transparent 75%, transparent)}.progress-bar-info{background-color:#033c73}.progress-striped .progress-bar-info{background-image:-webkit-linear-gradient(45deg, rgba(255,255,255,0.15) 25%, transparent 25%, transparent 50%, rgba(255,255,255,0.15) 50%, rgba(255,255,255,0.15) 75%, transparent 75%, transparent);background-image:-o-linear-gradient(45deg, rgba(255,255,255,0.15) 25%, transparent 25%, transparent 50%, rgba(255,255,255,0.15) 50%, rgba(255,255,255,0.15) 75%, transparent 75%, transparent);background-image:linear-gradient(45deg, rgba(255,255,255,0.15) 25%, transparent 25%, transparent 50%, rgba(255,255,255,0.15) 50%, rgba(255,255,255,0.15) 75%, transparent 75%, transparent)}.progress-bar-warning{background-color:#dd5600}.progress-striped .progress-bar-warning{background-image:-webkit-linear-gradient(45deg, rgba(255,255,255,0.15) 25%, transparent 25%, transparent 50%, rgba(255,255,255,0.15) 50%, rgba(255,255,255,0.15) 75%, transparent 75%, transparent);background-image:-o-linear-gradient(45deg, rgba(255,255,255,0.15) 25%, transparent 25%, transparent 50%, rgba(255,255,255,0.15) 50%, rgba(255,255,255,0.15) 75%, transparent 75%, transparent);background-image:linear-gradient(45deg, rgba(255,255,255,0.15) 25%, transparent 25%, transparent 50%, rgba(255,255,255,0.15) 50%, rgba(255,255,255,0.15) 75%, transparent 75%, transparent)}.progress-bar-danger{background-color:#c71c22}.progress-striped .progress-bar-danger{background-image:-webkit-linear-gradient(45deg, rgba(255,255,255,0.15) 25%, transparent 25%, transparent 50%, rgba(255,255,255,0.15) 50%, rgba(255,255,255,0.15) 75%, transparent 75%, transparent);background-image:-o-linear-gradient(45deg, rgba(255,255,255,0.15) 25%, transparent 25%, transparent 50%, rgba(255,255,255,0.15) 50%, rgba(255,255,255,0.15) 75%, transparent 75%, transparent);background-image:linear-gradient(45deg, rgba(255,255,255,0.15) 25%, transparent 25%, transparent 50%, rgba(255,255,255,0.15) 50%, rgba(255,255,255,0.15) 75%, transparent 75%, transparent)}.media{margin-top:15px}.media:first-child{margin-top:0}.media-right,.media>.pull-right{padding-left:10px}.media-left,.media>.pull-left{padding-right:10px}.media-left,.media-right,.media-body{display:table-cell;vertical-align:top}.media-middle{vertical-align:middle}.media-bottom{vertical-align:bottom}.media-heading{margin-top:0;margin-bottom:5px}.media-list{padding-left:0;list-style:none}.list-group{margin-bottom:20px;padding-left:0}.list-group-item{position:relative;display:block;padding:10px 15px;margin-bottom:-1px;background-color:#ffffff;border:1px solid #dddddd}.list-group-item:first-child{border-top-right-radius:4px;border-top-left-radius:4px}.list-group-item:last-child{margin-bottom:0;border-bottom-right-radius:4px;border-bottom-left-radius:4px}a.list-group-item{color:#555555}a.list-group-item .list-group-item-heading{color:#333333}a.list-group-item:hover,a.list-group-item:focus{text-decoration:none;color:#555555;background-color:#f5f5f5}.list-group-item.disabled,.list-group-item.disabled:hover,.list-group-item.disabled:focus{background-color:#eeeeee;color:#999999;cursor:not-allowed}.list-group-item.disabled .list-group-item-heading,.list-group-item.disabled:hover .list-group-item-heading,.list-group-item.disabled:focus .list-group-item-heading{color:inherit}.list-group-item.disabled .list-group-item-text,.list-group-item.disabled:hover .list-group-item-text,.list-group-item.disabled:focus .list-group-item-text{color:#999999}.list-group-item.active,.list-group-item.active:hover,.list-group-item.active:focus{z-index:2;color:#ffffff;background-color:#2fa4e7;border-color:#2fa4e7}.list-group-item.active .list-group-item-heading,.list-group-item.active:hover .list-group-item-heading,.list-group-item.active:focus .list-group-item-heading,.list-group-item.active .list-group-item-heading>small,.list-group-item.active:hover .list-group-item-heading>small,.list-group-item.active:focus .list-group-item-heading>small,.list-group-item.active .list-group-item-heading>.small,.list-group-item.active:hover .list-group-item-heading>.small,.list-group-item.active:focus .list-group-item-heading>.small{color:inherit}.list-group-item.active .list-group-item-text,.list-group-item.active:hover .list-group-item-text,.list-group-item.active:focus .list-group-item-text{color:#e6f4fc}.list-group-item-success{color:#468847;background-color:#dff0d8}a.list-group-item-success{color:#468847}a.list-group-item-success .list-group-item-heading{color:inherit}a.list-group-item-success:hover,a.list-group-item-success:focus{color:#468847;background-color:#d0e9c6}a.list-group-item-success.active,a.list-group-item-success.active:hover,a.list-group-item-success.active:focus{color:#fff;background-color:#468847;border-color:#468847}.list-group-item-info{color:#3a87ad;background-color:#d9edf7}a.list-group-item-info{color:#3a87ad}a.list-group-item-info .list-group-item-heading{color:inherit}a.list-group-item-info:hover,a.list-group-item-info:focus{color:#3a87ad;background-color:#c4e3f3}a.list-group-item-info.active,a.list-group-item-info.active:hover,a.list-group-item-info.active:focus{color:#fff;background-color:#3a87ad;border-color:#3a87ad}.list-group-item-warning{color:#c09853;background-color:#fcf8e3}a.list-group-item-warning{color:#c09853}a.list-group-item-warning .list-group-item-heading{color:inherit}a.list-group-item-warning:hover,a.list-group-item-warning:focus{color:#c09853;background-color:#faf2cc}a.list-group-item-warning.active,a.list-group-item-warning.active:hover,a.list-group-item-warning.active:focus{color:#fff;background-color:#c09853;border-color:#c09853}.list-group-item-danger{color:#b94a48;background-color:#f2dede}a.list-group-item-danger{color:#b94a48}a.list-group-item-danger .list-group-item-heading{color:inherit}a.list-group-item-danger:hover,a.list-group-item-danger:focus{color:#b94a48;background-color:#ebcccc}a.list-group-item-danger.active,a.list-group-item-danger.active:hover,a.list-group-item-danger.active:focus{color:#fff;background-color:#b94a48;border-color:#b94a48}.list-group-item-heading{margin-top:0;margin-bottom:5px}.list-group-item-text{margin-bottom:0;line-height:1.3}.panel{margin-bottom:20px;background-color:#ffffff;border:1px solid transparent;border-radius:4px;-webkit-box-shadow:0 1px 1px rgba(0,0,0,0.05);box-shadow:0 1px 1px rgba(0,0,0,0.05)}.panel-body{padding:15px}.panel-heading{padding:10px 15px;border-bottom:1px solid transparent;border-top-right-radius:3px;border-top-left-radius:3px}.panel-heading>.dropdown .dropdown-toggle{color:inherit}.panel-title{margin-top:0;margin-bottom:0;font-size:16px;color:inherit}.panel-title>a{color:inherit}.panel-footer{padding:10px 15px;background-color:#f5f5f5;border-top:1px solid #dddddd;border-bottom-right-radius:3px;border-bottom-left-radius:3px}.panel>.list-group,.panel>.panel-collapse>.list-group{margin-bottom:0}.panel>.list-group .list-group-item,.panel>.panel-collapse>.list-group .list-group-item{border-width:1px 0;border-radius:0}.panel>.list-group:first-child .list-group-item:first-child,.panel>.panel-collapse>.list-group:first-child .list-group-item:first-child{border-top:0;border-top-right-radius:3px;border-top-left-radius:3px}.panel>.list-group:last-child .list-group-item:last-child,.panel>.panel-collapse>.list-group:last-child .list-group-item:last-child{border-bottom:0;border-bottom-right-radius:3px;border-bottom-left-radius:3px}.panel-heading+.list-group .list-group-item:first-child{border-top-width:0}.list-group+.panel-footer{border-top-width:0}.panel>.table,.panel>.table-responsive>.table,.panel>.panel-collapse>.table{margin-bottom:0}.panel>.table caption,.panel>.table-responsive>.table caption,.panel>.panel-collapse>.table caption{padding-left:15px;padding-right:15px}.panel>.table:first-child,.panel>.table-responsive:first-child>.table:first-child{border-top-right-radius:3px;border-top-left-radius:3px}.panel>.table:first-child>thead:first-child>tr:first-child,.panel>.table-responsive:first-child>.table:first-child>thead:first-child>tr:first-child,.panel>.table:first-child>tbody:first-child>tr:first-child,.panel>.table-responsive:first-child>.table:first-child>tbody:first-child>tr:first-child{border-top-left-radius:3px;border-top-right-radius:3px}.panel>.table:first-child>thead:first-child>tr:first-child td:first-child,.panel>.table-responsive:first-child>.table:first-child>thead:first-child>tr:first-child td:first-child,.panel>.table:first-child>tbody:first-child>tr:first-child td:first-child,.panel>.table-responsive:first-child>.table:first-child>tbody:first-child>tr:first-child td:first-child,.panel>.table:first-child>thead:first-child>tr:first-child th:first-child,.panel>.table-responsive:first-child>.table:first-child>thead:first-child>tr:first-child th:first-child,.panel>.table:first-child>tbody:first-child>tr:first-child th:first-child,.panel>.table-responsive:first-child>.table:first-child>tbody:first-child>tr:first-child th:first-child{border-top-left-radius:3px}.panel>.table:first-child>thead:first-child>tr:first-child td:last-child,.panel>.table-responsive:first-child>.table:first-child>thead:first-child>tr:first-child td:last-child,.panel>.table:first-child>tbody:first-child>tr:first-child td:last-child,.panel>.table-responsive:first-child>.table:first-child>tbody:first-child>tr:first-child td:last-child,.panel>.table:first-child>thead:first-child>tr:first-child th:last-child,.panel>.table-responsive:first-child>.table:first-child>thead:first-child>tr:first-child th:last-child,.panel>.table:first-child>tbody:first-child>tr:first-child th:last-child,.panel>.table-responsive:first-child>.table:first-child>tbody:first-child>tr:first-child th:last-child{border-top-right-radius:3px}.panel>.table:last-child,.panel>.table-responsive:last-child>.table:last-child{border-bottom-right-radius:3px;border-bottom-left-radius:3px}.panel>.table:last-child>tbody:last-child>tr:last-child,.panel>.table-responsive:last-child>.table:last-child>tbody:last-child>tr:last-child,.panel>.table:last-child>tfoot:last-child>tr:last-child,.panel>.table-responsive:last-child>.table:last-child>tfoot:last-child>tr:last-child{border-bottom-left-radius:3px;border-bottom-right-radius:3px}.panel>.table:last-child>tbody:last-child>tr:last-child td:first-child,.panel>.table-responsive:last-child>.table:last-child>tbody:last-child>tr:last-child td:first-child,.panel>.table:last-child>tfoot:last-child>tr:last-child td:first-child,.panel>.table-responsive:last-child>.table:last-child>tfoot:last-child>tr:last-child td:first-child,.panel>.table:last-child>tbody:last-child>tr:last-child th:first-child,.panel>.table-responsive:last-child>.table:last-child>tbody:last-child>tr:last-child th:first-child,.panel>.table:last-child>tfoot:last-child>tr:last-child th:first-child,.panel>.table-responsive:last-child>.table:last-child>tfoot:last-child>tr:last-child th:first-child{border-bottom-left-radius:3px}.panel>.table:last-child>tbody:last-child>tr:last-child td:last-child,.panel>.table-responsive:last-child>.table:last-child>tbody:last-child>tr:last-child td:last-child,.panel>.table:last-child>tfoot:last-child>tr:last-child td:last-child,.panel>.table-responsive:last-child>.table:last-child>tfoot:last-child>tr:last-child td:last-child,.panel>.table:last-child>tbody:last-child>tr:last-child th:last-child,.panel>.table-responsive:last-child>.table:last-child>tbody:last-child>tr:last-child th:last-child,.panel>.table:last-child>tfoot:last-child>tr:last-child th:last-child,.panel>.table-responsive:last-child>.table:last-child>tfoot:last-child>tr:last-child th:last-child{border-bottom-right-radius:3px}.panel>.panel-body+.table,.panel>.panel-body+.table-responsive,.panel>.table+.panel-body,.panel>.table-responsive+.panel-body{border-top:1px solid #dddddd}.panel>.table>tbody:first-child>tr:first-child th,.panel>.table>tbody:first-child>tr:first-child td{border-top:0}.panel>.table-bordered,.panel>.table-responsive>.table-bordered{border:0}.panel>.table-bordered>thead>tr>th:first-child,.panel>.table-responsive>.table-bordered>thead>tr>th:first-child,.panel>.table-bordered>tbody>tr>th:first-child,.panel>.table-responsive>.table-bordered>tbody>tr>th:first-child,.panel>.table-bordered>tfoot>tr>th:first-child,.panel>.table-responsive>.table-bordered>tfoot>tr>th:first-child,.panel>.table-bordered>thead>tr>td:first-child,.panel>.table-responsive>.table-bordered>thead>tr>td:first-child,.panel>.table-bordered>tbody>tr>td:first-child,.panel>.table-responsive>.table-bordered>tbody>tr>td:first-child,.panel>.table-bordered>tfoot>tr>td:first-child,.panel>.table-responsive>.table-bordered>tfoot>tr>td:first-child{border-left:0}.panel>.table-bordered>thead>tr>th:last-child,.panel>.table-responsive>.table-bordered>thead>tr>th:last-child,.panel>.table-bordered>tbody>tr>th:last-child,.panel>.table-responsive>.table-bordered>tbody>tr>th:last-child,.panel>.table-bordered>tfoot>tr>th:last-child,.panel>.table-responsive>.table-bordered>tfoot>tr>th:last-child,.panel>.table-bordered>thead>tr>td:last-child,.panel>.table-responsive>.table-bordered>thead>tr>td:last-child,.panel>.table-bordered>tbody>tr>td:last-child,.panel>.table-responsive>.table-bordered>tbody>tr>td:last-child,.panel>.table-bordered>tfoot>tr>td:last-child,.panel>.table-responsive>.table-bordered>tfoot>tr>td:last-child{border-right:0}.panel>.table-bordered>thead>tr:first-child>td,.panel>.table-responsive>.table-bordered>thead>tr:first-child>td,.panel>.table-bordered>tbody>tr:first-child>td,.panel>.table-responsive>.table-bordered>tbody>tr:first-child>td,.panel>.table-bordered>thead>tr:first-child>th,.panel>.table-responsive>.table-bordered>thead>tr:first-child>th,.panel>.table-bordered>tbody>tr:first-child>th,.panel>.table-responsive>.table-bordered>tbody>tr:first-child>th{border-bottom:0}.panel>.table-bordered>tbody>tr:last-child>td,.panel>.table-responsive>.table-bordered>tbody>tr:last-child>td,.panel>.table-bordered>tfoot>tr:last-child>td,.panel>.table-responsive>.table-bordered>tfoot>tr:last-child>td,.panel>.table-bordered>tbody>tr:last-child>th,.panel>.table-responsive>.table-bordered>tbody>tr:last-child>th,.panel>.table-bordered>tfoot>tr:last-child>th,.panel>.table-responsive>.table-bordered>tfoot>tr:last-child>th{border-bottom:0}.panel>.table-responsive{border:0;margin-bottom:0}.panel-group{margin-bottom:20px}.panel-group .panel{margin-bottom:0;border-radius:4px}.panel-group .panel+.panel{margin-top:5px}.panel-group .panel-heading{border-bottom:0}.panel-group .panel-heading+.panel-collapse>.panel-body,.panel-group .panel-heading+.panel-collapse>.list-group{border-top:1px solid #dddddd}.panel-group .panel-footer{border-top:0}.panel-group .panel-footer+.panel-collapse .panel-body{border-bottom:1px solid #dddddd}.panel-default{border-color:#dddddd}.panel-default>.panel-heading{color:#555555;background-color:#f5f5f5;border-color:#dddddd}.panel-default>.panel-heading+.panel-collapse>.panel-body{border-top-color:#dddddd}.panel-default>.panel-heading .badge{color:#f5f5f5;background-color:#555555}.panel-default>.panel-footer+.panel-collapse>.panel-body{border-bottom-color:#dddddd}.panel-primary{border-color:#dddddd}.panel-primary>.panel-heading{color:#ffffff;background-color:#2fa4e7;border-color:#dddddd}.panel-primary>.panel-heading+.panel-collapse>.panel-body{border-top-color:#dddddd}.panel-primary>.panel-heading .badge{color:#2fa4e7;background-color:#ffffff}.panel-primary>.panel-footer+.panel-collapse>.panel-body{border-bottom-color:#dddddd}.panel-success{border-color:#dddddd}.panel-success>.panel-heading{color:#468847;background-color:#73a839;border-color:#dddddd}.panel-success>.panel-heading+.panel-collapse>.panel-body{border-top-color:#dddddd}.panel-success>.panel-heading .badge{color:#73a839;background-color:#468847}.panel-success>.panel-footer+.panel-collapse>.panel-body{border-bottom-color:#dddddd}.panel-info{border-color:#dddddd}.panel-info>.panel-heading{color:#3a87ad;background-color:#033c73;border-color:#dddddd}.panel-info>.panel-heading+.panel-collapse>.panel-body{border-top-color:#dddddd}.panel-info>.panel-heading .badge{color:#033c73;background-color:#3a87ad}.panel-info>.panel-footer+.panel-collapse>.panel-body{border-bottom-color:#dddddd}.panel-warning{border-color:#dddddd}.panel-warning>.panel-heading{color:#c09853;background-color:#dd5600;border-color:#dddddd}.panel-warning>.panel-heading+.panel-collapse>.panel-body{border-top-color:#dddddd}.panel-warning>.panel-heading .badge{color:#dd5600;background-color:#c09853}.panel-warning>.panel-footer+.panel-collapse>.panel-body{border-bottom-color:#dddddd}.panel-danger{border-color:#dddddd}.panel-danger>.panel-heading{color:#b94a48;background-color:#c71c22;border-color:#dddddd}.panel-danger>.panel-heading+.panel-collapse>.panel-body{border-top-color:#dddddd}.panel-danger>.panel-heading .badge{color:#c71c22;background-color:#b94a48}.panel-danger>.panel-footer+.panel-collapse>.panel-body{border-bottom-color:#dddddd}.embed-responsive{position:relative;display:block;height:0;padding:0;overflow:hidden}.embed-responsive .embed-responsive-item,.embed-responsive iframe,.embed-responsive embed,.embed-responsive object,.embed-responsive video{position:absolute;top:0;left:0;bottom:0;height:100%;width:100%;border:0}.embed-responsive.embed-responsive-16by9{padding-bottom:56.25%}.embed-responsive.embed-responsive-4by3{padding-bottom:75%}.well{min-height:20px;padding:19px;margin-bottom:20px;background-color:#f5f5f5;border:1px solid #e3e3e3;border-radius:4px;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,0.05);box-shadow:inset 0 1px 1px rgba(0,0,0,0.05)}.well blockquote{border-color:#ddd;border-color:rgba(0,0,0,0.15)}.well-lg{padding:24px;border-radius:6px}.well-sm{padding:9px;border-radius:3px}.close{float:right;font-size:21px;font-weight:bold;line-height:1;color:#000000;text-shadow:0 1px 0 #ffffff;opacity:0.2;filter:alpha(opacity=20)}.close:hover,.close:focus{color:#000000;text-decoration:none;cursor:pointer;opacity:0.5;filter:alpha(opacity=50)}button.close{padding:0;cursor:pointer;background:transparent;border:0;-webkit-appearance:none}.modal-open{overflow:hidden}.modal{display:none;overflow:hidden;position:fixed;top:0;right:0;bottom:0;left:0;z-index:1040;-webkit-overflow-scrolling:touch;outline:0}.modal.fade .modal-dialog{-webkit-transform:translate(0, -25%);-ms-transform:translate(0, -25%);-o-transform:translate(0, -25%);transform:translate(0, -25%);-webkit-transition:-webkit-transform .3s ease-out;-o-transition:-o-transform .3s ease-out;transition:transform .3s ease-out}.modal.in .modal-dialog{-webkit-transform:translate(0, 0);-ms-transform:translate(0, 0);-o-transform:translate(0, 0);transform:translate(0, 0)}.modal-open .modal{overflow-x:hidden;overflow-y:auto}.modal-dialog{position:relative;width:auto;margin:10px}.modal-content{position:relative;background-color:#ffffff;border:1px solid #999999;border:1px solid rgba(0,0,0,0.2);border-radius:6px;-webkit-box-shadow:0 3px 9px rgba(0,0,0,0.5);box-shadow:0 3px 9px rgba(0,0,0,0.5);-webkit-background-clip:padding-box;background-clip:padding-box;outline:0}.modal-backdrop{position:absolute;top:0;right:0;left:0;background-color:#000000}.modal-backdrop.fade{opacity:0;filter:alpha(opacity=0)}.modal-backdrop.in{opacity:0.5;filter:alpha(opacity=50)}.modal-header{padding:15px;border-bottom:1px solid #e5e5e5;min-height:16.42857143px}.modal-header .close{margin-top:-2px}.modal-title{margin:0;line-height:1.42857143}.modal-body{position:relative;padding:20px}.modal-footer{padding:20px;text-align:right;border-top:1px solid #e5e5e5}.modal-footer .btn+.btn{margin-left:5px;margin-bottom:0}.modal-footer .btn-group .btn+.btn{margin-left:-1px}.modal-footer .btn-block+.btn-block{margin-left:0}.modal-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}@media (min-width:768px){.modal-dialog{width:600px;margin:30px auto}.modal-content{-webkit-box-shadow:0 5px 15px rgba(0,0,0,0.5);box-shadow:0 5px 15px rgba(0,0,0,0.5)}.modal-sm{width:300px}}@media (min-width:992px){.modal-lg{width:900px}}.tooltip{position:absolute;z-index:1070;display:block;visibility:visible;font-family:"Helvetica Neue",Helvetica,Arial,sans-serif;font-size:12px;font-weight:normal;line-height:1.4;opacity:0;filter:alpha(opacity=0)}.tooltip.in{opacity:0.9;filter:alpha(opacity=90)}.tooltip.top{margin-top:-3px;padding:5px 0}.tooltip.right{margin-left:3px;padding:0 5px}.tooltip.bottom{margin-top:3px;padding:5px 0}.tooltip.left{margin-left:-3px;padding:0 5px}.tooltip-inner{max-width:200px;padding:3px 8px;color:#ffffff;text-align:center;text-decoration:none;background-color:rgba(0,0,0,0.9);border-radius:4px}.tooltip-arrow{position:absolute;width:0;height:0;border-color:transparent;border-style:solid}.tooltip.top .tooltip-arrow{bottom:0;left:50%;margin-left:-5px;border-width:5px 5px 0;border-top-color:rgba(0,0,0,0.9)}.tooltip.top-left .tooltip-arrow{bottom:0;right:5px;margin-bottom:-5px;border-width:5px 5px 0;border-top-color:rgba(0,0,0,0.9)}.tooltip.top-right .tooltip-arrow{bottom:0;left:5px;margin-bottom:-5px;border-width:5px 5px 0;border-top-color:rgba(0,0,0,0.9)}.tooltip.right .tooltip-arrow{top:50%;left:0;margin-top:-5px;border-width:5px 5px 5px 0;border-right-color:rgba(0,0,0,0.9)}.tooltip.left .tooltip-arrow{top:50%;right:0;margin-top:-5px;border-width:5px 0 5px 5px;border-left-color:rgba(0,0,0,0.9)}.tooltip.bottom .tooltip-arrow{top:0;left:50%;margin-left:-5px;border-width:0 5px 5px;border-bottom-color:rgba(0,0,0,0.9)}.tooltip.bottom-left .tooltip-arrow{top:0;right:5px;margin-top:-5px;border-width:0 5px 5px;border-bottom-color:rgba(0,0,0,0.9)}.tooltip.bottom-right .tooltip-arrow{top:0;left:5px;margin-top:-5px;border-width:0 5px 5px;border-bottom-color:rgba(0,0,0,0.9)}.popover{position:absolute;top:0;left:0;z-index:1060;display:none;max-width:276px;padding:1px;font-family:"Helvetica Neue",Helvetica,Arial,sans-serif;font-size:14px;font-weight:normal;line-height:1.42857143;text-align:left;background-color:#ffffff;-webkit-background-clip:padding-box;background-clip:padding-box;border:1px solid #cccccc;border:1px solid rgba(0,0,0,0.2);border-radius:6px;-webkit-box-shadow:0 5px 10px rgba(0,0,0,0.2);box-shadow:0 5px 10px rgba(0,0,0,0.2);white-space:normal}.popover.top{margin-top:-10px}.popover.right{margin-left:10px}.popover.bottom{margin-top:10px}.popover.left{margin-left:-10px}.popover-title{margin:0;padding:8px 14px;font-size:14px;background-color:#f7f7f7;border-bottom:1px solid #ebebeb;border-radius:5px 5px 0 0}.popover-content{padding:9px 14px}.popover>.arrow,.popover>.arrow:after{position:absolute;display:block;width:0;height:0;border-color:transparent;border-style:solid}.popover>.arrow{border-width:11px}.popover>.arrow:after{border-width:10px;content:""}.popover.top>.arrow{left:50%;margin-left:-11px;border-bottom-width:0;border-top-color:#999999;border-top-color:rgba(0,0,0,0.25);bottom:-11px}.popover.top>.arrow:after{content:" ";bottom:1px;margin-left:-10px;border-bottom-width:0;border-top-color:#ffffff}.popover.right>.arrow{top:50%;left:-11px;margin-top:-11px;border-left-width:0;border-right-color:#999999;border-right-color:rgba(0,0,0,0.25)}.popover.right>.arrow:after{content:" ";left:1px;bottom:-10px;border-left-width:0;border-right-color:#ffffff}.popover.bottom>.arrow{left:50%;margin-left:-11px;border-top-width:0;border-bottom-color:#999999;border-bottom-color:rgba(0,0,0,0.25);top:-11px}.popover.bottom>.arrow:after{content:" ";top:1px;margin-left:-10px;border-top-width:0;border-bottom-color:#ffffff}.popover.left>.arrow{top:50%;right:-11px;margin-top:-11px;border-right-width:0;border-left-color:#999999;border-left-color:rgba(0,0,0,0.25)}.popover.left>.arrow:after{content:" ";right:1px;border-right-width:0;border-left-color:#ffffff;bottom:-10px}.carousel{position:relative}.carousel-inner{position:relative;overflow:hidden;width:100%}.carousel-inner>.item{display:none;position:relative;-webkit-transition:.6s ease-in-out left;-o-transition:.6s ease-in-out left;transition:.6s ease-in-out left}.carousel-inner>.item>img,.carousel-inner>.item>a>img{line-height:1}@media all and (transform-3d),(-webkit-transform-3d){.carousel-inner>.item{-webkit-transition:-webkit-transform .6s ease-in-out;-o-transition:-o-transform .6s ease-in-out;transition:transform .6s ease-in-out;-webkit-backface-visibility:hidden;backface-visibility:hidden;-webkit-perspective:1000;perspective:1000}.carousel-inner>.item.next,.carousel-inner>.item.active.right{-webkit-transform:translate3d(100%, 0, 0);transform:translate3d(100%, 0, 0);left:0}.carousel-inner>.item.prev,.carousel-inner>.item.active.left{-webkit-transform:translate3d(-100%, 0, 0);transform:translate3d(-100%, 0, 0);left:0}.carousel-inner>.item.next.left,.carousel-inner>.item.prev.right,.carousel-inner>.item.active{-webkit-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);left:0}}.carousel-inner>.active,.carousel-inner>.next,.carousel-inner>.prev{display:block}.carousel-inner>.active{left:0}.carousel-inner>.next,.carousel-inner>.prev{position:absolute;top:0;width:100%}.carousel-inner>.next{left:100%}.carousel-inner>.prev{left:-100%}.carousel-inner>.next.left,.carousel-inner>.prev.right{left:0}.carousel-inner>.active.left{left:-100%}.carousel-inner>.active.right{left:100%}.carousel-control{position:absolute;top:0;left:0;bottom:0;width:15%;opacity:0.5;filter:alpha(opacity=50);font-size:20px;color:#ffffff;text-align:center;text-shadow:0 1px 2px rgba(0,0,0,0.6)}.carousel-control.left{background-image:-webkit-linear-gradient(left, rgba(0,0,0,0.5) 0, rgba(0,0,0,0.0001) 100%);background-image:-o-linear-gradient(left, rgba(0,0,0,0.5) 0, rgba(0,0,0,0.0001) 100%);background-image:-webkit-gradient(linear, left top, right top, from(rgba(0,0,0,0.5)), to(rgba(0,0,0,0.0001)));background-image:linear-gradient(to right, rgba(0,0,0,0.5) 0, rgba(0,0,0,0.0001) 100%);background-repeat:repeat-x;filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#80000000', endColorstr='#00000000', GradientType=1)}.carousel-control.right{left:auto;right:0;background-image:-webkit-linear-gradient(left, rgba(0,0,0,0.0001) 0, rgba(0,0,0,0.5) 100%);background-image:-o-linear-gradient(left, rgba(0,0,0,0.0001) 0, rgba(0,0,0,0.5) 100%);background-image:-webkit-gradient(linear, left top, right top, from(rgba(0,0,0,0.0001)), to(rgba(0,0,0,0.5)));background-image:linear-gradient(to right, rgba(0,0,0,0.0001) 0, rgba(0,0,0,0.5) 100%);background-repeat:repeat-x;filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#00000000', endColorstr='#80000000', GradientType=1)}.carousel-control:hover,.carousel-control:focus{outline:0;color:#ffffff;text-decoration:none;opacity:0.9;filter:alpha(opacity=90)}.carousel-control .icon-prev,.carousel-control .icon-next,.carousel-control .glyphicon-chevron-left,.carousel-control .glyphicon-chevron-right{position:absolute;top:50%;z-index:5;display:inline-block}.carousel-control .icon-prev,.carousel-control .glyphicon-chevron-left{left:50%;margin-left:-10px}.carousel-control .icon-next,.carousel-control .glyphicon-chevron-right{right:50%;margin-right:-10px}.carousel-control .icon-prev,.carousel-control .icon-next{width:20px;height:20px;margin-top:-10px;font-family:serif}.carousel-control .icon-prev:before{content:'\2039'}.carousel-control .icon-next:before{content:'\203a'}.carousel-indicators{position:absolute;bottom:10px;left:50%;z-index:15;width:60%;margin-left:-30%;padding-left:0;list-style:none;text-align:center}.carousel-indicators li{display:inline-block;width:10px;height:10px;margin:1px;text-indent:-999px;border:1px solid #ffffff;border-radius:10px;cursor:pointer;background-color:#000 \9;background-color:rgba(0,0,0,0)}.carousel-indicators .active{margin:0;width:12px;height:12px;background-color:#ffffff}.carousel-caption{position:absolute;left:15%;right:15%;bottom:20px;z-index:10;padding-top:20px;padding-bottom:20px;color:#ffffff;text-align:center;text-shadow:0 1px 2px rgba(0,0,0,0.6)}.carousel-caption .btn{text-shadow:none}@media screen and (min-width:768px){.carousel-control .glyphicon-chevron-left,.carousel-control .glyphicon-chevron-right,.carousel-control .icon-prev,.carousel-control .icon-next{width:30px;height:30px;margin-top:-15px;font-size:30px}.carousel-control .glyphicon-chevron-left,.carousel-control .icon-prev{margin-left:-15px}.carousel-control .glyphicon-chevron-right,.carousel-control .icon-next{margin-right:-15px}.carousel-caption{left:20%;right:20%;padding-bottom:30px}.carousel-indicators{bottom:20px}}.clearfix:before,.clearfix:after,.dl-horizontal dd:before,.dl-horizontal dd:after,.container:before,.container:after,.container-fluid:before,.container-fluid:after,.row:before,.row:after,.form-horizontal .form-group:before,.form-horizontal .form-group:after,.btn-toolbar:before,.btn-toolbar:after,.btn-group-vertical>.btn-group:before,.btn-group-vertical>.btn-group:after,.nav:before,.nav:after,.navbar:before,.navbar:after,.navbar-header:before,.navbar-header:after,.navbar-collapse:before,.navbar-collapse:after,.pager:before,.pager:after,.panel-body:before,.panel-body:after,.modal-footer:before,.modal-footer:after{content:" ";display:table}.clearfix:after,.dl-horizontal dd:after,.container:after,.container-fluid:after,.row:after,.form-horizontal .form-group:after,.btn-toolbar:after,.btn-group-vertical>.btn-group:after,.nav:after,.navbar:after,.navbar-header:after,.navbar-collapse:after,.pager:after,.panel-body:after,.modal-footer:after{clear:both}.center-block{display:block;margin-left:auto;margin-right:auto}.pull-right{float:right !important}.pull-left{float:left !important}.hide{display:none !important}.show{display:block !important}.invisible{visibility:hidden}.text-hide{font:0/0 a;color:transparent;text-shadow:none;background-color:transparent;border:0}.hidden{display:none !important;visibility:hidden !important}.affix{position:fixed}@-ms-viewport{width:device-width}.visible-xs,.visible-sm,.visible-md,.visible-lg{display:none !important}.visible-xs-block,.visible-xs-inline,.visible-xs-inline-block,.visible-sm-block,.visible-sm-inline,.visible-sm-inline-block,.visible-md-block,.visible-md-inline,.visible-md-inline-block,.visible-lg-block,.visible-lg-inline,.visible-lg-inline-block{display:none !important}@media (max-width:767px){.visible-xs{display:block !important}table.visible-xs{display:table}tr.visible-xs{display:table-row !important}th.visible-xs,td.visible-xs{display:table-cell !important}}@media (max-width:767px){.visible-xs-block{display:block !important}}@media (max-width:767px){.visible-xs-inline{display:inline !important}}@media (max-width:767px){.visible-xs-inline-block{display:inline-block !important}}@media (min-width:768px) and (max-width:991px){.visible-sm{display:block !important}table.visible-sm{display:table}tr.visible-sm{display:table-row !important}th.visible-sm,td.visible-sm{display:table-cell !important}}@media (min-width:768px) and (max-width:991px){.visible-sm-block{display:block !important}}@media (min-width:768px) and (max-width:991px){.visible-sm-inline{display:inline !important}}@media (min-width:768px) and (max-width:991px){.visible-sm-inline-block{display:inline-block !important}}@media (min-width:992px) and (max-width:1199px){.visible-md{display:block !important}table.visible-md{display:table}tr.visible-md{display:table-row !important}th.visible-md,td.visible-md{display:table-cell !important}}@media (min-width:992px) and (max-width:1199px){.visible-md-block{display:block !important}}@media (min-width:992px) and (max-width:1199px){.visible-md-inline{display:inline !important}}@media (min-width:992px) and (max-width:1199px){.visible-md-inline-block{display:inline-block !important}}@media (min-width:1200px){.visible-lg{display:block !important}table.visible-lg{display:table}tr.visible-lg{display:table-row !important}th.visible-lg,td.visible-lg{display:table-cell !important}}@media (min-width:1200px){.visible-lg-block{display:block !important}}@media (min-width:1200px){.visible-lg-inline{display:inline !important}}@media (min-width:1200px){.visible-lg-inline-block{display:inline-block !important}}@media (max-width:767px){.hidden-xs{display:none !important}}@media (min-width:768px) and (max-width:991px){.hidden-sm{display:none !important}}@media (min-width:992px) and (max-width:1199px){.hidden-md{display:none !important}}@media (min-width:1200px){.hidden-lg{display:none !important}}.visible-print{display:none !important}@media print{.visible-print{display:block !important}table.visible-print{display:table}tr.visible-print{display:table-row !important}th.visible-print,td.visible-print{display:table-cell !important}}.visible-print-block{display:none !important}@media print{.visible-print-block{display:block !important}}.visible-print-inline{display:none !important}@media print{.visible-print-inline{display:inline !important}}.visible-print-inline-block{display:none !important}@media print{.visible-print-inline-block{display:inline-block !important}}@media print{.hidden-print{display:none !important}}.navbar{background-image:-webkit-linear-gradient(#54b4eb, #2fa4e7 60%, #1d9ce5);background-image:-o-linear-gradient(#54b4eb, #2fa4e7 60%, #1d9ce5);background-image:-webkit-gradient(linear, left top, left bottom, from(#54b4eb), color-stop(60%, #2fa4e7), to(#1d9ce5));background-image:linear-gradient(#54b4eb, #2fa4e7 60%, #1d9ce5);background-repeat:no-repeat;filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#ff54b4eb', endColorstr='#ff1d9ce5', GradientType=0);border-bottom:1px solid #178acc;-webkit-filter:none;filter:none;-webkit-box-shadow:0 1px 10px rgba(0,0,0,0.1);box-shadow:0 1px 10px rgba(0,0,0,0.1)}.navbar-default .badge{background-color:#fff;color:#2fa4e7}.navbar-inverse{background-image:-webkit-linear-gradient(#04519b, #044687 60%, #033769);background-image:-o-linear-gradient(#04519b, #044687 60%, #033769);background-image:-webkit-gradient(linear, left top, left bottom, from(#04519b), color-stop(60%, #044687), to(#033769));background-image:linear-gradient(#04519b, #044687 60%, #033769);background-repeat:no-repeat;filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#ff04519b', endColorstr='#ff033769', GradientType=0);-webkit-filter:none;filter:none;border-bottom:1px solid #022241}.navbar-inverse .badge{background-color:#fff;color:#033c73}.navbar .navbar-nav>li>a,.navbar-brand{text-shadow:0 1px 0 rgba(0,0,0,0.1)}@media (max-width:767px){.navbar .dropdown-header{color:#fff}}.btn{text-shadow:0 1px 0 rgba(0,0,0,0.1)}.btn .caret{border-top-color:#fff}.btn-default{background-image:-webkit-linear-gradient(#fff, #fff 60%, #f5f5f5);background-image:-o-linear-gradient(#fff, #fff 60%, #f5f5f5);background-image:-webkit-gradient(linear, left top, left bottom, from(#fff), color-stop(60%, #fff), to(#f5f5f5));background-image:linear-gradient(#fff, #fff 60%, #f5f5f5);background-repeat:no-repeat;filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#ffffffff', endColorstr='#fff5f5f5', GradientType=0);-webkit-filter:none;filter:none;border-bottom:1px solid #e6e6e6}.btn-default:hover{color:#555555}.btn-default .caret{border-top-color:#555555}.btn-default{background-image:-webkit-linear-gradient(#fff, #fff 60%, #f5f5f5);background-image:-o-linear-gradient(#fff, #fff 60%, #f5f5f5);background-image:-webkit-gradient(linear, left top, left bottom, from(#fff), color-stop(60%, #fff), to(#f5f5f5));background-image:linear-gradient(#fff, #fff 60%, #f5f5f5);background-repeat:no-repeat;filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#ffffffff', endColorstr='#fff5f5f5', GradientType=0);-webkit-filter:none;filter:none;border-bottom:1px solid #e6e6e6}.btn-primary{background-image:-webkit-linear-gradient(#54b4eb, #2fa4e7 60%, #1d9ce5);background-image:-o-linear-gradient(#54b4eb, #2fa4e7 60%, #1d9ce5);background-image:-webkit-gradient(linear, left top, left bottom, from(#54b4eb), color-stop(60%, #2fa4e7), to(#1d9ce5));background-image:linear-gradient(#54b4eb, #2fa4e7 60%, #1d9ce5);background-repeat:no-repeat;filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#ff54b4eb', endColorstr='#ff1d9ce5', GradientType=0);-webkit-filter:none;filter:none;border-bottom:1px solid #178acc}.btn-success{background-image:-webkit-linear-gradient(#88c149, #73a839 60%, #699934);background-image:-o-linear-gradient(#88c149, #73a839 60%, #699934);background-image:-webkit-gradient(linear, left top, left bottom, from(#88c149), color-stop(60%, #73a839), to(#699934));background-image:linear-gradient(#88c149, #73a839 60%, #699934);background-repeat:no-repeat;filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#ff88c149', endColorstr='#ff699934', GradientType=0);-webkit-filter:none;filter:none;border-bottom:1px solid #59822c}.btn-info{background-image:-webkit-linear-gradient(#04519b, #033c73 60%, #02325f);background-image:-o-linear-gradient(#04519b, #033c73 60%, #02325f);background-image:-webkit-gradient(linear, left top, left bottom, from(#04519b), color-stop(60%, #033c73), to(#02325f));background-image:linear-gradient(#04519b, #033c73 60%, #02325f);background-repeat:no-repeat;filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#ff04519b', endColorstr='#ff02325f', GradientType=0);-webkit-filter:none;filter:none;border-bottom:1px solid #022241}.btn-warning{background-image:-webkit-linear-gradient(#ff6707, #dd5600 60%, #c94e00);background-image:-o-linear-gradient(#ff6707, #dd5600 60%, #c94e00);background-image:-webkit-gradient(linear, left top, left bottom, from(#ff6707), color-stop(60%, #dd5600), to(#c94e00));background-image:linear-gradient(#ff6707, #dd5600 60%, #c94e00);background-repeat:no-repeat;filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#ffff6707', endColorstr='#ffc94e00', GradientType=0);-webkit-filter:none;filter:none;border-bottom:1px solid #aa4200}.btn-danger{background-image:-webkit-linear-gradient(#e12b31, #c71c22 60%, #b5191f);background-image:-o-linear-gradient(#e12b31, #c71c22 60%, #b5191f);background-image:-webkit-gradient(linear, left top, left bottom, from(#e12b31), color-stop(60%, #c71c22), to(#b5191f));background-image:linear-gradient(#e12b31, #c71c22 60%, #b5191f);background-repeat:no-repeat;filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#ffe12b31', endColorstr='#ffb5191f', GradientType=0);-webkit-filter:none;filter:none;border-bottom:1px solid #9a161a}.panel-primary .panel-heading,.panel-success .panel-heading,.panel-warning .panel-heading,.panel-danger .panel-heading,.panel-info .panel-heading,.panel-primary .panel-title,.panel-success .panel-title,.panel-warning .panel-title,.panel-danger .panel-title,.panel-info .panel-title{color:#fff}
</style>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="250">
  <filter id="svgLogId13">
    <feGaussianBlur stdDeviation="5" in="SourceAlpha" result="svgLogId10"></feGaussianBlur>
    <feSpecularLighting surfaceScale="6" specularConstant="1" specularExponent="30" lighting-color="yellow" in="svgLogId10" result="svgLogId11">
      <fePointLight x="40" y="-30" z="200"></fePointLight>
    </feSpecularLighting>
    <feComposite operator="in" in="svgLogId11" in2="SourceAlpha" result="svgLogId12"></feComposite>
    <feMerge>
      <feMergeNode in="SourceGraphic"></feMergeNode>
      <feMergeNode in="svgLogId12"></feMergeNode>
    </feMerge>
  </filter>
  <g stroke="black" filter="url(#svgLogId13)">
    <text fill="darkblue" font-size="100" font-family="san serif" stroke-width="3" text-anchor="middle" dominant-baseline="central" x="200" y="125">svgR</text>
    <text fill="darkblue" font-size="60" font-family="fantasy" stroke-width="3" text-anchor="middle" dominant-baseline="central" x="560" y="62.5">Users Guide</text>
    <circle r="99" stroke-width="10" fill="none" cx="200" cy="125"></circle>
  </g>
</svg>

<style type="text/css">code{white-space: pre;}</style>
<link href="data:text/css;charset=utf-8,pre%20%2Eoperator%2C%0Apre%20%2Eparen%20%7B%0Acolor%3A%20rgb%28104%2C%20118%2C%20135%29%0A%7D%0Apre%20%2Eliteral%20%7B%0Acolor%3A%20%23990073%0A%7D%0Apre%20%2Enumber%20%7B%0Acolor%3A%20%23099%3B%0A%7D%0Apre%20%2Ecomment%20%7B%0Acolor%3A%20%23998%3B%0Afont%2Dstyle%3A%20italic%0A%7D%0Apre%20%2Ekeyword%20%7B%0Acolor%3A%20%23900%3B%0Afont%2Dweight%3A%20bold%0A%7D%0Apre%20%2Eidentifier%20%7B%0Acolor%3A%20rgb%280%2C%200%2C%200%29%3B%0A%7D%0Apre%20%2Estring%20%7B%0Acolor%3A%20%23d14%3B%0A%7D%0A" rel="stylesheet" type="text/css" />
<script src="data:application/x-javascript;base64,CnZhciBobGpzPW5ldyBmdW5jdGlvbigpe2Z1bmN0aW9uIG0ocCl7cmV0dXJuIHAucmVwbGFjZSgvJi9nbSwiJmFtcDsiKS5yZXBsYWNlKC88L2dtLCImbHQ7Iil9ZnVuY3Rpb24gZihyLHEscCl7cmV0dXJuIFJlZ0V4cChxLCJtIisoci5jST8iaSI6IiIpKyhwPyJnIjoiIikpfWZ1bmN0aW9uIGIocil7Zm9yKHZhciBwPTA7cDxyLmNoaWxkTm9kZXMubGVuZ3RoO3ArKyl7dmFyIHE9ci5jaGlsZE5vZGVzW3BdO2lmKHEubm9kZU5hbWU9PSJDT0RFIil7cmV0dXJuIHF9aWYoIShxLm5vZGVUeXBlPT0zJiZxLm5vZGVWYWx1ZS5tYXRjaCgvXHMrLykpKXticmVha319fWZ1bmN0aW9uIGgodCxzKXt2YXIgcD0iIjtmb3IodmFyIHI9MDtyPHQuY2hpbGROb2Rlcy5sZW5ndGg7cisrKXtpZih0LmNoaWxkTm9kZXNbcl0ubm9kZVR5cGU9PTMpe3ZhciBxPXQuY2hpbGROb2Rlc1tyXS5ub2RlVmFsdWU7aWYocyl7cT1xLnJlcGxhY2UoL1xuL2csIiIpfXArPXF9ZWxzZXtpZih0LmNoaWxkTm9kZXNbcl0ubm9kZU5hbWU9PSJCUiIpe3ArPSJcbiJ9ZWxzZXtwKz1oKHQuY2hpbGROb2Rlc1tyXSl9fX1pZigvTVNJRSBbNjc4XS8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSl7cD1wLnJlcGxhY2UoL1xyL2csIlxuIil9cmV0dXJuIHB9ZnVuY3Rpb24gYShzKXt2YXIgcj1zLmNsYXNzTmFtZS5zcGxpdCgvXHMrLyk7cj1yLmNvbmNhdChzLnBhcmVudE5vZGUuY2xhc3NOYW1lLnNwbGl0KC9ccysvKSk7Zm9yKHZhciBxPTA7cTxyLmxlbmd0aDtxKyspe3ZhciBwPXJbcV0ucmVwbGFjZSgvXmxhbmd1YWdlLS8sIiIpO2lmKGVbcF0pe3JldHVybiBwfX19ZnVuY3Rpb24gYyhxKXt2YXIgcD1bXTsoZnVuY3Rpb24ocyx0KXtmb3IodmFyIHI9MDtyPHMuY2hpbGROb2Rlcy5sZW5ndGg7cisrKXtpZihzLmNoaWxkTm9kZXNbcl0ubm9kZVR5cGU9PTMpe3QrPXMuY2hpbGROb2Rlc1tyXS5ub2RlVmFsdWUubGVuZ3RofWVsc2V7aWYocy5jaGlsZE5vZGVzW3JdLm5vZGVOYW1lPT0iQlIiKXt0Kz0xfWVsc2V7aWYocy5jaGlsZE5vZGVzW3JdLm5vZGVUeXBlPT0xKXtwLnB1c2goe2V2ZW50OiJzdGFydCIsb2Zmc2V0OnQsbm9kZTpzLmNoaWxkTm9kZXNbcl19KTt0PWFyZ3VtZW50cy5jYWxsZWUocy5jaGlsZE5vZGVzW3JdLHQpO3AucHVzaCh7ZXZlbnQ6InN0b3AiLG9mZnNldDp0LG5vZGU6cy5jaGlsZE5vZGVzW3JdfSl9fX19cmV0dXJuIHR9KShxLDApO3JldHVybiBwfWZ1bmN0aW9uIGsoeSx3LHgpe3ZhciBxPTA7dmFyIHo9IiI7dmFyIHM9W107ZnVuY3Rpb24gdSgpe2lmKHkubGVuZ3RoJiZ3Lmxlbmd0aCl7aWYoeVswXS5vZmZzZXQhPXdbMF0ub2Zmc2V0KXtyZXR1cm4oeVswXS5vZmZzZXQ8d1swXS5vZmZzZXQpP3k6d31lbHNle3JldHVybiB3WzBdLmV2ZW50PT0ic3RhcnQiP3k6d319ZWxzZXtyZXR1cm4geS5sZW5ndGg/eTp3fX1mdW5jdGlvbiB0KEQpe3ZhciBBPSI8IitELm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7Zm9yKHZhciBCPTA7QjxELmF0dHJpYnV0ZXMubGVuZ3RoO0IrKyl7dmFyIEM9RC5hdHRyaWJ1dGVzW0JdO0ErPSIgIitDLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7aWYoQy52YWx1ZSE9PXVuZGVmaW5lZCYmQy52YWx1ZSE9PWZhbHNlJiZDLnZhbHVlIT09bnVsbCl7QSs9Jz0iJyttKEMudmFsdWUpKyciJ319cmV0dXJuIEErIj4ifXdoaWxlKHkubGVuZ3RofHx3Lmxlbmd0aCl7dmFyIHY9dSgpLnNwbGljZSgwLDEpWzBdO3orPW0oeC5zdWJzdHIocSx2Lm9mZnNldC1xKSk7cT12Lm9mZnNldDtpZih2LmV2ZW50PT0ic3RhcnQiKXt6Kz10KHYubm9kZSk7cy5wdXNoKHYubm9kZSl9ZWxzZXtpZih2LmV2ZW50PT0ic3RvcCIpe3ZhciBwLHI9cy5sZW5ndGg7ZG97ci0tO3A9c1tyXTt6Kz0oIjwvIitwLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkrIj4iKX13aGlsZShwIT12Lm5vZGUpO3Muc3BsaWNlKHIsMSk7d2hpbGUocjxzLmxlbmd0aCl7eis9dChzW3JdKTtyKyt9fX19cmV0dXJuIHorbSh4LnN1YnN0cihxKSl9ZnVuY3Rpb24gaigpe2Z1bmN0aW9uIHEoeCx5LHYpe2lmKHguY29tcGlsZWQpe3JldHVybn12YXIgdTt2YXIgcz1bXTtpZih4Lmspe3gubFI9Zih5LHgubHx8aGxqcy5JUix0cnVlKTtmb3IodmFyIHcgaW4geC5rKXtpZigheC5rLmhhc093blByb3BlcnR5KHcpKXtjb250aW51ZX1pZih4Lmtbd10gaW5zdGFuY2VvZiBPYmplY3Qpe3U9eC5rW3ddfWVsc2V7dT14Lms7dz0ia2V5d29yZCJ9Zm9yKHZhciByIGluIHUpe2lmKCF1Lmhhc093blByb3BlcnR5KHIpKXtjb250aW51ZX14Lmtbcl09W3csdVtyXV07cy5wdXNoKHIpfX19aWYoIXYpe2lmKHguYldLKXt4LmI9IlxcYigiK3Muam9pbigifCIpKyIpXFxzIn14LmJSPWYoeSx4LmI/eC5iOiJcXEJ8XFxiIik7aWYoIXguZSYmIXguZVcpe3guZT0iXFxCfFxcYiJ9aWYoeC5lKXt4LmVSPWYoeSx4LmUpfX1pZih4Lmkpe3guaVI9Zih5LHguaSl9aWYoeC5yPT09dW5kZWZpbmVkKXt4LnI9MX1pZigheC5jKXt4LmM9W119eC5jb21waWxlZD10cnVlO2Zvcih2YXIgdD0wO3Q8eC5jLmxlbmd0aDt0Kyspe2lmKHguY1t0XT09InNlbGYiKXt4LmNbdF09eH1xKHguY1t0XSx5LGZhbHNlKX1pZih4LnN0YXJ0cyl7cSh4LnN0YXJ0cyx5LGZhbHNlKX19Zm9yKHZhciBwIGluIGUpe2lmKCFlLmhhc093blByb3BlcnR5KHApKXtjb250aW51ZX1xKGVbcF0uZE0sZVtwXSx0cnVlKX19ZnVuY3Rpb24gZChCLEMpe2lmKCFqLmNhbGxlZCl7aigpO2ouY2FsbGVkPXRydWV9ZnVuY3Rpb24gcShyLE0pe2Zvcih2YXIgTD0wO0w8TS5jLmxlbmd0aDtMKyspe2lmKChNLmNbTF0uYlIuZXhlYyhyKXx8W251bGxdKVswXT09cil7cmV0dXJuIE0uY1tMXX19fWZ1bmN0aW9uIHYoTCxyKXtpZihEW0xdLmUmJkRbTF0uZVIudGVzdChyKSl7cmV0dXJuIDF9aWYoRFtMXS5lVyl7dmFyIE09dihMLTEscik7cmV0dXJuIE0/TSsxOjB9cmV0dXJuIDB9ZnVuY3Rpb24gdyhyLEwpe3JldHVybiBMLmkmJkwuaVIudGVzdChyKX1mdW5jdGlvbiBLKE4sTyl7dmFyIE09W107Zm9yKHZhciBMPTA7TDxOLmMubGVuZ3RoO0wrKyl7TS5wdXNoKE4uY1tMXS5iKX12YXIgcj1ELmxlbmd0aC0xO2Rve2lmKERbcl0uZSl7TS5wdXNoKERbcl0uZSl9ci0tfXdoaWxlKERbcisxXS5lVyk7aWYoTi5pKXtNLnB1c2goTi5pKX1yZXR1cm4gZihPLE0uam9pbigifCIpLHRydWUpfWZ1bmN0aW9uIHAoTSxMKXt2YXIgTj1EW0QubGVuZ3RoLTFdO2lmKCFOLnQpe04udD1LKE4sRSl9Ti50Lmxhc3RJbmRleD1MO3ZhciByPU4udC5leGVjKE0pO3JldHVybiByP1tNLnN1YnN0cihMLHIuaW5kZXgtTCksclswXSxmYWxzZV06W00uc3Vic3RyKEwpLCIiLHRydWVdfWZ1bmN0aW9uIHooTixyKXt2YXIgTD1FLmNJP3JbMF0udG9Mb3dlckNhc2UoKTpyWzBdO3ZhciBNPU4ua1tMXTtpZihNJiZNIGluc3RhbmNlb2YgQXJyYXkpe3JldHVybiBNfXJldHVybiBmYWxzZX1mdW5jdGlvbiBGKEwsUCl7TD1tKEwpO2lmKCFQLmspe3JldHVybiBMfXZhciByPSIiO3ZhciBPPTA7UC5sUi5sYXN0SW5kZXg9MDt2YXIgTT1QLmxSLmV4ZWMoTCk7d2hpbGUoTSl7cis9TC5zdWJzdHIoTyxNLmluZGV4LU8pO3ZhciBOPXooUCxNKTtpZihOKXt4Kz1OWzFdO3IrPSc8c3BhbiBjbGFzcz0iJytOWzBdKyciPicrTVswXSsiPC9zcGFuPiJ9ZWxzZXtyKz1NWzBdfU89UC5sUi5sYXN0SW5kZXg7TT1QLmxSLmV4ZWMoTCl9cmV0dXJuIHIrTC5zdWJzdHIoTyxMLmxlbmd0aC1PKX1mdW5jdGlvbiBKKEwsTSl7aWYoTS5zTCYmZVtNLnNMXSl7dmFyIHI9ZChNLnNMLEwpO3grPXIua2V5d29yZF9jb3VudDtyZXR1cm4gci52YWx1ZX1lbHNle3JldHVybiBGKEwsTSl9fWZ1bmN0aW9uIEkoTSxyKXt2YXIgTD1NLmNOPyc8c3BhbiBjbGFzcz0iJytNLmNOKyciPic6IiI7aWYoTS5yQil7eSs9TDtNLmJ1ZmZlcj0iIn1lbHNle2lmKE0uZUIpe3krPW0ocikrTDtNLmJ1ZmZlcj0iIn1lbHNle3krPUw7TS5idWZmZXI9cn19RC5wdXNoKE0pO0ErPU0ucn1mdW5jdGlvbiBHKE4sTSxRKXt2YXIgUj1EW0QubGVuZ3RoLTFdO2lmKFEpe3krPUooUi5idWZmZXIrTixSKTtyZXR1cm4gZmFsc2V9dmFyIFA9cShNLFIpO2lmKFApe3krPUooUi5idWZmZXIrTixSKTtJKFAsTSk7cmV0dXJuIFAuckJ9dmFyIEw9dihELmxlbmd0aC0xLE0pO2lmKEwpe3ZhciBPPVIuY04/Ijwvc3Bhbj4iOiIiO2lmKFIuckUpe3krPUooUi5idWZmZXIrTixSKStPfWVsc2V7aWYoUi5lRSl7eSs9SihSLmJ1ZmZlcitOLFIpK08rbShNKX1lbHNle3krPUooUi5idWZmZXIrTitNLFIpK099fXdoaWxlKEw+MSl7Tz1EW0QubGVuZ3RoLTJdLmNOPyI8L3NwYW4+IjoiIjt5Kz1PO0wtLTtELmxlbmd0aC0tfXZhciByPURbRC5sZW5ndGgtMV07RC5sZW5ndGgtLTtEW0QubGVuZ3RoLTFdLmJ1ZmZlcj0iIjtpZihyLnN0YXJ0cyl7SShyLnN0YXJ0cywiIil9cmV0dXJuIFIuckV9aWYodyhNLFIpKXt0aHJvdyJJbGxlZ2FsIn19dmFyIEU9ZVtCXTt2YXIgRD1bRS5kTV07dmFyIEE9MDt2YXIgeD0wO3ZhciB5PSIiO3RyeXt2YXIgcyx1PTA7RS5kTS5idWZmZXI9IiI7ZG97cz1wKEMsdSk7dmFyIHQ9RyhzWzBdLHNbMV0sc1syXSk7dSs9c1swXS5sZW5ndGg7aWYoIXQpe3UrPXNbMV0ubGVuZ3RofX13aGlsZSghc1syXSk7aWYoRC5sZW5ndGg+MSl7dGhyb3ciSWxsZWdhbCJ9cmV0dXJue3I6QSxrZXl3b3JkX2NvdW50OngsdmFsdWU6eX19Y2F0Y2goSCl7aWYoSD09IklsbGVnYWwiKXtyZXR1cm57cjowLGtleXdvcmRfY291bnQ6MCx2YWx1ZTptKEMpfX1lbHNle3Rocm93IEh9fX1mdW5jdGlvbiBnKHQpe3ZhciBwPXtrZXl3b3JkX2NvdW50OjAscjowLHZhbHVlOm0odCl9O3ZhciByPXA7Zm9yKHZhciBxIGluIGUpe2lmKCFlLmhhc093blByb3BlcnR5KHEpKXtjb250aW51ZX12YXIgcz1kKHEsdCk7cy5sYW5ndWFnZT1xO2lmKHMua2V5d29yZF9jb3VudCtzLnI+ci5rZXl3b3JkX2NvdW50K3Iucil7cj1zfWlmKHMua2V5d29yZF9jb3VudCtzLnI+cC5rZXl3b3JkX2NvdW50K3Aucil7cj1wO3A9c319aWYoci5sYW5ndWFnZSl7cC5zZWNvbmRfYmVzdD1yfXJldHVybiBwfWZ1bmN0aW9uIGkocixxLHApe2lmKHEpe3I9ci5yZXBsYWNlKC9eKCg8W14+XSs+fFx0KSspL2dtLGZ1bmN0aW9uKHQsdyx2LHUpe3JldHVybiB3LnJlcGxhY2UoL1x0L2cscSl9KX1pZihwKXtyPXIucmVwbGFjZSgvXG4vZywiPGJyPiIpfXJldHVybiByfWZ1bmN0aW9uIG4odCx3LHIpe3ZhciB4PWgodCxyKTt2YXIgdj1hKHQpO3ZhciB5LHM7aWYodil7eT1kKHYseCl9ZWxzZXtyZXR1cm59dmFyIHE9Yyh0KTtpZihxLmxlbmd0aCl7cz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJwcmUiKTtzLmlubmVySFRNTD15LnZhbHVlO3kudmFsdWU9ayhxLGMocykseCl9eS52YWx1ZT1pKHkudmFsdWUsdyxyKTt2YXIgdT10LmNsYXNzTmFtZTtpZighdS5tYXRjaCgiKFxcc3xeKShsYW5ndWFnZS0pPyIrdisiKFxcc3wkKSIpKXt1PXU/KHUrIiAiK3YpOnZ9aWYoL01TSUUgWzY3OF0vLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkmJnQudGFnTmFtZT09IkNPREUiJiZ0LnBhcmVudE5vZGUudGFnTmFtZT09IlBSRSIpe3M9dC5wYXJlbnROb2RlO3ZhciBwPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO3AuaW5uZXJIVE1MPSI8cHJlPjxjb2RlPiIreS52YWx1ZSsiPC9jb2RlPjwvcHJlPiI7dD1wLmZpcnN0Q2hpbGQuZmlyc3RDaGlsZDtwLmZpcnN0Q2hpbGQuY049cy5jTjtzLnBhcmVudE5vZGUucmVwbGFjZUNoaWxkKHAuZmlyc3RDaGlsZCxzKX1lbHNle3QuaW5uZXJIVE1MPXkudmFsdWV9dC5jbGFzc05hbWU9dTt0LnJlc3VsdD17bGFuZ3VhZ2U6dixrdzp5LmtleXdvcmRfY291bnQscmU6eS5yfTtpZih5LnNlY29uZF9iZXN0KXt0LnNlY29uZF9iZXN0PXtsYW5ndWFnZTp5LnNlY29uZF9iZXN0Lmxhbmd1YWdlLGt3Onkuc2Vjb25kX2Jlc3Qua2V5d29yZF9jb3VudCxyZTp5LnNlY29uZF9iZXN0LnJ9fX1mdW5jdGlvbiBvKCl7aWYoby5jYWxsZWQpe3JldHVybn1vLmNhbGxlZD10cnVlO3ZhciByPWRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJwcmUiKTtmb3IodmFyIHA9MDtwPHIubGVuZ3RoO3ArKyl7dmFyIHE9YihyW3BdKTtpZihxKXtuKHEsaGxqcy50YWJSZXBsYWNlKX19fWZ1bmN0aW9uIGwoKXtpZih3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcil7d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoIkRPTUNvbnRlbnRMb2FkZWQiLG8sZmFsc2UpO3dpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJsb2FkIixvLGZhbHNlKX1lbHNle2lmKHdpbmRvdy5hdHRhY2hFdmVudCl7d2luZG93LmF0dGFjaEV2ZW50KCJvbmxvYWQiLG8pfWVsc2V7d2luZG93Lm9ubG9hZD1vfX19dmFyIGU9e307dGhpcy5MQU5HVUFHRVM9ZTt0aGlzLmhpZ2hsaWdodD1kO3RoaXMuaGlnaGxpZ2h0QXV0bz1nO3RoaXMuZml4TWFya3VwPWk7dGhpcy5oaWdobGlnaHRCbG9jaz1uO3RoaXMuaW5pdEhpZ2hsaWdodGluZz1vO3RoaXMuaW5pdEhpZ2hsaWdodGluZ09uTG9hZD1sO3RoaXMuSVI9IlthLXpBLVpdW2EtekEtWjAtOV9dKiI7dGhpcy5VSVI9IlthLXpBLVpfXVthLXpBLVowLTlfXSoiO3RoaXMuTlI9IlxcYlxcZCsoXFwuXFxkKyk/Ijt0aGlzLkNOUj0iXFxiKDBbeFhdW2EtZkEtRjAtOV0rfChcXGQrKFxcLlxcZCopP3xcXC5cXGQrKShbZUVdWy0rXT9cXGQrKT8pIjt0aGlzLkJOUj0iXFxiKDBiWzAxXSspIjt0aGlzLlJTUj0iIXwhPXwhPT18JXwlPXwmfCYmfCY9fFxcKnxcXCo9fFxcK3xcXCs9fCx8XFwufC18LT18L3wvPXw6fDt8PHw8PHw8PD18PD18PXw9PXw9PT18Pnw+PXw+Pnw+Pj18Pj4+fD4+Pj18XFw/fFxcW3xcXHt8XFwofFxcXnxcXF49fFxcfHxcXHw9fFxcfFxcfHx+Ijt0aGlzLkVSPSIoPyFbXFxzXFxTXSkiO3RoaXMuQkU9e2I6IlxcXFwuIixyOjB9O3RoaXMuQVNNPXtjTjoic3RyaW5nIixiOiInIixlOiInIixpOiJcXG4iLGM6W3RoaXMuQkVdLHI6MH07dGhpcy5RU009e2NOOiJzdHJpbmciLGI6JyInLGU6JyInLGk6IlxcbiIsYzpbdGhpcy5CRV0scjowfTt0aGlzLkNMQ009e2NOOiJjb21tZW50IixiOiIvLyIsZToiJCJ9O3RoaXMuQ0JMQ0xNPXtjTjoiY29tbWVudCIsYjoiL1xcKiIsZToiXFwqLyJ9O3RoaXMuSENNPXtjTjoiY29tbWVudCIsYjoiIyIsZToiJCJ9O3RoaXMuTk09e2NOOiJudW1iZXIiLGI6dGhpcy5OUixyOjB9O3RoaXMuQ05NPXtjTjoibnVtYmVyIixiOnRoaXMuQ05SLHI6MH07dGhpcy5CTk09e2NOOiJudW1iZXIiLGI6dGhpcy5CTlIscjowfTt0aGlzLmluaGVyaXQ9ZnVuY3Rpb24ocixzKXt2YXIgcD17fTtmb3IodmFyIHEgaW4gcil7cFtxXT1yW3FdfWlmKHMpe2Zvcih2YXIgcSBpbiBzKXtwW3FdPXNbcV19fXJldHVybiBwfX0oKTtobGpzLkxBTkdVQUdFUy5jcHA9ZnVuY3Rpb24oKXt2YXIgYT17a2V5d29yZDp7ImZhbHNlIjoxLCJpbnQiOjEsImZsb2F0IjoxLCJ3aGlsZSI6MSwicHJpdmF0ZSI6MSwiY2hhciI6MSwiY2F0Y2giOjEsImV4cG9ydCI6MSx2aXJ0dWFsOjEsb3BlcmF0b3I6MixzaXplb2Y6MixkeW5hbWljX2Nhc3Q6Mix0eXBlZGVmOjIsY29uc3RfY2FzdDoyLCJjb25zdCI6MSxzdHJ1Y3Q6MSwiZm9yIjoxLHN0YXRpY19jYXN0OjIsdW5pb246MSxuYW1lc3BhY2U6MSx1bnNpZ25lZDoxLCJsb25nIjoxLCJ0aHJvdyI6MSwidm9sYXRpbGUiOjIsInN0YXRpYyI6MSwicHJvdGVjdGVkIjoxLGJvb2w6MSx0ZW1wbGF0ZToxLG11dGFibGU6MSwiaWYiOjEsInB1YmxpYyI6MSxmcmllbmQ6MiwiZG8iOjEsInJldHVybiI6MSwiZ290byI6MSxhdXRvOjEsInZvaWQiOjIsImVudW0iOjEsImVsc2UiOjEsImJyZWFrIjoxLCJuZXciOjEsZXh0ZXJuOjEsdXNpbmc6MSwidHJ1ZSI6MSwiY2xhc3MiOjEsYXNtOjEsImNhc2UiOjEsdHlwZWlkOjEsInNob3J0IjoxLHJlaW50ZXJwcmV0X2Nhc3Q6MiwiZGVmYXVsdCI6MSwiZG91YmxlIjoxLHJlZ2lzdGVyOjEsZXhwbGljaXQ6MSxzaWduZWQ6MSx0eXBlbmFtZToxLCJ0cnkiOjEsInRoaXMiOjEsInN3aXRjaCI6MSwiY29udGludWUiOjEsd2NoYXJfdDoxLGlubGluZToxLCJkZWxldGUiOjEsYWxpZ25vZjoxLGNoYXIxNl90OjEsY2hhcjMyX3Q6MSxjb25zdGV4cHI6MSxkZWNsdHlwZToxLG5vZXhjZXB0OjEsbnVsbHB0cjoxLHN0YXRpY19hc3NlcnQ6MSx0aHJlYWRfbG9jYWw6MSxyZXN0cmljdDoxLF9Cb29sOjEsY29tcGxleDoxfSxidWlsdF9pbjp7c3RkOjEsc3RyaW5nOjEsY2luOjEsY291dDoxLGNlcnI6MSxjbG9nOjEsc3RyaW5nc3RyZWFtOjEsaXN0cmluZ3N0cmVhbToxLG9zdHJpbmdzdHJlYW06MSxhdXRvX3B0cjoxLGRlcXVlOjEsbGlzdDoxLHF1ZXVlOjEsc3RhY2s6MSx2ZWN0b3I6MSxtYXA6MSxzZXQ6MSxiaXRzZXQ6MSxtdWx0aXNldDoxLG11bHRpbWFwOjEsdW5vcmRlcmVkX3NldDoxLHVub3JkZXJlZF9tYXA6MSx1bm9yZGVyZWRfbXVsdGlzZXQ6MSx1bm9yZGVyZWRfbXVsdGltYXA6MSxhcnJheToxLHNoYXJlZF9wdHI6MX19O3JldHVybntkTTp7azphLGk6IjwvIixjOltobGpzLkNMQ00saGxqcy5DQkxDTE0saGxqcy5RU00se2NOOiJzdHJpbmciLGI6IidcXFxcPy4iLGU6IiciLGk6Ii4ifSx7Y046Im51bWJlciIsYjoiXFxiKFxcZCsoXFwuXFxkKik/fFxcLlxcZCspKHV8VXxsfEx8dWx8VUx8ZnxGKSJ9LGhsanMuQ05NLHtjTjoicHJlcHJvY2Vzc29yIixiOiIjIixlOiIkIn0se2NOOiJzdGxfY29udGFpbmVyIixiOiJcXGIoZGVxdWV8bGlzdHxxdWV1ZXxzdGFja3x2ZWN0b3J8bWFwfHNldHxiaXRzZXR8bXVsdGlzZXR8bXVsdGltYXB8dW5vcmRlcmVkX21hcHx1bm9yZGVyZWRfc2V0fHVub3JkZXJlZF9tdWx0aXNldHx1bm9yZGVyZWRfbXVsdGltYXB8YXJyYXkpXFxzKjwiLGU6Ij4iLGs6YSxyOjEwLGM6WyJzZWxmIl19XX19fSgpO2hsanMuTEFOR1VBR0VTLnI9e2RNOntjOltobGpzLkhDTSx7Y046Im51bWJlciIsYjoiXFxiMFt4WF1bMC05YS1mQS1GXStbTGldP1xcYiIsZTpobGpzLklNTUVESUFURV9SRSxyOjB9LHtjTjoibnVtYmVyIixiOiJcXGJcXGQrKD86W2VFXVsrXFwtXT9cXGQqKT9MXFxiIixlOmhsanMuSU1NRURJQVRFX1JFLHI6MH0se2NOOiJudW1iZXIiLGI6IlxcYlxcZCtcXC4oPyFcXGQpKD86aVxcYik/IixlOmhsanMuSU1NRURJQVRFX1JFLHI6MX0se2NOOiJudW1iZXIiLGI6IlxcYlxcZCsoPzpcXC5cXGQqKT8oPzpbZUVdWytcXC1dP1xcZCopP2k/XFxiIixlOmhsanMuSU1NRURJQVRFX1JFLHI6MH0se2NOOiJudW1iZXIiLGI6IlxcLlxcZCsoPzpbZUVdWytcXC1dP1xcZCopP2k/XFxiIixlOmhsanMuSU1NRURJQVRFX1JFLHI6MX0se2NOOiJrZXl3b3JkIixiOiIoPzp0cnlDYXRjaHxsaWJyYXJ5fHNldEdlbmVyaWN8c2V0R3JvdXBHZW5lcmljKVxcYiIsZTpobGpzLklNTUVESUFURV9SRSxyOjEwfSx7Y046ImtleXdvcmQiLGI6IlxcLlxcLlxcLiIsZTpobGpzLklNTUVESUFURV9SRSxyOjEwfSx7Y046ImtleXdvcmQiLGI6IlxcLlxcLlxcZCsoPyFbXFx3Ll0pIixlOmhsanMuSU1NRURJQVRFX1JFLHI6MTB9LHtjTjoia2V5d29yZCIsYjoiXFxiKD86ZnVuY3Rpb24pIixlOmhsanMuSU1NRURJQVRFX1JFLHI6Mn0se2NOOiJrZXl3b3JkIixiOiIoPzppZnxpbnxicmVha3xuZXh0fHJlcGVhdHxlbHNlfGZvcnxyZXR1cm58c3dpdGNofHdoaWxlfHRyeXxzdG9wfHdhcm5pbmd8cmVxdWlyZXxhdHRhY2h8ZGV0YWNofHNvdXJjZXxzZXRNZXRob2R8c2V0Q2xhc3MpXFxiIixlOmhsanMuSU1NRURJQVRFX1JFLHI6MX0se2NOOiJsaXRlcmFsIixiOiIoPzpOQXxOQV9pbnRlZ2VyX3xOQV9yZWFsX3xOQV9jaGFyYWN0ZXJffE5BX2NvbXBsZXhfKVxcYiIsZTpobGpzLklNTUVESUFURV9SRSxyOjEwfSx7Y046ImxpdGVyYWwiLGI6Iig/Ok5VTEx8VFJVRXxGQUxTRXxUfEZ8SW5mfE5hTilcXGIiLGU6aGxqcy5JTU1FRElBVEVfUkUscjoxfSx7Y046ImlkZW50aWZpZXIiLGI6IlthLXpBLVouXVthLXpBLVowLTkuX10qXFxiIixlOmhsanMuSU1NRURJQVRFX1JFLHI6MH0se2NOOiJvcGVyYXRvciIsYjoiPFxcLSg/IVxccypcXGQpIixlOmhsanMuSU1NRURJQVRFX1JFLHI6Mn0se2NOOiJvcGVyYXRvciIsYjoiXFwtPnw8XFwtIixlOmhsanMuSU1NRURJQVRFX1JFLHI6MX0se2NOOiJvcGVyYXRvciIsYjoiJSV8fiIsZTpobGpzLklNTUVESUFURV9SRX0se2NOOiJvcGVyYXRvciIsYjoiPj18PD18PT18IT18XFx8XFx8fCYmfD18XFwrfFxcLXxcXCp8L3xcXF58Pnw8fCF8JnxcXHx8XFwkfDoiLGU6aGxqcy5JTU1FRElBVEVfUkUscjowfSx7Y046Im9wZXJhdG9yIixiOiIlIixlOiIlIixpOiJcXG4iLHI6MX0se2NOOiJpZGVudGlmaWVyIixiOiJgIixlOiJgIixyOjB9LHtjTjoic3RyaW5nIixiOiciJyxlOiciJyxjOltobGpzLkJFXSxyOjB9LHtjTjoic3RyaW5nIixiOiInIixlOiInIixjOltobGpzLkJFXSxyOjB9LHtjTjoicGFyZW4iLGI6IltbKHtcXF0pfV0iLGU6aGxqcy5JTU1FRElBVEVfUkUscjowfV19fTsKaGxqcy5pbml0SGlnaGxpZ2h0aW5nT25Mb2FkKCk7Cgo="></script>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs && document.readyState && document.readyState === "complete") {
   window.setTimeout(function() {
      hljs.initHighlighting();
   }, 0);
}
</script>



</head>

<body>

<style type="text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img { 
  max-width:100%; 
  height: auto; 
}
</style>
<div class="container-fluid main-container">



<div id="TOC">
<ul>
<li><a href="#one-line-teasers">One Line Teasers</a></li>
<li><a href="#setting-up">Setting Up</a><ul>
<li><a href="#to-install-from-github">To install from github</a></li>
<li><a href="#to-render-in-an-rpres-or-r-markdown-document">To render in an RPres or R Markdown document</a></li>
<li><a href="#to-rendered-in-an-rstudio-shiny-server">To Rendered in an RStudio <strong>Shiny-server</strong></a></li>
</ul></li>
<li><a href="#overview">Overview</a><ul>
<li><a href="#a-short-example">A Short Example</a></li>
<li><a href="#taxonomy">Taxonomy</a></li>
<li><a href="#structure-of-this-document">Structure of This Document</a></li>
</ul></li>
<li><a href="#coordinates-viewports-and-containers">Coordinates, Viewports, and Containers</a><ul>
<li><a href="#viewports-and-viewboxes">Viewports and Viewboxes</a></li>
<li><a href="#specifying-the-viewport-and-the-viewbox">Specifying the Viewport and the Viewbox</a></li>
<li><a href="#nesting-svgs">Nesting svgs</a></li>
</ul></li>
<li><a href="#the-transform-attribute">The Transform Attribute</a><ul>
<li><a href="#transform-operations">Transform operations</a></li>
<li><a href="#the-tale-of-two-circles-a-square-and-some-lines">The Tale of Two Circles, a Square and Some Lines</a></li>
</ul></li>
<li><a href="#shapes-paths-markers">Shapes, Paths, Markers</a><ul>
<li><a href="#the-line">The Line</a></li>
<li><a href="#the-polyline">The polyline</a></li>
<li><a href="#the-polygon">The polygon</a></li>
<li><a href="#the-rectangle">The rectangle,</a></li>
<li><a href="#the-circle">The circle</a></li>
<li><a href="#the-ellipse">The ellipse</a></li>
<li><a href="#the-path-data-attribute">The Path Data Attribute</a></li>
<li><a href="#the-elliptic-arc-curve">The Elliptic Arc Curve</a></li>
<li><a href="#q-the-quadratic-bezier">Q: The Quadratic Bzier</a></li>
<li><a href="#t-extending-a-bezier-with-a-quadratic-bezier">T: Extending a Bzier with a Quadratic Bzier</a></li>
<li><a href="#s-extending-a-bezier-with-a-cubic-bezier">S: Extending a Bzier with a Cubic Bzier</a></li>
<li><a href="#more-bezier-examples">More Bezier Examples</a></li>
<li><a href="#markers">Markers</a></li>
</ul></li>
<li><a href="#text">Text</a><ul>
<li><a href="#font-families-and-styling">Font Families and Styling</a></li>
<li><a href="#text-positioning">Text Positioning</a></li>
<li><a href="#tspan">tspan</a></li>
<li><a href="#math-equations-superscripts-subscripts">Math equations: Superscripts, subscripts</a></li>
<li><a href="#text-along-a-path">Text Along a Path</a></li>
<li><a href="#reflection-transformation">Reflection Transformation</a></li>
<li><a href="#writing-mode">Writing mode</a></li>
</ul></li>
<li><a href="#the-fill-attribute">The Fill Attribute</a><ul>
<li><a href="#fill-with-a-linear-gradient">Fill with a Linear Gradient</a></li>
<li><a href="#filling-with-a-radial-gradient">Filling with a radial gradient</a></li>
<li><a href="#fill-with-patterns">Fill with Patterns</a></li>
<li><a href="#filling-text">Filling text</a></li>
</ul></li>
<li><a href="#the-filter-attribute">The Filter Attribute</a><ul>
<li><a href="#overview-1">Overview</a></li>
<li><a href="#the-gaussian-blur-filter">The Gaussian Blur Filter</a></li>
<li><a href="#filter-coordinates">Filter Coordinates</a></li>
<li><a href="#understanding-the-filter-coordinates">Understanding the Filter Coordinates</a></li>
</ul></li>
<li><a href="#manipulationg-colors">Manipulationg Colors</a><ul>
<li><a href="#color-flooding">Color Flooding</a></li>
<li><a href="#rotating-hues">Rotating Hues</a></li>
<li><a href="#color-saturation">Color Saturation</a></li>
<li><a href="#applying-a-color-matrix">Applying a color matrix</a></li>
<li><a href="#fecomponenttransfer">feComponentTransfer</a></li>
</ul></li>
<li><a href="#combining-filter-primitives">Combining Filter Primitives</a><ul>
<li><a href="#fecomposite-operatorover">feComposite (operator=over)</a></li>
<li><a href="#feblend">feBlend</a></li>
<li><a href="#dropshadows">DropShadows</a></li>
<li><a href="#fun-with-drop-shadows">Fun with Drop Shadows</a></li>
<li><a href="#fecomponenttransfer-1">feComponentTransfer</a></li>
</ul></li>
<li><a href="#textures">Textures</a><ul>
<li><a href="#a-simple-example">A Simple Example</a></li>
<li><a href="#basefrequency">baseFrequency</a></li>
<li><a href="#octaves">Octaves</a></li>
<li><a href="#types-of-feturbulence">Types of feTurbulence</a></li>
<li><a href="#combining-feturbulance">Combining feTurbulance</a></li>
<li><a href="#wood-texture">Wood Texture</a></li>
</ul></li>
<li><a href="#lighting">Lighting</a><ul>
<li><a href="#lighting-overview">Lighting Overview</a></li>
<li><a href="#geometry">Geometry</a></li>
<li><a href="#reflective-properties-for-lightingshading">Reflective Properties for lighting/shading</a></li>
<li><a href="#diffuse-reflection">Diffuse Reflection</a></li>
<li><a href="#specular-reflection-the-blin-phong-model">Specular Reflection (The Blin-Phong Model)</a></li>
<li><a href="#light-sources">Light Sources</a></li>
<li><a href="#fedistantlight">feDistantLight</a></li>
<li><a href="#varying-distantlight-positions-specular">Varying DistantLight Positions: Specular</a></li>
<li><a href="#pointlight">PointLight</a></li>
<li><a href="#fespotlight">feSpotLight</a></li>
<li><a href="#diffuse-spot-light-located-above-center-point-along-boundry">Diffuse Spot Light Located Above Center, Point Along Boundry</a></li>
</ul></li>
<li><a href="#a-shiny-bevel">A Shiny Bevel</a></li>
<li><a href="#shape-shifting">Shape Shifting</a><ul>
<li><a href="#clipping">Clipping</a></li>
<li><a href="#masking">Masking</a></li>
<li><a href="#morpolgy">Morpolgy</a></li>
<li><a href="#dilation">Dilation</a></li>
<li><a href="#erosion">Erosion</a></li>
<li><a href="#displacing-aka.-warping">Displacing (aka. Warping)</a></li>
<li><a href="#data-corruption">Data Corruption</a></li>
</ul></li>
<li><a href="#animating">Animating</a><ul>
<li><a href="#animation-technique-overview">Animation Technique Overview</a></li>
<li><a href="#animation-events">Animation Events</a></li>
<li><a href="#set-animation">Set Animation</a></li>
<li><a href="#animate-element">Animate Element</a></li>
<li><a href="#animating-shapes">Animating Shapes</a></li>
<li><a href="#variable-rates-with-animate">Variable Rates with Animate</a></li>
<li><a href="#animatetransform">AnimateTransform</a></li>
<li><a href="#animatemotion">AnimateMotion</a></li>
<li><a href="#variable-speed-with-animation-motion">Variable Speed with Animation Motion</a></li>
</ul></li>
</ul>
</div>

<p>This document describes some of the basics of svgR. This document has been created from an R Markdown document using svgR. For more details on using R Markdown see <a href="http://rmarkdown.rstudio.com" class="uri">http://rmarkdown.rstudio.com</a>. For a good starting place on using SVG see <a href="http://tutorials.jenkov.com/svg" class="uri">http://tutorials.jenkov.com/svg</a> and <a href="https://github.com/willianjusten/awesome-svg" class="uri">https://github.com/willianjusten/awesome-svg</a></p>
<style>
h1 {
   color: darkblue;
   font-size:3.5em;
}
</style>
<style>
#TOC {
  position: fixed;
  left: 0;
  top: 0;
  width: 220px;
  height: 100%;
  overflow:auto;
}
body {
  max-width: 800px;
  margin: auto;
  margin-left:225px;
  line-height: 20px;
}
</style>
<hr>
<p><br /><br /></p>
<div id="one-line-teasers" class="section level1">
<h1>One Line Teasers</h1>
<p>Here we illustrate a simple circle of radius 50 located at 200,20</p>
<pre class="r"><code>svgR( wh=c(600, 100), circle(cxy=c(200,50),r=50, fill='lightgreen') )</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="600" height="100">
<circle r="50" fill="lightgreen" cx="200" cy="50"></circle>
</svg>
<p>This illustates the use of lapply to constuct multiple circles</p>
<pre class="r"><code>svgR(  wh=c(600, 150), lapply(1:10, function(i)circle(cxy=c(i*30,i*10),r=5+i, fill=rrgb() ) ))</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="600" height="150">
<circle r="6" fill="rgb(205,221,184)" cx="30" cy="10"></circle> <circle r="7" fill="rgb(197,166,212)" cx="60" cy="20"></circle> <circle r="8" fill="rgb(210,122,195)" cx="90" cy="30"></circle> <circle r="9" fill="rgb(181,36,105)" cx="120" cy="40"></circle> <circle r="10" fill="rgb(96,200,214)" cx="150" cy="50"></circle> <circle r="11" fill="rgb(141,213,117)" cx="180" cy="60"></circle> <circle r="12" fill="rgb(103,18,21)" cx="210" cy="70"></circle> <circle r="13" fill="rgb(191,168,9)" cx="240" cy="80"></circle> <circle r="14" fill="rgb(68,30,121)" cx="270" cy="90"></circle> <circle r="15" fill="rgb(166,224,196)" cx="300" cy="100"></circle>
</svg>
<p>Again using lapply, but with random colors.</p>
<pre class="r"><code>svgR( wh=c(600, 100),  lapply(10:1, function(i)circle(cxy=c(100,50),r=i*5, fill=rrgb()) ))</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="600" height="100">
<circle r="50" fill="rgb(220,202,217)" cx="100" cy="50"></circle> <circle r="45" fill="rgb(200,52,29)" cx="100" cy="50"></circle> <circle r="40" fill="rgb(197,111,203)" cx="100" cy="50"></circle> <circle r="35" fill="rgb(187,87,191)" cx="100" cy="50"></circle> <circle r="30" fill="rgb(103,69,65)" cx="100" cy="50"></circle> <circle r="25" fill="rgb(58,147,215)" cx="100" cy="50"></circle> <circle r="20" fill="rgb(73,41,1)" cx="100" cy="50"></circle> <circle r="15" fill="rgb(223,133,155)" cx="100" cy="50"></circle> <circle r="10" fill="rgb(31,42,205)" cx="100" cy="50"></circle> <circle r="5" fill="rgb(203,101,230)" cx="100" cy="50"></circle>
</svg>
<p>Again using lapply, on circle radii.</p>
<pre class="r"><code>svgR( wh=c(600, 100),  lapply(10:1, function(i)circle(cxy=sample(1:100,2),r=5+sample(5:50,1), fill=rrgb()) ))</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="600" height="100">
<circle r="38" fill="rgb(174,195,110)" cx="10" cy="15"></circle> <circle r="34" fill="rgb(177,49,70)" cx="55" cy="17"></circle> <circle r="32" fill="rgb(141,82,53)" cx="35" cy="27"></circle> <circle r="54" fill="rgb(155,17,252)" cx="54" cy="75"></circle> <circle r="13" fill="rgb(100,200,103)" cx="94" cy="73"></circle> <circle r="39" fill="rgb(1,58,142)" cx="9" cy="19"></circle> <circle r="39" fill="rgb(55,180,231)" cx="100" cy="25"></circle> <circle r="48" fill="rgb(251,87,254)" cx="32" cy="16"></circle> <circle r="34" fill="rgb(248,200,66)" cx="16" cy="71"></circle> <circle r="29" fill="rgb(157,236,168)" cx="55" cy="93"></circle>
</svg>
<p>Using a sapply on polylines</p>
<pre class="r"><code>svgR( wh=c(600, 100),  polyline(points=sapply(4*pi*(0:5)/5,function(i)c(100,50)+50*c(cos(i),sin(i))), fill='none', stroke='red'))</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="600" height="100">
<polyline points="150,50 59.5491502812526,79.3892626146237 115.450849718747,2.44717418524232 115.450849718747,97.5528258147577 59.5491502812526,20.6107373853764 150,50" fill="none" stroke="red"></polyline>
</svg>
<p>Using a sapply on polylines</p>
<pre class="r"><code>svgR( wh=c(600, 100),  polyline(points=sapply(1:41,function(i)50*(c(i,1)-i%%2)), fill='red'))</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="600" height="100">
<polyline points="0,0 100,50 100,0 200,50 200,0 300,50 300,0 400,50 400,0 500,50 500,0 600,50 600,0 700,50 700,0 800,50 800,0 900,50 900,0 1000,50 1000,0 1100,50 1100,0 1200,50 1200,0 1300,50 1300,0 1400,50 1400,0 1500,50 1500,0 1600,50 1600,0 1700,50 1700,0 1800,50 1800,0 1900,50 1900,0 2000,50 2000,0" fill="red"></polyline>
</svg>
<p>Rectangles</p>
<pre class="r"><code>svgR( wh=c(600, 100),  lapply(1:15, function(i)rect(xy=i*c(80,0), wh=sample(20:80,2), fill=rrgb())))</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="600" height="100">
<rect fill="rgb(216,130,120)" width="45" height="78" x="80" y="0"></rect> <rect fill="rgb(254,82,103)" width="27" height="20" x="160" y="0"></rect> <rect fill="rgb(164,121,162)" width="60" height="23" x="240" y="0"></rect> <rect fill="rgb(200,71,246)" width="22" height="72" x="320" y="0"></rect> <rect fill="rgb(35,16,69)" width="59" height="69" x="400" y="0"></rect> <rect fill="rgb(210,197,72)" width="61" height="29" x="480" y="0"></rect> <rect fill="rgb(65,44,203)" width="47" height="71" x="560" y="0"></rect> <rect fill="rgb(91,224,38)" width="72" height="27" x="640" y="0"></rect> <rect fill="rgb(129,205,84)" width="22" height="61" x="720" y="0"></rect> <rect fill="rgb(66,93,60)" width="29" height="64" x="800" y="0"></rect> <rect fill="rgb(34,116,15)" width="71" height="40" x="880" y="0"></rect> <rect fill="rgb(11,233,135)" width="30" height="49" x="960" y="0"></rect> <rect fill="rgb(152,179,185)" width="50" height="79" x="1040" y="0"></rect> <rect fill="rgb(103,115,151)" width="72" height="26" x="1120" y="0"></rect> <rect fill="rgb(194,108,40)" width="61" height="20" x="1200" y="0"></rect>
</svg>
<pre class="r"><code>svgR( wh=c(600, 100),  lapply(1:256, function(i)line(xy1=c(255,0), xy2=c(i*2,100), stroke=as.rgb(255-i,128,255-i))))</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="600" height="100">
<line stroke="rgb(254,128,254)" x1="255" y1="0" x2="2" y2="100"></line> <line stroke="rgb(253,128,253)" x1="255" y1="0" x2="4" y2="100"></line> <line stroke="rgb(252,128,252)" x1="255" y1="0" x2="6" y2="100"></line> <line stroke="rgb(251,128,251)" x1="255" y1="0" x2="8" y2="100"></line> <line stroke="rgb(250,128,250)" x1="255" y1="0" x2="10" y2="100"></line> <line stroke="rgb(249,128,249)" x1="255" y1="0" x2="12" y2="100"></line> <line stroke="rgb(248,128,248)" x1="255" y1="0" x2="14" y2="100"></line> <line stroke="rgb(247,128,247)" x1="255" y1="0" x2="16" y2="100"></line> <line stroke="rgb(246,128,246)" x1="255" y1="0" x2="18" y2="100"></line> <line stroke="rgb(245,128,245)" x1="255" y1="0" x2="20" y2="100"></line> <line stroke="rgb(244,128,244)" x1="255" y1="0" x2="22" y2="100"></line> <line stroke="rgb(243,128,243)" x1="255" y1="0" x2="24" y2="100"></line> <line stroke="rgb(242,128,242)" x1="255" y1="0" x2="26" y2="100"></line> <line stroke="rgb(241,128,241)" x1="255" y1="0" x2="28" y2="100"></line> <line stroke="rgb(240,128,240)" x1="255" y1="0" x2="30" y2="100"></line> <line stroke="rgb(239,128,239)" x1="255" y1="0" x2="32" y2="100"></line> <line stroke="rgb(238,128,238)" x1="255" y1="0" x2="34" y2="100"></line> <line stroke="rgb(237,128,237)" x1="255" y1="0" x2="36" y2="100"></line> <line stroke="rgb(236,128,236)" x1="255" y1="0" x2="38" y2="100"></line> <line stroke="rgb(235,128,235)" x1="255" y1="0" x2="40" y2="100"></line> <line stroke="rgb(234,128,234)" x1="255" y1="0" x2="42" y2="100"></line> <line stroke="rgb(233,128,233)" x1="255" y1="0" x2="44" y2="100"></line> <line stroke="rgb(232,128,232)" x1="255" y1="0" x2="46" y2="100"></line> <line stroke="rgb(231,128,231)" x1="255" y1="0" x2="48" y2="100"></line> <line stroke="rgb(230,128,230)" x1="255" y1="0" x2="50" y2="100"></line> <line stroke="rgb(229,128,229)" x1="255" y1="0" x2="52" y2="100"></line> <line stroke="rgb(228,128,228)" x1="255" y1="0" x2="54" y2="100"></line> <line stroke="rgb(227,128,227)" x1="255" y1="0" x2="56" y2="100"></line> <line stroke="rgb(226,128,226)" x1="255" y1="0" x2="58" y2="100"></line> <line stroke="rgb(225,128,225)" x1="255" y1="0" x2="60" y2="100"></line> <line stroke="rgb(224,128,224)" x1="255" y1="0" x2="62" y2="100"></line> <line stroke="rgb(223,128,223)" x1="255" y1="0" x2="64" y2="100"></line> <line stroke="rgb(222,128,222)" x1="255" y1="0" x2="66" y2="100"></line> <line stroke="rgb(221,128,221)" x1="255" y1="0" x2="68" y2="100"></line> <line stroke="rgb(220,128,220)" x1="255" y1="0" x2="70" y2="100"></line> <line stroke="rgb(219,128,219)" x1="255" y1="0" x2="72" y2="100"></line> <line stroke="rgb(218,128,218)" x1="255" y1="0" x2="74" y2="100"></line> <line stroke="rgb(217,128,217)" x1="255" y1="0" x2="76" y2="100"></line> <line stroke="rgb(216,128,216)" x1="255" y1="0" x2="78" y2="100"></line> <line stroke="rgb(215,128,215)" x1="255" y1="0" x2="80" y2="100"></line> <line stroke="rgb(214,128,214)" x1="255" y1="0" x2="82" y2="100"></line> <line stroke="rgb(213,128,213)" x1="255" y1="0" x2="84" y2="100"></line> <line stroke="rgb(212,128,212)" x1="255" y1="0" x2="86" y2="100"></line> <line stroke="rgb(211,128,211)" x1="255" y1="0" x2="88" y2="100"></line> <line stroke="rgb(210,128,210)" x1="255" y1="0" x2="90" y2="100"></line> <line stroke="rgb(209,128,209)" x1="255" y1="0" x2="92" y2="100"></line> <line stroke="rgb(208,128,208)" x1="255" y1="0" x2="94" y2="100"></line> <line stroke="rgb(207,128,207)" x1="255" y1="0" x2="96" y2="100"></line> <line stroke="rgb(206,128,206)" x1="255" y1="0" x2="98" y2="100"></line> <line stroke="rgb(205,128,205)" x1="255" y1="0" x2="100" y2="100"></line> <line stroke="rgb(204,128,204)" x1="255" y1="0" x2="102" y2="100"></line> <line stroke="rgb(203,128,203)" x1="255" y1="0" x2="104" y2="100"></line> <line stroke="rgb(202,128,202)" x1="255" y1="0" x2="106" y2="100"></line> <line stroke="rgb(201,128,201)" x1="255" y1="0" x2="108" y2="100"></line> <line stroke="rgb(200,128,200)" x1="255" y1="0" x2="110" y2="100"></line> <line stroke="rgb(199,128,199)" x1="255" y1="0" x2="112" y2="100"></line> <line stroke="rgb(198,128,198)" x1="255" y1="0" x2="114" y2="100"></line> <line stroke="rgb(197,128,197)" x1="255" y1="0" x2="116" y2="100"></line> <line stroke="rgb(196,128,196)" x1="255" y1="0" x2="118" y2="100"></line> <line stroke="rgb(195,128,195)" x1="255" y1="0" x2="120" y2="100"></line> <line stroke="rgb(194,128,194)" x1="255" y1="0" x2="122" y2="100"></line> <line stroke="rgb(193,128,193)" x1="255" y1="0" x2="124" y2="100"></line> <line stroke="rgb(192,128,192)" x1="255" y1="0" x2="126" y2="100"></line> <line stroke="rgb(191,128,191)" x1="255" y1="0" x2="128" y2="100"></line> <line stroke="rgb(190,128,190)" x1="255" y1="0" x2="130" y2="100"></line> <line stroke="rgb(189,128,189)" x1="255" y1="0" x2="132" y2="100"></line> <line stroke="rgb(188,128,188)" x1="255" y1="0" x2="134" y2="100"></line> <line stroke="rgb(187,128,187)" x1="255" y1="0" x2="136" y2="100"></line> <line stroke="rgb(186,128,186)" x1="255" y1="0" x2="138" y2="100"></line> <line stroke="rgb(185,128,185)" x1="255" y1="0" x2="140" y2="100"></line> <line stroke="rgb(184,128,184)" x1="255" y1="0" x2="142" y2="100"></line> <line stroke="rgb(183,128,183)" x1="255" y1="0" x2="144" y2="100"></line> <line stroke="rgb(182,128,182)" x1="255" y1="0" x2="146" y2="100"></line> <line stroke="rgb(181,128,181)" x1="255" y1="0" x2="148" y2="100"></line> <line stroke="rgb(180,128,180)" x1="255" y1="0" x2="150" y2="100"></line> <line stroke="rgb(179,128,179)" x1="255" y1="0" x2="152" y2="100"></line> <line stroke="rgb(178,128,178)" x1="255" y1="0" x2="154" y2="100"></line> <line stroke="rgb(177,128,177)" x1="255" y1="0" x2="156" y2="100"></line> <line stroke="rgb(176,128,176)" x1="255" y1="0" x2="158" y2="100"></line> <line stroke="rgb(175,128,175)" x1="255" y1="0" x2="160" y2="100"></line> <line stroke="rgb(174,128,174)" x1="255" y1="0" x2="162" y2="100"></line> <line stroke="rgb(173,128,173)" x1="255" y1="0" x2="164" y2="100"></line> <line stroke="rgb(172,128,172)" x1="255" y1="0" x2="166" y2="100"></line> <line stroke="rgb(171,128,171)" x1="255" y1="0" x2="168" y2="100"></line> <line stroke="rgb(170,128,170)" x1="255" y1="0" x2="170" y2="100"></line> <line stroke="rgb(169,128,169)" x1="255" y1="0" x2="172" y2="100"></line> <line stroke="rgb(168,128,168)" x1="255" y1="0" x2="174" y2="100"></line> <line stroke="rgb(167,128,167)" x1="255" y1="0" x2="176" y2="100"></line> <line stroke="rgb(166,128,166)" x1="255" y1="0" x2="178" y2="100"></line> <line stroke="rgb(165,128,165)" x1="255" y1="0" x2="180" y2="100"></line> <line stroke="rgb(164,128,164)" x1="255" y1="0" x2="182" y2="100"></line> <line stroke="rgb(163,128,163)" x1="255" y1="0" x2="184" y2="100"></line> <line stroke="rgb(162,128,162)" x1="255" y1="0" x2="186" y2="100"></line> <line stroke="rgb(161,128,161)" x1="255" y1="0" x2="188" y2="100"></line> <line stroke="rgb(160,128,160)" x1="255" y1="0" x2="190" y2="100"></line> <line stroke="rgb(159,128,159)" x1="255" y1="0" x2="192" y2="100"></line> <line stroke="rgb(158,128,158)" x1="255" y1="0" x2="194" y2="100"></line> <line stroke="rgb(157,128,157)" x1="255" y1="0" x2="196" y2="100"></line> <line stroke="rgb(156,128,156)" x1="255" y1="0" x2="198" y2="100"></line> <line stroke="rgb(155,128,155)" x1="255" y1="0" x2="200" y2="100"></line> <line stroke="rgb(154,128,154)" x1="255" y1="0" x2="202" y2="100"></line> <line stroke="rgb(153,128,153)" x1="255" y1="0" x2="204" y2="100"></line> <line stroke="rgb(152,128,152)" x1="255" y1="0" x2="206" y2="100"></line> <line stroke="rgb(151,128,151)" x1="255" y1="0" x2="208" y2="100"></line> <line stroke="rgb(150,128,150)" x1="255" y1="0" x2="210" y2="100"></line> <line stroke="rgb(149,128,149)" x1="255" y1="0" x2="212" y2="100"></line> <line stroke="rgb(148,128,148)" x1="255" y1="0" x2="214" y2="100"></line> <line stroke="rgb(147,128,147)" x1="255" y1="0" x2="216" y2="100"></line> <line stroke="rgb(146,128,146)" x1="255" y1="0" x2="218" y2="100"></line> <line stroke="rgb(145,128,145)" x1="255" y1="0" x2="220" y2="100"></line> <line stroke="rgb(144,128,144)" x1="255" y1="0" x2="222" y2="100"></line> <line stroke="rgb(143,128,143)" x1="255" y1="0" x2="224" y2="100"></line> <line stroke="rgb(142,128,142)" x1="255" y1="0" x2="226" y2="100"></line> <line stroke="rgb(141,128,141)" x1="255" y1="0" x2="228" y2="100"></line> <line stroke="rgb(140,128,140)" x1="255" y1="0" x2="230" y2="100"></line> <line stroke="rgb(139,128,139)" x1="255" y1="0" x2="232" y2="100"></line> <line stroke="rgb(138,128,138)" x1="255" y1="0" x2="234" y2="100"></line> <line stroke="rgb(137,128,137)" x1="255" y1="0" x2="236" y2="100"></line> <line stroke="rgb(136,128,136)" x1="255" y1="0" x2="238" y2="100"></line> <line stroke="rgb(135,128,135)" x1="255" y1="0" x2="240" y2="100"></line> <line stroke="rgb(134,128,134)" x1="255" y1="0" x2="242" y2="100"></line> <line stroke="rgb(133,128,133)" x1="255" y1="0" x2="244" y2="100"></line> <line stroke="rgb(132,128,132)" x1="255" y1="0" x2="246" y2="100"></line> <line stroke="rgb(131,128,131)" x1="255" y1="0" x2="248" y2="100"></line> <line stroke="rgb(130,128,130)" x1="255" y1="0" x2="250" y2="100"></line> <line stroke="rgb(129,128,129)" x1="255" y1="0" x2="252" y2="100"></line> <line stroke="rgb(128,128,128)" x1="255" y1="0" x2="254" y2="100"></line> <line stroke="rgb(127,128,127)" x1="255" y1="0" x2="256" y2="100"></line> <line stroke="rgb(126,128,126)" x1="255" y1="0" x2="258" y2="100"></line> <line stroke="rgb(125,128,125)" x1="255" y1="0" x2="260" y2="100"></line> <line stroke="rgb(124,128,124)" x1="255" y1="0" x2="262" y2="100"></line> <line stroke="rgb(123,128,123)" x1="255" y1="0" x2="264" y2="100"></line> <line stroke="rgb(122,128,122)" x1="255" y1="0" x2="266" y2="100"></line> <line stroke="rgb(121,128,121)" x1="255" y1="0" x2="268" y2="100"></line> <line stroke="rgb(120,128,120)" x1="255" y1="0" x2="270" y2="100"></line> <line stroke="rgb(119,128,119)" x1="255" y1="0" x2="272" y2="100"></line> <line stroke="rgb(118,128,118)" x1="255" y1="0" x2="274" y2="100"></line> <line stroke="rgb(117,128,117)" x1="255" y1="0" x2="276" y2="100"></line> <line stroke="rgb(116,128,116)" x1="255" y1="0" x2="278" y2="100"></line> <line stroke="rgb(115,128,115)" x1="255" y1="0" x2="280" y2="100"></line> <line stroke="rgb(114,128,114)" x1="255" y1="0" x2="282" y2="100"></line> <line stroke="rgb(113,128,113)" x1="255" y1="0" x2="284" y2="100"></line> <line stroke="rgb(112,128,112)" x1="255" y1="0" x2="286" y2="100"></line> <line stroke="rgb(111,128,111)" x1="255" y1="0" x2="288" y2="100"></line> <line stroke="rgb(110,128,110)" x1="255" y1="0" x2="290" y2="100"></line> <line stroke="rgb(109,128,109)" x1="255" y1="0" x2="292" y2="100"></line> <line stroke="rgb(108,128,108)" x1="255" y1="0" x2="294" y2="100"></line> <line stroke="rgb(107,128,107)" x1="255" y1="0" x2="296" y2="100"></line> <line stroke="rgb(106,128,106)" x1="255" y1="0" x2="298" y2="100"></line> <line stroke="rgb(105,128,105)" x1="255" y1="0" x2="300" y2="100"></line> <line stroke="rgb(104,128,104)" x1="255" y1="0" x2="302" y2="100"></line> <line stroke="rgb(103,128,103)" x1="255" y1="0" x2="304" y2="100"></line> <line stroke="rgb(102,128,102)" x1="255" y1="0" x2="306" y2="100"></line> <line stroke="rgb(101,128,101)" x1="255" y1="0" x2="308" y2="100"></line> <line stroke="rgb(100,128,100)" x1="255" y1="0" x2="310" y2="100"></line> <line stroke="rgb(99,128,99)" x1="255" y1="0" x2="312" y2="100"></line> <line stroke="rgb(98,128,98)" x1="255" y1="0" x2="314" y2="100"></line> <line stroke="rgb(97,128,97)" x1="255" y1="0" x2="316" y2="100"></line> <line stroke="rgb(96,128,96)" x1="255" y1="0" x2="318" y2="100"></line> <line stroke="rgb(95,128,95)" x1="255" y1="0" x2="320" y2="100"></line> <line stroke="rgb(94,128,94)" x1="255" y1="0" x2="322" y2="100"></line> <line stroke="rgb(93,128,93)" x1="255" y1="0" x2="324" y2="100"></line> <line stroke="rgb(92,128,92)" x1="255" y1="0" x2="326" y2="100"></line> <line stroke="rgb(91,128,91)" x1="255" y1="0" x2="328" y2="100"></line> <line stroke="rgb(90,128,90)" x1="255" y1="0" x2="330" y2="100"></line> <line stroke="rgb(89,128,89)" x1="255" y1="0" x2="332" y2="100"></line> <line stroke="rgb(88,128,88)" x1="255" y1="0" x2="334" y2="100"></line> <line stroke="rgb(87,128,87)" x1="255" y1="0" x2="336" y2="100"></line> <line stroke="rgb(86,128,86)" x1="255" y1="0" x2="338" y2="100"></line> <line stroke="rgb(85,128,85)" x1="255" y1="0" x2="340" y2="100"></line> <line stroke="rgb(84,128,84)" x1="255" y1="0" x2="342" y2="100"></line> <line stroke="rgb(83,128,83)" x1="255" y1="0" x2="344" y2="100"></line> <line stroke="rgb(82,128,82)" x1="255" y1="0" x2="346" y2="100"></line> <line stroke="rgb(81,128,81)" x1="255" y1="0" x2="348" y2="100"></line> <line stroke="rgb(80,128,80)" x1="255" y1="0" x2="350" y2="100"></line> <line stroke="rgb(79,128,79)" x1="255" y1="0" x2="352" y2="100"></line> <line stroke="rgb(78,128,78)" x1="255" y1="0" x2="354" y2="100"></line> <line stroke="rgb(77,128,77)" x1="255" y1="0" x2="356" y2="100"></line> <line stroke="rgb(76,128,76)" x1="255" y1="0" x2="358" y2="100"></line> <line stroke="rgb(75,128,75)" x1="255" y1="0" x2="360" y2="100"></line> <line stroke="rgb(74,128,74)" x1="255" y1="0" x2="362" y2="100"></line> <line stroke="rgb(73,128,73)" x1="255" y1="0" x2="364" y2="100"></line> <line stroke="rgb(72,128,72)" x1="255" y1="0" x2="366" y2="100"></line> <line stroke="rgb(71,128,71)" x1="255" y1="0" x2="368" y2="100"></line> <line stroke="rgb(70,128,70)" x1="255" y1="0" x2="370" y2="100"></line> <line stroke="rgb(69,128,69)" x1="255" y1="0" x2="372" y2="100"></line> <line stroke="rgb(68,128,68)" x1="255" y1="0" x2="374" y2="100"></line> <line stroke="rgb(67,128,67)" x1="255" y1="0" x2="376" y2="100"></line> <line stroke="rgb(66,128,66)" x1="255" y1="0" x2="378" y2="100"></line> <line stroke="rgb(65,128,65)" x1="255" y1="0" x2="380" y2="100"></line> <line stroke="rgb(64,128,64)" x1="255" y1="0" x2="382" y2="100"></line> <line stroke="rgb(63,128,63)" x1="255" y1="0" x2="384" y2="100"></line> <line stroke="rgb(62,128,62)" x1="255" y1="0" x2="386" y2="100"></line> <line stroke="rgb(61,128,61)" x1="255" y1="0" x2="388" y2="100"></line> <line stroke="rgb(60,128,60)" x1="255" y1="0" x2="390" y2="100"></line> <line stroke="rgb(59,128,59)" x1="255" y1="0" x2="392" y2="100"></line> <line stroke="rgb(58,128,58)" x1="255" y1="0" x2="394" y2="100"></line> <line stroke="rgb(57,128,57)" x1="255" y1="0" x2="396" y2="100"></line> <line stroke="rgb(56,128,56)" x1="255" y1="0" x2="398" y2="100"></line> <line stroke="rgb(55,128,55)" x1="255" y1="0" x2="400" y2="100"></line> <line stroke="rgb(54,128,54)" x1="255" y1="0" x2="402" y2="100"></line> <line stroke="rgb(53,128,53)" x1="255" y1="0" x2="404" y2="100"></line> <line stroke="rgb(52,128,52)" x1="255" y1="0" x2="406" y2="100"></line> <line stroke="rgb(51,128,51)" x1="255" y1="0" x2="408" y2="100"></line> <line stroke="rgb(50,128,50)" x1="255" y1="0" x2="410" y2="100"></line> <line stroke="rgb(49,128,49)" x1="255" y1="0" x2="412" y2="100"></line> <line stroke="rgb(48,128,48)" x1="255" y1="0" x2="414" y2="100"></line> <line stroke="rgb(47,128,47)" x1="255" y1="0" x2="416" y2="100"></line> <line stroke="rgb(46,128,46)" x1="255" y1="0" x2="418" y2="100"></line> <line stroke="rgb(45,128,45)" x1="255" y1="0" x2="420" y2="100"></line> <line stroke="rgb(44,128,44)" x1="255" y1="0" x2="422" y2="100"></line> <line stroke="rgb(43,128,43)" x1="255" y1="0" x2="424" y2="100"></line> <line stroke="rgb(42,128,42)" x1="255" y1="0" x2="426" y2="100"></line> <line stroke="rgb(41,128,41)" x1="255" y1="0" x2="428" y2="100"></line> <line stroke="rgb(40,128,40)" x1="255" y1="0" x2="430" y2="100"></line> <line stroke="rgb(39,128,39)" x1="255" y1="0" x2="432" y2="100"></line> <line stroke="rgb(38,128,38)" x1="255" y1="0" x2="434" y2="100"></line> <line stroke="rgb(37,128,37)" x1="255" y1="0" x2="436" y2="100"></line> <line stroke="rgb(36,128,36)" x1="255" y1="0" x2="438" y2="100"></line> <line stroke="rgb(35,128,35)" x1="255" y1="0" x2="440" y2="100"></line> <line stroke="rgb(34,128,34)" x1="255" y1="0" x2="442" y2="100"></line> <line stroke="rgb(33,128,33)" x1="255" y1="0" x2="444" y2="100"></line> <line stroke="rgb(32,128,32)" x1="255" y1="0" x2="446" y2="100"></line> <line stroke="rgb(31,128,31)" x1="255" y1="0" x2="448" y2="100"></line> <line stroke="rgb(30,128,30)" x1="255" y1="0" x2="450" y2="100"></line> <line stroke="rgb(29,128,29)" x1="255" y1="0" x2="452" y2="100"></line> <line stroke="rgb(28,128,28)" x1="255" y1="0" x2="454" y2="100"></line> <line stroke="rgb(27,128,27)" x1="255" y1="0" x2="456" y2="100"></line> <line stroke="rgb(26,128,26)" x1="255" y1="0" x2="458" y2="100"></line> <line stroke="rgb(25,128,25)" x1="255" y1="0" x2="460" y2="100"></line> <line stroke="rgb(24,128,24)" x1="255" y1="0" x2="462" y2="100"></line> <line stroke="rgb(23,128,23)" x1="255" y1="0" x2="464" y2="100"></line> <line stroke="rgb(22,128,22)" x1="255" y1="0" x2="466" y2="100"></line> <line stroke="rgb(21,128,21)" x1="255" y1="0" x2="468" y2="100"></line> <line stroke="rgb(20,128,20)" x1="255" y1="0" x2="470" y2="100"></line> <line stroke="rgb(19,128,19)" x1="255" y1="0" x2="472" y2="100"></line> <line stroke="rgb(18,128,18)" x1="255" y1="0" x2="474" y2="100"></line> <line stroke="rgb(17,128,17)" x1="255" y1="0" x2="476" y2="100"></line> <line stroke="rgb(16,128,16)" x1="255" y1="0" x2="478" y2="100"></line> <line stroke="rgb(15,128,15)" x1="255" y1="0" x2="480" y2="100"></line> <line stroke="rgb(14,128,14)" x1="255" y1="0" x2="482" y2="100"></line> <line stroke="rgb(13,128,13)" x1="255" y1="0" x2="484" y2="100"></line> <line stroke="rgb(12,128,12)" x1="255" y1="0" x2="486" y2="100"></line> <line stroke="rgb(11,128,11)" x1="255" y1="0" x2="488" y2="100"></line> <line stroke="rgb(10,128,10)" x1="255" y1="0" x2="490" y2="100"></line> <line stroke="rgb(9,128,9)" x1="255" y1="0" x2="492" y2="100"></line> <line stroke="rgb(8,128,8)" x1="255" y1="0" x2="494" y2="100"></line> <line stroke="rgb(7,128,7)" x1="255" y1="0" x2="496" y2="100"></line> <line stroke="rgb(6,128,6)" x1="255" y1="0" x2="498" y2="100"></line> <line stroke="rgb(5,128,5)" x1="255" y1="0" x2="500" y2="100"></line> <line stroke="rgb(4,128,4)" x1="255" y1="0" x2="502" y2="100"></line> <line stroke="rgb(3,128,3)" x1="255" y1="0" x2="504" y2="100"></line> <line stroke="rgb(2,128,2)" x1="255" y1="0" x2="506" y2="100"></line> <line stroke="rgb(1,128,1)" x1="255" y1="0" x2="508" y2="100"></line> <line stroke="rgb(0,128,0)" x1="255" y1="0" x2="510" y2="100"></line> <line stroke="rgb(-1,128,-1)" x1="255" y1="0" x2="512" y2="100"></line>
</svg>
<pre class="r"><code>svgR( wh=c(600, 100),  lapply(1:100, function(i)line(x12=sample(0:600,2), y12=c(0,100), stroke=rrgb())))</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="600" height="100">
<line stroke="rgb(97,83,76)" x1="145" x2="452" y1="0" y2="100"></line> <line stroke="rgb(124,176,184)" x1="193" x2="473" y1="0" y2="100"></line> <line stroke="rgb(232,33,46)" x1="498" x2="283" y1="0" y2="100"></line> <line stroke="rgb(128,197,114)" x1="117" x2="64" y1="0" y2="100"></line> <line stroke="rgb(204,91,136)" x1="433" x2="280" y1="0" y2="100"></line> <line stroke="rgb(233,188,222)" x1="394" x2="234" y1="0" y2="100"></line> <line stroke="rgb(118,127,28)" x1="172" x2="426" y1="0" y2="100"></line> <line stroke="rgb(2,31,157)" x1="270" x2="518" y1="0" y2="100"></line> <line stroke="rgb(183,239,11)" x1="122" x2="191" y1="0" y2="100"></line> <line stroke="rgb(210,120,131)" x1="52" x2="242" y1="0" y2="100"></line> <line stroke="rgb(191,85,231)" x1="554" x2="257" y1="0" y2="100"></line> <line stroke="rgb(39,187,196)" x1="508" x2="593" y1="0" y2="100"></line> <line stroke="rgb(21,81,96)" x1="288" x2="379" y1="0" y2="100"></line> <line stroke="rgb(242,24,2)" x1="406" x2="64" y1="0" y2="100"></line> <line stroke="rgb(189,246,128)" x1="397" x2="376" y1="0" y2="100"></line> <line stroke="rgb(124,51,155)" x1="471" x2="131" y1="0" y2="100"></line> <line stroke="rgb(243,63,23)" x1="439" x2="290" y1="0" y2="100"></line> <line stroke="rgb(27,49,158)" x1="114" x2="364" y1="0" y2="100"></line> <line stroke="rgb(85,229,149)" x1="303" x2="153" y1="0" y2="100"></line> <line stroke="rgb(189,159,144)" x1="528" x2="222" y1="0" y2="100"></line> <line stroke="rgb(74,79,244)" x1="69" x2="156" y1="0" y2="100"></line> <line stroke="rgb(229,16,247)" x1="285" x2="46" y1="0" y2="100"></line> <line stroke="rgb(152,24,99)" x1="571" x2="241" y1="0" y2="100"></line> <line stroke="rgb(229,75,78)" x1="316" x2="294" y1="0" y2="100"></line> <line stroke="rgb(57,242,151)" x1="572" x2="498" y1="0" y2="100"></line> <line stroke="rgb(254,56,192)" x1="388" x2="28" y1="0" y2="100"></line> <line stroke="rgb(79,236,116)" x1="0" x2="119" y1="0" y2="100"></line> <line stroke="rgb(183,154,25)" x1="33" x2="396" y1="0" y2="100"></line> <line stroke="rgb(173,202,172)" x1="580" x2="577" y1="0" y2="100"></line> <line stroke="rgb(171,26,23)" x1="525" x2="274" y1="0" y2="100"></line> <line stroke="rgb(103,92,65)" x1="547" x2="334" y1="0" y2="100"></line> <line stroke="rgb(189,223,122)" x1="585" x2="130" y1="0" y2="100"></line> <line stroke="rgb(154,59,118)" x1="548" x2="317" y1="0" y2="100"></line> <line stroke="rgb(138,95,36)" x1="24" x2="262" y1="0" y2="100"></line> <line stroke="rgb(126,199,31)" x1="478" x2="531" y1="0" y2="100"></line> <line stroke="rgb(202,169,244)" x1="414" x2="340" y1="0" y2="100"></line> <line stroke="rgb(131,214,16)" x1="510" x2="327" y1="0" y2="100"></line> <line stroke="rgb(93,198,155)" x1="418" x2="282" y1="0" y2="100"></line> <line stroke="rgb(202,82,194)" x1="32" x2="595" y1="0" y2="100"></line> <line stroke="rgb(181,180,81)" x1="114" x2="99" y1="0" y2="100"></line> <line stroke="rgb(218,176,241)" x1="86" x2="165" y1="0" y2="100"></line> <line stroke="rgb(110,8,126)" x1="44" x2="482" y1="0" y2="100"></line> <line stroke="rgb(6,5,84)" x1="501" x2="208" y1="0" y2="100"></line> <line stroke="rgb(3,11,225)" x1="186" x2="413" y1="0" y2="100"></line> <line stroke="rgb(204,223,35)" x1="67" x2="353" y1="0" y2="100"></line> <line stroke="rgb(220,236,218)" x1="419" x2="397" y1="0" y2="100"></line> <line stroke="rgb(117,20,156)" x1="153" x2="234" y1="0" y2="100"></line> <line stroke="rgb(214,18,110)" x1="134" x2="153" y1="0" y2="100"></line> <line stroke="rgb(50,141,128)" x1="56" x2="271" y1="0" y2="100"></line> <line stroke="rgb(123,249,96)" x1="3" x2="274" y1="0" y2="100"></line> <line stroke="rgb(196,198,96)" x1="42" x2="357" y1="0" y2="100"></line> <line stroke="rgb(9,59,111)" x1="535" x2="588" y1="0" y2="100"></line> <line stroke="rgb(26,76,211)" x1="473" x2="180" y1="0" y2="100"></line> <line stroke="rgb(72,215,85)" x1="327" x2="390" y1="0" y2="100"></line> <line stroke="rgb(182,167,220)" x1="420" x2="41" y1="0" y2="100"></line> <line stroke="rgb(98,54,83)" x1="498" x2="262" y1="0" y2="100"></line> <line stroke="rgb(138,14,108)" x1="81" x2="212" y1="0" y2="100"></line> <line stroke="rgb(165,78,30)" x1="184" x2="80" y1="0" y2="100"></line> <line stroke="rgb(130,205,221)" x1="551" x2="485" y1="0" y2="100"></line> <line stroke="rgb(12,32,73)" x1="151" x2="194" y1="0" y2="100"></line> <line stroke="rgb(46,133,222)" x1="356" x2="479" y1="0" y2="100"></line> <line stroke="rgb(156,128,44)" x1="139" x2="582" y1="0" y2="100"></line> <line stroke="rgb(105,75,161)" x1="98" x2="506" y1="0" y2="100"></line> <line stroke="rgb(31,38,213)" x1="249" x2="283" y1="0" y2="100"></line> <line stroke="rgb(1,91,31)" x1="477" x2="102" y1="0" y2="100"></line> <line stroke="rgb(107,93,200)" x1="59" x2="77" y1="0" y2="100"></line> <line stroke="rgb(59,246,206)" x1="189" x2="168" y1="0" y2="100"></line> <line stroke="rgb(112,204,207)" x1="332" x2="147" y1="0" y2="100"></line> <line stroke="rgb(252,182,201)" x1="311" x2="596" y1="0" y2="100"></line> <line stroke="rgb(203,105,94)" x1="6" x2="416" y1="0" y2="100"></line> <line stroke="rgb(180,222,67)" x1="434" x2="364" y1="0" y2="100"></line> <line stroke="rgb(176,242,20)" x1="174" x2="555" y1="0" y2="100"></line> <line stroke="rgb(42,245,136)" x1="532" x2="343" y1="0" y2="100"></line> <line stroke="rgb(133,232,64)" x1="507" x2="130" y1="0" y2="100"></line> <line stroke="rgb(225,63,80)" x1="158" x2="46" y1="0" y2="100"></line> <line stroke="rgb(157,102,124)" x1="557" x2="597" y1="0" y2="100"></line> <line stroke="rgb(126,130,206)" x1="487" x2="398" y1="0" y2="100"></line> <line stroke="rgb(202,60,74)" x1="175" x2="396" y1="0" y2="100"></line> <line stroke="rgb(249,197,200)" x1="594" x2="215" y1="0" y2="100"></line> <line stroke="rgb(76,204,225)" x1="274" x2="257" y1="0" y2="100"></line> <line stroke="rgb(36,254,118)" x1="501" x2="124" y1="0" y2="100"></line> <line stroke="rgb(5,198,25)" x1="10" x2="560" y1="0" y2="100"></line> <line stroke="rgb(46,116,165)" x1="382" x2="16" y1="0" y2="100"></line> <line stroke="rgb(231,235,158)" x1="182" x2="65" y1="0" y2="100"></line> <line stroke="rgb(228,241,229)" x1="232" x2="120" y1="0" y2="100"></line> <line stroke="rgb(249,183,6)" x1="444" x2="368" y1="0" y2="100"></line> <line stroke="rgb(191,84,236)" x1="236" x2="12" y1="0" y2="100"></line> <line stroke="rgb(169,28,253)" x1="375" x2="531" y1="0" y2="100"></line> <line stroke="rgb(16,145,200)" x1="411" x2="251" y1="0" y2="100"></line> <line stroke="rgb(205,201,115)" x1="530" x2="326" y1="0" y2="100"></line> <line stroke="rgb(195,68,141)" x1="490" x2="519" y1="0" y2="100"></line> <line stroke="rgb(166,180,102)" x1="282" x2="509" y1="0" y2="100"></line> <line stroke="rgb(197,181,104)" x1="583" x2="330" y1="0" y2="100"></line> <line stroke="rgb(116,163,81)" x1="24" x2="600" y1="0" y2="100"></line> <line stroke="rgb(13,38,228)" x1="456" x2="46" y1="0" y2="100"></line> <line stroke="rgb(191,163,140)" x1="391" x2="4" y1="0" y2="100"></line> <line stroke="rgb(55,131,93)" x1="93" x2="79" y1="0" y2="100"></line> <line stroke="rgb(90,72,218)" x1="414" x2="563" y1="0" y2="100"></line> <line stroke="rgb(120,247,118)" x1="151" x2="324" y1="0" y2="100"></line> <line stroke="rgb(124,94,80)" x1="61" x2="354" y1="0" y2="100"></line>
</svg>
<pre class="r"><code>svgR( wh=c(600, 100),  lapply(1:10, function(i) rect(cxy=c(100+i*10,50), wh=c(80+i*10,40), fill='none', stroke=rrgb())))</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="600" height="100">
<rect fill="none" stroke="rgb(23,84,119)" width="90" height="40" x="65" y="30"></rect> <rect fill="none" stroke="rgb(42,14,190)" width="100" height="40" x="70" y="30"></rect> <rect fill="none" stroke="rgb(68,14,248)" width="110" height="40" x="75" y="30"></rect> <rect fill="none" stroke="rgb(80,97,158)" width="120" height="40" x="80" y="30"></rect> <rect fill="none" stroke="rgb(56,163,231)" width="130" height="40" x="85" y="30"></rect> <rect fill="none" stroke="rgb(36,92,11)" width="140" height="40" x="90" y="30"></rect> <rect fill="none" stroke="rgb(239,51,133)" width="150" height="40" x="95" y="30"></rect> <rect fill="none" stroke="rgb(243,242,219)" width="160" height="40" x="100" y="30"></rect> <rect fill="none" stroke="rgb(57,83,4)" width="170" height="40" x="105" y="30"></rect> <rect fill="none" stroke="rgb(70,220,87)" width="180" height="40" x="110" y="30"></rect>
</svg>
<pre class="r"><code>svgR( wh=c(600, 200),  lapply(1:45, function(i) ellipse(cxy=c(100,100), rxy=c(80,40), transform=list(rotate= c(i*4, 100,100)), fill='none', stroke=rrgb())))</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="600" height="200">
<ellipse transform="rotate(4,100,100)" fill="none" stroke="rgb(248,213,166)" cx="100" cy="100" rx="80" ry="40"></ellipse> <ellipse transform="rotate(8,100,100)" fill="none" stroke="rgb(201,251,154)" cx="100" cy="100" rx="80" ry="40"></ellipse> <ellipse transform="rotate(12,100,100)" fill="none" stroke="rgb(25,183,108)" cx="100" cy="100" rx="80" ry="40"></ellipse> <ellipse transform="rotate(16,100,100)" fill="none" stroke="rgb(205,178,161)" cx="100" cy="100" rx="80" ry="40"></ellipse> <ellipse transform="rotate(20,100,100)" fill="none" stroke="rgb(97,40,230)" cx="100" cy="100" rx="80" ry="40"></ellipse> <ellipse transform="rotate(24,100,100)" fill="none" stroke="rgb(162,244,79)" cx="100" cy="100" rx="80" ry="40"></ellipse> <ellipse transform="rotate(28,100,100)" fill="none" stroke="rgb(201,21,231)" cx="100" cy="100" rx="80" ry="40"></ellipse> <ellipse transform="rotate(32,100,100)" fill="none" stroke="rgb(247,126,185)" cx="100" cy="100" rx="80" ry="40"></ellipse> <ellipse transform="rotate(36,100,100)" fill="none" stroke="rgb(182,60,148)" cx="100" cy="100" rx="80" ry="40"></ellipse> <ellipse transform="rotate(40,100,100)" fill="none" stroke="rgb(239,251,234)" cx="100" cy="100" rx="80" ry="40"></ellipse> <ellipse transform="rotate(44,100,100)" fill="none" stroke="rgb(57,176,117)" cx="100" cy="100" rx="80" ry="40"></ellipse> <ellipse transform="rotate(48,100,100)" fill="none" stroke="rgb(132,164,174)" cx="100" cy="100" rx="80" ry="40"></ellipse> <ellipse transform="rotate(52,100,100)" fill="none" stroke="rgb(81,111,191)" cx="100" cy="100" rx="80" ry="40"></ellipse> <ellipse transform="rotate(56,100,100)" fill="none" stroke="rgb(55,173,96)" cx="100" cy="100" rx="80" ry="40"></ellipse> <ellipse transform="rotate(60,100,100)" fill="none" stroke="rgb(209,82,87)" cx="100" cy="100" rx="80" ry="40"></ellipse> <ellipse transform="rotate(64,100,100)" fill="none" stroke="rgb(128,71,85)" cx="100" cy="100" rx="80" ry="40"></ellipse> <ellipse transform="rotate(68,100,100)" fill="none" stroke="rgb(42,47,158)" cx="100" cy="100" rx="80" ry="40"></ellipse> <ellipse transform="rotate(72,100,100)" fill="none" stroke="rgb(94,38,194)" cx="100" cy="100" rx="80" ry="40"></ellipse> <ellipse transform="rotate(76,100,100)" fill="none" stroke="rgb(17,52,41)" cx="100" cy="100" rx="80" ry="40"></ellipse> <ellipse transform="rotate(80,100,100)" fill="none" stroke="rgb(230,36,211)" cx="100" cy="100" rx="80" ry="40"></ellipse> <ellipse transform="rotate(84,100,100)" fill="none" stroke="rgb(116,39,183)" cx="100" cy="100" rx="80" ry="40"></ellipse> <ellipse transform="rotate(88,100,100)" fill="none" stroke="rgb(127,125,6)" cx="100" cy="100" rx="80" ry="40"></ellipse> <ellipse transform="rotate(92,100,100)" fill="none" stroke="rgb(172,170,62)" cx="100" cy="100" rx="80" ry="40"></ellipse> <ellipse transform="rotate(96,100,100)" fill="none" stroke="rgb(72,159,234)" cx="100" cy="100" rx="80" ry="40"></ellipse> <ellipse transform="rotate(100,100,100)" fill="none" stroke="rgb(55,1,157)" cx="100" cy="100" rx="80" ry="40"></ellipse> <ellipse transform="rotate(104,100,100)" fill="none" stroke="rgb(154,157,205)" cx="100" cy="100" rx="80" ry="40"></ellipse> <ellipse transform="rotate(108,100,100)" fill="none" stroke="rgb(80,56,31)" cx="100" cy="100" rx="80" ry="40"></ellipse> <ellipse transform="rotate(112,100,100)" fill="none" stroke="rgb(13,176,43)" cx="100" cy="100" rx="80" ry="40"></ellipse> <ellipse transform="rotate(116,100,100)" fill="none" stroke="rgb(47,182,152)" cx="100" cy="100" rx="80" ry="40"></ellipse> <ellipse transform="rotate(120,100,100)" fill="none" stroke="rgb(156,188,185)" cx="100" cy="100" rx="80" ry="40"></ellipse> <ellipse transform="rotate(124,100,100)" fill="none" stroke="rgb(238,72,99)" cx="100" cy="100" rx="80" ry="40"></ellipse> <ellipse transform="rotate(128,100,100)" fill="none" stroke="rgb(3,181,182)" cx="100" cy="100" rx="80" ry="40"></ellipse> <ellipse transform="rotate(132,100,100)" fill="none" stroke="rgb(68,12,77)" cx="100" cy="100" rx="80" ry="40"></ellipse> <ellipse transform="rotate(136,100,100)" fill="none" stroke="rgb(218,77,242)" cx="100" cy="100" rx="80" ry="40"></ellipse> <ellipse transform="rotate(140,100,100)" fill="none" stroke="rgb(216,173,70)" cx="100" cy="100" rx="80" ry="40"></ellipse> <ellipse transform="rotate(144,100,100)" fill="none" stroke="rgb(127,132,224)" cx="100" cy="100" rx="80" ry="40"></ellipse> <ellipse transform="rotate(148,100,100)" fill="none" stroke="rgb(119,178,35)" cx="100" cy="100" rx="80" ry="40"></ellipse> <ellipse transform="rotate(152,100,100)" fill="none" stroke="rgb(147,53,149)" cx="100" cy="100" rx="80" ry="40"></ellipse> <ellipse transform="rotate(156,100,100)" fill="none" stroke="rgb(131,225,111)" cx="100" cy="100" rx="80" ry="40"></ellipse> <ellipse transform="rotate(160,100,100)" fill="none" stroke="rgb(116,108,145)" cx="100" cy="100" rx="80" ry="40"></ellipse> <ellipse transform="rotate(164,100,100)" fill="none" stroke="rgb(34,15,175)" cx="100" cy="100" rx="80" ry="40"></ellipse> <ellipse transform="rotate(168,100,100)" fill="none" stroke="rgb(63,198,89)" cx="100" cy="100" rx="80" ry="40"></ellipse> <ellipse transform="rotate(172,100,100)" fill="none" stroke="rgb(16,188,104)" cx="100" cy="100" rx="80" ry="40"></ellipse> <ellipse transform="rotate(176,100,100)" fill="none" stroke="rgb(183,66,205)" cx="100" cy="100" rx="80" ry="40"></ellipse> <ellipse transform="rotate(180,100,100)" fill="none" stroke="rgb(54,32,96)" cx="100" cy="100" rx="80" ry="40"></ellipse>
</svg>
<pre class="r"><code>svgR( wh=c(600, 200),  lapply(1:15, function(i) rect(cxy=c(100,100), wh=c(80,80), transform=list(rotate= c(i*8, 100,100)), fill='none', stroke=rrgb())))</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="600" height="200">
<rect transform="rotate(8,100,100)" fill="none" stroke="rgb(131,121,187)" width="80" height="80" x="60" y="60"></rect> <rect transform="rotate(16,100,100)" fill="none" stroke="rgb(176,159,116)" width="80" height="80" x="60" y="60"></rect> <rect transform="rotate(24,100,100)" fill="none" stroke="rgb(16,118,227)" width="80" height="80" x="60" y="60"></rect> <rect transform="rotate(32,100,100)" fill="none" stroke="rgb(192,252,196)" width="80" height="80" x="60" y="60"></rect> <rect transform="rotate(40,100,100)" fill="none" stroke="rgb(177,16,61)" width="80" height="80" x="60" y="60"></rect> <rect transform="rotate(48,100,100)" fill="none" stroke="rgb(85,123,53)" width="80" height="80" x="60" y="60"></rect> <rect transform="rotate(56,100,100)" fill="none" stroke="rgb(177,46,119)" width="80" height="80" x="60" y="60"></rect> <rect transform="rotate(64,100,100)" fill="none" stroke="rgb(233,183,6)" width="80" height="80" x="60" y="60"></rect> <rect transform="rotate(72,100,100)" fill="none" stroke="rgb(112,139,186)" width="80" height="80" x="60" y="60"></rect> <rect transform="rotate(80,100,100)" fill="none" stroke="rgb(79,199,198)" width="80" height="80" x="60" y="60"></rect> <rect transform="rotate(88,100,100)" fill="none" stroke="rgb(131,157,97)" width="80" height="80" x="60" y="60"></rect> <rect transform="rotate(96,100,100)" fill="none" stroke="rgb(100,184,175)" width="80" height="80" x="60" y="60"></rect> <rect transform="rotate(104,100,100)" fill="none" stroke="rgb(125,146,56)" width="80" height="80" x="60" y="60"></rect> <rect transform="rotate(112,100,100)" fill="none" stroke="rgb(5,78,54)" width="80" height="80" x="60" y="60"></rect> <rect transform="rotate(120,100,100)" fill="none" stroke="rgb(6,200,34)" width="80" height="80" x="60" y="60"></rect>
</svg>
<pre class="r"><code>svgR(wh=c(600,200), lapply(0:10,  function(i)circle(cxy=c(350,100),r=30,fill=rrgb(),opacity=.3, transform=list(rotate= c(-i*18,300,100)))))</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="600" height="200">
<circle r="30" fill="rgb(71,13,131)" opacity="0.3" transform="rotate(0,300,100)" cx="350" cy="100"></circle> <circle r="30" fill="rgb(66,77,180)" opacity="0.3" transform="rotate(-18,300,100)" cx="350" cy="100"></circle> <circle r="30" fill="rgb(178,224,6)" opacity="0.3" transform="rotate(-36,300,100)" cx="350" cy="100"></circle> <circle r="30" fill="rgb(23,61,64)" opacity="0.3" transform="rotate(-54,300,100)" cx="350" cy="100"></circle> <circle r="30" fill="rgb(182,180,233)" opacity="0.3" transform="rotate(-72,300,100)" cx="350" cy="100"></circle> <circle r="30" fill="rgb(33,40,198)" opacity="0.3" transform="rotate(-90,300,100)" cx="350" cy="100"></circle> <circle r="30" fill="rgb(161,95,52)" opacity="0.3" transform="rotate(-108,300,100)" cx="350" cy="100"></circle> <circle r="30" fill="rgb(185,137,13)" opacity="0.3" transform="rotate(-126,300,100)" cx="350" cy="100"></circle> <circle r="30" fill="rgb(78,237,29)" opacity="0.3" transform="rotate(-144,300,100)" cx="350" cy="100"></circle> <circle r="30" fill="rgb(149,94,230)" opacity="0.3" transform="rotate(-162,300,100)" cx="350" cy="100"></circle> <circle r="30" fill="rgb(53,145,181)" opacity="0.3" transform="rotate(-180,300,100)" cx="350" cy="100"></circle>
</svg>
<pre class="r"><code>svgR( wh=c(600, 200), lapply( 1:5,  function(x)polygon(points= 5*(c(0,0,-4,6, 4, 6)+ x*c(4,6)), fill='brown')))</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="600" height="200">
<polygon points="20 30 0 60 40 60" fill="brown"></polygon> <polygon points="40 60 20 90 60 90" fill="brown"></polygon> <polygon points="60 90 40 120 80 120" fill="brown"></polygon> <polygon points="80 120 60 150 100 150" fill="brown"></polygon> <polygon points="100 150 80 180 120 180" fill="brown"></polygon>
</svg>
<pre class="r"><code>svgR( wh=c(600, 100), line( xy1=c(0,50), xy2=c(600,50), stroke.width=20, stroke.dasharray=8, stroke.dashoffset=16, stroke=&quot;lightblue&quot;, animate(attributeName=&quot;stroke.dashoffset&quot;, from=16, to=0 , dur=0.5, repeatCount=&quot;indefinite&quot;)))</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="600" height="100">
<line stroke-width="20" stroke-dasharray="8" stroke-dashoffset="16" stroke="lightblue" x1="0" y1="50" x2="600" y2="50"> <animate attributeName="stroke-dashoffset" from="16" to="0" dur="0.5" repeatCount="indefinite"></animate> </line>
</svg>
<pre class="r"><code>WH&lt;-c(15,18)
svgR(wh=WH,
     circle(cxy=c(5,9), r=3, stroke.width=3, fill=&quot;none&quot;, stroke=&quot;#DDDDDD&quot; ),
     circle(cxy=c(10,9), r=3, stroke.width=3, fill=&quot;none&quot;, stroke=&quot;#DDDDDD&quot; )
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="15" height="18">
<circle r="3" stroke-width="3" fill="none" stroke="#DDDDDD" cx="5" cy="9"></circle> <circle r="3" stroke-width="3" fill="none" stroke="#DDDDDD" cx="10" cy="9"></circle>
</svg>
<hr>
<p><br /><br /></p>
</div>
<div id="setting-up" class="section level1">
<h1>Setting Up</h1>
<div id="to-install-from-github" class="section level2">
<h2>To install from github</h2>
<p>The easiest way to install is to use devtools to install from github:</p>
<pre><code>install.packages(&quot;devtools&quot;)
install_github(&quot;mslegrand/svgR&quot;)</code></pre>
</div>
<div id="to-render-in-an-rpres-or-r-markdown-document" class="section level2">
<h2>To render in an RPres or R Markdown document</h2>
<ul>
<li>Include prior to any calls to svgR include a block with</li>
</ul>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" font-family="sans-serif" font-size="12" stroke-width="0.2" letter-spacing="2" id="root" width="800" height="80">
<rect fill="#F4F4F4" stroke="#444" stroke-width="0.3" rx="5" ry="5" width="798" height="78" x="1" y="1"></rect> <text x="20" y="28"> <tspan stroke="black" fill="black" font-size="12" stroke-width="0.2">```{r, echo=FALSE}</tspan> </text> <text x="50" y="46"> <tspan stroke="black" fill="black" font-size="12" stroke-width="0.2"> </tspan> <tspan stroke="purple" fill="purple" font-size="16" stroke-width="1"> library(svgR)</tspan> </text> <text x="20" y="64"> <tspan stroke="black" fill="black" font-size="12" stroke-width="0.2">```</tspan> </text> <text x="20" y="82"> <tspan stroke="black" fill="black" font-size="12" stroke-width="0.2"></tspan> </text>
</svg>
<div id="to-render" class="section level3">
<h3>To render</h3>
<p>either</p>
<ul>
<li>a simple call to svgR inside a block with results=asis</li>
</ul>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" font-family="sans-serif" font-size="12" stroke-width="0.2" letter-spacing="2" id="root" width="800" height="80">
<rect fill="#F4F4F4" stroke="#444" stroke-width="0.3" rx="5" ry="5" width="798" height="78" x="1" y="1"></rect> <text x="30" y="28"> <tspan stroke="black" fill="black" font-size="12" stroke-width="0.2"> ```{r, echo=TRUE, </tspan> <tspan stroke="red" fill="red" font-size="16" stroke-width="1"> results=asis}</tspan> </text> <text x="50" y="46"> <tspan stroke="black" fill="black" font-size="12" stroke-width="0.2"> </tspan> <tspan stroke="purple" fill="purple" font-size="16" stroke-width="1"> svgR( </tspan> <tspan stroke="black" fill="black" font-size="12" stroke-width="0.2"> wh=c(600, 100), circle(cxy=c(200,50),r=50, fill=red) </tspan> <tspan stroke="purple" fill="purple" font-size="16" stroke-width="1"> )</tspan> </text> <text x="20" y="64"> <tspan stroke="black" fill="black" font-size="12" stroke-width="0.2">```</tspan> </text> <text x="20" y="82"> <tspan stroke="black" fill="black" font-size="12" stroke-width="0.2"></tspan> </text>
</svg>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="600" height="100">
<circle r="50" fill="red" cx="200" cy="50"></circle>
</svg>
<p>or</p>
<ul>
<li>a call to svgR to create an svg markup object and echo back within a block with results=asis</li>
</ul>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" font-family="sans-serif" font-size="12" stroke-width="0.2" letter-spacing="2" id="root" width="800" height="80">
<rect fill="#F4F4F4" stroke="#444" stroke-width="0.3" rx="5" ry="5" width="798" height="78" x="1" y="1"></rect> <text x="20" y="28"> <tspan stroke="black" fill="black" font-size="12" stroke-width="0.2">```{r, echo=TRUE, </tspan> <tspan stroke="red" fill="red" font-size="16" stroke-width="1"> results=asis}</tspan> </text> <text x="50" y="46"> <tspan stroke="black" fill="black" font-size="12" stroke-width="0.2"> </tspan> <tspan stroke="purple" fill="purple" font-size="16" stroke-width="1"> svgM&lt;-svgR( </tspan> <tspan stroke="black" fill="black" font-size="12" stroke-width="0.2"> wh=c(600, 100), circle(cxy=c(200,50),r=50, fill=red) </tspan> <tspan stroke="purple" fill="purple" font-size="16" stroke-width="1"> )</tspan> </text> <text x="50" y="64"> <tspan stroke="black" fill="black" font-size="12" stroke-width="0.2"> </tspan> <tspan stroke="purple" fill="purple" font-size="16" stroke-width="1"> svgM </tspan> </text> <text x="20" y="82"> <tspan stroke="black" fill="black" font-size="12" stroke-width="0.2"></tspan> <tspan stroke="black" fill="black" font-size="12" stroke-width="0.2"> ```</tspan> </text> <text x="20" y="100"> <tspan stroke="black" fill="black" font-size="12" stroke-width="0.2"></tspan> </text>
</svg>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="600" height="100">
<circle r="50" fill="red" cx="200" cy="50"></circle>
</svg>
<p><strong>Note</strong> Note the mustache is three backticks</p>
</div>
</div>
<div id="to-rendered-in-an-rstudio-shiny-server" class="section level2">
<h2>To Rendered in an RStudio <strong>Shiny-server</strong></h2>
<ul>
<li>Require svgR</li>
<li>In the ui, set the svg output to be an htmlOutput</li>
<li>In the server,</li>
<li>convert the svg markup to text using <em>as.character</em></li>
<li>set the corresponding output object to renderUI of an <em>HTML</em> frame of the svg markp text.</li>
</ul>
<p>A short example is:</p>
<pre><code>require(shiny)
svgMarkup&lt;-svgR( circle(cxy=c(200,100),r=50, fill='red') )
app &lt;- list(
  ui = bootstrapPage(  htmlOutput(&quot;svg&quot;) ) ,
  server = function(input, output) {
    output$svg&lt;-renderUI( { HTML(
      as.character(svgMarkup)) } ) } 
) 
runApp(app) </code></pre>
<p><strong>Again Note</strong> we convert the svgMarkup to a character vector before rendering.</p>
<hr>
<p><br /><br /></p>
<p>```</p>
</div>
</div>
<div id="overview" class="section level1">
<h1>Overview</h1>
<p>The svgR package provides a DSL to create SVG markup from R. It is similar to grid graphics, in the sense that it is a low level api upon which higher level graphics constructs can be built.</p>
<p>The best way to learn is by example, so here is a short example.</p>
<div id="a-short-example" class="section level2">
<h2>A Short Example</h2>
<p>We start by first considering the short example show below together with the rendered result.</p>
<pre class="r"><code>svgR( wh=c(100,50),
  text( xy=c(20,10), &quot;line 1&quot;, 
    tspan(dy=10, &quot;line2 &quot;)
  )
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="100" height="50">
<text x="20" y="10">line 1<tspan dy="10">line2 </tspan></text>
</svg>
<p>What is hidden in the above code listing is the usual 3 backtics and the options <em>echo=FALSE</em> and <em>results=asis</em> For completeness, we show these below in red.</p>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" font-family="sans-serif" font-size="12" stroke-width="0.2" letter-spacing="2" id="root" width="910" height="140">
<rect fill="#F4F4F4" stroke="#444" stroke-width="0.3" rx="5" ry="5" width="908" height="138" x="1" y="1"></rect> <text x="20" y="28"> <tspan stroke="black" fill="black" font-size="12" stroke-width="0.2"></tspan> <tspan stroke="red" fill="red" font-size="16" stroke-width="1"> ```{r, echo=FALSE, results=asis}</tspan> </text> <text x="20" y="46"> <tspan stroke="black" fill="black" font-size="12" stroke-width="0.2">svgR( wh=c(100,50),</tspan> </text> <text x="40" y="64"> <tspan stroke="black" fill="black" font-size="12" stroke-width="0.2"> text( xy=c(20,10), line 1, </tspan> </text> <text x="60" y="82"> <tspan stroke="black" fill="black" font-size="12" stroke-width="0.2"> tspan(dy=10, line2)</tspan> </text> <text x="40" y="100"> <tspan stroke="black" fill="black" font-size="12" stroke-width="0.2"> )</tspan> </text> <text x="20" y="118"> <tspan stroke="black" fill="black" font-size="12" stroke-width="0.2">)</tspan> </text> <text x="20" y="136"> <tspan stroke="black" fill="black" font-size="12" stroke-width="0.2"></tspan> <tspan stroke="red" fill="red" font-size="16" stroke-width="1"> ```</tspan> </text> <text x="20" y="154"> <tspan stroke="black" fill="black" font-size="12" stroke-width="0.2"></tspan> </text>
</svg>
<p>Next we break apart the code into its basic components, starting with the function call <strong>svgR</strong></p>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" font-family="sans-serif" font-size="12" stroke-width="0.2" letter-spacing="2" id="root" width="910" height="140">
<rect fill="#F4F4F4" stroke="#444" stroke-width="0.3" rx="5" ry="5" width="908" height="138" x="1" y="1"></rect> <text x="20" y="28"> <tspan stroke="black" fill="black" font-size="12" stroke-width="0.2"></tspan> <tspan stroke="purple" fill="purple" font-size="16" stroke-width="1"> svgR( </tspan> <tspan stroke="black" fill="black" font-size="12" stroke-width="0.2"> wh=c(100,50),</tspan> </text> <text x="40" y="46"> <tspan stroke="black" fill="black" font-size="12" stroke-width="0.2"> text( xy=c(20,10), line 1, </tspan> </text> <text x="60" y="64"> <tspan stroke="black" fill="black" font-size="12" stroke-width="0.2"> tspan(dy=10, line2)</tspan> </text> <text x="40" y="82"> <tspan stroke="black" fill="black" font-size="12" stroke-width="0.2"> )</tspan> </text> <text x="20" y="100"> <tspan stroke="black" fill="black" font-size="12" stroke-width="0.2">)</tspan> </text> <text x="20" y="118"> <tspan stroke="black" fill="black" font-size="12" stroke-width="0.2"></tspan> </text>
</svg>
<p>It has two arguments, a <em>named parameter wh=c(100,50)</em> and an <em>unnamed parameter</em> which is the function called <strong>text</strong>.</p>
<p>The named parameter <em>wh</em> (shown in orange below) is an attribute specifying the <em>width</em> and <em>height</em> of the viewport, the region on the screen where the image is shown.</p>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" font-family="sans-serif" font-size="12" stroke-width="0.2" letter-spacing="2" id="root" width="910" height="140">
<rect fill="#F4F4F4" stroke="#444" stroke-width="0.3" rx="5" ry="5" width="908" height="138" x="1" y="1"></rect> <text x="20" y="28"> <tspan stroke="black" fill="black" font-size="12" stroke-width="0.2">svgR( </tspan> <tspan stroke="orange" fill="orange" font-size="16" stroke-width="1"> wh=c(100,50),</tspan> </text> <text x="50" y="46"> <tspan stroke="black" fill="black" font-size="12" stroke-width="0.2"> text( </tspan> <tspan stroke="black" fill="black" font-size="12" stroke-width="0.2"> xy=c(20,10), line 1, </tspan> </text> <text x="60" y="64"> <tspan stroke="black" fill="black" font-size="12" stroke-width="0.2"> tspan(dy=10, line2)</tspan> </text> <text x="40" y="82"> <tspan stroke="black" fill="black" font-size="12" stroke-width="0.2"> )</tspan> </text> <text x="30" y="100"> <tspan stroke="black" fill="black" font-size="12" stroke-width="0.2"> )</tspan> </text> <text x="20" y="118"> <tspan stroke="black" fill="black" font-size="12" stroke-width="0.2"></tspan> </text>
</svg>
<p>The <strong>text</strong> function (shown in blue) is one of 80 functions that can be called within the scope of svgR to render an SVG markup. These functions are called <em>svgR elements</em> (or simply elements) and each svgR <em>element</em> creates and SVG node whose tag name is the same as the function name.</p>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" font-family="sans-serif" font-size="12" stroke-width="0.2" letter-spacing="2" id="root" width="910" height="140">
<rect fill="#F4F4F4" stroke="#444" stroke-width="0.3" rx="5" ry="5" width="908" height="138" x="1" y="1"></rect> <text x="20" y="28"> <tspan stroke="black" fill="black" font-size="12" stroke-width="0.2">svgR( wh=c(100,50),</tspan> </text> <text x="40" y="46"> <tspan stroke="black" fill="black" font-size="12" stroke-width="0.2"> </tspan> <tspan stroke="blue" fill="blue" font-size="16" stroke-width="1"> text( </tspan> <tspan stroke="black" fill="black" font-size="12" stroke-width="0.2"> xy=c(20,10), line 1, </tspan> </text> <text x="60" y="64"> <tspan stroke="black" fill="black" font-size="12" stroke-width="0.2"> tspan(dy=10, line2)</tspan> </text> <text x="40" y="82"> <tspan stroke="black" fill="black" font-size="12" stroke-width="0.2"> )</tspan> </text> <text x="30" y="100"> <tspan stroke="black" fill="black" font-size="12" stroke-width="0.2"> )</tspan> </text> <text x="20" y="118"> <tspan stroke="black" fill="black" font-size="12" stroke-width="0.2"></tspan> </text>
</svg>
<p>This text element has 3 components: an xy <em>attribute</em> (in orange), text content (in green), and a child element named <strong>tspan</strong> (in blue).</p>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" font-family="sans-serif" font-size="12" stroke-width="0.2" letter-spacing="2" id="root" width="910" height="140">
<rect fill="#F4F4F4" stroke="#444" stroke-width="0.3" rx="5" ry="5" width="908" height="138" x="1" y="1"></rect> <text x="20" y="28"> <tspan stroke="black" fill="black" font-size="12" stroke-width="0.2">svgR( wh=c(100,50),</tspan> </text> <text x="40" y="46"> <tspan stroke="black" fill="black" font-size="12" stroke-width="0.2"> text( </tspan> <tspan stroke="orange" fill="orange" font-size="16" stroke-width="1"> xy=c(20,10), </tspan> <tspan stroke="green" fill="green" font-size="16" stroke-width="1"> line 1, </tspan> </text> <text x="60" y="64"> <tspan stroke="black" fill="black" font-size="12" stroke-width="0.2"> </tspan> <tspan stroke="blue" fill="blue" font-size="16" stroke-width="1"> tspan( </tspan> <tspan stroke="black" fill="black" font-size="12" stroke-width="0.2"> dy=10, line2 </tspan> <tspan stroke="blue" fill="blue" font-size="16" stroke-width="1"> ) </tspan> </text> <text x="40" y="82"> <tspan stroke="black" fill="black" font-size="12" stroke-width="0.2"> </tspan> <tspan stroke="black" fill="black" font-size="12" stroke-width="0.2"> )</tspan> </text> <text x="30" y="100"> <tspan stroke="black" fill="black" font-size="12" stroke-width="0.2"> )</tspan> </text> <text x="20" y="118"> <tspan stroke="black" fill="black" font-size="12" stroke-width="0.2"></tspan> </text>
</svg>
<p>The <strong>tspan</strong> element contains an <em>dy attribute</em> (orange) and <em>text content</em> (green)</p>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" font-family="sans-serif" font-size="12" stroke-width="0.2" letter-spacing="2" id="root" width="910" height="140">
<rect fill="#F4F4F4" stroke="#444" stroke-width="0.3" rx="5" ry="5" width="908" height="138" x="1" y="1"></rect> <text x="20" y="28"> <tspan stroke="black" fill="black" font-size="12" stroke-width="0.2">svgR( wh=c(100,50),</tspan> </text> <text x="40" y="46"> <tspan stroke="black" fill="black" font-size="12" stroke-width="0.2"> text( xy=c(20,10), line 1, </tspan> </text> <text x="60" y="64"> <tspan stroke="black" fill="black" font-size="12" stroke-width="0.2"> tspan( </tspan> <tspan stroke="orange" fill="orange" font-size="16" stroke-width="1"> dy=10, </tspan> <tspan stroke="green" fill="green" font-size="16" stroke-width="1"> line2 </tspan> <tspan stroke="black" fill="black" font-size="12" stroke-width="0.2"> )</tspan> </text> <text x="40" y="82"> <tspan stroke="black" fill="black" font-size="12" stroke-width="0.2"> )</tspan> </text> <text x="30" y="100"> <tspan stroke="black" fill="black" font-size="12" stroke-width="0.2"> )</tspan> </text> <text x="20" y="118"> <tspan stroke="black" fill="black" font-size="12" stroke-width="0.2"></tspan> </text>
</svg>
<p>The generated <strong>SVG</strong> markup is</p>
<pre><code>&lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; xmlns:xlink=&quot;http://www.w3.org/1999/xlink&quot;
  width=&quot;100&quot; height=&quot;50&quot;&gt;
  &lt;text x=&quot;20&quot; y=&quot;10&quot;&gt;
    line 1
    &lt;tspan dy=&quot;10&quot;&gt;tspan line 2&lt;/tspan&gt;
  &lt;/text&gt;
&lt;/svg&gt;</code></pre>
<p><strong>Note</strong>: The SVG root node was created by the svgR call.</p>
</div>
<div id="taxonomy" class="section level2">
<h2>Taxonomy</h2>
<p>In the previous section we walked though an example where we encountered</p>
<ul>
<li>elements (text, tspan),</li>
<li>attributes (xy, wh, dy ) and</li>
<li>text content (line1, line2).</li>
</ul>
<p>However, this is only small fragment of the available elements and attributes.</p>
<p>The elements (functions within an svgR call) can be broadly broken into several categories:</p>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="500">
<defs> <marker id="triangle" viewBox="0,0,10,10" markerWidth="20" markerHeight="26" refx="2" refy="3" orient="auto" markerUnits="userSpaceOnUse"> <path d="M0,0 L0,6 L9,3 z"></path> </marker> </defs> <g stroke-width="2"> <g stroke-width="1" stroke="darkblue"> <rect fill="lightblue" stroke="darkblue" rx="5" ry="5" width="120" height="20" x="1" y="134.636363636364"></rect> <text font-size="14" text-anchor="middle" dominant-baseline="central" x="61" y="144.636363636364">elements</text> </g> <g stroke-width="1" stroke="darkblue"> <rect fill="lightblue" stroke="darkblue" rx="5" ry="5" width="120" height="20" x="211" y="18.5"></rect> <text font-size="14" text-anchor="middle" dominant-baseline="central" x="271" y="28.5">graphical</text> </g> <g stroke-width="1" stroke="darkblue"> <rect fill="lightblue" stroke="darkblue" rx="5" ry="5" width="120" height="20" x="211" y="71"></rect> <text font-size="14" text-anchor="middle" dominant-baseline="central" x="271" y="81">containers</text> </g> <g stroke-width="1" stroke="darkblue"> <rect fill="lightblue" stroke="darkblue" rx="5" ry="5" width="120" height="20" x="211" y="106"></rect> <text font-size="14" text-anchor="middle" dominant-baseline="central" x="271" y="116">animators</text> </g> <g stroke-width="1" stroke="darkblue"> <rect fill="lightblue" stroke="darkblue" rx="5" ry="5" width="120" height="20" x="211" y="193.5"></rect> <text font-size="14" text-anchor="middle" dominant-baseline="central" x="271" y="203.5">modifiers</text> </g> <g stroke-width="1" stroke="darkblue"> <rect fill="lightblue" stroke="darkblue" rx="5" ry="5" width="120" height="20" x="211" y="281"></rect> <text font-size="14" text-anchor="middle" dominant-baseline="central" x="271" y="291">other</text> </g> <g stroke-width="1" stroke="darkblue"> <rect fill="lightblue" stroke="darkblue" rx="5" ry="5" width="120" height="20" x="421" y="1"></rect> <text font-size="14" text-anchor="middle" dominant-baseline="central" x="481" y="11">shape related</text> </g> <g stroke-width="1" stroke="darkblue"> <rect fill="lightblue" stroke="darkblue" rx="5" ry="5" width="120" height="20" x="421" y="36"></rect> <text font-size="14" text-anchor="middle" dominant-baseline="central" x="481" y="46">text related</text> </g> <g stroke-width="1" stroke="darkblue"> <rect fill="lightblue" stroke="darkblue" rx="5" ry="5" width="120" height="20" x="421" y="141"></rect> <text font-size="14" text-anchor="middle" dominant-baseline="central" x="481" y="151">filters</text> </g> <g stroke-width="1" stroke="darkblue"> <rect fill="lightblue" stroke="darkblue" rx="5" ry="5" width="120" height="20" x="421" y="176"></rect> <text font-size="14" text-anchor="middle" dominant-baseline="central" x="481" y="186">gradients</text> </g> <g stroke-width="1" stroke="darkblue"> <rect fill="lightblue" stroke="darkblue" rx="5" ry="5" width="120" height="20" x="421" y="211"></rect> <text font-size="14" text-anchor="middle" dominant-baseline="central" x="481" y="221">masks</text> </g> <g stroke-width="1" stroke="darkblue"> <rect fill="lightblue" stroke="darkblue" rx="5" ry="5" width="120" height="20" x="421" y="246"></rect> <text font-size="14" text-anchor="middle" dominant-baseline="central" x="481" y="256">markers</text> </g> <path d="M 121 144.636363636364 C 177.25 144.636363636364 139.75 28.5 196 28.5" stroke="black" fill="none" marker-end="url(#triangle)"></path> <path d="M 121 144.636363636364 C 177.25 144.636363636364 139.75 81 196 81" stroke="black" fill="none" marker-end="url(#triangle)"></path> <path d="M 121 144.636363636364 C 177.25 144.636363636364 139.75 116 196 116" stroke="black" fill="none" marker-end="url(#triangle)"></path> <path d="M 121 144.636363636364 C 177.25 144.636363636364 139.75 203.5 196 203.5" stroke="black" fill="none" marker-end="url(#triangle)"></path> <path d="M 121 144.636363636364 C 177.25 144.636363636364 139.75 291 196 291" stroke="black" fill="none" marker-end="url(#triangle)"></path> <path d="M 331 28.5 C 387.25 28.5 349.75 11 406 11" stroke="black" fill="none" marker-end="url(#triangle)"></path> <path d="M 331 28.5 C 387.25 28.5 349.75 46 406 46" stroke="black" fill="none" marker-end="url(#triangle)"></path> <path d="M 331 203.5 C 387.25 203.5 349.75 151 406 151" stroke="black" fill="none" marker-end="url(#triangle)"></path> <path d="M 331 203.5 C 387.25 203.5 349.75 186 406 186" stroke="black" fill="none" marker-end="url(#triangle)"></path> <path d="M 331 203.5 C 387.25 203.5 349.75 221 406 221" stroke="black" fill="none" marker-end="url(#triangle)"></path> <path d="M 331 203.5 C 387.25 203.5 349.75 256 406 256" stroke="black" fill="none" marker-end="url(#triangle)"></path> </g>
</svg>
<div id="graphical-elements" class="section level3">
<h3>Graphical Elements</h3>
<p>The Graphical Elements, <em>Text</em> and <em>Shapes</em>, are the building blocks of an <strong>SVG</strong> image. Hence it is fundamental to understand their usage. This means that one needs to understand the attributes that can be applied to <em>Text</em> and <em>Shapes</em>. Some of the relevant prominent attributes are</p>
<table>
<thead>
<tr class="header">
<th align="left">attribute</th>
<th align="left">description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">xy,wh,cxy, </td>
<td align="left">intial positioning</td>
</tr>
<tr class="even">
<td align="left">transform</td>
<td align="left">for repositioning</td>
</tr>
<tr class="odd">
<td align="left">fill</td>
<td align="left">to specify how to fill the interior</td>
</tr>
<tr class="even">
<td align="left">filter</td>
<td align="left">modify the image</td>
</tr>
<tr class="odd">
<td align="left">mask</td>
<td align="left">to hide a portion</td>
</tr>
<tr class="even">
<td align="left">clip.path</td>
<td align="left">to trim a portion</td>
</tr>
</tbody>
</table>
</div>
<div id="containers" class="section level3">
<h3>Containers</h3>
<p>To apply the same value of an attribute to a collection of shapes and text, it is customary to group them together using a container element such as either a <strong>g</strong> element or the <strong>svg</strong> element. The distinction between <strong>g</strong> and <strong>svg</strong> lies in which attributes the can take.</p>
<ul>
<li><strong>svg</strong> can has <em>coordinate attributes xy, wh</em> but not a <em>transform attribute</em></li>
<li><strong>g</strong> has the <em>transform attribute</em>, but no coordinates</li>
</ul>
<p>Other containers elements are <strong>defs</strong>, <strong>symbol</strong>.<br />
However, these are not displayed directly, but are used by reference.</p>
</div>
<div id="animators" class="section level3">
<h3>Animators</h3>
<p>Animation can be either instaneous or transitional, i.e.occuring over period of time.</p>
<p>The Prominent Animation Elements are</p>
<table>
<thead>
<tr class="header">
<th align="left">element</th>
<th align="left">description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Set</td>
<td align="left">Instaneous change</td>
</tr>
<tr class="even">
<td align="left">Animate</td>
<td align="left">Continous change</td>
</tr>
<tr class="odd">
<td align="left">Animate Transform</td>
<td align="left">Continous Change</td>
</tr>
<tr class="even">
<td align="left">Animate Motion</td>
<td align="left">Continous Chagne</td>
</tr>
</tbody>
</table>
<p>Animators are often given as a child of the element to be animated, i.e., an unnamed argument of the shape/text element.</p>
</div>
<div id="modifiers-gradients-filters-masks-markers" class="section level3">
<h3>Modifiers: Gradients, Filters, Masks, Markers</h3>
<p>These Modifiers modify the appearence graphical element. More specifically,</p>
<ul>
<li>Gradients: provide a continous flow of the fill color from one spectrum to another</li>
<li>Masks: hides the portion of an image given by the mask</li>
<li>Markers: decorates the endpoints of a line, allow us to create arrow heads, tails, etc.</li>
<li>Filters: are containers for filter primitives, used to provide, lighting, dropshawdow, and mamy special effects.</li>
</ul>
<p>These elements are specified by the value of a named parameter of the element they are to influence. For example:</p>
<table>
<thead>
<tr class="header">
<th align="left">element</th>
<th align="left">parameter usage</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Gradients</td>
<td align="left">fill=linearGradient() or fill=radialGradient()</td>
</tr>
<tr class="even">
<td align="left">Filter</td>
<td align="left">filter=filter()</td>
</tr>
<tr class="odd">
<td align="left">Mask</td>
<td align="left">mask=mask()</td>
</tr>
<tr class="even">
<td align="left">marker</td>
<td align="left">marker.end=marker(), marker.start=marker(), marker.mid=marker()</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="structure-of-this-document" class="section level2">
<h2>Structure of This Document</h2>
<p>As stated before, the graphical elements are the building blocks of any <strong>SVG</strong> image. However, in order to use those building blocks, we need to know where to put them and how to glue them together.</p>
<p>The sections</p>
<table>
<thead>
<tr class="header">
<th align="left">section</th>
<th align="left">description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Coordinates, Viewports and Containers</td>
<td align="left">placement of shapes</td>
</tr>
<tr class="even">
<td align="left">Transform Attribute</td>
<td align="left">placement of shapes</td>
</tr>
<tr class="odd">
<td align="left">Shapes, Paths, Markers</td>
<td align="left">Basic Shapes</td>
</tr>
<tr class="even">
<td align="left">Text</td>
<td align="left">Text related</td>
</tr>
<tr class="odd">
<td align="left">The Fill Attribute</td>
<td align="left">Gradients, Patterns</td>
</tr>
<tr class="even">
<td align="left">The Filter Attribute</td>
<td align="left">Gaussian Blur, Filter Coords</td>
</tr>
<tr class="odd">
<td align="left">Color Filters</td>
<td align="left">Filters that influence color</td>
</tr>
<tr class="even">
<td align="left">Combining Filter Primitives</td>
<td align="left">feCombosite, feBlend,</td>
</tr>
<tr class="odd">
<td align="left">Texture Filter</td>
<td align="left">Textures and Marbling</td>
</tr>
<tr class="even">
<td align="left">Lighting Filters</td>
<td align="left">shiny bevel</td>
</tr>
<tr class="odd">
<td align="left">Shape Shifters</td>
<td align="left">clip.path</td>
</tr>
<tr class="even">
<td align="left">Animating</td>
<td align="left">Set, Animation, Animation Transform, Animate Motion</td>
</tr>
</tbody>
</table>
<p>Each section contains multiple short examples of each topic. Enjoy!</p>
</div>
</div>
<div id="coordinates-viewports-and-containers" class="section level1">
<h1>Coordinates, Viewports, and Containers</h1>
<p>This section discusses some of the basics of coordinates systems, viewports and viewboxes.</p>
<div id="viewports-and-viewboxes" class="section level2">
<h2>Viewports and Viewboxes</h2>
<p><a name="viewports"></a></p>
<p>The <strong>viewport</strong> is the viewing area through which image is rendered. Essentially, it is a rectangular window on the page.</p>
<p>A <strong>viewBox</strong> is the area of the graphics surface which is to be placed inside the viewport. When not specified, the viewbox</p>
<p><img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4bWxuczpldj0iaHR0cDovL3d3dy53My5vcmcvMjAwMS94bWwtZXZlbnRzIiBpZD0icm9vdCIgd2lkdGg9IjgwMCIgaGVpZ2h0PSIzMDAiPgogIDxzeW1ib2w+CiAgICA8ZyBpZD0iZG9jSWQxIj4KICAgICAgPGNpcmNsZSBmaWxsPSIjRkZEREREIiByPSI0MCIgY3g9IjEyMCIgY3k9IjEyMCIvPgogICAgICA8ZyBzdHJva2Utd2lkdGg9IjEiIGZvbnQtc2l6ZT0iMTAiIHN0cm9rZT0ibGlnaHRncmV5Ij4KICAgICAgICA8bGluZSB4MT0iMCIgeTE9IjAiIHgyPSIwIiB5Mj0iMzAwIi8+CiAgICAgICAgPGxpbmUgeDE9IjIwIiB5MT0iMCIgeDI9IjIwIiB5Mj0iMzAwIi8+CiAgICAgICAgPGxpbmUgeDE9IjQwIiB5MT0iMCIgeDI9IjQwIiB5Mj0iMzAwIi8+CiAgICAgICAgPGxpbmUgeDE9IjYwIiB5MT0iMCIgeDI9IjYwIiB5Mj0iMzAwIi8+CiAgICAgICAgPGxpbmUgeDE9IjgwIiB5MT0iMCIgeDI9IjgwIiB5Mj0iMzAwIi8+CiAgICAgICAgPGxpbmUgeDE9IjEwMCIgeTE9IjAiIHgyPSIxMDAiIHkyPSIzMDAiLz4KICAgICAgICA8bGluZSB4MT0iMTIwIiB5MT0iMCIgeDI9IjEyMCIgeTI9IjMwMCIvPgogICAgICAgIDxsaW5lIHgxPSIxNDAiIHkxPSIwIiB4Mj0iMTQwIiB5Mj0iMzAwIi8+CiAgICAgICAgPGxpbmUgeDE9IjE2MCIgeTE9IjAiIHgyPSIxNjAiIHkyPSIzMDAiLz4KICAgICAgICA8bGluZSB4MT0iMTgwIiB5MT0iMCIgeDI9IjE4MCIgeTI9IjMwMCIvPgogICAgICAgIDxsaW5lIHgxPSIyMDAiIHkxPSIwIiB4Mj0iMjAwIiB5Mj0iMzAwIi8+CiAgICAgICAgPGxpbmUgeDE9IjIyMCIgeTE9IjAiIHgyPSIyMjAiIHkyPSIzMDAiLz4KICAgICAgICA8bGluZSB4MT0iMjQwIiB5MT0iMCIgeDI9IjI0MCIgeTI9IjMwMCIvPgogICAgICAgIDxsaW5lIHgxPSIyNjAiIHkxPSIwIiB4Mj0iMjYwIiB5Mj0iMzAwIi8+CiAgICAgICAgPGxpbmUgeDE9IjI4MCIgeTE9IjAiIHgyPSIyODAiIHkyPSIzMDAiLz4KICAgICAgICA8bGluZSB4MT0iMzAwIiB5MT0iMCIgeDI9IjMwMCIgeTI9IjMwMCIvPgogICAgICAgIDxsaW5lIHgxPSIwIiB5MT0iMCIgeDI9IjMwMCIgeTI9IjAiLz4KICAgICAgICA8bGluZSB4MT0iMCIgeTE9IjIwIiB4Mj0iMzAwIiB5Mj0iMjAiLz4KICAgICAgICA8bGluZSB4MT0iMCIgeTE9IjQwIiB4Mj0iMzAwIiB5Mj0iNDAiLz4KICAgICAgICA8bGluZSB4MT0iMCIgeTE9IjYwIiB4Mj0iMzAwIiB5Mj0iNjAiLz4KICAgICAgICA8bGluZSB4MT0iMCIgeTE9IjgwIiB4Mj0iMzAwIiB5Mj0iODAiLz4KICAgICAgICA8bGluZSB4MT0iMCIgeTE9IjEwMCIgeDI9IjMwMCIgeTI9IjEwMCIvPgogICAgICAgIDxsaW5lIHgxPSIwIiB5MT0iMTIwIiB4Mj0iMzAwIiB5Mj0iMTIwIi8+CiAgICAgICAgPGxpbmUgeDE9IjAiIHkxPSIxNDAiIHgyPSIzMDAiIHkyPSIxNDAiLz4KICAgICAgICA8bGluZSB4MT0iMCIgeTE9IjE2MCIgeDI9IjMwMCIgeTI9IjE2MCIvPgogICAgICAgIDxsaW5lIHgxPSIwIiB5MT0iMTgwIiB4Mj0iMzAwIiB5Mj0iMTgwIi8+CiAgICAgICAgPGxpbmUgeDE9IjAiIHkxPSIyMDAiIHgyPSIzMDAiIHkyPSIyMDAiLz4KICAgICAgICA8bGluZSB4MT0iMCIgeTE9IjIyMCIgeDI9IjMwMCIgeTI9IjIyMCIvPgogICAgICAgIDxsaW5lIHgxPSIwIiB5MT0iMjQwIiB4Mj0iMzAwIiB5Mj0iMjQwIi8+CiAgICAgICAgPGxpbmUgeDE9IjAiIHkxPSIyNjAiIHgyPSIzMDAiIHkyPSIyNjAiLz4KICAgICAgICA8bGluZSB4MT0iMCIgeTE9IjI4MCIgeDI9IjMwMCIgeTI9IjI4MCIvPgogICAgICAgIDxsaW5lIHgxPSIwIiB5MT0iMzAwIiB4Mj0iMzAwIiB5Mj0iMzAwIi8+CiAgICAgIDwvZz4KICAgICAgPHJlY3QgZmlsbD0iYmx1ZSIgb3BhY2l0eT0iMC4yIiB3aWR0aD0iODAiIGhlaWdodD0iODAiIHg9IjEyMCIgeT0iMTIwIi8+CiAgICA8L2c+CiAgPC9zeW1ib2w+CiAgPHN2ZyB2aWV3Qm94PSIxMjAsMTIwLDgwLDgwIiB3aWR0aD0iMzAwIiBoZWlnaHQ9IjMwMCIgeD0iMCIgeT0iMCI+CiAgICA8dXNlIHhsaW5rOmhyZWY9IiNkb2NJZDEiLz4KICA8L3N2Zz4KICA8c3ZnIHdpZHRoPSIzMDAiIGhlaWdodD0iMzAwIiB4PSI0MDAiIHk9IjAiPgogICAgPHVzZSB4bGluazpocmVmPSIjZG9jSWQxIi8+CiAgPC9zdmc+CiAgPHJlY3QgZmlsbD0ibm9uZSIgc3Ryb2tlPSJncmVlbiIgc3Ryb2tlLXdpZHRoPSI0IiB3aWR0aD0iMjk2IiBoZWlnaHQ9IjI5NiIgeD0iMiIgeT0iMiIvPgogIDxyZWN0IGZpbGw9Im5vbmUiIHN0cm9rZT0iYmx1ZSIgc3Ryb2tlLXdpZHRoPSI0IiB3aWR0aD0iODAiIGhlaWdodD0iODAiIHg9IjUyMCIgeT0iMTIwIi8+CiAgPHRleHQgc3Ryb2tlPSJncmVlbiIgZm9udC1zaXplPSIyNiIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZG9taW5hbnQtYmFzZWxpbmU9ImNlbnRyYWwiIHg9IjE1MCIgeT0iMTUwIj52aWV3UG9ydDwvdGV4dD4KICA8dGV4dCBzdHJva2U9ImJsdWUiIGZvbnQtc2l6ZT0iMTQiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGRvbWluYW50LWJhc2VsaW5lPSJjZW50cmFsIiB4PSI1NjAiIHk9IjE1MCI+dmlld0JveDwvdGV4dD4KICA8bGluZSBzdHJva2U9ImJsdWUiIHgxPSI1MjAiIHkxPSIxMjAiIHgyPSIwIiB5Mj0iMCIvPgogIDxsaW5lIHN0cm9rZT0iYmx1ZSIgeDE9IjYwMCIgeTE9IjEyMCIgeDI9IjMwMCIgeTI9IjAiLz4KICA8bGluZSBzdHJva2U9ImJsdWUiIHgxPSI1MjAiIHkxPSIyMDAiIHgyPSIwIiB5Mj0iMzAwIi8+CiAgPGxpbmUgc3Ryb2tlPSJibHVlIiB4MT0iNjAwIiB5MT0iMjAwIiB4Mj0iMzAwIiB5Mj0iMzAwIi8+Cjwvc3ZnPgo=" alt="alt text" /></p>
</div>
<div id="specifying-the-viewport-and-the-viewbox" class="section level2">
<h2>Specifying the Viewport and the Viewbox</h2>
<p>When the <strong>svgR</strong> function is called, it generates an SVG tree of nodes, with to top most node being an <strong>svg</strong> element.</p>
<p>The dimensions of the viewPort is determined by the <strong>wh</strong> attributes supplied in the call to <strong>svgR</strong>. Thus a larger <strong>wh</strong> produces a larger display area on the screen.</p>
<p>The dimensions of our viewPort are given by the wh in the svgR call, for example seting wh=c(100,50) we have</p>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="100" height="50">
<filter id="genid6"> <feFlood flood-color="lightblue"></feFlood> </filter> <use filter="url(#genid6)"></use>
</svg>
<p>Here the c(100,50) are measured in pixels of the user space. Other units available are: <strong>em, ex, px, pt, pc, cm, mm, in,</strong> and <strong>percentages</strong>.</p>
<p>For example</p>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="2in" height="1in">
<filter id="genid7"> <feFlood flood-color="lightblue"></feFlood> </filter> <use filter="url(#genid7)"></use>
</svg>
<p>produces a 2 inch by 1 inch image on the screen.</p>
<p>Coordinates are layed out with x increasing to the right, y increasing down.</p>
<pre class="r"><code>WH&lt;-c(300,300)
svgR(wh=WH, 
  graphPaper(WH, dxy=c(50,50), labels=TRUE)
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="300" height="300">
<g stroke-width="1" font-size="10" stroke="lightgrey"> <line x1="0" y1="0" x2="0" y2="300"></line> <line x1="50" y1="0" x2="50" y2="300"></line> <line x1="100" y1="0" x2="100" y2="300"></line> <line x1="150" y1="0" x2="150" y2="300"></line> <line x1="200" y1="0" x2="200" y2="300"></line> <line x1="250" y1="0" x2="250" y2="300"></line> <line x1="300" y1="0" x2="300" y2="300"></line> <line x1="0" y1="0" x2="300" y2="0"></line> <line x1="0" y1="50" x2="300" y2="50"></line> <line x1="0" y1="100" x2="300" y2="100"></line> <line x1="0" y1="150" x2="300" y2="150"></line> <line x1="0" y1="200" x2="300" y2="200"></line> <line x1="0" y1="250" x2="300" y2="250"></line> <line x1="0" y1="300" x2="300" y2="300"></line> <text x="2" y="10">0</text> <text x="52" y="10">50</text> <text x="102" y="10">100</text> <text x="152" y="10">150</text> <text x="202" y="10">200</text> <text x="252" y="10">250</text> <text x="302" y="10">300</text> <text x="2" y="0">0</text> <text x="2" y="50">50</text> <text x="2" y="100">100</text> <text x="2" y="150">150</text> <text x="2" y="200">200</text> <text x="2" y="250">250</text> <text x="2" y="300">300</text> </g>
</svg>
<p>Here the <em>Viewport</em> is 400 by 300 pixels, which was determined by the attribute assignment <em>wh=c(300,300)</em>. Additionally, there is an implict viewBox=c(0,0,400,300). When not specified, the viewBox is assumed to have a xy=c(0,0) and a width and height equal to its corresponding viewPort (wh=c(300,300 in this case).</p>
<p><strong>Note:</strong> We are using our graphPaper utilitiy, which starts drawing lines and coordinates at c(0,0) and continues to WH in steps of (50,50).</p>
<p>In order to see better what happens when using a different viewport,modify the above example by adding a circle in the left-hand corner and some text.</p>
<pre class="r"><code>WH&lt;-c(300,300)
svgR(wh=WH, 
  graphPaper(WH, dxy=c(50,50), labels=TRUE),
  circle(cxy=c(0,0),r=100, fill=&quot;pink&quot;, stroke='red'),
  text('Big  Data', xy=c(-40, 50), font.size=20),
  text('Small Data', xy=c(50, 50), font.size=10)
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="300" height="300">
<g stroke-width="1" font-size="10" stroke="lightgrey"> <line x1="0" y1="0" x2="0" y2="300"></line> <line x1="50" y1="0" x2="50" y2="300"></line> <line x1="100" y1="0" x2="100" y2="300"></line> <line x1="150" y1="0" x2="150" y2="300"></line> <line x1="200" y1="0" x2="200" y2="300"></line> <line x1="250" y1="0" x2="250" y2="300"></line> <line x1="300" y1="0" x2="300" y2="300"></line> <line x1="0" y1="0" x2="300" y2="0"></line> <line x1="0" y1="50" x2="300" y2="50"></line> <line x1="0" y1="100" x2="300" y2="100"></line> <line x1="0" y1="150" x2="300" y2="150"></line> <line x1="0" y1="200" x2="300" y2="200"></line> <line x1="0" y1="250" x2="300" y2="250"></line> <line x1="0" y1="300" x2="300" y2="300"></line> <text x="2" y="10">0</text> <text x="52" y="10">50</text> <text x="102" y="10">100</text> <text x="152" y="10">150</text> <text x="202" y="10">200</text> <text x="252" y="10">250</text> <text x="302" y="10">300</text> <text x="2" y="0">0</text> <text x="2" y="50">50</text> <text x="2" y="100">100</text> <text x="2" y="150">150</text> <text x="2" y="200">200</text> <text x="2" y="250">250</text> <text x="2" y="300">300</text> </g> <circle r="100" fill="pink" stroke="red" cx="0" cy="0"></circle> <text font-size="20" x="-40" y="50">Big Data</text> <text font-size="10" x="50" y="50">Small Data</text>
</svg>
<p>Again the viewPort is 400 by 300 pixels and the <strong>viewBox</strong> is also 400 by 300 with the upper left corner at c(0,0).</p>
<p>Nexe we reset the viewBox. The region viewed is changes, but the size of the display area (viewPort) remains the same.</p>
<pre class="r"><code>WH&lt;-c(300,300)
svgR(wh=WH, viewBox=c(-WH,2*WH),
  #use(filter=filter( feFlood(flood.color='blue') )),
  graphPaper(WH, dxy=c(50,50), labels=TRUE),
  circle(cxy=c(0,0),r=100, fill=&quot;pink&quot;, stroke='red'),
  text('Big  Data', xy=c(-40, 50), font.size=20),
  text('Small Data', xy=c(50, 50), font.size=10)
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" viewBox="-300,-300,600,600" id="root" width="300" height="300">
<g stroke-width="1" font-size="10" stroke="lightgrey"> <line x1="0" y1="0" x2="0" y2="300"></line> <line x1="50" y1="0" x2="50" y2="300"></line> <line x1="100" y1="0" x2="100" y2="300"></line> <line x1="150" y1="0" x2="150" y2="300"></line> <line x1="200" y1="0" x2="200" y2="300"></line> <line x1="250" y1="0" x2="250" y2="300"></line> <line x1="300" y1="0" x2="300" y2="300"></line> <line x1="0" y1="0" x2="300" y2="0"></line> <line x1="0" y1="50" x2="300" y2="50"></line> <line x1="0" y1="100" x2="300" y2="100"></line> <line x1="0" y1="150" x2="300" y2="150"></line> <line x1="0" y1="200" x2="300" y2="200"></line> <line x1="0" y1="250" x2="300" y2="250"></line> <line x1="0" y1="300" x2="300" y2="300"></line> <text x="2" y="10">0</text> <text x="52" y="10">50</text> <text x="102" y="10">100</text> <text x="152" y="10">150</text> <text x="202" y="10">200</text> <text x="252" y="10">250</text> <text x="302" y="10">300</text> <text x="2" y="0">0</text> <text x="2" y="50">50</text> <text x="2" y="100">100</text> <text x="2" y="150">150</text> <text x="2" y="200">200</text> <text x="2" y="250">250</text> <text x="2" y="300">300</text> </g> <circle r="100" fill="pink" stroke="red" cx="0" cy="0"></circle> <text font-size="20" x="-40" y="50">Big Data</text> <text font-size="10" x="50" y="50">Small Data</text>
</svg>
<p>Now we can see the entire circle (and the grid). Also, since the viewBox has become now larger, the image appears smaller. This is because the image in the viewBox is compressed to fit inside the viewPort.</p>
<p>And here is another more example, this time the image size increases.</p>
<pre class="r"><code>WH&lt;-c(300,300)
svgR(wh=WH, viewBox=c(.1*WH,.5*WH),
  #use(filter=filter( feFlood(flood.color='blue') )),
  graphPaper(WH, dxy=c(50,50), labels=TRUE),
  circle(cxy=c(0,0),r=100, fill=&quot;pink&quot;, stroke='red'),
  text('Big  Data', xy=c(-40, 50), font.size=20),
  text('Small Data', xy=c(50, 50), font.size=10)
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" viewBox="30,30,150,150" id="root" width="300" height="300">
<g stroke-width="1" font-size="10" stroke="lightgrey"> <line x1="0" y1="0" x2="0" y2="300"></line> <line x1="50" y1="0" x2="50" y2="300"></line> <line x1="100" y1="0" x2="100" y2="300"></line> <line x1="150" y1="0" x2="150" y2="300"></line> <line x1="200" y1="0" x2="200" y2="300"></line> <line x1="250" y1="0" x2="250" y2="300"></line> <line x1="300" y1="0" x2="300" y2="300"></line> <line x1="0" y1="0" x2="300" y2="0"></line> <line x1="0" y1="50" x2="300" y2="50"></line> <line x1="0" y1="100" x2="300" y2="100"></line> <line x1="0" y1="150" x2="300" y2="150"></line> <line x1="0" y1="200" x2="300" y2="200"></line> <line x1="0" y1="250" x2="300" y2="250"></line> <line x1="0" y1="300" x2="300" y2="300"></line> <text x="2" y="10">0</text> <text x="52" y="10">50</text> <text x="102" y="10">100</text> <text x="152" y="10">150</text> <text x="202" y="10">200</text> <text x="252" y="10">250</text> <text x="302" y="10">300</text> <text x="2" y="0">0</text> <text x="2" y="50">50</text> <text x="2" y="100">100</text> <text x="2" y="150">150</text> <text x="2" y="200">200</text> <text x="2" y="250">250</text> <text x="2" y="300">300</text> </g> <circle r="100" fill="pink" stroke="red" cx="0" cy="0"></circle> <text font-size="20" x="-40" y="50">Big Data</text> <text font-size="10" x="50" y="50">Small Data</text>
</svg>
<p>Summarizing</p>
<ul>
<li>Decreasing the view box zooms out</li>
<li>Conversley inceasing the viewport zooms in.</li>
</ul>
</div>
<div id="nesting-svgs" class="section level2">
<h2>Nesting svgs</h2>
<p>Svgs can be nested: The simplest example being a single child svg, (the root svg is implict in svgR). Here is such an example:</p>
<pre class="r"><code>WH&lt;-c(400,300)
WH2&lt;-WH/2
id=newId()
svgR(wh=WH, 
     use(filter=filter( feFlood(flood.color='blue') )),
     g( id=id,
        graphPaper(WH, dxy=c(50,50), labels=TRUE),
        circle(cxy=c(0,0),r=r, fill=&quot;yellow&quot;)
     ),
     svg(xy=WH/4, wh=WH/2, 
           use(filter=filter( feFlood(flood.color='red') )),
           use(xlink.href=paste0(&quot;#&quot;,id))
    )
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="400" height="300">
<filter id="genid8"> <feFlood flood-color="blue"></feFlood> </filter> <use filter="url(#genid8)"></use> <g id="docId2"> <g stroke-width="1" font-size="10" stroke="lightgrey"> <line x1="0" y1="0" x2="0" y2="300"></line> <line x1="50" y1="0" x2="50" y2="300"></line> <line x1="100" y1="0" x2="100" y2="300"></line> <line x1="150" y1="0" x2="150" y2="300"></line> <line x1="200" y1="0" x2="200" y2="300"></line> <line x1="250" y1="0" x2="250" y2="300"></line> <line x1="300" y1="0" x2="300" y2="300"></line> <line x1="350" y1="0" x2="350" y2="300"></line> <line x1="400" y1="0" x2="400" y2="300"></line> <line x1="0" y1="0" x2="400" y2="0"></line> <line x1="0" y1="50" x2="400" y2="50"></line> <line x1="0" y1="100" x2="400" y2="100"></line> <line x1="0" y1="150" x2="400" y2="150"></line> <line x1="0" y1="200" x2="400" y2="200"></line> <line x1="0" y1="250" x2="400" y2="250"></line> <line x1="0" y1="300" x2="400" y2="300"></line> <text x="2" y="10">0</text> <text x="52" y="10">50</text> <text x="102" y="10">100</text> <text x="152" y="10">150</text> <text x="202" y="10">200</text> <text x="252" y="10">250</text> <text x="302" y="10">300</text> <text x="352" y="10">350</text> <text x="402" y="10">400</text> <text x="2" y="0">0</text> <text x="2" y="50">50</text> <text x="2" y="100">100</text> <text x="2" y="150">150</text> <text x="2" y="200">200</text> <text x="2" y="250">250</text> <text x="2" y="300">300</text> </g> <circle r="40" fill="yellow" cx="0" cy="0"></circle> </g> <svg width="200" height="150" x="100" y="75"> <filter id="genid9"> <feFlood flood-color="red"></feFlood> </filter> <use filter="url(#genid9)"></use> <use xlink:href="#docId2"></use>
</svg>
</svg>
<p><strong>Note:</strong> The viewBox of the child svg is c(0,0,200,150). When not specified the <strong>viewBox</strong> defaults to:</p>
<ul>
<li>an origin c(0,0)</li>
<li>with dimensions identical to the corresponding viewPort</li>
</ul>
<p>In this example, the parent svg was flooded withblue, and the child svg with red. The parent contains the group consisting of some graphPaper and a circle. The child svg uses the same graphPaper and circle by using a reference link. The only difference between the child and parent are the flood colors and the viewPorts. In both cases, the circle is clipped so that only 1/4 of it si visible.</p>
<p>Summarizing:</p>
<ul>
<li>svgs contain their own coordinate system (viewBox)</li>
<li>svgs clip the the source to their own viewPort</li>
</ul>
<p><strong>Note</strong> We specified the location of the child with the attribute xy=c(x,y). However, for the svg root element, the xy coordinates will always be xy=c(0,0).</p>
<p>Finally we go a step further and provide a viewbox when embeding a child svg.</p>
<pre class="r"><code>WH&lt;-c(800,300)
id=newId()
XY2&lt;-c(600,40)
WH2&lt;-c(180,200)
svgR(wh=WH, 
  g( id=id,
    graphPaper(WH, dxy=c(50,50), labels=TRUE),
    lapply(1:15, function(i){
      text(&quot;Running R Really Rocks&quot;, xy=i*c(20,20), stroke=rrgb(), font.size=10)
    })
  ),
  rect(xy=XY2, wh=WH2, stroke='blue', stroke.width=2, fill='#FFDDDD'),
  svg(xy=XY2, wh=WH2, viewBox=c(.1*WH,.1*WH),
      use(xlink.href=paste0('#',id))
  )
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="300">
<g id="docId3"> <g stroke-width="1" font-size="10" stroke="lightgrey"> <line x1="0" y1="0" x2="0" y2="300"></line> <line x1="50" y1="0" x2="50" y2="300"></line> <line x1="100" y1="0" x2="100" y2="300"></line> <line x1="150" y1="0" x2="150" y2="300"></line> <line x1="200" y1="0" x2="200" y2="300"></line> <line x1="250" y1="0" x2="250" y2="300"></line> <line x1="300" y1="0" x2="300" y2="300"></line> <line x1="350" y1="0" x2="350" y2="300"></line> <line x1="400" y1="0" x2="400" y2="300"></line> <line x1="450" y1="0" x2="450" y2="300"></line> <line x1="500" y1="0" x2="500" y2="300"></line> <line x1="550" y1="0" x2="550" y2="300"></line> <line x1="600" y1="0" x2="600" y2="300"></line> <line x1="650" y1="0" x2="650" y2="300"></line> <line x1="700" y1="0" x2="700" y2="300"></line> <line x1="750" y1="0" x2="750" y2="300"></line> <line x1="800" y1="0" x2="800" y2="300"></line> <line x1="0" y1="0" x2="800" y2="0"></line> <line x1="0" y1="50" x2="800" y2="50"></line> <line x1="0" y1="100" x2="800" y2="100"></line> <line x1="0" y1="150" x2="800" y2="150"></line> <line x1="0" y1="200" x2="800" y2="200"></line> <line x1="0" y1="250" x2="800" y2="250"></line> <line x1="0" y1="300" x2="800" y2="300"></line> <text x="2" y="10">0</text> <text x="52" y="10">50</text> <text x="102" y="10">100</text> <text x="152" y="10">150</text> <text x="202" y="10">200</text> <text x="252" y="10">250</text> <text x="302" y="10">300</text> <text x="352" y="10">350</text> <text x="402" y="10">400</text> <text x="452" y="10">450</text> <text x="502" y="10">500</text> <text x="552" y="10">550</text> <text x="602" y="10">600</text> <text x="652" y="10">650</text> <text x="702" y="10">700</text> <text x="752" y="10">750</text> <text x="802" y="10">800</text> <text x="2" y="0">0</text> <text x="2" y="50">50</text> <text x="2" y="100">100</text> <text x="2" y="150">150</text> <text x="2" y="200">200</text> <text x="2" y="250">250</text> <text x="2" y="300">300</text> </g> <text stroke="rgb(119,238,124)" font-size="10" x="20" y="20">Running R Really Rocks</text> <text stroke="rgb(237,151,194)" font-size="10" x="40" y="40">Running R Really Rocks</text> <text stroke="rgb(201,19,75)" font-size="10" x="60" y="60">Running R Really Rocks</text> <text stroke="rgb(185,79,203)" font-size="10" x="80" y="80">Running R Really Rocks</text> <text stroke="rgb(118,36,57)" font-size="10" x="100" y="100">Running R Really Rocks</text> <text stroke="rgb(239,159,101)" font-size="10" x="120" y="120">Running R Really Rocks</text> <text stroke="rgb(36,31,252)" font-size="10" x="140" y="140">Running R Really Rocks</text> <text stroke="rgb(28,195,134)" font-size="10" x="160" y="160">Running R Really Rocks</text> <text stroke="rgb(229,93,104)" font-size="10" x="180" y="180">Running R Really Rocks</text> <text stroke="rgb(64,106,84)" font-size="10" x="200" y="200">Running R Really Rocks</text> <text stroke="rgb(175,69,202)" font-size="10" x="220" y="220">Running R Really Rocks</text> <text stroke="rgb(56,116,218)" font-size="10" x="240" y="240">Running R Really Rocks</text> <text stroke="rgb(146,151,137)" font-size="10" x="260" y="260">Running R Really Rocks</text> <text stroke="rgb(23,150,250)" font-size="10" x="280" y="280">Running R Really Rocks</text> <text stroke="rgb(57,59,174)" font-size="10" x="300" y="300">Running R Really Rocks</text> </g> <rect stroke="blue" stroke-width="2" fill="#FFDDDD" width="180" height="200" x="600" y="40"></rect> <svg viewBox="80,30,80,30" width="180" height="200" x="600" y="40"> <use xlink:href="#docId3"></use>
</svg>
</svg>
<hr>
<p><br /><br /></p>
</div>
</div>
<div id="the-transform-attribute" class="section level1">
<h1>The Transform Attribute</h1>
<div id="transform-operations" class="section level2">
<h2>Transform operations</h2>
<p>The <em>transform attribute</em> allows for multiple linear operations to be applied prior to rendering.</p>
<p>SVG supports the composition 5 types transforms:</p>
<ul>
<li>translate: Translates the orgin</li>
<li>rotate: Rotates through a given angle about a given point</li>
<li>scale:</li>
<li>skew</li>
<li>matrix</li>
</ul>
<p>We discus translate, rotate, scale, skew in this section and leave matrix to the next section.</p>
<p>The transform attribute is assigned a value that consists of a named list. The name list entry name provides the type of operation, and list entry value give the amount.</p>
<p>For example <code>transform=list(translate=c(20,30),scale=c(1,2))</code> translates and then scales. The transorm is sensitive to the order of operations, that is, transform operations are seldom commute.</p>
<p>In the remainging of this section we give some examples, but first we build a user defined element to illustrating those transforms.</p>
<p><strong>Remember</strong> A <em>transform</em> is not an element, it is an attribute, like <em>xy</em>.</p>
</div>
<div id="the-tale-of-two-circles-a-square-and-some-lines" class="section level2">
<h2>The Tale of Two Circles, a Square and Some Lines</h2>
<div id="the-circirsqr-element" class="section level3">
<h3>The cirCirSqr element</h3>
<p>To illustrate the effects of transform we first create a custom element, for our illustration. It will consist of an ensemble of</p>
<ul>
<li>a border cosnisting of dashed lines , colored red on the top, left, colored green on the bottom right</li>
<li>blue dash lines intersecting at the center</li>
<li>a semi-transparent blue rectangle with its upper left corner in the center</li>
<li>a semi-transparent red circle centered on the upper left corner of the blue rectangle</li>
<li>a semi-transparent gree circle centered on the upper right corner of the blue rectangle</li>
</ul>
<pre class="r"><code># A function to tell the tale of two circles and a rectangle
cirCirSqr&lt;-function(...){
  attrs&lt;-list(...)
  stopifnot(&quot;cxy&quot; %in% names(attrs))
  centerPt&lt;-attrs[['cxy']]
  attrs$cxy&lt;-NULL
  wh&lt;-c(100,50) #sets the rectangle dimension
  pt1&lt;-centerPt+c(.5,0)*wh
  pt2&lt;-centerPt+c(-.5,0)*wh
  g(
    attrs,
    line(xy1=c(0,0), xy2=c(WH[1],0), stroke='red', stroke.dasharray=10, stroke.width=4),
    line(xy1=c(0,0), xy2=c(0,WH[2]), stroke='red', stroke.dasharray=10, stroke.width=4 ),
    line(xy1=WH, xy2=c(WH[1],0), stroke='green', stroke.dasharray=15, stroke.width=4),
    line(xy1=WH, xy2=c(0,WH[2]), stroke='green', stroke.dasharray=15, stroke.width=4 ),
    line(xy1=c(0,WH[2]/2), xy2=c(WH[1],WH[2]/2), stroke='blue', stroke.dasharray=10),
    line(xy1=c(WH[1]/2,0), xy2=c(WH[1]/2,WH[2]), stroke='blue', stroke.dasharray=10 ),
    rect(xy=pt2, wh=wh,  stroke ='black', fill='blue',  opacity=.3),
    circle(cxy=pt1, r=wh[2], stroke=&quot;black&quot;, fill=&quot;red&quot;,   opacity=.3),
    circle(cxy=pt2, r=wh[2], stroke=&quot;black&quot;, fill=&quot;green&quot;, opacity=.3),
    text(paste(&quot;(&quot;,centerPt[1],&quot;,&quot;,centerPt[2],&quot;)&quot;), cxy=centerPt, font.size=12)
  )
}</code></pre>
<p>And also for convenience we create a function for showing a background of graphPaper and and a title.</p>
<pre class="r"><code># Utility to cover my back
myBack&lt;-function(WH, txt){
  list(wh=WH, #sets the viewPort dimension
      text(txt, xy=c(20,25), font.size=18),
      graphPaper(wh=WH, dxy=c(50,50), labels=TRUE),
      line(xy1=c(0,WH[2]/2), xy2=c(WH[1],WH[2]/2), stroke='blue' ),
      line(xy1=c(WH[1]/2,0), xy2=c(WH[1]/2,WH[2]), stroke='blue' )
  )
} </code></pre>
<p>Ok, now lets see what this looks like</p>
<div id="without-any-transform" class="section level4">
<h4>Without Any Transform</h4>
<pre class="r"><code>WH=c(800, 400) # window rect
svgR( 
  myBack(WH, &quot;Without any Transform&quot;),
  cirCirSqr(cxy=WH/2)
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="400">
<text font-size="18" x="20" y="25">Without any Transform</text> <g stroke-width="1" font-size="10" stroke="lightgrey"> <line x1="0" y1="0" x2="0" y2="400"></line> <line x1="50" y1="0" x2="50" y2="400"></line> <line x1="100" y1="0" x2="100" y2="400"></line> <line x1="150" y1="0" x2="150" y2="400"></line> <line x1="200" y1="0" x2="200" y2="400"></line> <line x1="250" y1="0" x2="250" y2="400"></line> <line x1="300" y1="0" x2="300" y2="400"></line> <line x1="350" y1="0" x2="350" y2="400"></line> <line x1="400" y1="0" x2="400" y2="400"></line> <line x1="450" y1="0" x2="450" y2="400"></line> <line x1="500" y1="0" x2="500" y2="400"></line> <line x1="550" y1="0" x2="550" y2="400"></line> <line x1="600" y1="0" x2="600" y2="400"></line> <line x1="650" y1="0" x2="650" y2="400"></line> <line x1="700" y1="0" x2="700" y2="400"></line> <line x1="750" y1="0" x2="750" y2="400"></line> <line x1="800" y1="0" x2="800" y2="400"></line> <line x1="0" y1="0" x2="800" y2="0"></line> <line x1="0" y1="50" x2="800" y2="50"></line> <line x1="0" y1="100" x2="800" y2="100"></line> <line x1="0" y1="150" x2="800" y2="150"></line> <line x1="0" y1="200" x2="800" y2="200"></line> <line x1="0" y1="250" x2="800" y2="250"></line> <line x1="0" y1="300" x2="800" y2="300"></line> <line x1="0" y1="350" x2="800" y2="350"></line> <line x1="0" y1="400" x2="800" y2="400"></line> <text x="2" y="10">0</text> <text x="52" y="10">50</text> <text x="102" y="10">100</text> <text x="152" y="10">150</text> <text x="202" y="10">200</text> <text x="252" y="10">250</text> <text x="302" y="10">300</text> <text x="352" y="10">350</text> <text x="402" y="10">400</text> <text x="452" y="10">450</text> <text x="502" y="10">500</text> <text x="552" y="10">550</text> <text x="602" y="10">600</text> <text x="652" y="10">650</text> <text x="702" y="10">700</text> <text x="752" y="10">750</text> <text x="802" y="10">800</text> <text x="2" y="0">0</text> <text x="2" y="50">50</text> <text x="2" y="100">100</text> <text x="2" y="150">150</text> <text x="2" y="200">200</text> <text x="2" y="250">250</text> <text x="2" y="300">300</text> <text x="2" y="350">350</text> <text x="2" y="400">400</text> </g> <line stroke="blue" x1="0" y1="200" x2="800" y2="200"></line> <line stroke="blue" x1="400" y1="0" x2="400" y2="400"></line> <g> <line stroke="red" stroke-dasharray="10" stroke-width="4" x1="0" y1="0" x2="800" y2="0"></line> <line stroke="red" stroke-dasharray="10" stroke-width="4" x1="0" y1="0" x2="0" y2="400"></line> <line stroke="green" stroke-dasharray="15" stroke-width="4" x1="800" y1="400" x2="800" y2="0"></line> <line stroke="green" stroke-dasharray="15" stroke-width="4" x1="800" y1="400" x2="0" y2="400"></line> <line stroke="blue" stroke-dasharray="10" x1="0" y1="200" x2="800" y2="200"></line> <line stroke="blue" stroke-dasharray="10" x1="400" y1="0" x2="400" y2="400"></line> <rect stroke="black" fill="blue" opacity="0.3" width="100" height="50" x="350" y="200"></rect> <circle r="50" stroke="black" fill="red" opacity="0.3" cx="450" cy="200"></circle> <circle r="50" stroke="black" fill="green" opacity="0.3" cx="350" cy="200"></circle> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="400" y="200">( 400 , 200 )</text> </g>
</svg>
</div>
</div>
<div id="translating" class="section level3">
<h3>Translating</h3>
<p>We want:</p>
<ul>
<li>to transform the circles, square, lines in cirCirSqr</li>
<li>not to transform the background in myBack</li>
</ul>
<p>This suggests grouping the circCirSqr with the transform.</p>
<div id="translatec10040" class="section level4">
<h4>translate=c(100,40)</h4>
<pre class="r"><code>WH=c(800, 400) # window rect
svgR(
  myBack( WH, &quot;With Transform translate=c(100,40)&quot; ),
  cirCirSqr(cxy=WH/2, transform=list(translate=c(100,40) ) ) 
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="400">
<text font-size="18" x="20" y="25">With Transform translate=c(100,40)</text> <g stroke-width="1" font-size="10" stroke="lightgrey"> <line x1="0" y1="0" x2="0" y2="400"></line> <line x1="50" y1="0" x2="50" y2="400"></line> <line x1="100" y1="0" x2="100" y2="400"></line> <line x1="150" y1="0" x2="150" y2="400"></line> <line x1="200" y1="0" x2="200" y2="400"></line> <line x1="250" y1="0" x2="250" y2="400"></line> <line x1="300" y1="0" x2="300" y2="400"></line> <line x1="350" y1="0" x2="350" y2="400"></line> <line x1="400" y1="0" x2="400" y2="400"></line> <line x1="450" y1="0" x2="450" y2="400"></line> <line x1="500" y1="0" x2="500" y2="400"></line> <line x1="550" y1="0" x2="550" y2="400"></line> <line x1="600" y1="0" x2="600" y2="400"></line> <line x1="650" y1="0" x2="650" y2="400"></line> <line x1="700" y1="0" x2="700" y2="400"></line> <line x1="750" y1="0" x2="750" y2="400"></line> <line x1="800" y1="0" x2="800" y2="400"></line> <line x1="0" y1="0" x2="800" y2="0"></line> <line x1="0" y1="50" x2="800" y2="50"></line> <line x1="0" y1="100" x2="800" y2="100"></line> <line x1="0" y1="150" x2="800" y2="150"></line> <line x1="0" y1="200" x2="800" y2="200"></line> <line x1="0" y1="250" x2="800" y2="250"></line> <line x1="0" y1="300" x2="800" y2="300"></line> <line x1="0" y1="350" x2="800" y2="350"></line> <line x1="0" y1="400" x2="800" y2="400"></line> <text x="2" y="10">0</text> <text x="52" y="10">50</text> <text x="102" y="10">100</text> <text x="152" y="10">150</text> <text x="202" y="10">200</text> <text x="252" y="10">250</text> <text x="302" y="10">300</text> <text x="352" y="10">350</text> <text x="402" y="10">400</text> <text x="452" y="10">450</text> <text x="502" y="10">500</text> <text x="552" y="10">550</text> <text x="602" y="10">600</text> <text x="652" y="10">650</text> <text x="702" y="10">700</text> <text x="752" y="10">750</text> <text x="802" y="10">800</text> <text x="2" y="0">0</text> <text x="2" y="50">50</text> <text x="2" y="100">100</text> <text x="2" y="150">150</text> <text x="2" y="200">200</text> <text x="2" y="250">250</text> <text x="2" y="300">300</text> <text x="2" y="350">350</text> <text x="2" y="400">400</text> </g> <line stroke="blue" x1="0" y1="200" x2="800" y2="200"></line> <line stroke="blue" x1="400" y1="0" x2="400" y2="400"></line> <g transform="translate(100,40)"> <line stroke="red" stroke-dasharray="10" stroke-width="4" x1="0" y1="0" x2="800" y2="0"></line> <line stroke="red" stroke-dasharray="10" stroke-width="4" x1="0" y1="0" x2="0" y2="400"></line> <line stroke="green" stroke-dasharray="15" stroke-width="4" x1="800" y1="400" x2="800" y2="0"></line> <line stroke="green" stroke-dasharray="15" stroke-width="4" x1="800" y1="400" x2="0" y2="400"></line> <line stroke="blue" stroke-dasharray="10" x1="0" y1="200" x2="800" y2="200"></line> <line stroke="blue" stroke-dasharray="10" x1="400" y1="0" x2="400" y2="400"></line> <rect stroke="black" fill="blue" opacity="0.3" width="100" height="50" x="350" y="200"></rect> <circle r="50" stroke="black" fill="red" opacity="0.3" cx="450" cy="200"></circle> <circle r="50" stroke="black" fill="green" opacity="0.3" cx="350" cy="200"></circle> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="400" y="200">( 400 , 200 )</text> </g>
</svg>
</div>
<div id="translatec-100-40" class="section level4">
<h4>translate=c(-100,-40)</h4>
<pre class="r"><code>WH=c(800, 400) # window rect
svgR( 
  myBack(WH, &quot;With Transform translate=c(-100,-40)&quot;),
  cirCirSqr(cxy=WH/2, transform=list(translate=c(-100,-40))) 
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="400">
<text font-size="18" x="20" y="25">With Transform translate=c(-100,-40)</text> <g stroke-width="1" font-size="10" stroke="lightgrey"> <line x1="0" y1="0" x2="0" y2="400"></line> <line x1="50" y1="0" x2="50" y2="400"></line> <line x1="100" y1="0" x2="100" y2="400"></line> <line x1="150" y1="0" x2="150" y2="400"></line> <line x1="200" y1="0" x2="200" y2="400"></line> <line x1="250" y1="0" x2="250" y2="400"></line> <line x1="300" y1="0" x2="300" y2="400"></line> <line x1="350" y1="0" x2="350" y2="400"></line> <line x1="400" y1="0" x2="400" y2="400"></line> <line x1="450" y1="0" x2="450" y2="400"></line> <line x1="500" y1="0" x2="500" y2="400"></line> <line x1="550" y1="0" x2="550" y2="400"></line> <line x1="600" y1="0" x2="600" y2="400"></line> <line x1="650" y1="0" x2="650" y2="400"></line> <line x1="700" y1="0" x2="700" y2="400"></line> <line x1="750" y1="0" x2="750" y2="400"></line> <line x1="800" y1="0" x2="800" y2="400"></line> <line x1="0" y1="0" x2="800" y2="0"></line> <line x1="0" y1="50" x2="800" y2="50"></line> <line x1="0" y1="100" x2="800" y2="100"></line> <line x1="0" y1="150" x2="800" y2="150"></line> <line x1="0" y1="200" x2="800" y2="200"></line> <line x1="0" y1="250" x2="800" y2="250"></line> <line x1="0" y1="300" x2="800" y2="300"></line> <line x1="0" y1="350" x2="800" y2="350"></line> <line x1="0" y1="400" x2="800" y2="400"></line> <text x="2" y="10">0</text> <text x="52" y="10">50</text> <text x="102" y="10">100</text> <text x="152" y="10">150</text> <text x="202" y="10">200</text> <text x="252" y="10">250</text> <text x="302" y="10">300</text> <text x="352" y="10">350</text> <text x="402" y="10">400</text> <text x="452" y="10">450</text> <text x="502" y="10">500</text> <text x="552" y="10">550</text> <text x="602" y="10">600</text> <text x="652" y="10">650</text> <text x="702" y="10">700</text> <text x="752" y="10">750</text> <text x="802" y="10">800</text> <text x="2" y="0">0</text> <text x="2" y="50">50</text> <text x="2" y="100">100</text> <text x="2" y="150">150</text> <text x="2" y="200">200</text> <text x="2" y="250">250</text> <text x="2" y="300">300</text> <text x="2" y="350">350</text> <text x="2" y="400">400</text> </g> <line stroke="blue" x1="0" y1="200" x2="800" y2="200"></line> <line stroke="blue" x1="400" y1="0" x2="400" y2="400"></line> <g transform="translate(-100,-40)"> <line stroke="red" stroke-dasharray="10" stroke-width="4" x1="0" y1="0" x2="800" y2="0"></line> <line stroke="red" stroke-dasharray="10" stroke-width="4" x1="0" y1="0" x2="0" y2="400"></line> <line stroke="green" stroke-dasharray="15" stroke-width="4" x1="800" y1="400" x2="800" y2="0"></line> <line stroke="green" stroke-dasharray="15" stroke-width="4" x1="800" y1="400" x2="0" y2="400"></line> <line stroke="blue" stroke-dasharray="10" x1="0" y1="200" x2="800" y2="200"></line> <line stroke="blue" stroke-dasharray="10" x1="400" y1="0" x2="400" y2="400"></line> <rect stroke="black" fill="blue" opacity="0.3" width="100" height="50" x="350" y="200"></rect> <circle r="50" stroke="black" fill="red" opacity="0.3" cx="450" cy="200"></circle> <circle r="50" stroke="black" fill="green" opacity="0.3" cx="350" cy="200"></circle> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="400" y="200">( 400 , 200 )</text> </g>
</svg>
</div>
</div>
<div id="scaling" class="section level3">
<h3>Scaling</h3>
<p>Scaling can be applied horizontally, vertically, or both. A factor of 1 leaves the figure unscaled. A facor greater than 1 magnifies and factor less that 1 reduces. In our examples, we use values less than 1, so that the entire image can be seen.</p>
<div id="scaling-about-the-origin" class="section level4">
<h4>Scaling about the Origin</h4>
<p>We begin by presenting two examples:</p>
<ul>
<li>The first scales by a factor of <span class="math inline">\(\frac{1}{2}\)</span> horizontally</li>
</ul>
<pre class="r"><code>WH=c(800, 400) # window rect
svgR( 
  myBack(WH, &quot;With Transform scale=.5&quot;),
  cirCirSqr(cxy=WH/2, transform=list(scale=c(.5,1))) 
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="400">
<text font-size="18" x="20" y="25">With Transform scale=.5</text> <g stroke-width="1" font-size="10" stroke="lightgrey"> <line x1="0" y1="0" x2="0" y2="400"></line> <line x1="50" y1="0" x2="50" y2="400"></line> <line x1="100" y1="0" x2="100" y2="400"></line> <line x1="150" y1="0" x2="150" y2="400"></line> <line x1="200" y1="0" x2="200" y2="400"></line> <line x1="250" y1="0" x2="250" y2="400"></line> <line x1="300" y1="0" x2="300" y2="400"></line> <line x1="350" y1="0" x2="350" y2="400"></line> <line x1="400" y1="0" x2="400" y2="400"></line> <line x1="450" y1="0" x2="450" y2="400"></line> <line x1="500" y1="0" x2="500" y2="400"></line> <line x1="550" y1="0" x2="550" y2="400"></line> <line x1="600" y1="0" x2="600" y2="400"></line> <line x1="650" y1="0" x2="650" y2="400"></line> <line x1="700" y1="0" x2="700" y2="400"></line> <line x1="750" y1="0" x2="750" y2="400"></line> <line x1="800" y1="0" x2="800" y2="400"></line> <line x1="0" y1="0" x2="800" y2="0"></line> <line x1="0" y1="50" x2="800" y2="50"></line> <line x1="0" y1="100" x2="800" y2="100"></line> <line x1="0" y1="150" x2="800" y2="150"></line> <line x1="0" y1="200" x2="800" y2="200"></line> <line x1="0" y1="250" x2="800" y2="250"></line> <line x1="0" y1="300" x2="800" y2="300"></line> <line x1="0" y1="350" x2="800" y2="350"></line> <line x1="0" y1="400" x2="800" y2="400"></line> <text x="2" y="10">0</text> <text x="52" y="10">50</text> <text x="102" y="10">100</text> <text x="152" y="10">150</text> <text x="202" y="10">200</text> <text x="252" y="10">250</text> <text x="302" y="10">300</text> <text x="352" y="10">350</text> <text x="402" y="10">400</text> <text x="452" y="10">450</text> <text x="502" y="10">500</text> <text x="552" y="10">550</text> <text x="602" y="10">600</text> <text x="652" y="10">650</text> <text x="702" y="10">700</text> <text x="752" y="10">750</text> <text x="802" y="10">800</text> <text x="2" y="0">0</text> <text x="2" y="50">50</text> <text x="2" y="100">100</text> <text x="2" y="150">150</text> <text x="2" y="200">200</text> <text x="2" y="250">250</text> <text x="2" y="300">300</text> <text x="2" y="350">350</text> <text x="2" y="400">400</text> </g> <line stroke="blue" x1="0" y1="200" x2="800" y2="200"></line> <line stroke="blue" x1="400" y1="0" x2="400" y2="400"></line> <g transform="scale(0.5,1)"> <line stroke="red" stroke-dasharray="10" stroke-width="4" x1="0" y1="0" x2="800" y2="0"></line> <line stroke="red" stroke-dasharray="10" stroke-width="4" x1="0" y1="0" x2="0" y2="400"></line> <line stroke="green" stroke-dasharray="15" stroke-width="4" x1="800" y1="400" x2="800" y2="0"></line> <line stroke="green" stroke-dasharray="15" stroke-width="4" x1="800" y1="400" x2="0" y2="400"></line> <line stroke="blue" stroke-dasharray="10" x1="0" y1="200" x2="800" y2="200"></line> <line stroke="blue" stroke-dasharray="10" x1="400" y1="0" x2="400" y2="400"></line> <rect stroke="black" fill="blue" opacity="0.3" width="100" height="50" x="350" y="200"></rect> <circle r="50" stroke="black" fill="red" opacity="0.3" cx="450" cy="200"></circle> <circle r="50" stroke="black" fill="green" opacity="0.3" cx="350" cy="200"></circle> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="400" y="200">( 400 , 200 )</text> </g>
</svg>
<ul>
<li>The seconds scales in both directions by a factor of <span class="math inline">\(\frac{1}{2}\)</span></li>
</ul>
<pre class="r"><code>WH=c(800, 400) # window rect
svgR( 
  myBack(WH, &quot;With Transform scale=.5&quot;),
  cirCirSqr(cxy=WH/2, transform=list(scale=.5) ) 
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="400">
<text font-size="18" x="20" y="25">With Transform scale=.5</text> <g stroke-width="1" font-size="10" stroke="lightgrey"> <line x1="0" y1="0" x2="0" y2="400"></line> <line x1="50" y1="0" x2="50" y2="400"></line> <line x1="100" y1="0" x2="100" y2="400"></line> <line x1="150" y1="0" x2="150" y2="400"></line> <line x1="200" y1="0" x2="200" y2="400"></line> <line x1="250" y1="0" x2="250" y2="400"></line> <line x1="300" y1="0" x2="300" y2="400"></line> <line x1="350" y1="0" x2="350" y2="400"></line> <line x1="400" y1="0" x2="400" y2="400"></line> <line x1="450" y1="0" x2="450" y2="400"></line> <line x1="500" y1="0" x2="500" y2="400"></line> <line x1="550" y1="0" x2="550" y2="400"></line> <line x1="600" y1="0" x2="600" y2="400"></line> <line x1="650" y1="0" x2="650" y2="400"></line> <line x1="700" y1="0" x2="700" y2="400"></line> <line x1="750" y1="0" x2="750" y2="400"></line> <line x1="800" y1="0" x2="800" y2="400"></line> <line x1="0" y1="0" x2="800" y2="0"></line> <line x1="0" y1="50" x2="800" y2="50"></line> <line x1="0" y1="100" x2="800" y2="100"></line> <line x1="0" y1="150" x2="800" y2="150"></line> <line x1="0" y1="200" x2="800" y2="200"></line> <line x1="0" y1="250" x2="800" y2="250"></line> <line x1="0" y1="300" x2="800" y2="300"></line> <line x1="0" y1="350" x2="800" y2="350"></line> <line x1="0" y1="400" x2="800" y2="400"></line> <text x="2" y="10">0</text> <text x="52" y="10">50</text> <text x="102" y="10">100</text> <text x="152" y="10">150</text> <text x="202" y="10">200</text> <text x="252" y="10">250</text> <text x="302" y="10">300</text> <text x="352" y="10">350</text> <text x="402" y="10">400</text> <text x="452" y="10">450</text> <text x="502" y="10">500</text> <text x="552" y="10">550</text> <text x="602" y="10">600</text> <text x="652" y="10">650</text> <text x="702" y="10">700</text> <text x="752" y="10">750</text> <text x="802" y="10">800</text> <text x="2" y="0">0</text> <text x="2" y="50">50</text> <text x="2" y="100">100</text> <text x="2" y="150">150</text> <text x="2" y="200">200</text> <text x="2" y="250">250</text> <text x="2" y="300">300</text> <text x="2" y="350">350</text> <text x="2" y="400">400</text> </g> <line stroke="blue" x1="0" y1="200" x2="800" y2="200"></line> <line stroke="blue" x1="400" y1="0" x2="400" y2="400"></line> <g transform="scale(0.5)"> <line stroke="red" stroke-dasharray="10" stroke-width="4" x1="0" y1="0" x2="800" y2="0"></line> <line stroke="red" stroke-dasharray="10" stroke-width="4" x1="0" y1="0" x2="0" y2="400"></line> <line stroke="green" stroke-dasharray="15" stroke-width="4" x1="800" y1="400" x2="800" y2="0"></line> <line stroke="green" stroke-dasharray="15" stroke-width="4" x1="800" y1="400" x2="0" y2="400"></line> <line stroke="blue" stroke-dasharray="10" x1="0" y1="200" x2="800" y2="200"></line> <line stroke="blue" stroke-dasharray="10" x1="400" y1="0" x2="400" y2="400"></line> <rect stroke="black" fill="blue" opacity="0.3" width="100" height="50" x="350" y="200"></rect> <circle r="50" stroke="black" fill="red" opacity="0.3" cx="450" cy="200"></circle> <circle r="50" stroke="black" fill="green" opacity="0.3" cx="350" cy="200"></circle> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="400" y="200">( 400 , 200 )</text> </g>
</svg>
<p><strong>Note:</strong> The dimension of our figure have been reduce by <span class="math inline">\(\frac{1}{2}\)</span> and the distance to origin has been halved. This is because scaling is scales using the origin as its fixed point. (Other points change)</p>
</div>
<div id="scaling-about-a-given-fixed-point" class="section level4">
<h4>Scaling about a Given Fixed Point</h4>
<p>To scale about a given point pt, we move pt p to the center, scale and then move back. More precicely, if p is the fixed point and <span class="math inline">\(\alpha\)</span> the scale factor, then</p>
<ol style="list-style-type: decimal">
<li>translate by -p</li>
<li>scale by <span class="math inline">\(\alpha\)</span></li>
<li>translate back by <span class="math inline">\(\frac{2p}{\alpha} -p\)</span></li>
</ol>
<p>For example:</p>
<pre class="r"><code>WH=c(800, 400) # window rect
alpha&lt;-.3
svgR( 
  myBack(WH, &quot;Transform: scale=0.3 with center fixed&quot;),
  cirCirSqr(cxy=WH/2, transform=list(translate=-0.5*WH, scale=alpha, translate=WH*(1/alpha -1/2)))
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="400">
<text font-size="18" x="20" y="25">Transform: scale=0.3 with center fixed</text> <g stroke-width="1" font-size="10" stroke="lightgrey"> <line x1="0" y1="0" x2="0" y2="400"></line> <line x1="50" y1="0" x2="50" y2="400"></line> <line x1="100" y1="0" x2="100" y2="400"></line> <line x1="150" y1="0" x2="150" y2="400"></line> <line x1="200" y1="0" x2="200" y2="400"></line> <line x1="250" y1="0" x2="250" y2="400"></line> <line x1="300" y1="0" x2="300" y2="400"></line> <line x1="350" y1="0" x2="350" y2="400"></line> <line x1="400" y1="0" x2="400" y2="400"></line> <line x1="450" y1="0" x2="450" y2="400"></line> <line x1="500" y1="0" x2="500" y2="400"></line> <line x1="550" y1="0" x2="550" y2="400"></line> <line x1="600" y1="0" x2="600" y2="400"></line> <line x1="650" y1="0" x2="650" y2="400"></line> <line x1="700" y1="0" x2="700" y2="400"></line> <line x1="750" y1="0" x2="750" y2="400"></line> <line x1="800" y1="0" x2="800" y2="400"></line> <line x1="0" y1="0" x2="800" y2="0"></line> <line x1="0" y1="50" x2="800" y2="50"></line> <line x1="0" y1="100" x2="800" y2="100"></line> <line x1="0" y1="150" x2="800" y2="150"></line> <line x1="0" y1="200" x2="800" y2="200"></line> <line x1="0" y1="250" x2="800" y2="250"></line> <line x1="0" y1="300" x2="800" y2="300"></line> <line x1="0" y1="350" x2="800" y2="350"></line> <line x1="0" y1="400" x2="800" y2="400"></line> <text x="2" y="10">0</text> <text x="52" y="10">50</text> <text x="102" y="10">100</text> <text x="152" y="10">150</text> <text x="202" y="10">200</text> <text x="252" y="10">250</text> <text x="302" y="10">300</text> <text x="352" y="10">350</text> <text x="402" y="10">400</text> <text x="452" y="10">450</text> <text x="502" y="10">500</text> <text x="552" y="10">550</text> <text x="602" y="10">600</text> <text x="652" y="10">650</text> <text x="702" y="10">700</text> <text x="752" y="10">750</text> <text x="802" y="10">800</text> <text x="2" y="0">0</text> <text x="2" y="50">50</text> <text x="2" y="100">100</text> <text x="2" y="150">150</text> <text x="2" y="200">200</text> <text x="2" y="250">250</text> <text x="2" y="300">300</text> <text x="2" y="350">350</text> <text x="2" y="400">400</text> </g> <line stroke="blue" x1="0" y1="200" x2="800" y2="200"></line> <line stroke="blue" x1="400" y1="0" x2="400" y2="400"></line> <g transform="translate(-400,-200) scale(0.3) translate(2266.66666666667,1133.33333333333)"> <line stroke="red" stroke-dasharray="10" stroke-width="4" x1="0" y1="0" x2="800" y2="0"></line> <line stroke="red" stroke-dasharray="10" stroke-width="4" x1="0" y1="0" x2="0" y2="400"></line> <line stroke="green" stroke-dasharray="15" stroke-width="4" x1="800" y1="400" x2="800" y2="0"></line> <line stroke="green" stroke-dasharray="15" stroke-width="4" x1="800" y1="400" x2="0" y2="400"></line> <line stroke="blue" stroke-dasharray="10" x1="0" y1="200" x2="800" y2="200"></line> <line stroke="blue" stroke-dasharray="10" x1="400" y1="0" x2="400" y2="400"></line> <rect stroke="black" fill="blue" opacity="0.3" width="100" height="50" x="350" y="200"></rect> <circle r="50" stroke="black" fill="red" opacity="0.3" cx="450" cy="200"></circle> <circle r="50" stroke="black" fill="green" opacity="0.3" cx="350" cy="200"></circle> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="400" y="200">( 400 , 200 )</text> </g>
</svg>
<p>Above we scale with a fixed center, below we start with an image centered at c(.25,.25)<em>WH and scale with a value of .3, with a fixed point of c(.25,.25)</em>WH.</p>
<pre class="r"><code>WH=c(800, 400) # window rect
alpha&lt;-.3
pt&lt;-c(.25,.25)
svgR( 
  myBack(WH, &quot;With Transform scale=0.3 and fixed point c(.25,.25)&quot;),
  cirCirSqr(cxy=pt*WH, transform=list(translate=-pt*WH, scale=alpha, 
                                  translate=WH*(2*pt/alpha - pt)))
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="400">
<text font-size="18" x="20" y="25">With Transform scale=0.3 and fixed point c(.25,.25)</text> <g stroke-width="1" font-size="10" stroke="lightgrey"> <line x1="0" y1="0" x2="0" y2="400"></line> <line x1="50" y1="0" x2="50" y2="400"></line> <line x1="100" y1="0" x2="100" y2="400"></line> <line x1="150" y1="0" x2="150" y2="400"></line> <line x1="200" y1="0" x2="200" y2="400"></line> <line x1="250" y1="0" x2="250" y2="400"></line> <line x1="300" y1="0" x2="300" y2="400"></line> <line x1="350" y1="0" x2="350" y2="400"></line> <line x1="400" y1="0" x2="400" y2="400"></line> <line x1="450" y1="0" x2="450" y2="400"></line> <line x1="500" y1="0" x2="500" y2="400"></line> <line x1="550" y1="0" x2="550" y2="400"></line> <line x1="600" y1="0" x2="600" y2="400"></line> <line x1="650" y1="0" x2="650" y2="400"></line> <line x1="700" y1="0" x2="700" y2="400"></line> <line x1="750" y1="0" x2="750" y2="400"></line> <line x1="800" y1="0" x2="800" y2="400"></line> <line x1="0" y1="0" x2="800" y2="0"></line> <line x1="0" y1="50" x2="800" y2="50"></line> <line x1="0" y1="100" x2="800" y2="100"></line> <line x1="0" y1="150" x2="800" y2="150"></line> <line x1="0" y1="200" x2="800" y2="200"></line> <line x1="0" y1="250" x2="800" y2="250"></line> <line x1="0" y1="300" x2="800" y2="300"></line> <line x1="0" y1="350" x2="800" y2="350"></line> <line x1="0" y1="400" x2="800" y2="400"></line> <text x="2" y="10">0</text> <text x="52" y="10">50</text> <text x="102" y="10">100</text> <text x="152" y="10">150</text> <text x="202" y="10">200</text> <text x="252" y="10">250</text> <text x="302" y="10">300</text> <text x="352" y="10">350</text> <text x="402" y="10">400</text> <text x="452" y="10">450</text> <text x="502" y="10">500</text> <text x="552" y="10">550</text> <text x="602" y="10">600</text> <text x="652" y="10">650</text> <text x="702" y="10">700</text> <text x="752" y="10">750</text> <text x="802" y="10">800</text> <text x="2" y="0">0</text> <text x="2" y="50">50</text> <text x="2" y="100">100</text> <text x="2" y="150">150</text> <text x="2" y="200">200</text> <text x="2" y="250">250</text> <text x="2" y="300">300</text> <text x="2" y="350">350</text> <text x="2" y="400">400</text> </g> <line stroke="blue" x1="0" y1="200" x2="800" y2="200"></line> <line stroke="blue" x1="400" y1="0" x2="400" y2="400"></line> <g transform="translate(-200,-100) scale(0.3) translate(1133.33333333333,566.666666666667)"> <line stroke="red" stroke-dasharray="10" stroke-width="4" x1="0" y1="0" x2="800" y2="0"></line> <line stroke="red" stroke-dasharray="10" stroke-width="4" x1="0" y1="0" x2="0" y2="400"></line> <line stroke="green" stroke-dasharray="15" stroke-width="4" x1="800" y1="400" x2="800" y2="0"></line> <line stroke="green" stroke-dasharray="15" stroke-width="4" x1="800" y1="400" x2="0" y2="400"></line> <line stroke="blue" stroke-dasharray="10" x1="0" y1="200" x2="800" y2="200"></line> <line stroke="blue" stroke-dasharray="10" x1="400" y1="0" x2="400" y2="400"></line> <rect stroke="black" fill="blue" opacity="0.3" width="100" height="50" x="150" y="100"></rect> <circle r="50" stroke="black" fill="red" opacity="0.3" cx="250" cy="100"></circle> <circle r="50" stroke="black" fill="green" opacity="0.3" cx="150" cy="100"></circle> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="200" y="100">( 200 , 100 )</text> </g>
</svg>
</div>
<div id="reflections" class="section level4">
<h4>Reflections</h4>
<p>Reflections are a special case of scaling. Just use a negative as a scale factor. We give 2 examples:</p>
<div id="vertical-reflection-though-the-center" class="section level5">
<h5>Vertical Reflection though the center,</h5>
<pre class="r"><code>WH=c(800, 400) # window rect
alpha&lt;-c(1,-1)
pt&lt;-c(.5,.5)
svgR( 
  myBack(WH, &quot;Reflection scale=c(1,-1) and fixed point=c(0,0)&quot;),
  cirCirSqr(cxy=pt*WH, transform=list(translate=-pt*WH, scale=alpha, 
                                  translate=WH*(2*pt/alpha - pt)))
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="400">
<text font-size="18" x="20" y="25">Reflection scale=c(1,-1) and fixed point=c(0,0)</text> <g stroke-width="1" font-size="10" stroke="lightgrey"> <line x1="0" y1="0" x2="0" y2="400"></line> <line x1="50" y1="0" x2="50" y2="400"></line> <line x1="100" y1="0" x2="100" y2="400"></line> <line x1="150" y1="0" x2="150" y2="400"></line> <line x1="200" y1="0" x2="200" y2="400"></line> <line x1="250" y1="0" x2="250" y2="400"></line> <line x1="300" y1="0" x2="300" y2="400"></line> <line x1="350" y1="0" x2="350" y2="400"></line> <line x1="400" y1="0" x2="400" y2="400"></line> <line x1="450" y1="0" x2="450" y2="400"></line> <line x1="500" y1="0" x2="500" y2="400"></line> <line x1="550" y1="0" x2="550" y2="400"></line> <line x1="600" y1="0" x2="600" y2="400"></line> <line x1="650" y1="0" x2="650" y2="400"></line> <line x1="700" y1="0" x2="700" y2="400"></line> <line x1="750" y1="0" x2="750" y2="400"></line> <line x1="800" y1="0" x2="800" y2="400"></line> <line x1="0" y1="0" x2="800" y2="0"></line> <line x1="0" y1="50" x2="800" y2="50"></line> <line x1="0" y1="100" x2="800" y2="100"></line> <line x1="0" y1="150" x2="800" y2="150"></line> <line x1="0" y1="200" x2="800" y2="200"></line> <line x1="0" y1="250" x2="800" y2="250"></line> <line x1="0" y1="300" x2="800" y2="300"></line> <line x1="0" y1="350" x2="800" y2="350"></line> <line x1="0" y1="400" x2="800" y2="400"></line> <text x="2" y="10">0</text> <text x="52" y="10">50</text> <text x="102" y="10">100</text> <text x="152" y="10">150</text> <text x="202" y="10">200</text> <text x="252" y="10">250</text> <text x="302" y="10">300</text> <text x="352" y="10">350</text> <text x="402" y="10">400</text> <text x="452" y="10">450</text> <text x="502" y="10">500</text> <text x="552" y="10">550</text> <text x="602" y="10">600</text> <text x="652" y="10">650</text> <text x="702" y="10">700</text> <text x="752" y="10">750</text> <text x="802" y="10">800</text> <text x="2" y="0">0</text> <text x="2" y="50">50</text> <text x="2" y="100">100</text> <text x="2" y="150">150</text> <text x="2" y="200">200</text> <text x="2" y="250">250</text> <text x="2" y="300">300</text> <text x="2" y="350">350</text> <text x="2" y="400">400</text> </g> <line stroke="blue" x1="0" y1="200" x2="800" y2="200"></line> <line stroke="blue" x1="400" y1="0" x2="400" y2="400"></line> <g transform="translate(-400,-200) scale(1,-1) translate(400,-600)"> <line stroke="red" stroke-dasharray="10" stroke-width="4" x1="0" y1="0" x2="800" y2="0"></line> <line stroke="red" stroke-dasharray="10" stroke-width="4" x1="0" y1="0" x2="0" y2="400"></line> <line stroke="green" stroke-dasharray="15" stroke-width="4" x1="800" y1="400" x2="800" y2="0"></line> <line stroke="green" stroke-dasharray="15" stroke-width="4" x1="800" y1="400" x2="0" y2="400"></line> <line stroke="blue" stroke-dasharray="10" x1="0" y1="200" x2="800" y2="200"></line> <line stroke="blue" stroke-dasharray="10" x1="400" y1="0" x2="400" y2="400"></line> <rect stroke="black" fill="blue" opacity="0.3" width="100" height="50" x="350" y="200"></rect> <circle r="50" stroke="black" fill="red" opacity="0.3" cx="450" cy="200"></circle> <circle r="50" stroke="black" fill="green" opacity="0.3" cx="350" cy="200"></circle> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="400" y="200">( 400 , 200 )</text> </g>
</svg>
</div>
</div>
</div>
<div id="rotations" class="section level3">
<h3>Rotations</h3>
<p>Like scaling, rotations default to having the origin be the fixed point.</p>
<div id="rotation-about-the-origin" class="section level4">
<h4>Rotation about the Origin:</h4>
<p>This is simple rotate by 10 degrees (For those not familiar with degrees, thats <span class="math inline">\(\frac{pi}{18}\)</span>)</p>
<pre class="r"><code>WH=c(800, 400) # window rect
degrees&lt;-10
svgR(  
  myBack(WH, paste0(&quot;With Transform rotate=&quot;,degrees)),
  g(cirCirSqr(cxy=WH/2),
     transform=list(rotate=degrees)
  )
) </code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="400">
<text font-size="18" x="20" y="25">With Transform rotate=10</text> <g stroke-width="1" font-size="10" stroke="lightgrey"> <line x1="0" y1="0" x2="0" y2="400"></line> <line x1="50" y1="0" x2="50" y2="400"></line> <line x1="100" y1="0" x2="100" y2="400"></line> <line x1="150" y1="0" x2="150" y2="400"></line> <line x1="200" y1="0" x2="200" y2="400"></line> <line x1="250" y1="0" x2="250" y2="400"></line> <line x1="300" y1="0" x2="300" y2="400"></line> <line x1="350" y1="0" x2="350" y2="400"></line> <line x1="400" y1="0" x2="400" y2="400"></line> <line x1="450" y1="0" x2="450" y2="400"></line> <line x1="500" y1="0" x2="500" y2="400"></line> <line x1="550" y1="0" x2="550" y2="400"></line> <line x1="600" y1="0" x2="600" y2="400"></line> <line x1="650" y1="0" x2="650" y2="400"></line> <line x1="700" y1="0" x2="700" y2="400"></line> <line x1="750" y1="0" x2="750" y2="400"></line> <line x1="800" y1="0" x2="800" y2="400"></line> <line x1="0" y1="0" x2="800" y2="0"></line> <line x1="0" y1="50" x2="800" y2="50"></line> <line x1="0" y1="100" x2="800" y2="100"></line> <line x1="0" y1="150" x2="800" y2="150"></line> <line x1="0" y1="200" x2="800" y2="200"></line> <line x1="0" y1="250" x2="800" y2="250"></line> <line x1="0" y1="300" x2="800" y2="300"></line> <line x1="0" y1="350" x2="800" y2="350"></line> <line x1="0" y1="400" x2="800" y2="400"></line> <text x="2" y="10">0</text> <text x="52" y="10">50</text> <text x="102" y="10">100</text> <text x="152" y="10">150</text> <text x="202" y="10">200</text> <text x="252" y="10">250</text> <text x="302" y="10">300</text> <text x="352" y="10">350</text> <text x="402" y="10">400</text> <text x="452" y="10">450</text> <text x="502" y="10">500</text> <text x="552" y="10">550</text> <text x="602" y="10">600</text> <text x="652" y="10">650</text> <text x="702" y="10">700</text> <text x="752" y="10">750</text> <text x="802" y="10">800</text> <text x="2" y="0">0</text> <text x="2" y="50">50</text> <text x="2" y="100">100</text> <text x="2" y="150">150</text> <text x="2" y="200">200</text> <text x="2" y="250">250</text> <text x="2" y="300">300</text> <text x="2" y="350">350</text> <text x="2" y="400">400</text> </g> <line stroke="blue" x1="0" y1="200" x2="800" y2="200"></line> <line stroke="blue" x1="400" y1="0" x2="400" y2="400"></line> <g transform="rotate(10)"> <g> <line stroke="red" stroke-dasharray="10" stroke-width="4" x1="0" y1="0" x2="800" y2="0"></line> <line stroke="red" stroke-dasharray="10" stroke-width="4" x1="0" y1="0" x2="0" y2="400"></line> <line stroke="green" stroke-dasharray="15" stroke-width="4" x1="800" y1="400" x2="800" y2="0"></line> <line stroke="green" stroke-dasharray="15" stroke-width="4" x1="800" y1="400" x2="0" y2="400"></line> <line stroke="blue" stroke-dasharray="10" x1="0" y1="200" x2="800" y2="200"></line> <line stroke="blue" stroke-dasharray="10" x1="400" y1="0" x2="400" y2="400"></line> <rect stroke="black" fill="blue" opacity="0.3" width="100" height="50" x="350" y="200"></rect> <circle r="50" stroke="black" fill="red" opacity="0.3" cx="450" cy="200"></circle> <circle r="50" stroke="black" fill="green" opacity="0.3" cx="350" cy="200"></circle> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="400" y="200">( 400 , 200 )</text> </g> </g>
</svg>
<p><strong>Observer:</strong> Rotation is about the origin.</p>
</div>
<div id="rotation-about-a-fixed-point" class="section level4">
<h4>Rotation about a Fixed Point</h4>
<div id="transformlistrotatec5400200" class="section level5">
<h5>transform=list(rotate=c(5,400,200))</h5>
<p>Althought we can try an approach similar to what was done for scaling, we fortunately have an easy alternative, simple supply the position of the fixed point as the second and third coordinates:</p>
<p>Here we rotated about the center of our viewPort.</p>
<pre class="r"><code>WH=c(800, 400) # window rect
svgR( 
  myBack(WH, &quot;With Transform rotate=c(5, WH/2)&quot;),
  g(cirCirSqr(cxy=WH/2),
     transform=list(rotate=c(5, WH/2))
  )
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="400">
<text font-size="18" x="20" y="25">With Transform rotate=c(5, WH/2)</text> <g stroke-width="1" font-size="10" stroke="lightgrey"> <line x1="0" y1="0" x2="0" y2="400"></line> <line x1="50" y1="0" x2="50" y2="400"></line> <line x1="100" y1="0" x2="100" y2="400"></line> <line x1="150" y1="0" x2="150" y2="400"></line> <line x1="200" y1="0" x2="200" y2="400"></line> <line x1="250" y1="0" x2="250" y2="400"></line> <line x1="300" y1="0" x2="300" y2="400"></line> <line x1="350" y1="0" x2="350" y2="400"></line> <line x1="400" y1="0" x2="400" y2="400"></line> <line x1="450" y1="0" x2="450" y2="400"></line> <line x1="500" y1="0" x2="500" y2="400"></line> <line x1="550" y1="0" x2="550" y2="400"></line> <line x1="600" y1="0" x2="600" y2="400"></line> <line x1="650" y1="0" x2="650" y2="400"></line> <line x1="700" y1="0" x2="700" y2="400"></line> <line x1="750" y1="0" x2="750" y2="400"></line> <line x1="800" y1="0" x2="800" y2="400"></line> <line x1="0" y1="0" x2="800" y2="0"></line> <line x1="0" y1="50" x2="800" y2="50"></line> <line x1="0" y1="100" x2="800" y2="100"></line> <line x1="0" y1="150" x2="800" y2="150"></line> <line x1="0" y1="200" x2="800" y2="200"></line> <line x1="0" y1="250" x2="800" y2="250"></line> <line x1="0" y1="300" x2="800" y2="300"></line> <line x1="0" y1="350" x2="800" y2="350"></line> <line x1="0" y1="400" x2="800" y2="400"></line> <text x="2" y="10">0</text> <text x="52" y="10">50</text> <text x="102" y="10">100</text> <text x="152" y="10">150</text> <text x="202" y="10">200</text> <text x="252" y="10">250</text> <text x="302" y="10">300</text> <text x="352" y="10">350</text> <text x="402" y="10">400</text> <text x="452" y="10">450</text> <text x="502" y="10">500</text> <text x="552" y="10">550</text> <text x="602" y="10">600</text> <text x="652" y="10">650</text> <text x="702" y="10">700</text> <text x="752" y="10">750</text> <text x="802" y="10">800</text> <text x="2" y="0">0</text> <text x="2" y="50">50</text> <text x="2" y="100">100</text> <text x="2" y="150">150</text> <text x="2" y="200">200</text> <text x="2" y="250">250</text> <text x="2" y="300">300</text> <text x="2" y="350">350</text> <text x="2" y="400">400</text> </g> <line stroke="blue" x1="0" y1="200" x2="800" y2="200"></line> <line stroke="blue" x1="400" y1="0" x2="400" y2="400"></line> <g transform="rotate(5,400,200)"> <g> <line stroke="red" stroke-dasharray="10" stroke-width="4" x1="0" y1="0" x2="800" y2="0"></line> <line stroke="red" stroke-dasharray="10" stroke-width="4" x1="0" y1="0" x2="0" y2="400"></line> <line stroke="green" stroke-dasharray="15" stroke-width="4" x1="800" y1="400" x2="800" y2="0"></line> <line stroke="green" stroke-dasharray="15" stroke-width="4" x1="800" y1="400" x2="0" y2="400"></line> <line stroke="blue" stroke-dasharray="10" x1="0" y1="200" x2="800" y2="200"></line> <line stroke="blue" stroke-dasharray="10" x1="400" y1="0" x2="400" y2="400"></line> <rect stroke="black" fill="blue" opacity="0.3" width="100" height="50" x="350" y="200"></rect> <circle r="50" stroke="black" fill="red" opacity="0.3" cx="450" cy="200"></circle> <circle r="50" stroke="black" fill="green" opacity="0.3" cx="350" cy="200"></circle> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="400" y="200">( 400 , 200 )</text> </g> </g>
</svg>
</div>
</div>
</div>
<div id="skewing" class="section level3">
<h3>Skewing</h3>
<p>There are two skews available: skewX, skewY. They are illustrated as following:</p>
<div id="skewx30" class="section level4">
<h4>skewX=30</h4>
<p>SkewX (a shear stress) by an angle of <span class="math inline">\(\frac{\pi}{6}\)</span></p>
<pre class="r"><code>WH=c(800, 400) # window rect
svgR( 
  myBack(WH, &quot;With Transform skewX=30&quot;),
  g(cirCirSqr(cxy=WH/2),
     transform=list(skewX=30)
  )
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="400">
<text font-size="18" x="20" y="25">With Transform skewX=30</text> <g stroke-width="1" font-size="10" stroke="lightgrey"> <line x1="0" y1="0" x2="0" y2="400"></line> <line x1="50" y1="0" x2="50" y2="400"></line> <line x1="100" y1="0" x2="100" y2="400"></line> <line x1="150" y1="0" x2="150" y2="400"></line> <line x1="200" y1="0" x2="200" y2="400"></line> <line x1="250" y1="0" x2="250" y2="400"></line> <line x1="300" y1="0" x2="300" y2="400"></line> <line x1="350" y1="0" x2="350" y2="400"></line> <line x1="400" y1="0" x2="400" y2="400"></line> <line x1="450" y1="0" x2="450" y2="400"></line> <line x1="500" y1="0" x2="500" y2="400"></line> <line x1="550" y1="0" x2="550" y2="400"></line> <line x1="600" y1="0" x2="600" y2="400"></line> <line x1="650" y1="0" x2="650" y2="400"></line> <line x1="700" y1="0" x2="700" y2="400"></line> <line x1="750" y1="0" x2="750" y2="400"></line> <line x1="800" y1="0" x2="800" y2="400"></line> <line x1="0" y1="0" x2="800" y2="0"></line> <line x1="0" y1="50" x2="800" y2="50"></line> <line x1="0" y1="100" x2="800" y2="100"></line> <line x1="0" y1="150" x2="800" y2="150"></line> <line x1="0" y1="200" x2="800" y2="200"></line> <line x1="0" y1="250" x2="800" y2="250"></line> <line x1="0" y1="300" x2="800" y2="300"></line> <line x1="0" y1="350" x2="800" y2="350"></line> <line x1="0" y1="400" x2="800" y2="400"></line> <text x="2" y="10">0</text> <text x="52" y="10">50</text> <text x="102" y="10">100</text> <text x="152" y="10">150</text> <text x="202" y="10">200</text> <text x="252" y="10">250</text> <text x="302" y="10">300</text> <text x="352" y="10">350</text> <text x="402" y="10">400</text> <text x="452" y="10">450</text> <text x="502" y="10">500</text> <text x="552" y="10">550</text> <text x="602" y="10">600</text> <text x="652" y="10">650</text> <text x="702" y="10">700</text> <text x="752" y="10">750</text> <text x="802" y="10">800</text> <text x="2" y="0">0</text> <text x="2" y="50">50</text> <text x="2" y="100">100</text> <text x="2" y="150">150</text> <text x="2" y="200">200</text> <text x="2" y="250">250</text> <text x="2" y="300">300</text> <text x="2" y="350">350</text> <text x="2" y="400">400</text> </g> <line stroke="blue" x1="0" y1="200" x2="800" y2="200"></line> <line stroke="blue" x1="400" y1="0" x2="400" y2="400"></line> <g transform="skewX(30)"> <g> <line stroke="red" stroke-dasharray="10" stroke-width="4" x1="0" y1="0" x2="800" y2="0"></line> <line stroke="red" stroke-dasharray="10" stroke-width="4" x1="0" y1="0" x2="0" y2="400"></line> <line stroke="green" stroke-dasharray="15" stroke-width="4" x1="800" y1="400" x2="800" y2="0"></line> <line stroke="green" stroke-dasharray="15" stroke-width="4" x1="800" y1="400" x2="0" y2="400"></line> <line stroke="blue" stroke-dasharray="10" x1="0" y1="200" x2="800" y2="200"></line> <line stroke="blue" stroke-dasharray="10" x1="400" y1="0" x2="400" y2="400"></line> <rect stroke="black" fill="blue" opacity="0.3" width="100" height="50" x="350" y="200"></rect> <circle r="50" stroke="black" fill="red" opacity="0.3" cx="450" cy="200"></circle> <circle r="50" stroke="black" fill="green" opacity="0.3" cx="350" cy="200"></circle> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="400" y="200">( 400 , 200 )</text> </g> </g>
</svg>
<p>Now skewY (a shear stress) by an angle of <span class="math inline">\(\frac{\pi}{36}\)</span></p>
<pre class="r"><code>WH=c(800, 400) # window rect
svgR( 
  myBack(WH, &quot;With Transform skewY=5&quot;),
  g(cirCirSqr(cxy=WH/2),
     transform=list(skewY=5)
  )
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="400">
<text font-size="18" x="20" y="25">With Transform skewY=5</text> <g stroke-width="1" font-size="10" stroke="lightgrey"> <line x1="0" y1="0" x2="0" y2="400"></line> <line x1="50" y1="0" x2="50" y2="400"></line> <line x1="100" y1="0" x2="100" y2="400"></line> <line x1="150" y1="0" x2="150" y2="400"></line> <line x1="200" y1="0" x2="200" y2="400"></line> <line x1="250" y1="0" x2="250" y2="400"></line> <line x1="300" y1="0" x2="300" y2="400"></line> <line x1="350" y1="0" x2="350" y2="400"></line> <line x1="400" y1="0" x2="400" y2="400"></line> <line x1="450" y1="0" x2="450" y2="400"></line> <line x1="500" y1="0" x2="500" y2="400"></line> <line x1="550" y1="0" x2="550" y2="400"></line> <line x1="600" y1="0" x2="600" y2="400"></line> <line x1="650" y1="0" x2="650" y2="400"></line> <line x1="700" y1="0" x2="700" y2="400"></line> <line x1="750" y1="0" x2="750" y2="400"></line> <line x1="800" y1="0" x2="800" y2="400"></line> <line x1="0" y1="0" x2="800" y2="0"></line> <line x1="0" y1="50" x2="800" y2="50"></line> <line x1="0" y1="100" x2="800" y2="100"></line> <line x1="0" y1="150" x2="800" y2="150"></line> <line x1="0" y1="200" x2="800" y2="200"></line> <line x1="0" y1="250" x2="800" y2="250"></line> <line x1="0" y1="300" x2="800" y2="300"></line> <line x1="0" y1="350" x2="800" y2="350"></line> <line x1="0" y1="400" x2="800" y2="400"></line> <text x="2" y="10">0</text> <text x="52" y="10">50</text> <text x="102" y="10">100</text> <text x="152" y="10">150</text> <text x="202" y="10">200</text> <text x="252" y="10">250</text> <text x="302" y="10">300</text> <text x="352" y="10">350</text> <text x="402" y="10">400</text> <text x="452" y="10">450</text> <text x="502" y="10">500</text> <text x="552" y="10">550</text> <text x="602" y="10">600</text> <text x="652" y="10">650</text> <text x="702" y="10">700</text> <text x="752" y="10">750</text> <text x="802" y="10">800</text> <text x="2" y="0">0</text> <text x="2" y="50">50</text> <text x="2" y="100">100</text> <text x="2" y="150">150</text> <text x="2" y="200">200</text> <text x="2" y="250">250</text> <text x="2" y="300">300</text> <text x="2" y="350">350</text> <text x="2" y="400">400</text> </g> <line stroke="blue" x1="0" y1="200" x2="800" y2="200"></line> <line stroke="blue" x1="400" y1="0" x2="400" y2="400"></line> <g transform="skewY(5)"> <g> <line stroke="red" stroke-dasharray="10" stroke-width="4" x1="0" y1="0" x2="800" y2="0"></line> <line stroke="red" stroke-dasharray="10" stroke-width="4" x1="0" y1="0" x2="0" y2="400"></line> <line stroke="green" stroke-dasharray="15" stroke-width="4" x1="800" y1="400" x2="800" y2="0"></line> <line stroke="green" stroke-dasharray="15" stroke-width="4" x1="800" y1="400" x2="0" y2="400"></line> <line stroke="blue" stroke-dasharray="10" x1="0" y1="200" x2="800" y2="200"></line> <line stroke="blue" stroke-dasharray="10" x1="400" y1="0" x2="400" y2="400"></line> <rect stroke="black" fill="blue" opacity="0.3" width="100" height="50" x="350" y="200"></rect> <circle r="50" stroke="black" fill="red" opacity="0.3" cx="450" cy="200"></circle> <circle r="50" stroke="black" fill="green" opacity="0.3" cx="350" cy="200"></circle> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="400" y="200">( 400 , 200 )</text> </g> </g>
</svg>
</div>
<div id="combining-transforations" class="section level4">
<h4>Combining Transforations</h4>
<p>We have already seen an example of combining transformations. However we a few more just to demonstrate order matters!</p>
<pre class="r"><code>WH=c(800, 400) # window rect
svgR( 
  myBack(WH, &quot;Order Matters: rotate, translate&quot;),
  g(cirCirSqr(cxy=WH/2),
     transform=list(rotate=c(45,WH/2), translate=c(100,0))
  )
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="400">
<text font-size="18" x="20" y="25">Order Matters: rotate, translate</text> <g stroke-width="1" font-size="10" stroke="lightgrey"> <line x1="0" y1="0" x2="0" y2="400"></line> <line x1="50" y1="0" x2="50" y2="400"></line> <line x1="100" y1="0" x2="100" y2="400"></line> <line x1="150" y1="0" x2="150" y2="400"></line> <line x1="200" y1="0" x2="200" y2="400"></line> <line x1="250" y1="0" x2="250" y2="400"></line> <line x1="300" y1="0" x2="300" y2="400"></line> <line x1="350" y1="0" x2="350" y2="400"></line> <line x1="400" y1="0" x2="400" y2="400"></line> <line x1="450" y1="0" x2="450" y2="400"></line> <line x1="500" y1="0" x2="500" y2="400"></line> <line x1="550" y1="0" x2="550" y2="400"></line> <line x1="600" y1="0" x2="600" y2="400"></line> <line x1="650" y1="0" x2="650" y2="400"></line> <line x1="700" y1="0" x2="700" y2="400"></line> <line x1="750" y1="0" x2="750" y2="400"></line> <line x1="800" y1="0" x2="800" y2="400"></line> <line x1="0" y1="0" x2="800" y2="0"></line> <line x1="0" y1="50" x2="800" y2="50"></line> <line x1="0" y1="100" x2="800" y2="100"></line> <line x1="0" y1="150" x2="800" y2="150"></line> <line x1="0" y1="200" x2="800" y2="200"></line> <line x1="0" y1="250" x2="800" y2="250"></line> <line x1="0" y1="300" x2="800" y2="300"></line> <line x1="0" y1="350" x2="800" y2="350"></line> <line x1="0" y1="400" x2="800" y2="400"></line> <text x="2" y="10">0</text> <text x="52" y="10">50</text> <text x="102" y="10">100</text> <text x="152" y="10">150</text> <text x="202" y="10">200</text> <text x="252" y="10">250</text> <text x="302" y="10">300</text> <text x="352" y="10">350</text> <text x="402" y="10">400</text> <text x="452" y="10">450</text> <text x="502" y="10">500</text> <text x="552" y="10">550</text> <text x="602" y="10">600</text> <text x="652" y="10">650</text> <text x="702" y="10">700</text> <text x="752" y="10">750</text> <text x="802" y="10">800</text> <text x="2" y="0">0</text> <text x="2" y="50">50</text> <text x="2" y="100">100</text> <text x="2" y="150">150</text> <text x="2" y="200">200</text> <text x="2" y="250">250</text> <text x="2" y="300">300</text> <text x="2" y="350">350</text> <text x="2" y="400">400</text> </g> <line stroke="blue" x1="0" y1="200" x2="800" y2="200"></line> <line stroke="blue" x1="400" y1="0" x2="400" y2="400"></line> <g transform="rotate(45,400,200) translate(100,0)"> <g> <line stroke="red" stroke-dasharray="10" stroke-width="4" x1="0" y1="0" x2="800" y2="0"></line> <line stroke="red" stroke-dasharray="10" stroke-width="4" x1="0" y1="0" x2="0" y2="400"></line> <line stroke="green" stroke-dasharray="15" stroke-width="4" x1="800" y1="400" x2="800" y2="0"></line> <line stroke="green" stroke-dasharray="15" stroke-width="4" x1="800" y1="400" x2="0" y2="400"></line> <line stroke="blue" stroke-dasharray="10" x1="0" y1="200" x2="800" y2="200"></line> <line stroke="blue" stroke-dasharray="10" x1="400" y1="0" x2="400" y2="400"></line> <rect stroke="black" fill="blue" opacity="0.3" width="100" height="50" x="350" y="200"></rect> <circle r="50" stroke="black" fill="red" opacity="0.3" cx="450" cy="200"></circle> <circle r="50" stroke="black" fill="green" opacity="0.3" cx="350" cy="200"></circle> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="400" y="200">( 400 , 200 )</text> </g> </g>
</svg>
<pre class="r"><code>WH=c(800, 400) # window rect
svgR( 
  myBack(WH, &quot;Order Matters: translate, rotate&quot;),
  g(cirCirSqr(cxy=WH/2),
     transform=list(translate=c(100,0), rotate=c(45,WH/2))
  )
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="400">
<text font-size="18" x="20" y="25">Order Matters: translate, rotate</text> <g stroke-width="1" font-size="10" stroke="lightgrey"> <line x1="0" y1="0" x2="0" y2="400"></line> <line x1="50" y1="0" x2="50" y2="400"></line> <line x1="100" y1="0" x2="100" y2="400"></line> <line x1="150" y1="0" x2="150" y2="400"></line> <line x1="200" y1="0" x2="200" y2="400"></line> <line x1="250" y1="0" x2="250" y2="400"></line> <line x1="300" y1="0" x2="300" y2="400"></line> <line x1="350" y1="0" x2="350" y2="400"></line> <line x1="400" y1="0" x2="400" y2="400"></line> <line x1="450" y1="0" x2="450" y2="400"></line> <line x1="500" y1="0" x2="500" y2="400"></line> <line x1="550" y1="0" x2="550" y2="400"></line> <line x1="600" y1="0" x2="600" y2="400"></line> <line x1="650" y1="0" x2="650" y2="400"></line> <line x1="700" y1="0" x2="700" y2="400"></line> <line x1="750" y1="0" x2="750" y2="400"></line> <line x1="800" y1="0" x2="800" y2="400"></line> <line x1="0" y1="0" x2="800" y2="0"></line> <line x1="0" y1="50" x2="800" y2="50"></line> <line x1="0" y1="100" x2="800" y2="100"></line> <line x1="0" y1="150" x2="800" y2="150"></line> <line x1="0" y1="200" x2="800" y2="200"></line> <line x1="0" y1="250" x2="800" y2="250"></line> <line x1="0" y1="300" x2="800" y2="300"></line> <line x1="0" y1="350" x2="800" y2="350"></line> <line x1="0" y1="400" x2="800" y2="400"></line> <text x="2" y="10">0</text> <text x="52" y="10">50</text> <text x="102" y="10">100</text> <text x="152" y="10">150</text> <text x="202" y="10">200</text> <text x="252" y="10">250</text> <text x="302" y="10">300</text> <text x="352" y="10">350</text> <text x="402" y="10">400</text> <text x="452" y="10">450</text> <text x="502" y="10">500</text> <text x="552" y="10">550</text> <text x="602" y="10">600</text> <text x="652" y="10">650</text> <text x="702" y="10">700</text> <text x="752" y="10">750</text> <text x="802" y="10">800</text> <text x="2" y="0">0</text> <text x="2" y="50">50</text> <text x="2" y="100">100</text> <text x="2" y="150">150</text> <text x="2" y="200">200</text> <text x="2" y="250">250</text> <text x="2" y="300">300</text> <text x="2" y="350">350</text> <text x="2" y="400">400</text> </g> <line stroke="blue" x1="0" y1="200" x2="800" y2="200"></line> <line stroke="blue" x1="400" y1="0" x2="400" y2="400"></line> <g transform="translate(100,0) rotate(45,400,200)"> <g> <line stroke="red" stroke-dasharray="10" stroke-width="4" x1="0" y1="0" x2="800" y2="0"></line> <line stroke="red" stroke-dasharray="10" stroke-width="4" x1="0" y1="0" x2="0" y2="400"></line> <line stroke="green" stroke-dasharray="15" stroke-width="4" x1="800" y1="400" x2="800" y2="0"></line> <line stroke="green" stroke-dasharray="15" stroke-width="4" x1="800" y1="400" x2="0" y2="400"></line> <line stroke="blue" stroke-dasharray="10" x1="0" y1="200" x2="800" y2="200"></line> <line stroke="blue" stroke-dasharray="10" x1="400" y1="0" x2="400" y2="400"></line> <rect stroke="black" fill="blue" opacity="0.3" width="100" height="50" x="350" y="200"></rect> <circle r="50" stroke="black" fill="red" opacity="0.3" cx="450" cy="200"></circle> <circle r="50" stroke="black" fill="green" opacity="0.3" cx="350" cy="200"></circle> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="400" y="200">( 400 , 200 )</text> </g> </g>
</svg>
</div>
</div>
<div id="tranform-attribute-using-matrix-as-a-value" class="section level3">
<h3>Tranform Attribute using Matrix as a Value</h3>
<p>In the previous section, we discussed using the transform with the operation types: tranlate, scale, rotate, and skew. In this section we discuss using matrix opertion.</p>
<p>The advantage to using matrix is two fold</p>
<ul>
<li>we can combine several operations into one</li>
<li>we need only know the desired effect on 3 points to get our specification (less thinking involved)</li>
</ul>
<p>But first some background</p>
<div id="linear-algebra" class="section level4">
<h4>Linear Algebra</h4>
<p>A basic result in linear algebra is any function mapping between vector spaces that satisifies <span class="math display">\[T(\alpha \vec v_1 + \alpha \vec v_2)=\alpha T ( \vec v_1 + \vec v_2 ) \]</span> can be represented by a matrix. Considering points (x,y) on the screen as elements in a 2 dimensional vector space we can easlily see that (rotations, scaling, fit the criteria. However translation does not. But all is not lost. We can envision that our 2-d space is just the plane in 3-space defined by z=1. With trick, translation can be created (on that plane) using a shear stress, which does satisfy the above requirement.</p>
<p>Essentially the trick is sending (x,y) to (x,y,1). Then the effect on points using rotation, scaling, translation, and skewing can be constructed as simple matrix muliplication of the form: <span class="math display">\[
  \begin{pmatrix} x_{new} \\ y_{new} \\ 1 \end{pmatrix}
  =
  \begin{pmatrix} a &amp; c &amp; e \\ b &amp; d &amp; f \\ 0 &amp; 0 &amp; 1\end{pmatrix} 
  \begin{pmatrix} x_{old} \\ y_{old} \\ 1 \end{pmatrix}
\]</span></p>
<p>For example, translation is performed by <span class="math display">\[
  \begin{pmatrix} x_{new} \\ y_{new} \\ 1 \end{pmatrix}
  =
  \begin{pmatrix} 1 &amp; 0 &amp; h \\ 0 &amp; 1 &amp; k \\ 0 &amp; 0 &amp; 1\end{pmatrix} 
  \begin{pmatrix} x_{old} \\ y_{old} \\ 1 \end{pmatrix}
\]</span></p>
<p>and rotation (about the origin) is given by <span class="math display">\[
  \begin{pmatrix} x_{new} \\ y_{new} \\ 1 \end{pmatrix}
  =
  \begin{pmatrix} cos(\theta) &amp; sin(\theta) &amp; 0 \\ -sin(\theta) &amp; cos(\theta) &amp; 0 \\ 0 &amp; 0 &amp; 1\end{pmatrix} 
  \begin{pmatrix} x_{old} \\ y_{old} \\ 1 \end{pmatrix}
\]</span></p>
<p>and scaling by <span class="math display">\[
  \begin{pmatrix} x_{new} \\ y_{new} \\ 1 \end{pmatrix}
  =
  \begin{pmatrix} S_x &amp; 0 &amp; 0 \\ 0 &amp; S_y &amp; 0 \\ 0 &amp; 0 &amp; 1\end{pmatrix} 
  \begin{pmatrix} x_{old} \\ y_{old} \\ 1 \end{pmatrix}
\]</span></p>
</div>
<div id="scaling-with-a-given-fixed-point" class="section level4">
<h4>Scaling with a Given Fixed Point</h4>
<p>Now the transformation is always of the form <span class="math display">\[
  \begin{pmatrix} x_{new} \\ y_{new} \\ 1 \end{pmatrix}
  =
  \begin{pmatrix} a &amp; c &amp; e \\ b &amp; d &amp; f \\ 0 &amp; 0 &amp; 1\end{pmatrix} 
  \begin{pmatrix} x_{old} \\ y_{old} \\ 1 \end{pmatrix}
\]</span> with the last column always being <span class="math display">\[
  \begin{pmatrix} 0\\ 0 \\ 1 \end{pmatrix}
\]</span></p>
<p>Thus in practice, only the <span class="math inline">\(a,b,c,d,e,f\)</span> need be supplied. This is done either by</p>
<pre><code>transformation=list(matrix=matrix(c(a,b,c,d,e,f)2,3))</code></pre>
<p>or</p>
<pre><code>transformation=list(matrix=c(a,b,c,d,e,f))</code></pre>
<p>Now the transformation matrix <span class="math inline">\(A\)</span> is determined by the values <span class="math inline">\(Y_i=A[X_i]\)</span> on any three collinear points <span class="math inline">\(X_i\)</span>. In particular if X and Y the matrices whose columns are the <span class="math inline">\(X_i\)</span> and <span class="math inline">\(Y_i\)</span>, then <span class="math inline">\(X\)</span> is non-singular and <span class="math inline">\(Y= A X\)</span>. From this we solve for A.</p>
<p>We given two examples, the first being scaling in about a fixed point.</p>
<p>Let <span class="math inline">\(\alpha=(\alpha_x, \alpha_y)\)</span> be scaling factors in the x and y direction. Let <span class="math inline">\(p=(p_x,p_y)\)</span> be the fixed point. Then we have <span class="math display">\[
  \begin{pmatrix} p_x+1 \\ p_y  \end{pmatrix}
  \mapsto
  \begin{pmatrix} p_x+\alpha_x \\ p_y  \end{pmatrix}, \qquad
  \begin{pmatrix} p_x \\ p_y+1  \end{pmatrix}
  \mapsto
  \begin{pmatrix} p_x \\ p_y+\alpha_y  \end{pmatrix}, \qquad
  \begin{pmatrix} p_x \\ p_y  \end{pmatrix}
  \mapsto
  \begin{pmatrix} p_x \\ p_y  \end{pmatrix}
\]</span> Appending 1s and placing into matrix form we have <span class="math display">\[
  \begin{pmatrix} 
  p_x+1 &amp; p_x   &amp; 0 \\
  p_y   &amp; p_y+1 &amp; 0 \\
  1   &amp; 1   &amp; 1 
  \end{pmatrix} 
  \mapsto
  \begin{pmatrix} 
  p_x+\alpha_x   &amp; p_x        &amp; 0 \\
  p_y          &amp; p_y+\alpha_y &amp; 0 \\
  1          &amp; 1              &amp; 1 
  \end{pmatrix}
\]</span> So <span class="math display">\[
  \begin{pmatrix} 
  p_x+\alpha_x   &amp; p_x        &amp; 0 \\
  p_y          &amp; p_y+\alpha_y &amp; 0 \\
  1          &amp; 1              &amp; 1 
  \end{pmatrix}
  =
  \begin{pmatrix} 
  a &amp; c &amp; e \\
  b &amp; d &amp; f \\
  0 &amp; 0 &amp; 1 
  \end{pmatrix} 
  \begin{pmatrix} 
  p_x+1 &amp; p_x   &amp; 0 \\
  p_y   &amp; p_y+1 &amp; 0 \\
  1   &amp; 1   &amp; 1 
  \end{pmatrix} 
\]</span> Taking transposes <span class="math display">\[
  \begin{pmatrix} 
  p_x+\alpha_x   &amp; p_y        &amp; 1  \\
  p_x          &amp; p_y+\alpha_y &amp; 1 \\
  0         &amp; 0        &amp; 1 
  \end{pmatrix}
  =
  \begin{pmatrix} 
  p_x+1 &amp; p_y   &amp; 1 \\
  p_x   &amp; p_y+1 &amp; 1  \\
  0    &amp; 0  &amp; 1 
  \end{pmatrix} 
  \begin{pmatrix} 
  a &amp; b &amp; 0 \\
  c &amp; d &amp; 0 \\
  e &amp; f &amp; 1 
  \end{pmatrix} 
\]</span></p>
<p>Setting up the augmented matrix <span class="math display">\[
  \left[\begin{array}{rrr|rrr}
  p_x+\alpha_x   &amp; p_y        &amp; 1  &amp; p_x+1 &amp; p_y   &amp; 1 \\
  p_x          &amp; p_y+\alpha_y &amp; 1 &amp; p_x   &amp; p_y+1 &amp; 1  \\
  0         &amp; 0        &amp; 1 &amp; 0    &amp; 0  &amp; 1 
  \end{array}\right]
\]</span></p>
<p>This reduces to <span class="math display">\[
  \left[\begin{array}{rrr|rrr}
  \alpha_x   &amp; 0        &amp; 0  &amp; 1 &amp; 0   &amp; 0 \\
  0          &amp; \alpha_y &amp; 0  &amp; 0  &amp; 1  &amp; 0  \\
  p_x(1-\alpha_x)   &amp; P_y(1-\alpha_y)   &amp; 1 &amp; 0    &amp; 0  &amp; 1 
  \end{array}\right]
\]</span></p>
<p>So the transformation matrix value is <span class="math display">\[ 
  \begin{pmatrix} 
  a   &amp;  c &amp; e   \\
  b   &amp;  d &amp; f  
  \end{pmatrix} =
  \begin{pmatrix} 
  \alpha_x   &amp;  0 &amp; p_x(1-\alpha_x) \\
  0          &amp;  \alpha_y &amp; p_y(1-\alpha_y)
  \end{pmatrix}
\]</span> or</p>
<pre><code> c(alpha[1], 0 , 0, alpha[2], p[1]*(1-alpha[1]), p[2]*(1-alpha[2]) )</code></pre>
<div id="scaling-with-the-center-as-a-fixed-point-using-matrix" class="section level5">
<h5>Scaling with the center as a fixed point using matrix,</h5>
<pre class="r"><code>inPlaceTrans&lt;-function(fixedPoint, alpha){
  c( alpha[1],0,0, alpha[2], 
    (1-alpha[1])*fixedPoint[1],
    (1-alpha[2])*fixedPoint[2] )
}

svgR( 
  myBack(WH, &quot;Scaling with the center as fixed point using matrix&quot;),
  cirCirSqr(cxy=WH/2, 
      transform=list( matrix=inPlaceTrans( WH/2, c(0.5,1.5) ) )
  )
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="400">
<text font-size="18" x="20" y="25">Scaling with the center as fixed point using matrix</text> <g stroke-width="1" font-size="10" stroke="lightgrey"> <line x1="0" y1="0" x2="0" y2="400"></line> <line x1="50" y1="0" x2="50" y2="400"></line> <line x1="100" y1="0" x2="100" y2="400"></line> <line x1="150" y1="0" x2="150" y2="400"></line> <line x1="200" y1="0" x2="200" y2="400"></line> <line x1="250" y1="0" x2="250" y2="400"></line> <line x1="300" y1="0" x2="300" y2="400"></line> <line x1="350" y1="0" x2="350" y2="400"></line> <line x1="400" y1="0" x2="400" y2="400"></line> <line x1="450" y1="0" x2="450" y2="400"></line> <line x1="500" y1="0" x2="500" y2="400"></line> <line x1="550" y1="0" x2="550" y2="400"></line> <line x1="600" y1="0" x2="600" y2="400"></line> <line x1="650" y1="0" x2="650" y2="400"></line> <line x1="700" y1="0" x2="700" y2="400"></line> <line x1="750" y1="0" x2="750" y2="400"></line> <line x1="800" y1="0" x2="800" y2="400"></line> <line x1="0" y1="0" x2="800" y2="0"></line> <line x1="0" y1="50" x2="800" y2="50"></line> <line x1="0" y1="100" x2="800" y2="100"></line> <line x1="0" y1="150" x2="800" y2="150"></line> <line x1="0" y1="200" x2="800" y2="200"></line> <line x1="0" y1="250" x2="800" y2="250"></line> <line x1="0" y1="300" x2="800" y2="300"></line> <line x1="0" y1="350" x2="800" y2="350"></line> <line x1="0" y1="400" x2="800" y2="400"></line> <text x="2" y="10">0</text> <text x="52" y="10">50</text> <text x="102" y="10">100</text> <text x="152" y="10">150</text> <text x="202" y="10">200</text> <text x="252" y="10">250</text> <text x="302" y="10">300</text> <text x="352" y="10">350</text> <text x="402" y="10">400</text> <text x="452" y="10">450</text> <text x="502" y="10">500</text> <text x="552" y="10">550</text> <text x="602" y="10">600</text> <text x="652" y="10">650</text> <text x="702" y="10">700</text> <text x="752" y="10">750</text> <text x="802" y="10">800</text> <text x="2" y="0">0</text> <text x="2" y="50">50</text> <text x="2" y="100">100</text> <text x="2" y="150">150</text> <text x="2" y="200">200</text> <text x="2" y="250">250</text> <text x="2" y="300">300</text> <text x="2" y="350">350</text> <text x="2" y="400">400</text> </g> <line stroke="blue" x1="0" y1="200" x2="800" y2="200"></line> <line stroke="blue" x1="400" y1="0" x2="400" y2="400"></line> <g transform="matrix(0.5,0,0,1.5,200,-100)"> <line stroke="red" stroke-dasharray="10" stroke-width="4" x1="0" y1="0" x2="800" y2="0"></line> <line stroke="red" stroke-dasharray="10" stroke-width="4" x1="0" y1="0" x2="0" y2="400"></line> <line stroke="green" stroke-dasharray="15" stroke-width="4" x1="800" y1="400" x2="800" y2="0"></line> <line stroke="green" stroke-dasharray="15" stroke-width="4" x1="800" y1="400" x2="0" y2="400"></line> <line stroke="blue" stroke-dasharray="10" x1="0" y1="200" x2="800" y2="200"></line> <line stroke="blue" stroke-dasharray="10" x1="400" y1="0" x2="400" y2="400"></line> <rect stroke="black" fill="blue" opacity="0.3" width="100" height="50" x="350" y="200"></rect> <circle r="50" stroke="black" fill="red" opacity="0.3" cx="450" cy="200"></circle> <circle r="50" stroke="black" fill="green" opacity="0.3" cx="350" cy="200"></circle> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="400" y="200">( 400 , 200 )</text> </g>
</svg>
</div>
</div>
<div id="rotation-with-the-center-as-a-fixed-point" class="section level4">
<h4>Rotation with the Center as a Fixed Point</h4>
<p>For our second example, we peform a rotation of <span class="math inline">\(\frac{\pi}{4}\)</span> around the point c(400,200). <em>The difference here is that this time we use R to solve the matrix equation.</em></p>
<p>We choose our points x_i to be equaly space around the fixed point with radius 100. The points and mapping are: <span class="math display">\[ 
\begin{pmatrix} 
400+100 cos(\frac{2 \pi k}{3}) \\ 
200+ 100 sin(\frac{2 \pi k}{3}) \\ 
1 
\end{pmatrix} 
\mapsto
\begin{pmatrix} 
400+100 cos(\frac{2 \pi k}{3} + \frac{\pi}{4}) \\ 
200+ 100 sin(\frac{2 \pi k}{3}+ \frac{\pi}{4}) \\
1 
\end{pmatrix}
\]</span></p>
<pre class="r"><code>WH&lt;-c(800,400)
theta&lt;-pi/4 #The angle we will rotate about
r&lt;-100
eta&lt;-(1:3)*(2*pi)/3
X&lt;-rbind( r*cos(eta), r*sin(eta), rep(1,3) ) + c(WH/2,0)
eta&lt;-(1:3)*(2*pi)/3 +theta 
Y&lt;-rbind( r*cos(eta), r*sin(eta), rep(1,3) ) + c(WH/2,0)
solve(t(X),t(Y))-&gt;A
as.numeric(t(A[,1:2]))-&gt;A</code></pre>
</div>
<div id="rotation-though-the-center-using-matrix" class="section level4">
<h4>3 Rotation though the center using matrix,</h4>
<pre class="r"><code>svgR( 
  myBack(WH, &quot;Rotation though the center using matrix&quot;),
  cirCirSqr(cxy=WH/2 , transform=list( matrix= A[1:6] ) )
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="400">
<text font-size="18" x="20" y="25">Rotation though the center using matrix</text> <g stroke-width="1" font-size="10" stroke="lightgrey"> <line x1="0" y1="0" x2="0" y2="400"></line> <line x1="50" y1="0" x2="50" y2="400"></line> <line x1="100" y1="0" x2="100" y2="400"></line> <line x1="150" y1="0" x2="150" y2="400"></line> <line x1="200" y1="0" x2="200" y2="400"></line> <line x1="250" y1="0" x2="250" y2="400"></line> <line x1="300" y1="0" x2="300" y2="400"></line> <line x1="350" y1="0" x2="350" y2="400"></line> <line x1="400" y1="0" x2="400" y2="400"></line> <line x1="450" y1="0" x2="450" y2="400"></line> <line x1="500" y1="0" x2="500" y2="400"></line> <line x1="550" y1="0" x2="550" y2="400"></line> <line x1="600" y1="0" x2="600" y2="400"></line> <line x1="650" y1="0" x2="650" y2="400"></line> <line x1="700" y1="0" x2="700" y2="400"></line> <line x1="750" y1="0" x2="750" y2="400"></line> <line x1="800" y1="0" x2="800" y2="400"></line> <line x1="0" y1="0" x2="800" y2="0"></line> <line x1="0" y1="50" x2="800" y2="50"></line> <line x1="0" y1="100" x2="800" y2="100"></line> <line x1="0" y1="150" x2="800" y2="150"></line> <line x1="0" y1="200" x2="800" y2="200"></line> <line x1="0" y1="250" x2="800" y2="250"></line> <line x1="0" y1="300" x2="800" y2="300"></line> <line x1="0" y1="350" x2="800" y2="350"></line> <line x1="0" y1="400" x2="800" y2="400"></line> <text x="2" y="10">0</text> <text x="52" y="10">50</text> <text x="102" y="10">100</text> <text x="152" y="10">150</text> <text x="202" y="10">200</text> <text x="252" y="10">250</text> <text x="302" y="10">300</text> <text x="352" y="10">350</text> <text x="402" y="10">400</text> <text x="452" y="10">450</text> <text x="502" y="10">500</text> <text x="552" y="10">550</text> <text x="602" y="10">600</text> <text x="652" y="10">650</text> <text x="702" y="10">700</text> <text x="752" y="10">750</text> <text x="802" y="10">800</text> <text x="2" y="0">0</text> <text x="2" y="50">50</text> <text x="2" y="100">100</text> <text x="2" y="150">150</text> <text x="2" y="200">200</text> <text x="2" y="250">250</text> <text x="2" y="300">300</text> <text x="2" y="350">350</text> <text x="2" y="400">400</text> </g> <line stroke="blue" x1="0" y1="200" x2="800" y2="200"></line> <line stroke="blue" x1="400" y1="0" x2="400" y2="400"></line> <g transform="matrix(0.707106781186548,0.707106781186548,-0.707106781186547,0.707106781186548,258.57864376269,-224.264068711929)"> <line stroke="red" stroke-dasharray="10" stroke-width="4" x1="0" y1="0" x2="800" y2="0"></line> <line stroke="red" stroke-dasharray="10" stroke-width="4" x1="0" y1="0" x2="0" y2="400"></line> <line stroke="green" stroke-dasharray="15" stroke-width="4" x1="800" y1="400" x2="800" y2="0"></line> <line stroke="green" stroke-dasharray="15" stroke-width="4" x1="800" y1="400" x2="0" y2="400"></line> <line stroke="blue" stroke-dasharray="10" x1="0" y1="200" x2="800" y2="200"></line> <line stroke="blue" stroke-dasharray="10" x1="400" y1="0" x2="400" y2="400"></line> <rect stroke="black" fill="blue" opacity="0.3" width="100" height="50" x="350" y="200"></rect> <circle r="50" stroke="black" fill="red" opacity="0.3" cx="450" cy="200"></circle> <circle r="50" stroke="black" fill="green" opacity="0.3" cx="350" cy="200"></circle> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="400" y="200">( 400 , 200 )</text> </g>
</svg>
</div>
</div>
<div id="alternatives-to-a-list-parameters" class="section level3">
<h3>Alternatives to a list parameters</h3>
<p>To keep a clear conscience, here are some alternatives to using lists for transform values.</p>
<p>Instead of a list we can use a string as so:</p>
<pre class="r"><code>WH=c(600, 200) # window rect
wh=c(80,30) # small rect
pt=c(c,0)
svgR( 
  wh=WH, 
  graphPaper(wh=WH, dxy=c(50,50), labels=TRUE),
  g(
      rect( xy=pt, wh=wh, stroke ='black', fill='blue', opacity=.3),
      circle(cxy=pt, r=wh[2], stroke=&quot;black&quot;, fill=&quot;red&quot;, opacity=.3),
      transform=&quot;translate(200,100) rotate(-30) scale(.5,3) skewX(80)&quot;
  )
 )</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="600" height="200">
<g stroke-width="1" font-size="10" stroke="lightgrey"> <line x1="0" y1="0" x2="0" y2="200"></line> <line x1="50" y1="0" x2="50" y2="200"></line> <line x1="100" y1="0" x2="100" y2="200"></line> <line x1="150" y1="0" x2="150" y2="200"></line> <line x1="200" y1="0" x2="200" y2="200"></line> <line x1="250" y1="0" x2="250" y2="200"></line> <line x1="300" y1="0" x2="300" y2="200"></line> <line x1="350" y1="0" x2="350" y2="200"></line> <line x1="400" y1="0" x2="400" y2="200"></line> <line x1="450" y1="0" x2="450" y2="200"></line> <line x1="500" y1="0" x2="500" y2="200"></line> <line x1="550" y1="0" x2="550" y2="200"></line> <line x1="600" y1="0" x2="600" y2="200"></line> <line x1="0" y1="0" x2="600" y2="0"></line> <line x1="0" y1="50" x2="600" y2="50"></line> <line x1="0" y1="100" x2="600" y2="100"></line> <line x1="0" y1="150" x2="600" y2="150"></line> <line x1="0" y1="200" x2="600" y2="200"></line> <text x="2" y="10">0</text> <text x="52" y="10">50</text> <text x="102" y="10">100</text> <text x="152" y="10">150</text> <text x="202" y="10">200</text> <text x="252" y="10">250</text> <text x="302" y="10">300</text> <text x="352" y="10">350</text> <text x="402" y="10">400</text> <text x="452" y="10">450</text> <text x="502" y="10">500</text> <text x="552" y="10">550</text> <text x="602" y="10">600</text> <text x="2" y="0">0</text> <text x="2" y="50">50</text> <text x="2" y="100">100</text> <text x="2" y="150">150</text> <text x="2" y="200">200</text> </g> <g transform="translate(200,100) rotate(-30) scale(.5,3) skewX(80)"> <rect stroke="black" fill="blue" opacity="0.3" width="80" height="30" x=".Primitive(&quot;c&quot;)" y="0"></rect> <circle r="30" stroke="black" fill="red" opacity="0.3" cx=".Primitive(&quot;c&quot;)" cy="0"></circle> </g>
</svg>
<p>Note the latter can become awkward for dynamic situations when the amount and sequence of translation, scaling, rotation are determined at runtime. But this is easily overcome with some additional helper functions</p>
<pre class="r"><code> translate&lt;-function(...)paste0(&quot;translate(&quot;, paste(list(...),collapse=&quot;,&quot;), &quot;)&quot;)   
 rotate&lt;-function(...)paste0(&quot;rotate(&quot;, paste(list(...),collapse=&quot;,&quot;), &quot;)&quot;)   
 skewX&lt;-function(...)paste0(&quot;skewX(&quot;, paste(list(...),collapse=&quot;,&quot;), &quot;)&quot;)   
 skewY&lt;-function(...)paste0(&quot;skewX(&quot;, paste(list(...),collapse=&quot;,&quot;), &quot;)&quot;)   
 scale&lt;-function(...)paste0(&quot;scale(&quot;, paste(list(...),collapse=&quot;,&quot;), &quot;)&quot;)   </code></pre>
<p>Now with the helper functions</p>
<pre class="r"><code>WH=c(600, 200) # window rect
wh=c(80,30) # small rect
svgR( 
  wh=WH, 
  graphPaper(wh=WH, dxy=c(50,50),TRUE),
  rect( xy=c(0,0), wh=wh, stroke ='blue', fill='green', opacity=.3,
        transform=c(translate(200,100), rotate(-30),  scale(.5,3), skewX(80))
        )
 )</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="600" height="200">
<g stroke-width="1" font-size="10" stroke="lightgrey"> <line x1="0" y1="0" x2="0" y2="200"></line> <line x1="50" y1="0" x2="50" y2="200"></line> <line x1="100" y1="0" x2="100" y2="200"></line> <line x1="150" y1="0" x2="150" y2="200"></line> <line x1="200" y1="0" x2="200" y2="200"></line> <line x1="250" y1="0" x2="250" y2="200"></line> <line x1="300" y1="0" x2="300" y2="200"></line> <line x1="350" y1="0" x2="350" y2="200"></line> <line x1="400" y1="0" x2="400" y2="200"></line> <line x1="450" y1="0" x2="450" y2="200"></line> <line x1="500" y1="0" x2="500" y2="200"></line> <line x1="550" y1="0" x2="550" y2="200"></line> <line x1="600" y1="0" x2="600" y2="200"></line> <line x1="0" y1="0" x2="600" y2="0"></line> <line x1="0" y1="50" x2="600" y2="50"></line> <line x1="0" y1="100" x2="600" y2="100"></line> <line x1="0" y1="150" x2="600" y2="150"></line> <line x1="0" y1="200" x2="600" y2="200"></line> <text x="2" y="10">0</text> <text x="52" y="10">50</text> <text x="102" y="10">100</text> <text x="152" y="10">150</text> <text x="202" y="10">200</text> <text x="252" y="10">250</text> <text x="302" y="10">300</text> <text x="352" y="10">350</text> <text x="402" y="10">400</text> <text x="452" y="10">450</text> <text x="502" y="10">500</text> <text x="552" y="10">550</text> <text x="602" y="10">600</text> <text x="2" y="0">0</text> <text x="2" y="50">50</text> <text x="2" y="100">100</text> <text x="2" y="150">150</text> <text x="2" y="200">200</text> </g> <rect stroke="blue" fill="green" opacity="0.3" transform="translate(200,100) rotate(-30) scale(0.5,3) skewX(80)" width="80" height="30" x="0" y="0"></rect>
</svg>
<hr>
<p><br /><br /> <br /><br /></p>
<!-- shapes and structures, groups symbols, use -->
</div>
</div>
</div>
<div id="shapes-paths-markers" class="section level1">
<h1>Shapes, Paths, Markers</h1>
<p>In this section we discuss shapes. Shapes are circles, ellipses, lines, paths, polygons, polylines, rectangles.</p>
<div id="the-line" class="section level2">
<h2>The Line</h2>
<p>We begin with the most basic of shapes, a simple line segment from a point xy1 to xy2</p>
<pre class="r"><code>WH&lt;-c(600, 100) # window rect
svgR( wh=WH,
      line( xy1=c(50,50), xy2=c(500,50), stroke='black')
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="600" height="100">
<line stroke="black" x1="50" y1="50" x2="500" y2="50"></line>
</svg>
<p>Changing the color is easy to do, simply assign a color to the stroke parameter of line.</p>
<pre class="r"><code>WH&lt;-c(600, 100) # window rect
svgR( wh=WH,
      line( xy1=c(50,50), xy2=c(500,50), stroke='red')
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="600" height="100">
<line stroke="red" x1="50" y1="50" x2="500" y2="50"></line>
</svg>
<p>This color can also be specified as #FF0000 or rgb(255,0,0)</p>
<p>To change the line width simply set</p>
<pre class="r"><code>WH&lt;-c(600, 100) # window rect
svgR( wh=WH,
      line( xy1=c(50,50), xy2=c(500,50), stroke='#00FF00', stroke.width=10)
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="600" height="100">
<line stroke="#00FF00" stroke-width="10" x1="50" y1="50" x2="500" y2="50"></line>
</svg>
<p>To create a dashed line set the stroke.dasharray attribute</p>
<pre class="r"><code>WH&lt;-c(600, 100) # window rect
svgR( wh=WH,
      line( xy1=c(50,50), xy2=c(500,50), stroke='rgb(0,0,255)', stroke.dasharray=8 )
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="600" height="100">
<line stroke="rgb(0,0,255)" stroke-dasharray="8" x1="50" y1="50" x2="500" y2="50"></line>
</svg>
</div>
<div id="the-polyline" class="section level2">
<h2>The polyline</h2>
<p>To produce a sequence of connected line segments use polyline. The points are specified with the points attribute. Points can be specified in any of the following ways:</p>
<ul>
<li>a list of n vectors of length 2</li>
<li>a n by 2 matrix</li>
<li>a vector of the form <span class="math inline">\((x_1,y_1,x_2,y_2 ...x_n,y_n)\)</span></li>
</ul>
<p>Other attributes can be set as before.</p>
<pre class="r"><code>WH&lt;-c(600, 100) # window rect
svgR( wh=WH,
      polyline( 
        points=rbind(seq(from=20, to=500, by=50),c(20,80)), 
        stroke='#FF00AA', stroke.dasharray=8, fill='none' )
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="600" height="100">
<polyline points="20,20 70,80 120,20 170,80 220,20 270,80 320,20 370,80 420,20 470,80" stroke="#FF00AA" stroke-dasharray="8" fill="none"></polyline>
</svg>
<p>Note: we added an additional attribute fill=none. If we dont, most browser will fill this with a black color.</p>
</div>
<div id="the-polygon" class="section level2">
<h2>The polygon</h2>
<p>For closed figures, we use the polygon element. We have the same options to specify points as we did with the polyline.</p>
<pre class="r"><code>WH&lt;-c(600, 100) # window rect
points&lt;-lapply((0:7)*(2*pi)/8, function(theta){
  c(100,50)+40*c(cos(theta),sin(theta))
} )
svgR( wh=WH,
      polygon( 
        points=points, stroke='red', fill='none' )
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="600" height="100">
<polygon points="140,50 128.284271247462,78.2842712474619 100,90 71.7157287525381,78.2842712474619 60,50 71.7157287525381,21.7157287525381 100,10 128.284271247462,21.7157287525381" stroke="red" fill="none"></polygon>
</svg>
<p>Additionally, we can supply a color to the fill variable:</p>
<pre class="r"><code>WH&lt;-c(600, 100) # window rect
points&lt;-lapply(0:7, function(i){
  theta&lt;-i*(2*pi)/8
  c(100,50)+20*(1+i%%2)*c(cos(theta),sin(theta))
} )
svgR( wh=WH,
      polygon( 
        points=points, stroke='blue', fill='pink' )
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="600" height="100">
<polygon points="120,50 128.284271247462,78.2842712474619 100,70 71.7157287525381,78.2842712474619 80,50 71.7157287525381,21.7157287525381 100,30 128.284271247462,21.7157287525381" stroke="blue" fill="pink"></polygon>
</svg>
<p>And remove the stroke</p>
<pre class="r"><code>WH&lt;-c(600, 100) # window rect
points&lt;-lapply(0:15, function(i){
  theta&lt;-i*2*pi/16
  c(100,50)+20*(1+i%%2)*c(cos(theta),sin(theta))
} )
svgR( wh=WH,
      polygon( points=points, fill='orange' )
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="600" height="100">
<polygon points="120,50 136.955181300451,65.3073372946036 114.142135623731,64.142135623731 115.307337294604,86.9551813004515 100,70 84.6926627053964,86.9551813004515 85.857864376269,64.142135623731 63.0448186995485,65.3073372946036 80,50 63.0448186995485,34.6926627053964 85.857864376269,35.857864376269 84.6926627053964,13.0448186995485 100,30 115.307337294604,13.0448186995485 114.142135623731,35.857864376269 136.955181300451,34.6926627053964" fill="orange"></polygon>
</svg>
</div>
<div id="the-rectangle" class="section level2">
<h2>The rectangle,</h2>
<p>For a rectangle, (a four sided polygon) we use the rect element. We can specify the position of the upper-left corner of the rectangle in 2 ways:</p>
<ul>
<li>one at a time, for example: x=50, y=20</li>
<li>as a vector, for example: xy=c(50,20)</li>
</ul>
<p>Alternative we can specify the center of the rectangle</p>
<ul>
<li>as a vector, for example cxy=c(100,40)</li>
</ul>
<p>Also we can specify the dimensions in 2 ways:</p>
<ul>
<li>one at a time, for example: w=100, h=40</li>
<li>as a vector, for example: wh=c(100,40)</li>
</ul>
<pre class="r"><code>WH&lt;-c(600, 100) # window rect
svgR( wh=WH,
      rect( xy=c(50,20), wh=c(100,40), stroke='blue', fill='none' )
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="600" height="100">
<rect stroke="blue" fill="none" width="100" height="40" x="50" y="20"></rect>
</svg>
</div>
<div id="the-circle" class="section level2">
<h2>The circle</h2>
<p>For a circle, we specify the center and the radius r. The center can be specified in 2 ways:</p>
<ul>
<li>one at a time, for example: cx=100, cy=60</li>
<li>as a vector, for example: cxy=c(100,60)</li>
</ul>
<pre class="r"><code>WH&lt;-c(600, 150) # window rect
svgR( wh=WH,
  circle( cxy=c(120,60), r=25, stroke='blue', fill='none' )
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="600" height="150">
<circle r="25" stroke="blue" fill="none" cx="120" cy="60"></circle>
</svg>
<p>Moreover, we can compose with rect using cxy to create concentric rectangles and circles:</p>
<pre class="r"><code>WH&lt;-c(600, 150) # window rect
cxy&lt;-c(120,60)
dx&lt;-10
svgR( wh=WH,
  circle( cxy=cxy, r=1*dx*sqrt(2), stroke='blue', fill='none' ),
  circle( cxy=cxy, r=2*dx*sqrt(2), stroke='blue', fill='none' ),
  circle( cxy=cxy, r=3*dx*sqrt(2), stroke='blue', fill='none' ),
  rect(cxy=cxy, wh=1*dx*c(2,2), stroke='red',fill='none'),
  rect(cxy=cxy, wh=2*dx*c(2,2), stroke='red',fill='none'),
  rect(cxy=cxy, wh=3*dx*c(2,2), stroke='red',fill='none')
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="600" height="150">
<circle r="14.142135623731" stroke="blue" fill="none" cx="120" cy="60"></circle> <circle r="28.2842712474619" stroke="blue" fill="none" cx="120" cy="60"></circle> <circle r="42.4264068711929" stroke="blue" fill="none" cx="120" cy="60"></circle> <rect stroke="red" fill="none" width="20" height="20" x="110" y="50"></rect> <rect stroke="red" fill="none" width="40" height="40" x="100" y="40"></rect> <rect stroke="red" fill="none" width="60" height="60" x="90" y="30"></rect>
</svg>
<p>However, a better way is to use lapply and iterate</p>
<pre class="r"><code>WH&lt;-c(600, 200) # window rect
cxy&lt;-c(120,100)
dx&lt;-10
n&lt;-6
svgR( wh=WH,
  lapply(1:n, function(i)circle( cxy=cxy, r=i*dx*sqrt(2), stroke='blue', fill='none' )),
  lapply(1:n, function(i)rect(cxy=cxy, wh=i*dx*c(2,2), stroke='red',fill='none'))
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="600" height="200">
<circle r="14.142135623731" stroke="blue" fill="none" cx="120" cy="100"></circle> <circle r="28.2842712474619" stroke="blue" fill="none" cx="120" cy="100"></circle> <circle r="42.4264068711929" stroke="blue" fill="none" cx="120" cy="100"></circle> <circle r="56.5685424949238" stroke="blue" fill="none" cx="120" cy="100"></circle> <circle r="70.7106781186548" stroke="blue" fill="none" cx="120" cy="100"></circle> <circle r="84.8528137423857" stroke="blue" fill="none" cx="120" cy="100"></circle> <rect stroke="red" fill="none" width="20" height="20" x="110" y="90"></rect> <rect stroke="red" fill="none" width="40" height="40" x="100" y="80"></rect> <rect stroke="red" fill="none" width="60" height="60" x="90" y="70"></rect> <rect stroke="red" fill="none" width="80" height="80" x="80" y="60"></rect> <rect stroke="red" fill="none" width="100" height="100" x="70" y="50"></rect> <rect stroke="red" fill="none" width="120" height="120" x="60" y="40"></rect>
</svg>
</div>
<div id="the-ellipse" class="section level2">
<h2>The ellipse</h2>
<p>An ellipse is similar to a circle, but instead of r, we specify a pair rx and ry. This can be done in two ways:</p>
<ul>
<li>one at a time, for example: rx=50, ry=30</li>
<li>as a vector, for example: rxy=c(50,30)</li>
</ul>
<p>We demonstrate this with a filled ellipse inside a filled rect</p>
<pre class="r"><code>WH&lt;-c(600, 150) # window rect
cxy=c(200,75)
rxy&lt;-c(50,30)
svgR( wh=WH,
  rect(cxy=cxy, wh=2*rxy, stroke='blue', fill='yellow'),
  ellipse(cxy=cxy, rxy=rxy, stroke='green', fill='orange' )
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="600" height="150">
<rect stroke="blue" fill="yellow" width="100" height="60" x="150" y="45"></rect> <ellipse stroke="green" fill="orange" cx="200" cy="75" rx="50" ry="30"></ellipse>
</svg>
</div>
<div id="the-path-data-attribute" class="section level2">
<h2>The Path Data Attribute</h2>
<p>The path element is used to specify a curve. The path may be rendered directly by the setting the stroke attribute or used by other elements such as textPath.</p>
<p>The curve of a path may consist of any combination of lines, Bzier curves (cubic and quadratic), and ellisoid arcs. The exact combination specified in the <strong>d</strong> atttribue as a sequence of commands and points, summarized by the following table</p>
<table>
<thead>
<tr class="header">
<th align="left">Command</th>
<th align="left">Points</th>
<th align="left">Interpretation</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">M,m</td>
<td align="left">(x y)+</td>
<td align="left">Move the current point to a new location (without drawing)</td>
</tr>
<tr class="even">
<td align="left">L,l</td>
<td align="left">(x, y)+</td>
<td align="left">Draw a line from the current point to x,y</td>
</tr>
<tr class="odd">
<td align="left">H,h</td>
<td align="left">x+</td>
<td align="left">Draw a vertical line from the current</td>
</tr>
<tr class="even">
<td align="left">V,v</td>
<td align="left">y+</td>
<td align="left">Draw a horizontal line from the current point</td>
</tr>
<tr class="odd">
<td align="left">C,c</td>
<td align="left">(x1 y1 x2 y2 x y)+</td>
<td align="left">Draw a cubic Bzier curve to x,y using x1,y1; x2,y2 as control pts</td>
</tr>
<tr class="even">
<td align="left">S,s</td>
<td align="left">(x2 y2 x y)+</td>
<td align="left">Draw a cubic Bzier to x,y using x2,y2 as the second control pt (inheriting the first control point from a preceding Bzier)</td>
</tr>
<tr class="odd">
<td align="left">Q,q</td>
<td align="left">(x1 y1 x y)+</td>
<td align="left">Draw a quadratic Bzier curve to x,y using x1,y1 as control pts</td>
</tr>
<tr class="even">
<td align="left">T,t</td>
<td align="left">(x y)+</td>
<td align="left">Draw a quadratic Bzier curve to x,y (inheriting the first control from a preceding Bzier)</td>
</tr>
<tr class="odd">
<td align="left">A,a</td>
<td align="left">(rx ry x-axis-rotation large-arc-flag sweep-flag x y)+</td>
<td align="left">Draw an elliptical arc to x, y</td>
</tr>
<tr class="even">
<td align="left">Z</td>
<td align="left"></td>
<td align="left">closes the path</td>
</tr>
</tbody>
</table>
<p>Capital lettered commands interpret the points as absolute coordinates, lowercase interprets the points as relative point to the current (starting) point.</p>
<p>The following illustrates the basics of each command.</p>
<div id="lines" class="section level3">
<h3>Lines</h3>
<p>Using absolute coordinates (Note: we graphPaper background to illustrate the coordinates)</p>
<pre class="r"><code>WH&lt;-c(600,200)
svgR( wh=WH, 
      graphPaper(WH, dxy=c(20,20), labels=TRUE),
      path(d=c(&quot;M&quot;, 180,90, &quot;L&quot;, 150,142,90,142,60,90,90,38,150,38) , stroke='red', fill='none') )</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="600" height="200">
<g stroke-width="1" font-size="10" stroke="lightgrey"> <line x1="0" y1="0" x2="0" y2="200"></line> <line x1="20" y1="0" x2="20" y2="200"></line> <line x1="40" y1="0" x2="40" y2="200"></line> <line x1="60" y1="0" x2="60" y2="200"></line> <line x1="80" y1="0" x2="80" y2="200"></line> <line x1="100" y1="0" x2="100" y2="200"></line> <line x1="120" y1="0" x2="120" y2="200"></line> <line x1="140" y1="0" x2="140" y2="200"></line> <line x1="160" y1="0" x2="160" y2="200"></line> <line x1="180" y1="0" x2="180" y2="200"></line> <line x1="200" y1="0" x2="200" y2="200"></line> <line x1="220" y1="0" x2="220" y2="200"></line> <line x1="240" y1="0" x2="240" y2="200"></line> <line x1="260" y1="0" x2="260" y2="200"></line> <line x1="280" y1="0" x2="280" y2="200"></line> <line x1="300" y1="0" x2="300" y2="200"></line> <line x1="320" y1="0" x2="320" y2="200"></line> <line x1="340" y1="0" x2="340" y2="200"></line> <line x1="360" y1="0" x2="360" y2="200"></line> <line x1="380" y1="0" x2="380" y2="200"></line> <line x1="400" y1="0" x2="400" y2="200"></line> <line x1="420" y1="0" x2="420" y2="200"></line> <line x1="440" y1="0" x2="440" y2="200"></line> <line x1="460" y1="0" x2="460" y2="200"></line> <line x1="480" y1="0" x2="480" y2="200"></line> <line x1="500" y1="0" x2="500" y2="200"></line> <line x1="520" y1="0" x2="520" y2="200"></line> <line x1="540" y1="0" x2="540" y2="200"></line> <line x1="560" y1="0" x2="560" y2="200"></line> <line x1="580" y1="0" x2="580" y2="200"></line> <line x1="600" y1="0" x2="600" y2="200"></line> <line x1="0" y1="0" x2="600" y2="0"></line> <line x1="0" y1="20" x2="600" y2="20"></line> <line x1="0" y1="40" x2="600" y2="40"></line> <line x1="0" y1="60" x2="600" y2="60"></line> <line x1="0" y1="80" x2="600" y2="80"></line> <line x1="0" y1="100" x2="600" y2="100"></line> <line x1="0" y1="120" x2="600" y2="120"></line> <line x1="0" y1="140" x2="600" y2="140"></line> <line x1="0" y1="160" x2="600" y2="160"></line> <line x1="0" y1="180" x2="600" y2="180"></line> <line x1="0" y1="200" x2="600" y2="200"></line> <text x="2" y="10">0</text> <text x="22" y="10">20</text> <text x="42" y="10">40</text> <text x="62" y="10">60</text> <text x="82" y="10">80</text> <text x="102" y="10">100</text> <text x="122" y="10">120</text> <text x="142" y="10">140</text> <text x="162" y="10">160</text> <text x="182" y="10">180</text> <text x="202" y="10">200</text> <text x="222" y="10">220</text> <text x="242" y="10">240</text> <text x="262" y="10">260</text> <text x="282" y="10">280</text> <text x="302" y="10">300</text> <text x="322" y="10">320</text> <text x="342" y="10">340</text> <text x="362" y="10">360</text> <text x="382" y="10">380</text> <text x="402" y="10">400</text> <text x="422" y="10">420</text> <text x="442" y="10">440</text> <text x="462" y="10">460</text> <text x="482" y="10">480</text> <text x="502" y="10">500</text> <text x="522" y="10">520</text> <text x="542" y="10">540</text> <text x="562" y="10">560</text> <text x="582" y="10">580</text> <text x="602" y="10">600</text> <text x="2" y="0">0</text> <text x="2" y="20">20</text> <text x="2" y="40">40</text> <text x="2" y="60">60</text> <text x="2" y="80">80</text> <text x="2" y="100">100</text> <text x="2" y="120">120</text> <text x="2" y="140">140</text> <text x="2" y="160">160</text> <text x="2" y="180">180</text> <text x="2" y="200">200</text> </g> <path d="M 180 90 L 150 142 90 142 60 90 90 38 150 38" stroke="red" fill="none"></path>
</svg>
<p>Using relative coordinates</p>
<pre class="r"><code>WH&lt;-c(600,200)
svgR( wh=WH, 
      graphPaper(WH, dxy=c(20,20), labels=TRUE),
      path(d=c(&quot;m&quot;, 180,90, &quot;l&quot;, -30,52,-60,0,-30,-52,30,-52,60,0 ) , stroke='green', fill='none') )</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="600" height="200">
<g stroke-width="1" font-size="10" stroke="lightgrey"> <line x1="0" y1="0" x2="0" y2="200"></line> <line x1="20" y1="0" x2="20" y2="200"></line> <line x1="40" y1="0" x2="40" y2="200"></line> <line x1="60" y1="0" x2="60" y2="200"></line> <line x1="80" y1="0" x2="80" y2="200"></line> <line x1="100" y1="0" x2="100" y2="200"></line> <line x1="120" y1="0" x2="120" y2="200"></line> <line x1="140" y1="0" x2="140" y2="200"></line> <line x1="160" y1="0" x2="160" y2="200"></line> <line x1="180" y1="0" x2="180" y2="200"></line> <line x1="200" y1="0" x2="200" y2="200"></line> <line x1="220" y1="0" x2="220" y2="200"></line> <line x1="240" y1="0" x2="240" y2="200"></line> <line x1="260" y1="0" x2="260" y2="200"></line> <line x1="280" y1="0" x2="280" y2="200"></line> <line x1="300" y1="0" x2="300" y2="200"></line> <line x1="320" y1="0" x2="320" y2="200"></line> <line x1="340" y1="0" x2="340" y2="200"></line> <line x1="360" y1="0" x2="360" y2="200"></line> <line x1="380" y1="0" x2="380" y2="200"></line> <line x1="400" y1="0" x2="400" y2="200"></line> <line x1="420" y1="0" x2="420" y2="200"></line> <line x1="440" y1="0" x2="440" y2="200"></line> <line x1="460" y1="0" x2="460" y2="200"></line> <line x1="480" y1="0" x2="480" y2="200"></line> <line x1="500" y1="0" x2="500" y2="200"></line> <line x1="520" y1="0" x2="520" y2="200"></line> <line x1="540" y1="0" x2="540" y2="200"></line> <line x1="560" y1="0" x2="560" y2="200"></line> <line x1="580" y1="0" x2="580" y2="200"></line> <line x1="600" y1="0" x2="600" y2="200"></line> <line x1="0" y1="0" x2="600" y2="0"></line> <line x1="0" y1="20" x2="600" y2="20"></line> <line x1="0" y1="40" x2="600" y2="40"></line> <line x1="0" y1="60" x2="600" y2="60"></line> <line x1="0" y1="80" x2="600" y2="80"></line> <line x1="0" y1="100" x2="600" y2="100"></line> <line x1="0" y1="120" x2="600" y2="120"></line> <line x1="0" y1="140" x2="600" y2="140"></line> <line x1="0" y1="160" x2="600" y2="160"></line> <line x1="0" y1="180" x2="600" y2="180"></line> <line x1="0" y1="200" x2="600" y2="200"></line> <text x="2" y="10">0</text> <text x="22" y="10">20</text> <text x="42" y="10">40</text> <text x="62" y="10">60</text> <text x="82" y="10">80</text> <text x="102" y="10">100</text> <text x="122" y="10">120</text> <text x="142" y="10">140</text> <text x="162" y="10">160</text> <text x="182" y="10">180</text> <text x="202" y="10">200</text> <text x="222" y="10">220</text> <text x="242" y="10">240</text> <text x="262" y="10">260</text> <text x="282" y="10">280</text> <text x="302" y="10">300</text> <text x="322" y="10">320</text> <text x="342" y="10">340</text> <text x="362" y="10">360</text> <text x="382" y="10">380</text> <text x="402" y="10">400</text> <text x="422" y="10">420</text> <text x="442" y="10">440</text> <text x="462" y="10">460</text> <text x="482" y="10">480</text> <text x="502" y="10">500</text> <text x="522" y="10">520</text> <text x="542" y="10">540</text> <text x="562" y="10">560</text> <text x="582" y="10">580</text> <text x="602" y="10">600</text> <text x="2" y="0">0</text> <text x="2" y="20">20</text> <text x="2" y="40">40</text> <text x="2" y="60">60</text> <text x="2" y="80">80</text> <text x="2" y="100">100</text> <text x="2" y="120">120</text> <text x="2" y="140">140</text> <text x="2" y="160">160</text> <text x="2" y="180">180</text> <text x="2" y="200">200</text> </g> <path d="m 180 90 l -30 52 -60 0 -30 -52 30 -52 60 0" stroke="green" fill="none"></path>
</svg>
<p>Closing the path. To close the path add Z at the end</p>
<pre class="r"><code>WH&lt;-c(600,200)
svgR( wh=WH, 
      graphPaper(WH, dxy=c(20,20), labels=TRUE),
      path(d=c(&quot;m&quot;, 180,90, &quot;l&quot;, -30,52,-60,0,-30,-52,30,-52,60,0, &quot;Z&quot; ) , stroke='blue', fill='none') )</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="600" height="200">
<g stroke-width="1" font-size="10" stroke="lightgrey"> <line x1="0" y1="0" x2="0" y2="200"></line> <line x1="20" y1="0" x2="20" y2="200"></line> <line x1="40" y1="0" x2="40" y2="200"></line> <line x1="60" y1="0" x2="60" y2="200"></line> <line x1="80" y1="0" x2="80" y2="200"></line> <line x1="100" y1="0" x2="100" y2="200"></line> <line x1="120" y1="0" x2="120" y2="200"></line> <line x1="140" y1="0" x2="140" y2="200"></line> <line x1="160" y1="0" x2="160" y2="200"></line> <line x1="180" y1="0" x2="180" y2="200"></line> <line x1="200" y1="0" x2="200" y2="200"></line> <line x1="220" y1="0" x2="220" y2="200"></line> <line x1="240" y1="0" x2="240" y2="200"></line> <line x1="260" y1="0" x2="260" y2="200"></line> <line x1="280" y1="0" x2="280" y2="200"></line> <line x1="300" y1="0" x2="300" y2="200"></line> <line x1="320" y1="0" x2="320" y2="200"></line> <line x1="340" y1="0" x2="340" y2="200"></line> <line x1="360" y1="0" x2="360" y2="200"></line> <line x1="380" y1="0" x2="380" y2="200"></line> <line x1="400" y1="0" x2="400" y2="200"></line> <line x1="420" y1="0" x2="420" y2="200"></line> <line x1="440" y1="0" x2="440" y2="200"></line> <line x1="460" y1="0" x2="460" y2="200"></line> <line x1="480" y1="0" x2="480" y2="200"></line> <line x1="500" y1="0" x2="500" y2="200"></line> <line x1="520" y1="0" x2="520" y2="200"></line> <line x1="540" y1="0" x2="540" y2="200"></line> <line x1="560" y1="0" x2="560" y2="200"></line> <line x1="580" y1="0" x2="580" y2="200"></line> <line x1="600" y1="0" x2="600" y2="200"></line> <line x1="0" y1="0" x2="600" y2="0"></line> <line x1="0" y1="20" x2="600" y2="20"></line> <line x1="0" y1="40" x2="600" y2="40"></line> <line x1="0" y1="60" x2="600" y2="60"></line> <line x1="0" y1="80" x2="600" y2="80"></line> <line x1="0" y1="100" x2="600" y2="100"></line> <line x1="0" y1="120" x2="600" y2="120"></line> <line x1="0" y1="140" x2="600" y2="140"></line> <line x1="0" y1="160" x2="600" y2="160"></line> <line x1="0" y1="180" x2="600" y2="180"></line> <line x1="0" y1="200" x2="600" y2="200"></line> <text x="2" y="10">0</text> <text x="22" y="10">20</text> <text x="42" y="10">40</text> <text x="62" y="10">60</text> <text x="82" y="10">80</text> <text x="102" y="10">100</text> <text x="122" y="10">120</text> <text x="142" y="10">140</text> <text x="162" y="10">160</text> <text x="182" y="10">180</text> <text x="202" y="10">200</text> <text x="222" y="10">220</text> <text x="242" y="10">240</text> <text x="262" y="10">260</text> <text x="282" y="10">280</text> <text x="302" y="10">300</text> <text x="322" y="10">320</text> <text x="342" y="10">340</text> <text x="362" y="10">360</text> <text x="382" y="10">380</text> <text x="402" y="10">400</text> <text x="422" y="10">420</text> <text x="442" y="10">440</text> <text x="462" y="10">460</text> <text x="482" y="10">480</text> <text x="502" y="10">500</text> <text x="522" y="10">520</text> <text x="542" y="10">540</text> <text x="562" y="10">560</text> <text x="582" y="10">580</text> <text x="602" y="10">600</text> <text x="2" y="0">0</text> <text x="2" y="20">20</text> <text x="2" y="40">40</text> <text x="2" y="60">60</text> <text x="2" y="80">80</text> <text x="2" y="100">100</text> <text x="2" y="120">120</text> <text x="2" y="140">140</text> <text x="2" y="160">160</text> <text x="2" y="180">180</text> <text x="2" y="200">200</text> </g> <path d="m 180 90 l -30 52 -60 0 -30 -52 30 -52 60 0 Z" stroke="blue" fill="none"></path>
</svg>
</div>
</div>
<div id="the-elliptic-arc-curve" class="section level2">
<h2>The Elliptic Arc Curve</h2>
<p>An elliptic Arc is an arc formed from fragment of an ellipse which has possibly been rotated.</p>
<p>To specify that arc, we specify the end points of the arc and then the ellipse from which the arc is formed, and a flag to indicate which portion of the ellipse contains the arc.</p>
<p>To specify a general ellipse, we need 5 numbers, for example a rotational angle <span class="math inline">\(\theta\)</span>, (called <em>x-axis-rotation</em>), the major and minor radii <em>rx, ry</em> and something equivalent to the center of the ellipse. However, we note that rx, ry, rotation together with endpoints of the arc, determine the center to be of one of two locations. So we need only one additional parameter, called the <em>large-arc-flag</em></p>
<pre class="r"><code>theta=20
startPt=c(300,75)
endPt&lt;-startPt+c(0,50)
rxy=c(100,50)
laf0=0
laf1=1
sf0=0
sf1=1
WH&lt;-c(600, 200)
svgR( wh=WH, fill=&quot;none&quot;,
      graphPaper(WH),
      stroke.width=3,
      path(d=c(&quot;M&quot;, startPt, &quot;A&quot;, rxy, theta, laf0, sf0, endPt ) , stroke='red') ,
      path(d=c(&quot;M&quot;, startPt, &quot;A&quot;, rxy, theta, laf0, sf1, endPt ) , stroke='blue') ,
      path(d=c(&quot;M&quot;, startPt, &quot;A&quot;, rxy, theta, laf1, sf0, endPt ) , stroke='green') ,
      path(d=c(&quot;M&quot;, startPt, &quot;A&quot;, rxy, theta, laf1, sf1, endPt ) , stroke='orange'),
      line( xy1=startPt, xy2=startPt-c(0,40), stroke.width=1, stroke='black'),
      line( xy1=endPt, xy2=endPt+c(0,40), stroke.width=1, stroke='black'),
      text(&quot;start pt&quot;, cxy=startPt-c(0,50), font.size=12, stroke='black', stroke.width=1),
      text(&quot;end pt&quot;,   cxy=endPt+c(0,50), font.size=12, stroke='black', stroke.width=1),
      text(&quot;sf=0 on this side&quot;, xy=c(WH[1]-100,50), font.size=12, stroke='black', stroke.width=1),
      text(&quot;sf=1 on this side&quot;, xy=c(50,WH[2]-50),  font.size=12, stroke='black', stroke.width=1)

)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" fill="none" stroke-width="3" id="root" width="600" height="200">
<g stroke-width="1" font-size="10" stroke="lightgrey"> <line x1="0" y1="0" x2="0" y2="200"></line> <line x1="10" y1="0" x2="10" y2="200"></line> <line x1="20" y1="0" x2="20" y2="200"></line> <line x1="30" y1="0" x2="30" y2="200"></line> <line x1="40" y1="0" x2="40" y2="200"></line> <line x1="50" y1="0" x2="50" y2="200"></line> <line x1="60" y1="0" x2="60" y2="200"></line> <line x1="70" y1="0" x2="70" y2="200"></line> <line x1="80" y1="0" x2="80" y2="200"></line> <line x1="90" y1="0" x2="90" y2="200"></line> <line x1="100" y1="0" x2="100" y2="200"></line> <line x1="110" y1="0" x2="110" y2="200"></line> <line x1="120" y1="0" x2="120" y2="200"></line> <line x1="130" y1="0" x2="130" y2="200"></line> <line x1="140" y1="0" x2="140" y2="200"></line> <line x1="150" y1="0" x2="150" y2="200"></line> <line x1="160" y1="0" x2="160" y2="200"></line> <line x1="170" y1="0" x2="170" y2="200"></line> <line x1="180" y1="0" x2="180" y2="200"></line> <line x1="190" y1="0" x2="190" y2="200"></line> <line x1="200" y1="0" x2="200" y2="200"></line> <line x1="210" y1="0" x2="210" y2="200"></line> <line x1="220" y1="0" x2="220" y2="200"></line> <line x1="230" y1="0" x2="230" y2="200"></line> <line x1="240" y1="0" x2="240" y2="200"></line> <line x1="250" y1="0" x2="250" y2="200"></line> <line x1="260" y1="0" x2="260" y2="200"></line> <line x1="270" y1="0" x2="270" y2="200"></line> <line x1="280" y1="0" x2="280" y2="200"></line> <line x1="290" y1="0" x2="290" y2="200"></line> <line x1="300" y1="0" x2="300" y2="200"></line> <line x1="310" y1="0" x2="310" y2="200"></line> <line x1="320" y1="0" x2="320" y2="200"></line> <line x1="330" y1="0" x2="330" y2="200"></line> <line x1="340" y1="0" x2="340" y2="200"></line> <line x1="350" y1="0" x2="350" y2="200"></line> <line x1="360" y1="0" x2="360" y2="200"></line> <line x1="370" y1="0" x2="370" y2="200"></line> <line x1="380" y1="0" x2="380" y2="200"></line> <line x1="390" y1="0" x2="390" y2="200"></line> <line x1="400" y1="0" x2="400" y2="200"></line> <line x1="410" y1="0" x2="410" y2="200"></line> <line x1="420" y1="0" x2="420" y2="200"></line> <line x1="430" y1="0" x2="430" y2="200"></line> <line x1="440" y1="0" x2="440" y2="200"></line> <line x1="450" y1="0" x2="450" y2="200"></line> <line x1="460" y1="0" x2="460" y2="200"></line> <line x1="470" y1="0" x2="470" y2="200"></line> <line x1="480" y1="0" x2="480" y2="200"></line> <line x1="490" y1="0" x2="490" y2="200"></line> <line x1="500" y1="0" x2="500" y2="200"></line> <line x1="510" y1="0" x2="510" y2="200"></line> <line x1="520" y1="0" x2="520" y2="200"></line> <line x1="530" y1="0" x2="530" y2="200"></line> <line x1="540" y1="0" x2="540" y2="200"></line> <line x1="550" y1="0" x2="550" y2="200"></line> <line x1="560" y1="0" x2="560" y2="200"></line> <line x1="570" y1="0" x2="570" y2="200"></line> <line x1="580" y1="0" x2="580" y2="200"></line> <line x1="590" y1="0" x2="590" y2="200"></line> <line x1="600" y1="0" x2="600" y2="200"></line> <line x1="0" y1="0" x2="600" y2="0"></line> <line x1="0" y1="10" x2="600" y2="10"></line> <line x1="0" y1="20" x2="600" y2="20"></line> <line x1="0" y1="30" x2="600" y2="30"></line> <line x1="0" y1="40" x2="600" y2="40"></line> <line x1="0" y1="50" x2="600" y2="50"></line> <line x1="0" y1="60" x2="600" y2="60"></line> <line x1="0" y1="70" x2="600" y2="70"></line> <line x1="0" y1="80" x2="600" y2="80"></line> <line x1="0" y1="90" x2="600" y2="90"></line> <line x1="0" y1="100" x2="600" y2="100"></line> <line x1="0" y1="110" x2="600" y2="110"></line> <line x1="0" y1="120" x2="600" y2="120"></line> <line x1="0" y1="130" x2="600" y2="130"></line> <line x1="0" y1="140" x2="600" y2="140"></line> <line x1="0" y1="150" x2="600" y2="150"></line> <line x1="0" y1="160" x2="600" y2="160"></line> <line x1="0" y1="170" x2="600" y2="170"></line> <line x1="0" y1="180" x2="600" y2="180"></line> <line x1="0" y1="190" x2="600" y2="190"></line> <line x1="0" y1="200" x2="600" y2="200"></line> </g> <path d="M 300 75 A 100 50 20 0 0 300 125" stroke="red"></path> <path d="M 300 75 A 100 50 20 0 1 300 125" stroke="blue"></path> <path d="M 300 75 A 100 50 20 1 0 300 125" stroke="green"></path> <path d="M 300 75 A 100 50 20 1 1 300 125" stroke="orange"></path> <line stroke-width="1" stroke="black" x1="300" y1="75" x2="300" y2="35"></line> <line stroke-width="1" stroke="black" x1="300" y1="125" x2="300" y2="165"></line> <text font-size="12" stroke="black" stroke-width="1" text-anchor="middle" dominant-baseline="central" x="300" y="25">start pt</text> <text font-size="12" stroke="black" stroke-width="1" text-anchor="middle" dominant-baseline="central" x="300" y="175">end pt</text> <text font-size="12" stroke="black" stroke-width="1" x="500" y="50">sf=0 on this side</text> <text font-size="12" stroke="black" stroke-width="1" x="50" y="150">sf=1 on this side</text>
</svg>
</div>
<div id="q-the-quadratic-bezier" class="section level2">
<h2>Q: The Quadratic Bzier</h2>
<p>A Quadratic Bzier is a parametric curve whose coodinates are given by quadratic expressions in a parameter t. The most common formulation is given points <span class="math inline">\(P_0\)</span>, <span class="math inline">\(P_1\)</span>, <span class="math inline">\(C_0\)</span>, a point on the curve is given by <span class="math display">\[ P= (1-t)^2 P_0 + 2(1-t)t C_0 +t^2 P_1\]</span> for <span class="math inline">\(0 \leq t \leq1\)</span></p>
<p>Thus Quadratic Bzier requires three points: <span class="math inline">\(P_0\)</span>, the starting point, <span class="math inline">\(P_1\)</span> the ending point, and <span class="math inline">\(C_0\)</span>, a control point. One can easliy verify that the control point lies on the intersection of the the lines tangent to the end points.</p>
<p>This is illustrated in the following example</p>
<pre class="r"><code>P0=c(200,50)
P1=c(300,150)
C0&lt;-c(100,100)
WH&lt;-c(600,200)
svgR( wh=WH, 
  graphPaper(wh=WH, dxy=c(20,20), labels=TRUE), 
  path(d=c(&quot;M&quot;,P0, &quot;Q&quot;, C0,  P1) , stroke='red',
  stroke.width=3, fill='none') ,
  g( 
    stroke='blue',
    line(xy1=P0,xy2=C0),
    line(xy2=P1,xy1=C0)
  ),
  g(
    stroke=&quot;black&quot;,
    text(&quot;P0&quot;,cxy=P0 ),
    text(&quot;C0&quot;,cxy=C0),
    text(&quot;P1&quot;, cxy=P1)
  )
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="600" height="200">
<g stroke-width="1" font-size="10" stroke="lightgrey"> <line x1="0" y1="0" x2="0" y2="200"></line> <line x1="20" y1="0" x2="20" y2="200"></line> <line x1="40" y1="0" x2="40" y2="200"></line> <line x1="60" y1="0" x2="60" y2="200"></line> <line x1="80" y1="0" x2="80" y2="200"></line> <line x1="100" y1="0" x2="100" y2="200"></line> <line x1="120" y1="0" x2="120" y2="200"></line> <line x1="140" y1="0" x2="140" y2="200"></line> <line x1="160" y1="0" x2="160" y2="200"></line> <line x1="180" y1="0" x2="180" y2="200"></line> <line x1="200" y1="0" x2="200" y2="200"></line> <line x1="220" y1="0" x2="220" y2="200"></line> <line x1="240" y1="0" x2="240" y2="200"></line> <line x1="260" y1="0" x2="260" y2="200"></line> <line x1="280" y1="0" x2="280" y2="200"></line> <line x1="300" y1="0" x2="300" y2="200"></line> <line x1="320" y1="0" x2="320" y2="200"></line> <line x1="340" y1="0" x2="340" y2="200"></line> <line x1="360" y1="0" x2="360" y2="200"></line> <line x1="380" y1="0" x2="380" y2="200"></line> <line x1="400" y1="0" x2="400" y2="200"></line> <line x1="420" y1="0" x2="420" y2="200"></line> <line x1="440" y1="0" x2="440" y2="200"></line> <line x1="460" y1="0" x2="460" y2="200"></line> <line x1="480" y1="0" x2="480" y2="200"></line> <line x1="500" y1="0" x2="500" y2="200"></line> <line x1="520" y1="0" x2="520" y2="200"></line> <line x1="540" y1="0" x2="540" y2="200"></line> <line x1="560" y1="0" x2="560" y2="200"></line> <line x1="580" y1="0" x2="580" y2="200"></line> <line x1="600" y1="0" x2="600" y2="200"></line> <line x1="0" y1="0" x2="600" y2="0"></line> <line x1="0" y1="20" x2="600" y2="20"></line> <line x1="0" y1="40" x2="600" y2="40"></line> <line x1="0" y1="60" x2="600" y2="60"></line> <line x1="0" y1="80" x2="600" y2="80"></line> <line x1="0" y1="100" x2="600" y2="100"></line> <line x1="0" y1="120" x2="600" y2="120"></line> <line x1="0" y1="140" x2="600" y2="140"></line> <line x1="0" y1="160" x2="600" y2="160"></line> <line x1="0" y1="180" x2="600" y2="180"></line> <line x1="0" y1="200" x2="600" y2="200"></line> <text x="2" y="10">0</text> <text x="22" y="10">20</text> <text x="42" y="10">40</text> <text x="62" y="10">60</text> <text x="82" y="10">80</text> <text x="102" y="10">100</text> <text x="122" y="10">120</text> <text x="142" y="10">140</text> <text x="162" y="10">160</text> <text x="182" y="10">180</text> <text x="202" y="10">200</text> <text x="222" y="10">220</text> <text x="242" y="10">240</text> <text x="262" y="10">260</text> <text x="282" y="10">280</text> <text x="302" y="10">300</text> <text x="322" y="10">320</text> <text x="342" y="10">340</text> <text x="362" y="10">360</text> <text x="382" y="10">380</text> <text x="402" y="10">400</text> <text x="422" y="10">420</text> <text x="442" y="10">440</text> <text x="462" y="10">460</text> <text x="482" y="10">480</text> <text x="502" y="10">500</text> <text x="522" y="10">520</text> <text x="542" y="10">540</text> <text x="562" y="10">560</text> <text x="582" y="10">580</text> <text x="602" y="10">600</text> <text x="2" y="0">0</text> <text x="2" y="20">20</text> <text x="2" y="40">40</text> <text x="2" y="60">60</text> <text x="2" y="80">80</text> <text x="2" y="100">100</text> <text x="2" y="120">120</text> <text x="2" y="140">140</text> <text x="2" y="160">160</text> <text x="2" y="180">180</text> <text x="2" y="200">200</text> </g> <path d="M 200 50 Q 100 100 300 150" stroke="red" stroke-width="3" fill="none"></path> <g stroke="blue"> <line x1="200" y1="50" x2="100" y2="100"></line> <line x1="100" y1="100" x2="300" y2="150"></line> </g> <g stroke="black"> <text text-anchor="middle" dominant-baseline="central" x="200" y="50">P0</text> <text text-anchor="middle" dominant-baseline="central" x="100" y="100">C0</text> <text text-anchor="middle" dominant-baseline="central" x="300" y="150">P1</text> </g>
</svg>
</div>
<div id="t-extending-a-bezier-with-a-quadratic-bezier" class="section level2">
<h2>T: Extending a Bzier with a Quadratic Bzier</h2>
<p>Using the T command, we can append to a given Bzier a Quadratic Bzier without specifying an additional control point. The control point that is used will be the reflection of the control point of the previous Bzier. That is, <span class="math display">\[C_{i+1}= 2 \times P_i + C_i\]</span> where <span class="math inline">\(C_i\)</span> is the control point of the previous Bzier. Thus,we ensure continuity of the deriverative of the beginning endpoint of the appended Bzier.</p>
<p>We demonstarte this in the following example</p>
<pre class="r"><code>Pt0=c(200,50)
Pt1=c(300,150)
C0&lt;-c(100,100)
C1&lt;-2*Pt1 -C0
Pt2=c(400,50)
svgR( wh=c(600, 250), 
      graphPaper(c(600,250)),
      path(d=c(&quot;M&quot;,Pt0, &quot;Q&quot;, C0,  Pt1 , &quot;T&quot;, Pt2) , stroke='red', stroke.width=3, fill='none') ,
      #path(d=c(&quot;T&quot;, endPt2) , stroke='green', fill='none') ,
      g( 
        stroke='blue',
        line(xy1=Pt0,xy2=C0),
        line(xy2=Pt1,xy1=C0),
        line(xy1=Pt1,xy2=C1),
        line(xy2=Pt2,xy1=C1)
      ),
      g(
        stroke=&quot;black&quot;,
        text(&quot;P0&quot;,cxy=Pt0 ),
        text(&quot;C0&quot;,cxy=C0),
        text(&quot;C1&quot;,cxy=C1),
        text(&quot;P2&quot;,cxy=Pt2),
        text(&quot;P1&quot;, cxy=Pt1)
      )
    )</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="600" height="250">
<g stroke-width="1" font-size="10" stroke="lightgrey"> <line x1="0" y1="0" x2="0" y2="250"></line> <line x1="10" y1="0" x2="10" y2="250"></line> <line x1="20" y1="0" x2="20" y2="250"></line> <line x1="30" y1="0" x2="30" y2="250"></line> <line x1="40" y1="0" x2="40" y2="250"></line> <line x1="50" y1="0" x2="50" y2="250"></line> <line x1="60" y1="0" x2="60" y2="250"></line> <line x1="70" y1="0" x2="70" y2="250"></line> <line x1="80" y1="0" x2="80" y2="250"></line> <line x1="90" y1="0" x2="90" y2="250"></line> <line x1="100" y1="0" x2="100" y2="250"></line> <line x1="110" y1="0" x2="110" y2="250"></line> <line x1="120" y1="0" x2="120" y2="250"></line> <line x1="130" y1="0" x2="130" y2="250"></line> <line x1="140" y1="0" x2="140" y2="250"></line> <line x1="150" y1="0" x2="150" y2="250"></line> <line x1="160" y1="0" x2="160" y2="250"></line> <line x1="170" y1="0" x2="170" y2="250"></line> <line x1="180" y1="0" x2="180" y2="250"></line> <line x1="190" y1="0" x2="190" y2="250"></line> <line x1="200" y1="0" x2="200" y2="250"></line> <line x1="210" y1="0" x2="210" y2="250"></line> <line x1="220" y1="0" x2="220" y2="250"></line> <line x1="230" y1="0" x2="230" y2="250"></line> <line x1="240" y1="0" x2="240" y2="250"></line> <line x1="250" y1="0" x2="250" y2="250"></line> <line x1="260" y1="0" x2="260" y2="250"></line> <line x1="270" y1="0" x2="270" y2="250"></line> <line x1="280" y1="0" x2="280" y2="250"></line> <line x1="290" y1="0" x2="290" y2="250"></line> <line x1="300" y1="0" x2="300" y2="250"></line> <line x1="310" y1="0" x2="310" y2="250"></line> <line x1="320" y1="0" x2="320" y2="250"></line> <line x1="330" y1="0" x2="330" y2="250"></line> <line x1="340" y1="0" x2="340" y2="250"></line> <line x1="350" y1="0" x2="350" y2="250"></line> <line x1="360" y1="0" x2="360" y2="250"></line> <line x1="370" y1="0" x2="370" y2="250"></line> <line x1="380" y1="0" x2="380" y2="250"></line> <line x1="390" y1="0" x2="390" y2="250"></line> <line x1="400" y1="0" x2="400" y2="250"></line> <line x1="410" y1="0" x2="410" y2="250"></line> <line x1="420" y1="0" x2="420" y2="250"></line> <line x1="430" y1="0" x2="430" y2="250"></line> <line x1="440" y1="0" x2="440" y2="250"></line> <line x1="450" y1="0" x2="450" y2="250"></line> <line x1="460" y1="0" x2="460" y2="250"></line> <line x1="470" y1="0" x2="470" y2="250"></line> <line x1="480" y1="0" x2="480" y2="250"></line> <line x1="490" y1="0" x2="490" y2="250"></line> <line x1="500" y1="0" x2="500" y2="250"></line> <line x1="510" y1="0" x2="510" y2="250"></line> <line x1="520" y1="0" x2="520" y2="250"></line> <line x1="530" y1="0" x2="530" y2="250"></line> <line x1="540" y1="0" x2="540" y2="250"></line> <line x1="550" y1="0" x2="550" y2="250"></line> <line x1="560" y1="0" x2="560" y2="250"></line> <line x1="570" y1="0" x2="570" y2="250"></line> <line x1="580" y1="0" x2="580" y2="250"></line> <line x1="590" y1="0" x2="590" y2="250"></line> <line x1="600" y1="0" x2="600" y2="250"></line> <line x1="0" y1="0" x2="600" y2="0"></line> <line x1="0" y1="10" x2="600" y2="10"></line> <line x1="0" y1="20" x2="600" y2="20"></line> <line x1="0" y1="30" x2="600" y2="30"></line> <line x1="0" y1="40" x2="600" y2="40"></line> <line x1="0" y1="50" x2="600" y2="50"></line> <line x1="0" y1="60" x2="600" y2="60"></line> <line x1="0" y1="70" x2="600" y2="70"></line> <line x1="0" y1="80" x2="600" y2="80"></line> <line x1="0" y1="90" x2="600" y2="90"></line> <line x1="0" y1="100" x2="600" y2="100"></line> <line x1="0" y1="110" x2="600" y2="110"></line> <line x1="0" y1="120" x2="600" y2="120"></line> <line x1="0" y1="130" x2="600" y2="130"></line> <line x1="0" y1="140" x2="600" y2="140"></line> <line x1="0" y1="150" x2="600" y2="150"></line> <line x1="0" y1="160" x2="600" y2="160"></line> <line x1="0" y1="170" x2="600" y2="170"></line> <line x1="0" y1="180" x2="600" y2="180"></line> <line x1="0" y1="190" x2="600" y2="190"></line> <line x1="0" y1="200" x2="600" y2="200"></line> <line x1="0" y1="210" x2="600" y2="210"></line> <line x1="0" y1="220" x2="600" y2="220"></line> <line x1="0" y1="230" x2="600" y2="230"></line> <line x1="0" y1="240" x2="600" y2="240"></line> <line x1="0" y1="250" x2="600" y2="250"></line> </g> <path d="M 200 50 Q 100 100 300 150 T 400 50" stroke="red" stroke-width="3" fill="none"></path> <g stroke="blue"> <line x1="200" y1="50" x2="100" y2="100"></line> <line x1="100" y1="100" x2="300" y2="150"></line> <line x1="300" y1="150" x2="500" y2="200"></line> <line x1="500" y1="200" x2="400" y2="50"></line> </g> <g stroke="black"> <text text-anchor="middle" dominant-baseline="central" x="200" y="50">P0</text> <text text-anchor="middle" dominant-baseline="central" x="100" y="100">C0</text> <text text-anchor="middle" dominant-baseline="central" x="500" y="200">C1</text> <text text-anchor="middle" dominant-baseline="central" x="400" y="50">P2</text> <text text-anchor="middle" dominant-baseline="central" x="300" y="150">P1</text> </g>
</svg>
<div id="c-the-cubic-bezier" class="section level3">
<h3>C: The Cubic Bzier</h3>
<p>The <strong>Cubic Bzier</strong> is similar to the Quadratic Bzier, but has a higher degree allowing for a S-shaped curve. The Cubic Bzier requires four points, <span class="math inline">\(P_0\)</span> the start point, <span class="math inline">\(P_1\)</span> the end point and two control points <span class="math inline">\(C_0\)</span>, <span class="math inline">\(C_1\)</span> . <span class="math display">\[ P(t)=(1-t)^3 P_0 + 3 (1-t)^2 t C_0 + 3 (1-t)t^2 C_1 + t^3 P_p \]</span> for <span class="math inline">\(0 \leq t \leq 1\)</span></p>
<p>The first control point, <span class="math inline">\(C_0\)</span>, together with the starting point, <span class="math inline">\(P_0\)</span>, determines a vector, <span class="math inline">\(C_0-P_0\)</span> which is tangent to the curve at <span class="math inline">\(P_0\)</span>. Similarly, the second control point, <span class="math inline">\(C_1\)</span>, together with ending point, <span class="math inline">\(P_1\)</span>, determine a vector, <span class="math inline">\(P_1-C_1\)</span> which is tangent to the curve at <span class="math inline">\(P_1\)</span>. The magnititude of the vectors <span class="math inline">\(C_0 - p_0\)</span>, and <span class="math inline">\(P_1 -C_1\)</span> determine the intermediate shape.</p>
<p>The current location is considerd to be the start point (<span class="math inline">\(P_0\)</span>), so we usually begin a path specification with an <strong>M</strong> command. This is followed by a <strong>C</strong> command. (or a lower case c if we are using relative coordinates) and the control points, <span class="math inline">\(C_0\)</span>, <span class="math inline">\(C_1\)</span>, and the ending point <span class="math inline">\(P_1\)</span>.</p>
<p>This is illustrated by the following:</p>
<pre class="r"><code>P0=c(200,50)
P1=c(300,150)
C0&lt;-c(100,100)
C1&lt;-c(400,100)
svgR( wh=c(600, 200), 
      graphPaper(c(600,200)),
      path(d=c(&quot;M&quot;,P0, &quot;C&quot;, C0, C1, P1) , stroke='red', stroke.width=3, fill='none') ,
      g( 
        stroke='blue',
        line(xy1=P0,xy2=C0),
        line(xy2=P1,xy1=C1)
      ),
      g(
        stroke=&quot;black&quot;,
        text(&quot;P0&quot;,cxy=P0 ),
        text(&quot;C0&quot;,cxy=C0),
        text(&quot;C1&quot;,cxy=C1),
        text(&quot;P1&quot;, cxy=P1)
      )
    )</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="600" height="200">
<g stroke-width="1" font-size="10" stroke="lightgrey"> <line x1="0" y1="0" x2="0" y2="200"></line> <line x1="10" y1="0" x2="10" y2="200"></line> <line x1="20" y1="0" x2="20" y2="200"></line> <line x1="30" y1="0" x2="30" y2="200"></line> <line x1="40" y1="0" x2="40" y2="200"></line> <line x1="50" y1="0" x2="50" y2="200"></line> <line x1="60" y1="0" x2="60" y2="200"></line> <line x1="70" y1="0" x2="70" y2="200"></line> <line x1="80" y1="0" x2="80" y2="200"></line> <line x1="90" y1="0" x2="90" y2="200"></line> <line x1="100" y1="0" x2="100" y2="200"></line> <line x1="110" y1="0" x2="110" y2="200"></line> <line x1="120" y1="0" x2="120" y2="200"></line> <line x1="130" y1="0" x2="130" y2="200"></line> <line x1="140" y1="0" x2="140" y2="200"></line> <line x1="150" y1="0" x2="150" y2="200"></line> <line x1="160" y1="0" x2="160" y2="200"></line> <line x1="170" y1="0" x2="170" y2="200"></line> <line x1="180" y1="0" x2="180" y2="200"></line> <line x1="190" y1="0" x2="190" y2="200"></line> <line x1="200" y1="0" x2="200" y2="200"></line> <line x1="210" y1="0" x2="210" y2="200"></line> <line x1="220" y1="0" x2="220" y2="200"></line> <line x1="230" y1="0" x2="230" y2="200"></line> <line x1="240" y1="0" x2="240" y2="200"></line> <line x1="250" y1="0" x2="250" y2="200"></line> <line x1="260" y1="0" x2="260" y2="200"></line> <line x1="270" y1="0" x2="270" y2="200"></line> <line x1="280" y1="0" x2="280" y2="200"></line> <line x1="290" y1="0" x2="290" y2="200"></line> <line x1="300" y1="0" x2="300" y2="200"></line> <line x1="310" y1="0" x2="310" y2="200"></line> <line x1="320" y1="0" x2="320" y2="200"></line> <line x1="330" y1="0" x2="330" y2="200"></line> <line x1="340" y1="0" x2="340" y2="200"></line> <line x1="350" y1="0" x2="350" y2="200"></line> <line x1="360" y1="0" x2="360" y2="200"></line> <line x1="370" y1="0" x2="370" y2="200"></line> <line x1="380" y1="0" x2="380" y2="200"></line> <line x1="390" y1="0" x2="390" y2="200"></line> <line x1="400" y1="0" x2="400" y2="200"></line> <line x1="410" y1="0" x2="410" y2="200"></line> <line x1="420" y1="0" x2="420" y2="200"></line> <line x1="430" y1="0" x2="430" y2="200"></line> <line x1="440" y1="0" x2="440" y2="200"></line> <line x1="450" y1="0" x2="450" y2="200"></line> <line x1="460" y1="0" x2="460" y2="200"></line> <line x1="470" y1="0" x2="470" y2="200"></line> <line x1="480" y1="0" x2="480" y2="200"></line> <line x1="490" y1="0" x2="490" y2="200"></line> <line x1="500" y1="0" x2="500" y2="200"></line> <line x1="510" y1="0" x2="510" y2="200"></line> <line x1="520" y1="0" x2="520" y2="200"></line> <line x1="530" y1="0" x2="530" y2="200"></line> <line x1="540" y1="0" x2="540" y2="200"></line> <line x1="550" y1="0" x2="550" y2="200"></line> <line x1="560" y1="0" x2="560" y2="200"></line> <line x1="570" y1="0" x2="570" y2="200"></line> <line x1="580" y1="0" x2="580" y2="200"></line> <line x1="590" y1="0" x2="590" y2="200"></line> <line x1="600" y1="0" x2="600" y2="200"></line> <line x1="0" y1="0" x2="600" y2="0"></line> <line x1="0" y1="10" x2="600" y2="10"></line> <line x1="0" y1="20" x2="600" y2="20"></line> <line x1="0" y1="30" x2="600" y2="30"></line> <line x1="0" y1="40" x2="600" y2="40"></line> <line x1="0" y1="50" x2="600" y2="50"></line> <line x1="0" y1="60" x2="600" y2="60"></line> <line x1="0" y1="70" x2="600" y2="70"></line> <line x1="0" y1="80" x2="600" y2="80"></line> <line x1="0" y1="90" x2="600" y2="90"></line> <line x1="0" y1="100" x2="600" y2="100"></line> <line x1="0" y1="110" x2="600" y2="110"></line> <line x1="0" y1="120" x2="600" y2="120"></line> <line x1="0" y1="130" x2="600" y2="130"></line> <line x1="0" y1="140" x2="600" y2="140"></line> <line x1="0" y1="150" x2="600" y2="150"></line> <line x1="0" y1="160" x2="600" y2="160"></line> <line x1="0" y1="170" x2="600" y2="170"></line> <line x1="0" y1="180" x2="600" y2="180"></line> <line x1="0" y1="190" x2="600" y2="190"></line> <line x1="0" y1="200" x2="600" y2="200"></line> </g> <path d="M 200 50 C 100 100 400 100 300 150" stroke="red" stroke-width="3" fill="none"></path> <g stroke="blue"> <line x1="200" y1="50" x2="100" y2="100"></line> <line x1="400" y1="100" x2="300" y2="150"></line> </g> <g stroke="black"> <text text-anchor="middle" dominant-baseline="central" x="200" y="50">P0</text> <text text-anchor="middle" dominant-baseline="central" x="100" y="100">C0</text> <text text-anchor="middle" dominant-baseline="central" x="400" y="100">C1</text> <text text-anchor="middle" dominant-baseline="central" x="300" y="150">P1</text> </g>
</svg>
<p>Interchanging ctrlPt2 with the end point gives</p>
<pre class="r"><code>P0=c(200,50)
C1=c(300,150)
C0&lt;-c(100,100)
P1&lt;-c(400,100)
svgR( wh=c(600, 200), 
      graphPaper(c(600,200)),
      path(d=c(&quot;M&quot;,P0, &quot;C&quot;, C0, C1, P1) , stroke='red', stroke.width=3, fill='none') ,
      g( 
        stroke='blue',
        line(xy1=P0,xy2=C0),
        line(xy2=P1,xy1=C1)
      ),
      g(
        stroke=&quot;black&quot;,
        text(&quot;P0&quot;,cxy=P0 ),
        text(&quot;C0&quot;,cxy=C0),
        text(&quot;C1&quot;,cxy=C1),
        text(&quot;P1&quot;, cxy=P1)
      )
    )</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="600" height="200">
<g stroke-width="1" font-size="10" stroke="lightgrey"> <line x1="0" y1="0" x2="0" y2="200"></line> <line x1="10" y1="0" x2="10" y2="200"></line> <line x1="20" y1="0" x2="20" y2="200"></line> <line x1="30" y1="0" x2="30" y2="200"></line> <line x1="40" y1="0" x2="40" y2="200"></line> <line x1="50" y1="0" x2="50" y2="200"></line> <line x1="60" y1="0" x2="60" y2="200"></line> <line x1="70" y1="0" x2="70" y2="200"></line> <line x1="80" y1="0" x2="80" y2="200"></line> <line x1="90" y1="0" x2="90" y2="200"></line> <line x1="100" y1="0" x2="100" y2="200"></line> <line x1="110" y1="0" x2="110" y2="200"></line> <line x1="120" y1="0" x2="120" y2="200"></line> <line x1="130" y1="0" x2="130" y2="200"></line> <line x1="140" y1="0" x2="140" y2="200"></line> <line x1="150" y1="0" x2="150" y2="200"></line> <line x1="160" y1="0" x2="160" y2="200"></line> <line x1="170" y1="0" x2="170" y2="200"></line> <line x1="180" y1="0" x2="180" y2="200"></line> <line x1="190" y1="0" x2="190" y2="200"></line> <line x1="200" y1="0" x2="200" y2="200"></line> <line x1="210" y1="0" x2="210" y2="200"></line> <line x1="220" y1="0" x2="220" y2="200"></line> <line x1="230" y1="0" x2="230" y2="200"></line> <line x1="240" y1="0" x2="240" y2="200"></line> <line x1="250" y1="0" x2="250" y2="200"></line> <line x1="260" y1="0" x2="260" y2="200"></line> <line x1="270" y1="0" x2="270" y2="200"></line> <line x1="280" y1="0" x2="280" y2="200"></line> <line x1="290" y1="0" x2="290" y2="200"></line> <line x1="300" y1="0" x2="300" y2="200"></line> <line x1="310" y1="0" x2="310" y2="200"></line> <line x1="320" y1="0" x2="320" y2="200"></line> <line x1="330" y1="0" x2="330" y2="200"></line> <line x1="340" y1="0" x2="340" y2="200"></line> <line x1="350" y1="0" x2="350" y2="200"></line> <line x1="360" y1="0" x2="360" y2="200"></line> <line x1="370" y1="0" x2="370" y2="200"></line> <line x1="380" y1="0" x2="380" y2="200"></line> <line x1="390" y1="0" x2="390" y2="200"></line> <line x1="400" y1="0" x2="400" y2="200"></line> <line x1="410" y1="0" x2="410" y2="200"></line> <line x1="420" y1="0" x2="420" y2="200"></line> <line x1="430" y1="0" x2="430" y2="200"></line> <line x1="440" y1="0" x2="440" y2="200"></line> <line x1="450" y1="0" x2="450" y2="200"></line> <line x1="460" y1="0" x2="460" y2="200"></line> <line x1="470" y1="0" x2="470" y2="200"></line> <line x1="480" y1="0" x2="480" y2="200"></line> <line x1="490" y1="0" x2="490" y2="200"></line> <line x1="500" y1="0" x2="500" y2="200"></line> <line x1="510" y1="0" x2="510" y2="200"></line> <line x1="520" y1="0" x2="520" y2="200"></line> <line x1="530" y1="0" x2="530" y2="200"></line> <line x1="540" y1="0" x2="540" y2="200"></line> <line x1="550" y1="0" x2="550" y2="200"></line> <line x1="560" y1="0" x2="560" y2="200"></line> <line x1="570" y1="0" x2="570" y2="200"></line> <line x1="580" y1="0" x2="580" y2="200"></line> <line x1="590" y1="0" x2="590" y2="200"></line> <line x1="600" y1="0" x2="600" y2="200"></line> <line x1="0" y1="0" x2="600" y2="0"></line> <line x1="0" y1="10" x2="600" y2="10"></line> <line x1="0" y1="20" x2="600" y2="20"></line> <line x1="0" y1="30" x2="600" y2="30"></line> <line x1="0" y1="40" x2="600" y2="40"></line> <line x1="0" y1="50" x2="600" y2="50"></line> <line x1="0" y1="60" x2="600" y2="60"></line> <line x1="0" y1="70" x2="600" y2="70"></line> <line x1="0" y1="80" x2="600" y2="80"></line> <line x1="0" y1="90" x2="600" y2="90"></line> <line x1="0" y1="100" x2="600" y2="100"></line> <line x1="0" y1="110" x2="600" y2="110"></line> <line x1="0" y1="120" x2="600" y2="120"></line> <line x1="0" y1="130" x2="600" y2="130"></line> <line x1="0" y1="140" x2="600" y2="140"></line> <line x1="0" y1="150" x2="600" y2="150"></line> <line x1="0" y1="160" x2="600" y2="160"></line> <line x1="0" y1="170" x2="600" y2="170"></line> <line x1="0" y1="180" x2="600" y2="180"></line> <line x1="0" y1="190" x2="600" y2="190"></line> <line x1="0" y1="200" x2="600" y2="200"></line> </g> <path d="M 200 50 C 100 100 300 150 400 100" stroke="red" stroke-width="3" fill="none"></path> <g stroke="blue"> <line x1="200" y1="50" x2="100" y2="100"></line> <line x1="300" y1="150" x2="400" y2="100"></line> </g> <g stroke="black"> <text text-anchor="middle" dominant-baseline="central" x="200" y="50">P0</text> <text text-anchor="middle" dominant-baseline="central" x="100" y="100">C0</text> <text text-anchor="middle" dominant-baseline="central" x="300" y="150">C1</text> <text text-anchor="middle" dominant-baseline="central" x="400" y="100">P1</text> </g>
</svg>
</div>
</div>
<div id="s-extending-a-bezier-with-a-cubic-bezier" class="section level2">
<h2>S: Extending a Bzier with a Cubic Bzier</h2>
<p>Just as with the quadratic case, we can extend a Bzier with a Cubic Bzier while specifying one less control point, i.e.we take as the first control point,the last control point of the previous Bzier, thus ensuring continuity of the first derivative.</p>
<p>We illustrate this with the following example.</p>
<pre class="r"><code>P0&lt;-c(350,30)
P1&lt;-c(400,150)
P2&lt;-c(200,250)
  
C0&lt;-P0+c(-100,50)  
C1&lt;-P1+c(100,-50) 
C2&lt;-P2+c(-80,-100)

R2&lt;-2*P1-C1 #used only to display the reflected control point

svgR( wh=c(600, 300), 
      graphPaper(c(600,300)),
      #The path of interest
      path(d=c(&quot;M&quot;,P0, &quot;C&quot;, C0, C1, P1, &quot;S&quot;, C2, P2) , stroke='red', stroke.width=3, fill='none') ,
      
      g( # lines to illustrate control points
        stroke='blue',
        line(xy1=P0,xy2=C0),
        line(xy2=P1,xy1=C1),
        line(xy1=P1,xy2=R2),
        line(xy2=P2,xy1=C2)
      ),
      g( # labeling of control points
        stroke=&quot;black&quot;,
        text(&quot;P0&quot;,cxy=P0 ),
        text(&quot;C0&quot;,cxy=C0),
        text(&quot;C1&quot;,cxy=C1),
        text(&quot;P1&quot;, cxy=P1),
        text(&quot;C2&quot;,cxy=C2),
        text(&quot;R2&quot;,cxy=R2),
        text(&quot;P2&quot;, cxy=P2)
      )
    )</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="600" height="300">
<g stroke-width="1" font-size="10" stroke="lightgrey"> <line x1="0" y1="0" x2="0" y2="300"></line> <line x1="10" y1="0" x2="10" y2="300"></line> <line x1="20" y1="0" x2="20" y2="300"></line> <line x1="30" y1="0" x2="30" y2="300"></line> <line x1="40" y1="0" x2="40" y2="300"></line> <line x1="50" y1="0" x2="50" y2="300"></line> <line x1="60" y1="0" x2="60" y2="300"></line> <line x1="70" y1="0" x2="70" y2="300"></line> <line x1="80" y1="0" x2="80" y2="300"></line> <line x1="90" y1="0" x2="90" y2="300"></line> <line x1="100" y1="0" x2="100" y2="300"></line> <line x1="110" y1="0" x2="110" y2="300"></line> <line x1="120" y1="0" x2="120" y2="300"></line> <line x1="130" y1="0" x2="130" y2="300"></line> <line x1="140" y1="0" x2="140" y2="300"></line> <line x1="150" y1="0" x2="150" y2="300"></line> <line x1="160" y1="0" x2="160" y2="300"></line> <line x1="170" y1="0" x2="170" y2="300"></line> <line x1="180" y1="0" x2="180" y2="300"></line> <line x1="190" y1="0" x2="190" y2="300"></line> <line x1="200" y1="0" x2="200" y2="300"></line> <line x1="210" y1="0" x2="210" y2="300"></line> <line x1="220" y1="0" x2="220" y2="300"></line> <line x1="230" y1="0" x2="230" y2="300"></line> <line x1="240" y1="0" x2="240" y2="300"></line> <line x1="250" y1="0" x2="250" y2="300"></line> <line x1="260" y1="0" x2="260" y2="300"></line> <line x1="270" y1="0" x2="270" y2="300"></line> <line x1="280" y1="0" x2="280" y2="300"></line> <line x1="290" y1="0" x2="290" y2="300"></line> <line x1="300" y1="0" x2="300" y2="300"></line> <line x1="310" y1="0" x2="310" y2="300"></line> <line x1="320" y1="0" x2="320" y2="300"></line> <line x1="330" y1="0" x2="330" y2="300"></line> <line x1="340" y1="0" x2="340" y2="300"></line> <line x1="350" y1="0" x2="350" y2="300"></line> <line x1="360" y1="0" x2="360" y2="300"></line> <line x1="370" y1="0" x2="370" y2="300"></line> <line x1="380" y1="0" x2="380" y2="300"></line> <line x1="390" y1="0" x2="390" y2="300"></line> <line x1="400" y1="0" x2="400" y2="300"></line> <line x1="410" y1="0" x2="410" y2="300"></line> <line x1="420" y1="0" x2="420" y2="300"></line> <line x1="430" y1="0" x2="430" y2="300"></line> <line x1="440" y1="0" x2="440" y2="300"></line> <line x1="450" y1="0" x2="450" y2="300"></line> <line x1="460" y1="0" x2="460" y2="300"></line> <line x1="470" y1="0" x2="470" y2="300"></line> <line x1="480" y1="0" x2="480" y2="300"></line> <line x1="490" y1="0" x2="490" y2="300"></line> <line x1="500" y1="0" x2="500" y2="300"></line> <line x1="510" y1="0" x2="510" y2="300"></line> <line x1="520" y1="0" x2="520" y2="300"></line> <line x1="530" y1="0" x2="530" y2="300"></line> <line x1="540" y1="0" x2="540" y2="300"></line> <line x1="550" y1="0" x2="550" y2="300"></line> <line x1="560" y1="0" x2="560" y2="300"></line> <line x1="570" y1="0" x2="570" y2="300"></line> <line x1="580" y1="0" x2="580" y2="300"></line> <line x1="590" y1="0" x2="590" y2="300"></line> <line x1="600" y1="0" x2="600" y2="300"></line> <line x1="0" y1="0" x2="600" y2="0"></line> <line x1="0" y1="10" x2="600" y2="10"></line> <line x1="0" y1="20" x2="600" y2="20"></line> <line x1="0" y1="30" x2="600" y2="30"></line> <line x1="0" y1="40" x2="600" y2="40"></line> <line x1="0" y1="50" x2="600" y2="50"></line> <line x1="0" y1="60" x2="600" y2="60"></line> <line x1="0" y1="70" x2="600" y2="70"></line> <line x1="0" y1="80" x2="600" y2="80"></line> <line x1="0" y1="90" x2="600" y2="90"></line> <line x1="0" y1="100" x2="600" y2="100"></line> <line x1="0" y1="110" x2="600" y2="110"></line> <line x1="0" y1="120" x2="600" y2="120"></line> <line x1="0" y1="130" x2="600" y2="130"></line> <line x1="0" y1="140" x2="600" y2="140"></line> <line x1="0" y1="150" x2="600" y2="150"></line> <line x1="0" y1="160" x2="600" y2="160"></line> <line x1="0" y1="170" x2="600" y2="170"></line> <line x1="0" y1="180" x2="600" y2="180"></line> <line x1="0" y1="190" x2="600" y2="190"></line> <line x1="0" y1="200" x2="600" y2="200"></line> <line x1="0" y1="210" x2="600" y2="210"></line> <line x1="0" y1="220" x2="600" y2="220"></line> <line x1="0" y1="230" x2="600" y2="230"></line> <line x1="0" y1="240" x2="600" y2="240"></line> <line x1="0" y1="250" x2="600" y2="250"></line> <line x1="0" y1="260" x2="600" y2="260"></line> <line x1="0" y1="270" x2="600" y2="270"></line> <line x1="0" y1="280" x2="600" y2="280"></line> <line x1="0" y1="290" x2="600" y2="290"></line> <line x1="0" y1="300" x2="600" y2="300"></line> </g> <path d="M 350 30 C 250 80 500 100 400 150 S 120 150 200 250" stroke="red" stroke-width="3" fill="none"></path> <g stroke="blue"> <line x1="350" y1="30" x2="250" y2="80"></line> <line x1="500" y1="100" x2="400" y2="150"></line> <line x1="400" y1="150" x2="300" y2="200"></line> <line x1="120" y1="150" x2="200" y2="250"></line> </g> <g stroke="black"> <text text-anchor="middle" dominant-baseline="central" x="350" y="30">P0</text> <text text-anchor="middle" dominant-baseline="central" x="250" y="80">C0</text> <text text-anchor="middle" dominant-baseline="central" x="500" y="100">C1</text> <text text-anchor="middle" dominant-baseline="central" x="400" y="150">P1</text> <text text-anchor="middle" dominant-baseline="central" x="120" y="150">C2</text> <text text-anchor="middle" dominant-baseline="central" x="300" y="200">R2</text> <text text-anchor="middle" dominant-baseline="central" x="200" y="250">P2</text> </g>
</svg>
<p><strong>Note</strong>, the control points for the <span class="math inline">\(P_1-P_2\)</span> portions of the path are <span class="math inline">\(R_2\)</span>, <span class="math inline">\(C_2\)</span>, where <span class="math inline">\(C_2\)</span> is specified in the path, but <span class="math inline">\(R_2\)</span> is implicitly defined as the reflection of <span class="math inline">\(C_1\)</span> insidet the path data description attribute <em>d</em>. That is S uses the <span class="math inline">\(P_1\)</span> and <span class="math inline">\(C_1\)</span> defined to its left to compute <span class="math inline">\(R_2=2 \times P_1 - C_1\)</span>.</p>
</div>
<div id="more-bezier-examples" class="section level2">
<h2>More Bezier Examples</h2>
<pre class="r"><code>svgR( wh=c(800, 200), 
      graphPaper(c(800,200)),
      g( stroke.width=3, fill=&quot;transparent&quot;,
        path(d = c(&quot;M&quot;,100, 0, &quot;C&quot;, 100, 100, 200, 0, 200, 100), stroke='red' ), 
        path(d = c(&quot;M&quot;,200, 0, &quot;c&quot;, 0, 100, 100, 0, 100, 100),  stroke='pink'), 
        path(d = c(&quot;M&quot;,300, 0, &quot;c&quot;, 0, 100, 100, 0, 100, 100),  stroke='purple'), 
        path(d = c(&quot;M&quot;,400, 0, &quot;c&quot;, 0, 100, 100, 0, 100, 200),  stroke='green'), 
        path(d = c(&quot;M&quot;,500, 0, &quot;c&quot;, 0, 100, 100, 0, 100, 200),  stroke='blue'), 
        path(d = c(&quot;M&quot;,600, 0, &quot;c&quot;, 0, 300, 100, -100, 100, 200),  stroke='orange')
      )
 )</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="200">
<g stroke-width="1" font-size="10" stroke="lightgrey"> <line x1="0" y1="0" x2="0" y2="200"></line> <line x1="10" y1="0" x2="10" y2="200"></line> <line x1="20" y1="0" x2="20" y2="200"></line> <line x1="30" y1="0" x2="30" y2="200"></line> <line x1="40" y1="0" x2="40" y2="200"></line> <line x1="50" y1="0" x2="50" y2="200"></line> <line x1="60" y1="0" x2="60" y2="200"></line> <line x1="70" y1="0" x2="70" y2="200"></line> <line x1="80" y1="0" x2="80" y2="200"></line> <line x1="90" y1="0" x2="90" y2="200"></line> <line x1="100" y1="0" x2="100" y2="200"></line> <line x1="110" y1="0" x2="110" y2="200"></line> <line x1="120" y1="0" x2="120" y2="200"></line> <line x1="130" y1="0" x2="130" y2="200"></line> <line x1="140" y1="0" x2="140" y2="200"></line> <line x1="150" y1="0" x2="150" y2="200"></line> <line x1="160" y1="0" x2="160" y2="200"></line> <line x1="170" y1="0" x2="170" y2="200"></line> <line x1="180" y1="0" x2="180" y2="200"></line> <line x1="190" y1="0" x2="190" y2="200"></line> <line x1="200" y1="0" x2="200" y2="200"></line> <line x1="210" y1="0" x2="210" y2="200"></line> <line x1="220" y1="0" x2="220" y2="200"></line> <line x1="230" y1="0" x2="230" y2="200"></line> <line x1="240" y1="0" x2="240" y2="200"></line> <line x1="250" y1="0" x2="250" y2="200"></line> <line x1="260" y1="0" x2="260" y2="200"></line> <line x1="270" y1="0" x2="270" y2="200"></line> <line x1="280" y1="0" x2="280" y2="200"></line> <line x1="290" y1="0" x2="290" y2="200"></line> <line x1="300" y1="0" x2="300" y2="200"></line> <line x1="310" y1="0" x2="310" y2="200"></line> <line x1="320" y1="0" x2="320" y2="200"></line> <line x1="330" y1="0" x2="330" y2="200"></line> <line x1="340" y1="0" x2="340" y2="200"></line> <line x1="350" y1="0" x2="350" y2="200"></line> <line x1="360" y1="0" x2="360" y2="200"></line> <line x1="370" y1="0" x2="370" y2="200"></line> <line x1="380" y1="0" x2="380" y2="200"></line> <line x1="390" y1="0" x2="390" y2="200"></line> <line x1="400" y1="0" x2="400" y2="200"></line> <line x1="410" y1="0" x2="410" y2="200"></line> <line x1="420" y1="0" x2="420" y2="200"></line> <line x1="430" y1="0" x2="430" y2="200"></line> <line x1="440" y1="0" x2="440" y2="200"></line> <line x1="450" y1="0" x2="450" y2="200"></line> <line x1="460" y1="0" x2="460" y2="200"></line> <line x1="470" y1="0" x2="470" y2="200"></line> <line x1="480" y1="0" x2="480" y2="200"></line> <line x1="490" y1="0" x2="490" y2="200"></line> <line x1="500" y1="0" x2="500" y2="200"></line> <line x1="510" y1="0" x2="510" y2="200"></line> <line x1="520" y1="0" x2="520" y2="200"></line> <line x1="530" y1="0" x2="530" y2="200"></line> <line x1="540" y1="0" x2="540" y2="200"></line> <line x1="550" y1="0" x2="550" y2="200"></line> <line x1="560" y1="0" x2="560" y2="200"></line> <line x1="570" y1="0" x2="570" y2="200"></line> <line x1="580" y1="0" x2="580" y2="200"></line> <line x1="590" y1="0" x2="590" y2="200"></line> <line x1="600" y1="0" x2="600" y2="200"></line> <line x1="610" y1="0" x2="610" y2="200"></line> <line x1="620" y1="0" x2="620" y2="200"></line> <line x1="630" y1="0" x2="630" y2="200"></line> <line x1="640" y1="0" x2="640" y2="200"></line> <line x1="650" y1="0" x2="650" y2="200"></line> <line x1="660" y1="0" x2="660" y2="200"></line> <line x1="670" y1="0" x2="670" y2="200"></line> <line x1="680" y1="0" x2="680" y2="200"></line> <line x1="690" y1="0" x2="690" y2="200"></line> <line x1="700" y1="0" x2="700" y2="200"></line> <line x1="710" y1="0" x2="710" y2="200"></line> <line x1="720" y1="0" x2="720" y2="200"></line> <line x1="730" y1="0" x2="730" y2="200"></line> <line x1="740" y1="0" x2="740" y2="200"></line> <line x1="750" y1="0" x2="750" y2="200"></line> <line x1="760" y1="0" x2="760" y2="200"></line> <line x1="770" y1="0" x2="770" y2="200"></line> <line x1="780" y1="0" x2="780" y2="200"></line> <line x1="790" y1="0" x2="790" y2="200"></line> <line x1="800" y1="0" x2="800" y2="200"></line> <line x1="0" y1="0" x2="800" y2="0"></line> <line x1="0" y1="10" x2="800" y2="10"></line> <line x1="0" y1="20" x2="800" y2="20"></line> <line x1="0" y1="30" x2="800" y2="30"></line> <line x1="0" y1="40" x2="800" y2="40"></line> <line x1="0" y1="50" x2="800" y2="50"></line> <line x1="0" y1="60" x2="800" y2="60"></line> <line x1="0" y1="70" x2="800" y2="70"></line> <line x1="0" y1="80" x2="800" y2="80"></line> <line x1="0" y1="90" x2="800" y2="90"></line> <line x1="0" y1="100" x2="800" y2="100"></line> <line x1="0" y1="110" x2="800" y2="110"></line> <line x1="0" y1="120" x2="800" y2="120"></line> <line x1="0" y1="130" x2="800" y2="130"></line> <line x1="0" y1="140" x2="800" y2="140"></line> <line x1="0" y1="150" x2="800" y2="150"></line> <line x1="0" y1="160" x2="800" y2="160"></line> <line x1="0" y1="170" x2="800" y2="170"></line> <line x1="0" y1="180" x2="800" y2="180"></line> <line x1="0" y1="190" x2="800" y2="190"></line> <line x1="0" y1="200" x2="800" y2="200"></line> </g> <g stroke-width="3" fill="transparent"> <path d="M 100 0 C 100 100 200 0 200 100" stroke="red"></path> <path d="M 200 0 c 0 100 100 0 100 100" stroke="pink"></path> <path d="M 300 0 c 0 100 100 0 100 100" stroke="purple"></path> <path d="M 400 0 c 0 100 100 0 100 200" stroke="green"></path> <path d="M 500 0 c 0 100 100 0 100 200" stroke="blue"></path> <path d="M 600 0 c 0 300 100 -100 100 200" stroke="orange"></path> </g>
</svg>
</div>
<div id="markers" class="section level2">
<h2>Markers</h2>
<p>Markers are used to decorate the ends paths and any adjoining segements. Markers allow for a completely customizable looking arrowhead and tails</p>
<p>First we show some simple examples for the end, start, middle</p>
<div id="an-arrow-tail" class="section level3">
<h3>An Arrow Tail</h3>
<pre class="r"><code>WH=c(600, 100) # window rect
svgR( wh=WH,
  line(xy1=c(20,50), xy2=c(300,50), 
    stroke='black', stroke.width=2, 
    marker.start=marker(viewBox=c(0, 0, 10, 10), refXY=c(1,5), 
      markerWidth=6, markerHeight=6, orient=&quot;auto&quot;,
      path( d=&quot;M 0 0 L 10 5 L 0 10 z&quot; )
    ) 
  )
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="600" height="100">
<marker viewBox="0,0,10,10" markerWidth="6" markerHeight="6" orient="auto" refX="1" refY="5" id="genid10"> <path d="M 0 0 L 10 5 L 0 10 z"></path> </marker> <line stroke="black" stroke-width="2" marker-start="url(#genid10)" x1="20" y1="50" x2="300" y2="50"></line>
</svg>
</div>
<div id="an-arrow-middle" class="section level3">
<h3>An Arrow Middle</h3>
<p>We can also place markers in middle points that define a path.</p>
<pre class="r"><code>WH=c(600, 100) # window rect
svgR( wh=WH,
  path(d=&quot;M100,20 l50,0 l0,50 l50,0&quot;, fill=&quot;none&quot;,
    stroke='black', stroke.width=2, 
    marker.mid=marker(viewBox=c(0, 0, 10, 10), refXY=c(4,4), 
      markerWidth=7, markerHeight=7, orient=&quot;auto&quot;,
      rect(xy=c(1,1),wh=c(5,5), fill='black')
    ) 
  )
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="600" height="100">
<marker viewBox="0,0,10,10" markerWidth="7" markerHeight="7" orient="auto" refX="4" refY="4" id="genid11"> <rect fill="black" width="5" height="5" x="1" y="1"></rect> </marker> <path d="M100,20 l50,0 l0,50 l50,0" fill="none" stroke="black" stroke-width="2" marker-mid="url(#genid11)"></path>
</svg>
</div>
<div id="an-arrow-head" class="section level3">
<h3>An Arrow Head</h3>
<pre class="r"><code>WH=c(600, 100) # window rect
svgR( wh=WH,
  line(xy1=c(20,50), xy2=c(300,50), 
    stroke='black', stroke.width=2, 
    marker.end=marker(viewBox=c(0, 0, 10, 10), refXY=c(1,5), 
      markerWidth=6, markerHeight=6, orient=&quot;auto&quot;,
      path( d=c(&quot;M&quot;, 0, 0, &quot;L&quot;, 10, 5, &quot;L&quot;, 0, 10, &quot;z&quot;) )
    ) 
  )
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="600" height="100">
<marker viewBox="0,0,10,10" markerWidth="6" markerHeight="6" orient="auto" refX="1" refY="5" id="genid12"> <path d="M 0 0 L 10 5 L 0 10 z"></path> </marker> <line stroke="black" stroke-width="2" marker-end="url(#genid12)" x1="20" y1="50" x2="300" y2="50"></line>
</svg>
<p>Putting it together</p>
</div>
<div id="tail-middle-head" class="section level3">
<h3>Tail, Middle, Head</h3>
<p>We can also place markers in middle points that define a path.</p>
<pre class="r"><code>WH=c(600, 100) # window rect
svgR( wh=WH,
  path(d=&quot;M100,20 l50,0 l0,50 l50,0&quot;, fill=&quot;none&quot;,
    stroke='black', stroke.width=2, 
    marker.start=marker(viewBox=c(0, 0, 10, 10), refXY=c(1,5), 
      markerWidth=6, markerHeight=6, orient=&quot;auto&quot;,
      path( d=&quot;M 0 0 L 10 5 L 0 10 z&quot; )
    ),
    marker.mid=marker(viewBox=c(0, 0, 10, 10), refXY=c(4,4), 
      markerWidth=7, markerHeight=7, orient=&quot;auto&quot;,
      rect(xy=c(1,1),wh=c(5,5), fill='black')
    ),
    marker.end=marker(viewBox=c(0, 0, 10, 10), refXY=c(1,5), 
      markerWidth=6, markerHeight=6, orient=&quot;auto&quot;,
      path( d=c(&quot;M&quot;, 0, 0, &quot;L&quot;, 10, 5, &quot;L&quot;, 0, 10, &quot;z&quot;) )
    ) 
  )
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="600" height="100">
<marker viewBox="0,0,10,10" markerWidth="6" markerHeight="6" orient="auto" refX="1" refY="5" id="genid13"> <path d="M 0 0 L 10 5 L 0 10 z"></path> </marker> <marker viewBox="0,0,10,10" markerWidth="7" markerHeight="7" orient="auto" refX="4" refY="4" id="genid14"> <rect fill="black" width="5" height="5" x="1" y="1"></rect> </marker> <marker viewBox="0,0,10,10" markerWidth="6" markerHeight="6" orient="auto" refX="1" refY="5" id="genid15"> <path d="M 0 0 L 10 5 L 0 10 z"></path> </marker> <path d="M100,20 l50,0 l0,50 l50,0" fill="none" stroke="black" stroke-width="2" marker-start="url(#genid15)" marker-mid="url(#genid14)" marker-end="url(#genid13)"></path>
</svg>
</div>
<div id="exotic-markers" class="section level3">
<h3>Exotic Markers</h3>
<p>Varing the marker path allows for a more exotic look.</p>
<pre class="r"><code>WH=c(600, 100) # window rect
svgR( wh=WH,
  path(d=&quot;M100,20 l50,0 l0,50 l50,0&quot;, fill=&quot;none&quot;,
    stroke='black', stroke.width=2, 
    marker.start=marker(viewBox=c(0, 0, 10, 10), refXY=c(1,5), 
      markerWidth=16, markerHeight=16, orient=&quot;auto&quot;,
      path( d=c( &quot;M&quot;, c(0,0), &quot;A&quot;, c(5,5), 0, 1,  1,  c(0,10),  &quot;Z&quot; ) )
    ),
    marker.mid=marker(viewBox=c(0, 0, 10, 10), refXY=c(4,4), 
      markerWidth=7, markerHeight=7, orient=&quot;auto&quot;,
      circle(cxy=c(5,5),r=5, fill='red')
    ),
    marker.end=marker(viewBox=c(0, 0, 20, 20), refXY=c(1,10), 
      markerWidth=16, markerHeight=20, orient=&quot;auto&quot;,
      path( fill=&quot;blue&quot;,
        d=c(&quot;M&quot;, c(0,0), 
            &quot;A&quot;, c(20,20), 0, 0,  0,  c(10,10),
            &quot;A&quot;, c(20,20), 0, 0,  0,  c(0,20),
            &quot;Z&quot;) 
      )
    ) 
  )
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="600" height="100">
<marker viewBox="0,0,20,20" markerWidth="16" markerHeight="20" orient="auto" refX="1" refY="10" id="genid16"> <path fill="blue" d="M 0 0 A 20 20 0 0 0 10 10 A 20 20 0 0 0 0 20 Z"></path> </marker> <marker viewBox="0,0,10,10" markerWidth="7" markerHeight="7" orient="auto" refX="4" refY="4" id="genid17"> <circle r="5" fill="red" cx="5" cy="5"></circle> </marker> <marker viewBox="0,0,10,10" markerWidth="16" markerHeight="16" orient="auto" refX="1" refY="5" id="genid18"> <path d="M 0 0 A 5 5 0 1 1 0 10 Z"></path> </marker> <path d="M100,20 l50,0 l0,50 l50,0" fill="none" stroke="black" stroke-width="2" marker-start="url(#genid18)" marker-mid="url(#genid17)" marker-end="url(#genid16)"></path>
</svg>
</div>
<div id="multiple-arrows" class="section level3">
<h3>Multiple Arrows</h3>
<p>When employing a marker multiple times, it may be more efficient to include it in a defs container and then provide a reference to it.</p>
<pre class="r"><code>WH=c(600, 100) # window rect
svgR( wh=WH,
  defs(
    marker(id=&quot;marker.start&quot;, viewBox=c(0, 0, 10, 10), refXY=c(1,5), 
      markerWidth=16, markerHeight=16, orient=&quot;auto&quot;,
      path( d=c( &quot;M&quot;, c(0,0), &quot;A&quot;, c(5,5), 0, 1,  1,  c(0,10),  &quot;Z&quot; ) )
    ),
    marker(id=&quot;marker.mid&quot;, viewBox=c(0, 0, 10, 10), refXY=c(4,4), 
      markerWidth=7, markerHeight=7, orient=&quot;auto&quot;,
      circle(cxy=c(5,5),r=5, fill='red')
    ),
    marker(id=&quot;marker.end&quot;, viewBox=c(0, 0, 20, 20), refXY=c(1,10), 
      markerWidth=16, markerHeight=20, orient=&quot;auto&quot;,
      path( fill=&quot;blue&quot;,
        d=c(&quot;M&quot;, c(0,0), 
            &quot;A&quot;, c(20,20), 0, 0,  0,  c(10,10),
            &quot;A&quot;, c(20,20), 0, 0,  0,  c(0,20),
            &quot;Z&quot;) 
      )
    ) 
  ),
  path(d=&quot;M100,20 l50,0 l0,50 l50,0&quot;, fill=&quot;none&quot;,
    stroke='black', stroke.width=2, 
    marker.start='url(#marker.start)',
    marker.end='url(#marker.end)',
    marker.mid='url(#marker.mid)'
  ),
  path(d = c(&quot;M&quot;,200, 20, &quot;C&quot;, 250, 80, 380, 0, 400, 50, &quot;L&quot;, 300, 80),  
    stroke='green', stroke.width=2, fill=&quot;none&quot;,
    marker.start='url(#marker.start)',
    marker.end='url(#marker.end)',
    marker.mid='url(#marker.mid)'
  )
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="600" height="100">
<defs> <marker id="marker.start" viewBox="0,0,10,10" markerWidth="16" markerHeight="16" orient="auto" refX="1" refY="5"> <path d="M 0 0 A 5 5 0 1 1 0 10 Z"></path> </marker> <marker id="marker.mid" viewBox="0,0,10,10" markerWidth="7" markerHeight="7" orient="auto" refX="4" refY="4"> <circle r="5" fill="red" cx="5" cy="5"></circle> </marker> <marker id="marker.end" viewBox="0,0,20,20" markerWidth="16" markerHeight="20" orient="auto" refX="1" refY="10"> <path fill="blue" d="M 0 0 A 20 20 0 0 0 10 10 A 20 20 0 0 0 0 20 Z"></path> </marker> </defs> <path d="M100,20 l50,0 l0,50 l50,0" fill="none" stroke="black" stroke-width="2" marker-start="url(#marker.start)" marker-end="url(#marker.end)" marker-mid="url(#marker.mid)"></path> <path d="M 200 20 C 250 80 380 0 400 50 L 300 80" stroke="green" stroke-width="2" fill="none" marker-start="url(#marker.start)" marker-end="url(#marker.end)" marker-mid="url(#marker.mid)"></path>
</svg>
<hr>
<p><br /><br /></p>
</div>
</div>
</div>
<div id="text" class="section level1">
<h1>Text</h1>
<pre class="r"><code>WH=c(800, 400) # window rect
r=WH[2]/2
svgR( wh=WH,
  g(
    circle(cxy=WH/2, stroke.width=8, stroke=&quot;red&quot;, r=r),
    text('Data Rules', cxy=WH/2, font.size=80, stroke=&quot;red&quot;) 
    ) 
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="400">
<g> <circle stroke-width="8" stroke="red" r="200" cx="400" cy="200"></circle> <text font-size="80" stroke="red" text-anchor="middle" dominant-baseline="central" x="400" y="200">Data Rules</text> </g>
</svg>
<p>A good reference is: <a href="http://www.hongkiat.com/blog/scalable-vector-graphics-text/" class="uri">http://www.hongkiat.com/blog/scalable-vector-graphics-text/</a></p>
<p>### Simple Text</p>
<div id="font-families-and-styling" class="section level2">
<h2>Font Families and Styling</h2>
<table>
<thead>
<tr class="header">
<th align="left">Attribute</th>
<th align="left">Values</th>
<th align="left">Initial</th>
<th align="left">Comment</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">font.family</td>
<td align="left">CSS font family</td>
<td align="left">Depends</td>
<td align="left">Name of font or font family</td>
</tr>
<tr class="even">
<td align="left">font.size</td>
<td align="left">pt, px, em, %, etc, inherit</td>
<td align="left">medium</td>
<td align="left">The font size. Any SVG unit can be used.</td>
</tr>
<tr class="odd">
<td align="left">font.style</td>
<td align="left">(normal| italic|oblique| inherit)</td>
<td align="left">normal</td>
<td align="left">Style in which letters are rendered.</td>
</tr>
<tr class="even">
<td align="left">font.variant</td>
<td align="left">(normal| small.caps | inherit)</td>
<td align="left">normal</td>
<td align="left">small.caps sets lower case letters render to small caps.</td>
</tr>
<tr class="odd">
<td align="left">font.weight</td>
<td align="left">(normal|bold|inherit|+others)</td>
<td align="left">normal</td>
<td align="left">The thickness of the font.</td>
</tr>
</tbody>
</table>
<div id="examining-some-font-families-using-font.family" class="section level4">
<h4>Examining some font families using font.family</h4>
<pre class="r"><code>y&lt;-40
fontName&lt;-c(&quot;serif&quot;,&quot;sans-serif&quot;,&quot;cursive&quot;,&quot;fantasy&quot;,&quot;Arial&quot;,&quot;Times New Roman&quot;,&quot;Verdana&quot;, &quot;Comic Sans&quot;)
WH=c(800,200)
svgR( wh=WH,
      graphPaper(WH, dxy=c(40,40), labels=TRUE),
      font.size=40, stroke='black',  stroke.width=0.5,
      lapply(1:8, function(i){
        text(fontName[i], xy=c(40+400*(i%%2), 40*floor((i+1)/2)), font.family=fontName[i], fill=rrgb())
      })
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" font-size="40" stroke="black" stroke-width="0.5" id="root" width="800" height="200">
<g stroke-width="1" font-size="10" stroke="lightgrey"> <line x1="0" y1="0" x2="0" y2="200"></line> <line x1="40" y1="0" x2="40" y2="200"></line> <line x1="80" y1="0" x2="80" y2="200"></line> <line x1="120" y1="0" x2="120" y2="200"></line> <line x1="160" y1="0" x2="160" y2="200"></line> <line x1="200" y1="0" x2="200" y2="200"></line> <line x1="240" y1="0" x2="240" y2="200"></line> <line x1="280" y1="0" x2="280" y2="200"></line> <line x1="320" y1="0" x2="320" y2="200"></line> <line x1="360" y1="0" x2="360" y2="200"></line> <line x1="400" y1="0" x2="400" y2="200"></line> <line x1="440" y1="0" x2="440" y2="200"></line> <line x1="480" y1="0" x2="480" y2="200"></line> <line x1="520" y1="0" x2="520" y2="200"></line> <line x1="560" y1="0" x2="560" y2="200"></line> <line x1="600" y1="0" x2="600" y2="200"></line> <line x1="640" y1="0" x2="640" y2="200"></line> <line x1="680" y1="0" x2="680" y2="200"></line> <line x1="720" y1="0" x2="720" y2="200"></line> <line x1="760" y1="0" x2="760" y2="200"></line> <line x1="800" y1="0" x2="800" y2="200"></line> <line x1="0" y1="0" x2="800" y2="0"></line> <line x1="0" y1="40" x2="800" y2="40"></line> <line x1="0" y1="80" x2="800" y2="80"></line> <line x1="0" y1="120" x2="800" y2="120"></line> <line x1="0" y1="160" x2="800" y2="160"></line> <line x1="0" y1="200" x2="800" y2="200"></line> <text x="2" y="10">0</text> <text x="42" y="10">40</text> <text x="82" y="10">80</text> <text x="122" y="10">120</text> <text x="162" y="10">160</text> <text x="202" y="10">200</text> <text x="242" y="10">240</text> <text x="282" y="10">280</text> <text x="322" y="10">320</text> <text x="362" y="10">360</text> <text x="402" y="10">400</text> <text x="442" y="10">440</text> <text x="482" y="10">480</text> <text x="522" y="10">520</text> <text x="562" y="10">560</text> <text x="602" y="10">600</text> <text x="642" y="10">640</text> <text x="682" y="10">680</text> <text x="722" y="10">720</text> <text x="762" y="10">760</text> <text x="802" y="10">800</text> <text x="2" y="0">0</text> <text x="2" y="40">40</text> <text x="2" y="80">80</text> <text x="2" y="120">120</text> <text x="2" y="160">160</text> <text x="2" y="200">200</text> </g> <text font-family="serif" fill="rgb(21,233,242)" x="440" y="40">serif</text> <text font-family="sans-serif" fill="rgb(241,53,149)" x="40" y="40">sans-serif</text> <text font-family="cursive" fill="rgb(229,8,167)" x="440" y="80">cursive</text> <text font-family="fantasy" fill="rgb(62,52,14)" x="40" y="80">fantasy</text> <text font-family="Arial" fill="rgb(11,122,194)" x="440" y="120">Arial</text> <text font-family="Times New Roman" fill="rgb(221,83,196)" x="40" y="120">Times New Roman</text> <text font-family="Verdana" fill="rgb(1,27,246)" x="440" y="160">Verdana</text> <text font-family="Comic Sans" fill="rgb(3,255,5)" x="40" y="160">Comic Sans</text>
</svg>
</div>
<div id="in-addition-there-we-can-specify-a-font-style" class="section level4">
<h4>In addition, there we can specify a font style:</h4>
<pre class="r"><code>y&lt;-40
WH=c(800,120)
fontStyle=c(&quot;normal&quot; , &quot;italic&quot; , &quot;oblique&quot;, &quot;inherit&quot;)
svgR( wh=WH,
      font.style= &quot;inherit&quot;,
      graphPaper(WH, dxy=c(40,40), labels=TRUE),
      font.size=40, stroke='black',  stroke.width=0.5,
      lapply(1:4, function(i){
        text(fontStyle[i], xy=c(40+400*(i%%2), 40*floor((i+1)/2)), font.style=fontStyle[i], fill=rrgb())
      })
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" font-style="inherit" font-size="40" stroke="black" stroke-width="0.5" id="root" width="800" height="120">
<g stroke-width="1" font-size="10" stroke="lightgrey"> <line x1="0" y1="0" x2="0" y2="120"></line> <line x1="40" y1="0" x2="40" y2="120"></line> <line x1="80" y1="0" x2="80" y2="120"></line> <line x1="120" y1="0" x2="120" y2="120"></line> <line x1="160" y1="0" x2="160" y2="120"></line> <line x1="200" y1="0" x2="200" y2="120"></line> <line x1="240" y1="0" x2="240" y2="120"></line> <line x1="280" y1="0" x2="280" y2="120"></line> <line x1="320" y1="0" x2="320" y2="120"></line> <line x1="360" y1="0" x2="360" y2="120"></line> <line x1="400" y1="0" x2="400" y2="120"></line> <line x1="440" y1="0" x2="440" y2="120"></line> <line x1="480" y1="0" x2="480" y2="120"></line> <line x1="520" y1="0" x2="520" y2="120"></line> <line x1="560" y1="0" x2="560" y2="120"></line> <line x1="600" y1="0" x2="600" y2="120"></line> <line x1="640" y1="0" x2="640" y2="120"></line> <line x1="680" y1="0" x2="680" y2="120"></line> <line x1="720" y1="0" x2="720" y2="120"></line> <line x1="760" y1="0" x2="760" y2="120"></line> <line x1="800" y1="0" x2="800" y2="120"></line> <line x1="0" y1="0" x2="800" y2="0"></line> <line x1="0" y1="40" x2="800" y2="40"></line> <line x1="0" y1="80" x2="800" y2="80"></line> <line x1="0" y1="120" x2="800" y2="120"></line> <text x="2" y="10">0</text> <text x="42" y="10">40</text> <text x="82" y="10">80</text> <text x="122" y="10">120</text> <text x="162" y="10">160</text> <text x="202" y="10">200</text> <text x="242" y="10">240</text> <text x="282" y="10">280</text> <text x="322" y="10">320</text> <text x="362" y="10">360</text> <text x="402" y="10">400</text> <text x="442" y="10">440</text> <text x="482" y="10">480</text> <text x="522" y="10">520</text> <text x="562" y="10">560</text> <text x="602" y="10">600</text> <text x="642" y="10">640</text> <text x="682" y="10">680</text> <text x="722" y="10">720</text> <text x="762" y="10">760</text> <text x="802" y="10">800</text> <text x="2" y="0">0</text> <text x="2" y="40">40</text> <text x="2" y="80">80</text> <text x="2" y="120">120</text> </g> <text font-style="normal" fill="rgb(119,239,138)" x="440" y="40">normal</text> <text font-style="italic" fill="rgb(185,192,149)" x="40" y="40">italic</text> <text font-style="oblique" fill="rgb(157,168,174)" x="440" y="80">oblique</text> <text font-style="inherit" fill="rgb(240,17,114)" x="40" y="80">inherit</text>
</svg>
</div>
</div>
<div id="text-positioning" class="section level2">
<h2>Text Positioning</h2>
<div id="text-anchor" class="section level3">
<h3>text-anchor</h3>
<p>By default, text begins at the x value, however the this can be modified by the text.anchor attribute (parameter). The text.anchor attribute can take one of four values: start , middle , end , inherit. These are illustrated below.</p>
<pre class="r"><code>WH=c(800,220)
textAnchor=c(&quot;start&quot; , &quot;middle&quot; , &quot;end&quot; , &quot;inherit&quot;)
svgR( wh=WH,
      graphPaper(WH, dxy=c(40,40), labels=TRUE),
      anchorAt(WH[1]/2,WH),
      lapply(1:4, function(i){
        g(
          baseLineAt(i*40,WH),
          text( textAnchor[i], xy=c(400, i*40), fill=rrgb(), text.anchor=textAnchor[i],
                font.size=40, font.weight=&quot;bold&quot;, stroke='black',  stroke.width=0.5)
        )
      }
      )
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="220">
<g stroke-width="1" font-size="10" stroke="lightgrey"> <line x1="0" y1="0" x2="0" y2="220"></line> <line x1="40" y1="0" x2="40" y2="220"></line> <line x1="80" y1="0" x2="80" y2="220"></line> <line x1="120" y1="0" x2="120" y2="220"></line> <line x1="160" y1="0" x2="160" y2="220"></line> <line x1="200" y1="0" x2="200" y2="220"></line> <line x1="240" y1="0" x2="240" y2="220"></line> <line x1="280" y1="0" x2="280" y2="220"></line> <line x1="320" y1="0" x2="320" y2="220"></line> <line x1="360" y1="0" x2="360" y2="220"></line> <line x1="400" y1="0" x2="400" y2="220"></line> <line x1="440" y1="0" x2="440" y2="220"></line> <line x1="480" y1="0" x2="480" y2="220"></line> <line x1="520" y1="0" x2="520" y2="220"></line> <line x1="560" y1="0" x2="560" y2="220"></line> <line x1="600" y1="0" x2="600" y2="220"></line> <line x1="640" y1="0" x2="640" y2="220"></line> <line x1="680" y1="0" x2="680" y2="220"></line> <line x1="720" y1="0" x2="720" y2="220"></line> <line x1="760" y1="0" x2="760" y2="220"></line> <line x1="800" y1="0" x2="800" y2="220"></line> <line x1="0" y1="0" x2="800" y2="0"></line> <line x1="0" y1="40" x2="800" y2="40"></line> <line x1="0" y1="80" x2="800" y2="80"></line> <line x1="0" y1="120" x2="800" y2="120"></line> <line x1="0" y1="160" x2="800" y2="160"></line> <line x1="0" y1="200" x2="800" y2="200"></line> <text x="2" y="10">0</text> <text x="42" y="10">40</text> <text x="82" y="10">80</text> <text x="122" y="10">120</text> <text x="162" y="10">160</text> <text x="202" y="10">200</text> <text x="242" y="10">240</text> <text x="282" y="10">280</text> <text x="322" y="10">320</text> <text x="362" y="10">360</text> <text x="402" y="10">400</text> <text x="442" y="10">440</text> <text x="482" y="10">480</text> <text x="522" y="10">520</text> <text x="562" y="10">560</text> <text x="602" y="10">600</text> <text x="642" y="10">640</text> <text x="682" y="10">680</text> <text x="722" y="10">720</text> <text x="762" y="10">760</text> <text x="802" y="10">800</text> <text x="2" y="0">0</text> <text x="2" y="40">40</text> <text x="2" y="80">80</text> <text x="2" y="120">120</text> <text x="2" y="160">160</text> <text x="2" y="200">200</text> </g> <line stroke="red" stroke-width="2" x1="400" y1="0" x2="400" y2="220"></line> <text stroke="red" font-size="16" x="400" y="215">anchor</text> <g> <line stroke="red" stroke-width="2" x1="0" y1="40" x2="800" y2="40"></line> <text stroke="red" font-size="16" x="0" y="35">baseline</text> <text fill="rgb(149,152,16)" text-anchor="start" font-size="40" font-weight="bold" stroke="black" stroke-width="0.5" x="400" y="40">start</text> </g> <g> <line stroke="red" stroke-width="2" x1="0" y1="80" x2="800" y2="80"></line> <text stroke="red" font-size="16" x="0" y="75">baseline</text> <text fill="rgb(253,35,189)" text-anchor="middle" font-size="40" font-weight="bold" stroke="black" stroke-width="0.5" x="400" y="80">middle</text> </g> <g> <line stroke="red" stroke-width="2" x1="0" y1="120" x2="800" y2="120"></line> <text stroke="red" font-size="16" x="0" y="115">baseline</text> <text fill="rgb(92,195,68)" text-anchor="end" font-size="40" font-weight="bold" stroke="black" stroke-width="0.5" x="400" y="120">end</text> </g> <g> <line stroke="red" stroke-width="2" x1="0" y1="160" x2="800" y2="160"></line> <text stroke="red" font-size="16" x="0" y="155">baseline</text> <text fill="rgb(10,220,236)" text-anchor="inherit" font-size="40" font-weight="bold" stroke="black" stroke-width="0.5" x="400" y="160">inherit</text> </g>
</svg>
</div>
<div id="dominant.baseline" class="section level3">
<h3>dominant.baseline</h3>
<p>By default, text lies directly above the y coordinate (the baseline) This alignment can be adjusted by setting the dominant.baseline attribute (parameter). The baseline is the y coordinate given to the text element. By default, the text is aligned using the <strong>alphabetic</strong> option as the baseline. Other alignments are possible by setting the alignment.baseline parameter, as illustrated in the following:</p>
</div>
<div id="alignment.baseline" class="section level3">
<h3>alignment.baseline</h3>
<p>The baseline is the y coordinate given to the text element. By default, the text is aligned using the <strong>alphabetic</strong> option as the baseline. Other alignments are possible by setting the alignment.baseline parameter, as illustrated in the following:</p>
<pre class="r"><code>WH&lt;-c(800,80*9)
baseLine&lt;-c( &quot;alphabetic&quot;,&quot;ideographic&quot;,&quot;hanging&quot;,&quot;mathematical&quot;,&quot;central&quot;,&quot;middle&quot;,
             &quot;text-before-edge&quot;,&quot;text-after-edge&quot;)
svgR( wh=WH,
      graphPaper(WH, dxy=c(40,40), labels=TRUE),
      anchorAt(WH[1]/2,WH),
      lapply(1:8, function(i){
        g(
          baseLineAt(i*80,WH),
          text( baseLine[i], xy=c(400, i*80), fill=rrgb(), dominant.baseline=baseLine[i],
                font.size=40, font.weight=&quot;bold&quot;, stroke='black',  stroke.width=0.5)
        )
      }
      )
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="720">
<g stroke-width="1" font-size="10" stroke="lightgrey"> <line x1="0" y1="0" x2="0" y2="720"></line> <line x1="40" y1="0" x2="40" y2="720"></line> <line x1="80" y1="0" x2="80" y2="720"></line> <line x1="120" y1="0" x2="120" y2="720"></line> <line x1="160" y1="0" x2="160" y2="720"></line> <line x1="200" y1="0" x2="200" y2="720"></line> <line x1="240" y1="0" x2="240" y2="720"></line> <line x1="280" y1="0" x2="280" y2="720"></line> <line x1="320" y1="0" x2="320" y2="720"></line> <line x1="360" y1="0" x2="360" y2="720"></line> <line x1="400" y1="0" x2="400" y2="720"></line> <line x1="440" y1="0" x2="440" y2="720"></line> <line x1="480" y1="0" x2="480" y2="720"></line> <line x1="520" y1="0" x2="520" y2="720"></line> <line x1="560" y1="0" x2="560" y2="720"></line> <line x1="600" y1="0" x2="600" y2="720"></line> <line x1="640" y1="0" x2="640" y2="720"></line> <line x1="680" y1="0" x2="680" y2="720"></line> <line x1="720" y1="0" x2="720" y2="720"></line> <line x1="760" y1="0" x2="760" y2="720"></line> <line x1="800" y1="0" x2="800" y2="720"></line> <line x1="0" y1="0" x2="800" y2="0"></line> <line x1="0" y1="40" x2="800" y2="40"></line> <line x1="0" y1="80" x2="800" y2="80"></line> <line x1="0" y1="120" x2="800" y2="120"></line> <line x1="0" y1="160" x2="800" y2="160"></line> <line x1="0" y1="200" x2="800" y2="200"></line> <line x1="0" y1="240" x2="800" y2="240"></line> <line x1="0" y1="280" x2="800" y2="280"></line> <line x1="0" y1="320" x2="800" y2="320"></line> <line x1="0" y1="360" x2="800" y2="360"></line> <line x1="0" y1="400" x2="800" y2="400"></line> <line x1="0" y1="440" x2="800" y2="440"></line> <line x1="0" y1="480" x2="800" y2="480"></line> <line x1="0" y1="520" x2="800" y2="520"></line> <line x1="0" y1="560" x2="800" y2="560"></line> <line x1="0" y1="600" x2="800" y2="600"></line> <line x1="0" y1="640" x2="800" y2="640"></line> <line x1="0" y1="680" x2="800" y2="680"></line> <line x1="0" y1="720" x2="800" y2="720"></line> <text x="2" y="10">0</text> <text x="42" y="10">40</text> <text x="82" y="10">80</text> <text x="122" y="10">120</text> <text x="162" y="10">160</text> <text x="202" y="10">200</text> <text x="242" y="10">240</text> <text x="282" y="10">280</text> <text x="322" y="10">320</text> <text x="362" y="10">360</text> <text x="402" y="10">400</text> <text x="442" y="10">440</text> <text x="482" y="10">480</text> <text x="522" y="10">520</text> <text x="562" y="10">560</text> <text x="602" y="10">600</text> <text x="642" y="10">640</text> <text x="682" y="10">680</text> <text x="722" y="10">720</text> <text x="762" y="10">760</text> <text x="802" y="10">800</text> <text x="2" y="0">0</text> <text x="2" y="40">40</text> <text x="2" y="80">80</text> <text x="2" y="120">120</text> <text x="2" y="160">160</text> <text x="2" y="200">200</text> <text x="2" y="240">240</text> <text x="2" y="280">280</text> <text x="2" y="320">320</text> <text x="2" y="360">360</text> <text x="2" y="400">400</text> <text x="2" y="440">440</text> <text x="2" y="480">480</text> <text x="2" y="520">520</text> <text x="2" y="560">560</text> <text x="2" y="600">600</text> <text x="2" y="640">640</text> <text x="2" y="680">680</text> <text x="2" y="720">720</text> </g> <line stroke="red" stroke-width="2" x1="400" y1="0" x2="400" y2="720"></line> <text stroke="red" font-size="16" x="400" y="715">anchor</text> <g> <line stroke="red" stroke-width="2" x1="0" y1="80" x2="800" y2="80"></line> <text stroke="red" font-size="16" x="0" y="75">baseline</text> <text fill="rgb(227,198,203)" dominant-baseline="alphabetic" font-size="40" font-weight="bold" stroke="black" stroke-width="0.5" x="400" y="80">alphabetic</text> </g> <g> <line stroke="red" stroke-width="2" x1="0" y1="160" x2="800" y2="160"></line> <text stroke="red" font-size="16" x="0" y="155">baseline</text> <text fill="rgb(28,249,104)" dominant-baseline="ideographic" font-size="40" font-weight="bold" stroke="black" stroke-width="0.5" x="400" y="160">ideographic</text> </g> <g> <line stroke="red" stroke-width="2" x1="0" y1="240" x2="800" y2="240"></line> <text stroke="red" font-size="16" x="0" y="235">baseline</text> <text fill="rgb(115,222,9)" dominant-baseline="hanging" font-size="40" font-weight="bold" stroke="black" stroke-width="0.5" x="400" y="240">hanging</text> </g> <g> <line stroke="red" stroke-width="2" x1="0" y1="320" x2="800" y2="320"></line> <text stroke="red" font-size="16" x="0" y="315">baseline</text> <text fill="rgb(4,232,19)" dominant-baseline="mathematical" font-size="40" font-weight="bold" stroke="black" stroke-width="0.5" x="400" y="320">mathematical</text> </g> <g> <line stroke="red" stroke-width="2" x1="0" y1="400" x2="800" y2="400"></line> <text stroke="red" font-size="16" x="0" y="395">baseline</text> <text fill="rgb(97,170,242)" dominant-baseline="central" font-size="40" font-weight="bold" stroke="black" stroke-width="0.5" x="400" y="400">central</text> </g> <g> <line stroke="red" stroke-width="2" x1="0" y1="480" x2="800" y2="480"></line> <text stroke="red" font-size="16" x="0" y="475">baseline</text> <text fill="rgb(216,73,6)" dominant-baseline="middle" font-size="40" font-weight="bold" stroke="black" stroke-width="0.5" x="400" y="480">middle</text> </g> <g> <line stroke="red" stroke-width="2" x1="0" y1="560" x2="800" y2="560"></line> <text stroke="red" font-size="16" x="0" y="555">baseline</text> <text fill="rgb(103,65,13)" dominant-baseline="text-before-edge" font-size="40" font-weight="bold" stroke="black" stroke-width="0.5" x="400" y="560">text-before-edge</text> </g> <g> <line stroke="red" stroke-width="2" x1="0" y1="640" x2="800" y2="640"></line> <text stroke="red" font-size="16" x="0" y="635">baseline</text> <text fill="rgb(113,146,40)" dominant-baseline="text-after-edge" font-size="40" font-weight="bold" stroke="black" stroke-width="0.5" x="400" y="640">text-after-edge</text> </g>
</svg>
</div>
</div>
<div id="tspan" class="section level2">
<h2>tspan</h2>
<p>Within a text element we can change the positioning, style, color of component words using the tspan element child element.</p>
<pre class="r"><code>WH&lt;-c(800,160)
svgR( wh=WH,
      graphPaper(WH, dxy=c(40,40), labels=TRUE),
      text( xy=c(40,120), lapply(1:14, function(i){
        tspan( LETTERS[i] , font.size=i*10, fill=rrgb() )}
      ))
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="160">
<g stroke-width="1" font-size="10" stroke="lightgrey"> <line x1="0" y1="0" x2="0" y2="160"></line> <line x1="40" y1="0" x2="40" y2="160"></line> <line x1="80" y1="0" x2="80" y2="160"></line> <line x1="120" y1="0" x2="120" y2="160"></line> <line x1="160" y1="0" x2="160" y2="160"></line> <line x1="200" y1="0" x2="200" y2="160"></line> <line x1="240" y1="0" x2="240" y2="160"></line> <line x1="280" y1="0" x2="280" y2="160"></line> <line x1="320" y1="0" x2="320" y2="160"></line> <line x1="360" y1="0" x2="360" y2="160"></line> <line x1="400" y1="0" x2="400" y2="160"></line> <line x1="440" y1="0" x2="440" y2="160"></line> <line x1="480" y1="0" x2="480" y2="160"></line> <line x1="520" y1="0" x2="520" y2="160"></line> <line x1="560" y1="0" x2="560" y2="160"></line> <line x1="600" y1="0" x2="600" y2="160"></line> <line x1="640" y1="0" x2="640" y2="160"></line> <line x1="680" y1="0" x2="680" y2="160"></line> <line x1="720" y1="0" x2="720" y2="160"></line> <line x1="760" y1="0" x2="760" y2="160"></line> <line x1="800" y1="0" x2="800" y2="160"></line> <line x1="0" y1="0" x2="800" y2="0"></line> <line x1="0" y1="40" x2="800" y2="40"></line> <line x1="0" y1="80" x2="800" y2="80"></line> <line x1="0" y1="120" x2="800" y2="120"></line> <line x1="0" y1="160" x2="800" y2="160"></line> <text x="2" y="10">0</text> <text x="42" y="10">40</text> <text x="82" y="10">80</text> <text x="122" y="10">120</text> <text x="162" y="10">160</text> <text x="202" y="10">200</text> <text x="242" y="10">240</text> <text x="282" y="10">280</text> <text x="322" y="10">320</text> <text x="362" y="10">360</text> <text x="402" y="10">400</text> <text x="442" y="10">440</text> <text x="482" y="10">480</text> <text x="522" y="10">520</text> <text x="562" y="10">560</text> <text x="602" y="10">600</text> <text x="642" y="10">640</text> <text x="682" y="10">680</text> <text x="722" y="10">720</text> <text x="762" y="10">760</text> <text x="802" y="10">800</text> <text x="2" y="0">0</text> <text x="2" y="40">40</text> <text x="2" y="80">80</text> <text x="2" y="120">120</text> <text x="2" y="160">160</text> </g> <text x="40" y="120"> <tspan font-size="10" fill="rgb(89,223,215)">A</tspan> <tspan font-size="20" fill="rgb(221,227,211)">B</tspan> <tspan font-size="30" fill="rgb(131,18,90)">C</tspan> <tspan font-size="40" fill="rgb(110,77,40)">D</tspan> <tspan font-size="50" fill="rgb(37,25,16)">E</tspan> <tspan font-size="60" fill="rgb(238,86,24)">F</tspan> <tspan font-size="70" fill="rgb(71,97,242)">G</tspan> <tspan font-size="80" fill="rgb(31,191,9)">H</tspan> <tspan font-size="90" fill="rgb(99,150,38)">I</tspan> <tspan font-size="100" fill="rgb(54,126,136)">J</tspan> <tspan font-size="110" fill="rgb(6,187,157)">K</tspan> <tspan font-size="120" fill="rgb(193,86,125)">L</tspan> <tspan font-size="130" fill="rgb(144,180,216)">M</tspan> <tspan font-size="140" fill="rgb(205,135,202)">N</tspan> </text>
</svg>
<pre class="r"><code>WH&lt;-c(800,160)
svgR( wh=WH,
      graphPaper(WH, dxy=c(40,40), labels=TRUE),
      text( xy=c(40,40), font.size=20, lapply(1:14, function(i){
        tspan( LETTERS[i] , dy=10*(i%%2), fill=rrgb() )}
      ))
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="160">
<g stroke-width="1" font-size="10" stroke="lightgrey"> <line x1="0" y1="0" x2="0" y2="160"></line> <line x1="40" y1="0" x2="40" y2="160"></line> <line x1="80" y1="0" x2="80" y2="160"></line> <line x1="120" y1="0" x2="120" y2="160"></line> <line x1="160" y1="0" x2="160" y2="160"></line> <line x1="200" y1="0" x2="200" y2="160"></line> <line x1="240" y1="0" x2="240" y2="160"></line> <line x1="280" y1="0" x2="280" y2="160"></line> <line x1="320" y1="0" x2="320" y2="160"></line> <line x1="360" y1="0" x2="360" y2="160"></line> <line x1="400" y1="0" x2="400" y2="160"></line> <line x1="440" y1="0" x2="440" y2="160"></line> <line x1="480" y1="0" x2="480" y2="160"></line> <line x1="520" y1="0" x2="520" y2="160"></line> <line x1="560" y1="0" x2="560" y2="160"></line> <line x1="600" y1="0" x2="600" y2="160"></line> <line x1="640" y1="0" x2="640" y2="160"></line> <line x1="680" y1="0" x2="680" y2="160"></line> <line x1="720" y1="0" x2="720" y2="160"></line> <line x1="760" y1="0" x2="760" y2="160"></line> <line x1="800" y1="0" x2="800" y2="160"></line> <line x1="0" y1="0" x2="800" y2="0"></line> <line x1="0" y1="40" x2="800" y2="40"></line> <line x1="0" y1="80" x2="800" y2="80"></line> <line x1="0" y1="120" x2="800" y2="120"></line> <line x1="0" y1="160" x2="800" y2="160"></line> <text x="2" y="10">0</text> <text x="42" y="10">40</text> <text x="82" y="10">80</text> <text x="122" y="10">120</text> <text x="162" y="10">160</text> <text x="202" y="10">200</text> <text x="242" y="10">240</text> <text x="282" y="10">280</text> <text x="322" y="10">320</text> <text x="362" y="10">360</text> <text x="402" y="10">400</text> <text x="442" y="10">440</text> <text x="482" y="10">480</text> <text x="522" y="10">520</text> <text x="562" y="10">560</text> <text x="602" y="10">600</text> <text x="642" y="10">640</text> <text x="682" y="10">680</text> <text x="722" y="10">720</text> <text x="762" y="10">760</text> <text x="802" y="10">800</text> <text x="2" y="0">0</text> <text x="2" y="40">40</text> <text x="2" y="80">80</text> <text x="2" y="120">120</text> <text x="2" y="160">160</text> </g> <text font-size="20" x="40" y="40"> <tspan dy="10" fill="rgb(10,234,32)">A</tspan> <tspan dy="0" fill="rgb(196,2,52)">B</tspan> <tspan dy="10" fill="rgb(189,244,212)">C</tspan> <tspan dy="0" fill="rgb(109,213,201)">D</tspan> <tspan dy="10" fill="rgb(51,228,136)">E</tspan> <tspan dy="0" fill="rgb(12,83,110)">F</tspan> <tspan dy="10" fill="rgb(25,26,216)">G</tspan> <tspan dy="0" fill="rgb(45,169,114)">H</tspan> <tspan dy="10" fill="rgb(10,129,62)">I</tspan> <tspan dy="0" fill="rgb(171,156,128)">J</tspan> <tspan dy="10" fill="rgb(61,95,125)">K</tspan> <tspan dy="0" fill="rgb(218,160,74)">L</tspan> <tspan dy="10" fill="rgb(95,197,221)">M</tspan> <tspan dy="0" fill="rgb(213,173,4)">N</tspan> </text>
</svg>
<div id="baseline.shift-for-superscripts-and-subscriptss" class="section level3">
<h3>baseline.shift for superscripts and subscriptss</h3>
<p>Baseline.shift can be used to create super/subscripts. Values for baseline.shift are</p>
<ul>
<li>baseline: not shift</li>
<li>sub: subscript</li>
<li>super: superscript</li>
<li>percentage: a percentate</li>
<li>length</li>
</ul>
<pre class="r"><code>WH&lt;-c(800,120)
shift&lt;-c( &quot;auto&quot;,&quot;baseline&quot;,&quot;super&quot;,&quot;sub&quot;,&quot;60%&quot;, 6, &quot;inherit&quot;)
bl&lt;-80
svgR( wh=WH,
      graphPaper(WH, dxy=c(40,40), labels=TRUE),
      baseLineAt(bl,WH),
      lapply(1:7, function(i){
        text( &quot;X&quot;,
              tspan( shift[i], baseline.shift=shift[i] , font.size=20),
              xy=c(i*120, bl), fill=rrgb(), 
              font.size=20, font.weight=&quot;bold&quot;, stroke='black',  stroke.width=0.5
        )
      }
      )
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="120">
<g stroke-width="1" font-size="10" stroke="lightgrey"> <line x1="0" y1="0" x2="0" y2="120"></line> <line x1="40" y1="0" x2="40" y2="120"></line> <line x1="80" y1="0" x2="80" y2="120"></line> <line x1="120" y1="0" x2="120" y2="120"></line> <line x1="160" y1="0" x2="160" y2="120"></line> <line x1="200" y1="0" x2="200" y2="120"></line> <line x1="240" y1="0" x2="240" y2="120"></line> <line x1="280" y1="0" x2="280" y2="120"></line> <line x1="320" y1="0" x2="320" y2="120"></line> <line x1="360" y1="0" x2="360" y2="120"></line> <line x1="400" y1="0" x2="400" y2="120"></line> <line x1="440" y1="0" x2="440" y2="120"></line> <line x1="480" y1="0" x2="480" y2="120"></line> <line x1="520" y1="0" x2="520" y2="120"></line> <line x1="560" y1="0" x2="560" y2="120"></line> <line x1="600" y1="0" x2="600" y2="120"></line> <line x1="640" y1="0" x2="640" y2="120"></line> <line x1="680" y1="0" x2="680" y2="120"></line> <line x1="720" y1="0" x2="720" y2="120"></line> <line x1="760" y1="0" x2="760" y2="120"></line> <line x1="800" y1="0" x2="800" y2="120"></line> <line x1="0" y1="0" x2="800" y2="0"></line> <line x1="0" y1="40" x2="800" y2="40"></line> <line x1="0" y1="80" x2="800" y2="80"></line> <line x1="0" y1="120" x2="800" y2="120"></line> <text x="2" y="10">0</text> <text x="42" y="10">40</text> <text x="82" y="10">80</text> <text x="122" y="10">120</text> <text x="162" y="10">160</text> <text x="202" y="10">200</text> <text x="242" y="10">240</text> <text x="282" y="10">280</text> <text x="322" y="10">320</text> <text x="362" y="10">360</text> <text x="402" y="10">400</text> <text x="442" y="10">440</text> <text x="482" y="10">480</text> <text x="522" y="10">520</text> <text x="562" y="10">560</text> <text x="602" y="10">600</text> <text x="642" y="10">640</text> <text x="682" y="10">680</text> <text x="722" y="10">720</text> <text x="762" y="10">760</text> <text x="802" y="10">800</text> <text x="2" y="0">0</text> <text x="2" y="40">40</text> <text x="2" y="80">80</text> <text x="2" y="120">120</text> </g> <line stroke="red" stroke-width="2" x1="0" y1="80" x2="800" y2="80"></line> <text stroke="red" font-size="16" x="0" y="75">baseline</text> <text fill="rgb(21,28,171)" font-size="20" font-weight="bold" stroke="black" stroke-width="0.5" x="120" y="80">X<tspan baseline-shift="auto" font-size="20">auto</tspan></text> <text fill="rgb(233,52,94)" font-size="20" font-weight="bold" stroke="black" stroke-width="0.5" x="240" y="80">X<tspan baseline-shift="baseline" font-size="20">baseline</tspan></text> <text fill="rgb(152,126,132)" font-size="20" font-weight="bold" stroke="black" stroke-width="0.5" x="360" y="80">X<tspan baseline-shift="super" font-size="20">super</tspan></text> <text fill="rgb(240,87,119)" font-size="20" font-weight="bold" stroke="black" stroke-width="0.5" x="480" y="80">X<tspan baseline-shift="sub" font-size="20">sub</tspan></text> <text fill="rgb(118,158,218)" font-size="20" font-weight="bold" stroke="black" stroke-width="0.5" x="600" y="80">X<tspan baseline-shift="60%" font-size="20">60%</tspan></text> <text fill="rgb(44,149,45)" font-size="20" font-weight="bold" stroke="black" stroke-width="0.5" x="720" y="80">X<tspan baseline-shift="6" font-size="20">6</tspan></text> <text fill="rgb(92,171,153)" font-size="20" font-weight="bold" stroke="black" stroke-width="0.5" x="840" y="80">X<tspan baseline-shift="inherit" font-size="20">inherit</tspan></text>
</svg>
</div>
</div>
<div id="math-equations-superscripts-subscripts" class="section level2">
<h2>Math equations: Superscripts, subscripts</h2>
<pre class="r"><code>WH=c(800,240)
svgR( wh=WH,
      graphPaper(WH, dxy=c(40,40), labels=TRUE),
      refLines(WH),
      text( 
        tspan(mathSymbol(&quot;\\int&quot;), font.size=120, dominant.baseline='mathematical'), 
        &quot;e&quot;,
        tspan(&quot;-x&quot;, baseline.shift=&quot;60%&quot;, dominant.baseline=&quot;mathematical&quot;, font.size=40,
              tspan( &quot;2&quot;, baseline.shift='super', font.size=20)),
        &quot;dx&quot;,
        dominant.baseline='mathematical', xy=WH/2,  font.size=80, 
        stroke='black',  stroke.width=0.5, fill='lightblue'
      )
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="240">
<g stroke-width="1" font-size="10" stroke="lightgrey"> <line x1="0" y1="0" x2="0" y2="240"></line> <line x1="40" y1="0" x2="40" y2="240"></line> <line x1="80" y1="0" x2="80" y2="240"></line> <line x1="120" y1="0" x2="120" y2="240"></line> <line x1="160" y1="0" x2="160" y2="240"></line> <line x1="200" y1="0" x2="200" y2="240"></line> <line x1="240" y1="0" x2="240" y2="240"></line> <line x1="280" y1="0" x2="280" y2="240"></line> <line x1="320" y1="0" x2="320" y2="240"></line> <line x1="360" y1="0" x2="360" y2="240"></line> <line x1="400" y1="0" x2="400" y2="240"></line> <line x1="440" y1="0" x2="440" y2="240"></line> <line x1="480" y1="0" x2="480" y2="240"></line> <line x1="520" y1="0" x2="520" y2="240"></line> <line x1="560" y1="0" x2="560" y2="240"></line> <line x1="600" y1="0" x2="600" y2="240"></line> <line x1="640" y1="0" x2="640" y2="240"></line> <line x1="680" y1="0" x2="680" y2="240"></line> <line x1="720" y1="0" x2="720" y2="240"></line> <line x1="760" y1="0" x2="760" y2="240"></line> <line x1="800" y1="0" x2="800" y2="240"></line> <line x1="0" y1="0" x2="800" y2="0"></line> <line x1="0" y1="40" x2="800" y2="40"></line> <line x1="0" y1="80" x2="800" y2="80"></line> <line x1="0" y1="120" x2="800" y2="120"></line> <line x1="0" y1="160" x2="800" y2="160"></line> <line x1="0" y1="200" x2="800" y2="200"></line> <line x1="0" y1="240" x2="800" y2="240"></line> <text x="2" y="10">0</text> <text x="42" y="10">40</text> <text x="82" y="10">80</text> <text x="122" y="10">120</text> <text x="162" y="10">160</text> <text x="202" y="10">200</text> <text x="242" y="10">240</text> <text x="282" y="10">280</text> <text x="322" y="10">320</text> <text x="362" y="10">360</text> <text x="402" y="10">400</text> <text x="442" y="10">440</text> <text x="482" y="10">480</text> <text x="522" y="10">520</text> <text x="562" y="10">560</text> <text x="602" y="10">600</text> <text x="642" y="10">640</text> <text x="682" y="10">680</text> <text x="722" y="10">720</text> <text x="762" y="10">760</text> <text x="802" y="10">800</text> <text x="2" y="0">0</text> <text x="2" y="40">40</text> <text x="2" y="80">80</text> <text x="2" y="120">120</text> <text x="2" y="160">160</text> <text x="2" y="200">200</text> <text x="2" y="240">240</text> </g> <line stroke="red" stroke-width="2" x1="0" y1="120" x2="800" y2="120"></line> <line stroke="red" stroke-width="2" x1="400" y1="0" x2="400" y2="240"></line> <text stroke="red" font-size="16" x="5" y="115">baseline</text> <text stroke="red" font-size="16" x="405" y="235">anchor</text> <text dominant-baseline="mathematical" font-size="80" stroke="black" stroke-width="0.5" fill="lightblue" x="400" y="120"><tspan font-size="120" dominant-baseline="mathematical"></tspan>e<tspan baseline-shift="60%" dominant-baseline="mathematical" font-size="40">-x<tspan baseline-shift="super" font-size="20">2</tspan></tspan>dx</text>
</svg>
</div>
<div id="text-along-a-path" class="section level2">
<h2>Text Along a Path</h2>
<p>Here we create text in a circle.</p>
<pre class="r"><code>WH&lt;-c(800, 600)
txt&lt;-&quot;The product of the circumferenc times the redius equals twice the area.&quot;
r=200
Pt1=WH/2+c(0,r)
Pt2=WH/2-c(0,r)
rxy=c(r,r)
svgR( wh=WH,
  defs( 
    path(id=&quot;C1&quot;,d=c(&quot;M&quot;, Pt1, &quot;A&quot;, rxy, 0, 1, 0, Pt2, &quot;A&quot;, rxy, 0, 1, 0, Pt1) , stroke='red')
  ), 
  graphPaper(WH, dxy=c(50,50), labels=TRUE),
  text( textPath(txt, font.size=40, stroke='black', stroke.width=0.5, fill='red', xlink.href=&quot;#C1&quot;)),
  circle(cxy=WH/2, r=90, stroke='red', fill='orange')
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="600">
<defs> <path id="C1" d="M 400 500 A 200 200 0 1 0 400 100 A 200 200 0 1 0 400 500" stroke="red"></path> </defs> <g stroke-width="1" font-size="10" stroke="lightgrey"> <line x1="0" y1="0" x2="0" y2="600"></line> <line x1="50" y1="0" x2="50" y2="600"></line> <line x1="100" y1="0" x2="100" y2="600"></line> <line x1="150" y1="0" x2="150" y2="600"></line> <line x1="200" y1="0" x2="200" y2="600"></line> <line x1="250" y1="0" x2="250" y2="600"></line> <line x1="300" y1="0" x2="300" y2="600"></line> <line x1="350" y1="0" x2="350" y2="600"></line> <line x1="400" y1="0" x2="400" y2="600"></line> <line x1="450" y1="0" x2="450" y2="600"></line> <line x1="500" y1="0" x2="500" y2="600"></line> <line x1="550" y1="0" x2="550" y2="600"></line> <line x1="600" y1="0" x2="600" y2="600"></line> <line x1="650" y1="0" x2="650" y2="600"></line> <line x1="700" y1="0" x2="700" y2="600"></line> <line x1="750" y1="0" x2="750" y2="600"></line> <line x1="800" y1="0" x2="800" y2="600"></line> <line x1="0" y1="0" x2="800" y2="0"></line> <line x1="0" y1="50" x2="800" y2="50"></line> <line x1="0" y1="100" x2="800" y2="100"></line> <line x1="0" y1="150" x2="800" y2="150"></line> <line x1="0" y1="200" x2="800" y2="200"></line> <line x1="0" y1="250" x2="800" y2="250"></line> <line x1="0" y1="300" x2="800" y2="300"></line> <line x1="0" y1="350" x2="800" y2="350"></line> <line x1="0" y1="400" x2="800" y2="400"></line> <line x1="0" y1="450" x2="800" y2="450"></line> <line x1="0" y1="500" x2="800" y2="500"></line> <line x1="0" y1="550" x2="800" y2="550"></line> <line x1="0" y1="600" x2="800" y2="600"></line> <text x="2" y="10">0</text> <text x="52" y="10">50</text> <text x="102" y="10">100</text> <text x="152" y="10">150</text> <text x="202" y="10">200</text> <text x="252" y="10">250</text> <text x="302" y="10">300</text> <text x="352" y="10">350</text> <text x="402" y="10">400</text> <text x="452" y="10">450</text> <text x="502" y="10">500</text> <text x="552" y="10">550</text> <text x="602" y="10">600</text> <text x="652" y="10">650</text> <text x="702" y="10">700</text> <text x="752" y="10">750</text> <text x="802" y="10">800</text> <text x="2" y="0">0</text> <text x="2" y="50">50</text> <text x="2" y="100">100</text> <text x="2" y="150">150</text> <text x="2" y="200">200</text> <text x="2" y="250">250</text> <text x="2" y="300">300</text> <text x="2" y="350">350</text> <text x="2" y="400">400</text> <text x="2" y="450">450</text> <text x="2" y="500">500</text> <text x="2" y="550">550</text> <text x="2" y="600">600</text> </g> <text> <textPath font-size="40" stroke="black" stroke-width="0.5" fill="red" xlink:href="#C1">The product of the circumferenc times the redius equals twice the area.</textPath> </text> <circle r="90" stroke="red" fill="orange" cx="400" cy="300"></circle>
</svg>
<p>We can also spiral our text</p>
<pre class="r"><code>WH&lt;-c(800, 300)
txt&lt;-&quot;help, I'm getting dizzy!&quot;
r=200
Pt1=WH/2+c(0,r)
Pt2=WH/2-c(0,r)
rxy=c(r,r)
svgR( wh=WH,
  defs( 
    path(id=&quot;spiralText&quot;,
         d = &quot;M 50,50 A 20,20 0 0 1 90,50 A 40,40 0 0 1 10,50 A 60,60 0 0 1 130,50&quot;,
         stroke='blue')
  ), 
  graphPaper(WH, dxy=c(50,50), labels=TRUE),
  text( textPath(txt, font.size=30, stroke='black', stroke.width=0.5, fill='red', xlink.href=&quot;#spiralText&quot;),
        transform=list(translate=c(100,100))
  )
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="300">
<defs> <path id="spiralText" d="M 50,50 A 20,20 0 0 1 90,50 A 40,40 0 0 1 10,50 A 60,60 0 0 1 130,50" stroke="blue"></path> </defs> <g stroke-width="1" font-size="10" stroke="lightgrey"> <line x1="0" y1="0" x2="0" y2="300"></line> <line x1="50" y1="0" x2="50" y2="300"></line> <line x1="100" y1="0" x2="100" y2="300"></line> <line x1="150" y1="0" x2="150" y2="300"></line> <line x1="200" y1="0" x2="200" y2="300"></line> <line x1="250" y1="0" x2="250" y2="300"></line> <line x1="300" y1="0" x2="300" y2="300"></line> <line x1="350" y1="0" x2="350" y2="300"></line> <line x1="400" y1="0" x2="400" y2="300"></line> <line x1="450" y1="0" x2="450" y2="300"></line> <line x1="500" y1="0" x2="500" y2="300"></line> <line x1="550" y1="0" x2="550" y2="300"></line> <line x1="600" y1="0" x2="600" y2="300"></line> <line x1="650" y1="0" x2="650" y2="300"></line> <line x1="700" y1="0" x2="700" y2="300"></line> <line x1="750" y1="0" x2="750" y2="300"></line> <line x1="800" y1="0" x2="800" y2="300"></line> <line x1="0" y1="0" x2="800" y2="0"></line> <line x1="0" y1="50" x2="800" y2="50"></line> <line x1="0" y1="100" x2="800" y2="100"></line> <line x1="0" y1="150" x2="800" y2="150"></line> <line x1="0" y1="200" x2="800" y2="200"></line> <line x1="0" y1="250" x2="800" y2="250"></line> <line x1="0" y1="300" x2="800" y2="300"></line> <text x="2" y="10">0</text> <text x="52" y="10">50</text> <text x="102" y="10">100</text> <text x="152" y="10">150</text> <text x="202" y="10">200</text> <text x="252" y="10">250</text> <text x="302" y="10">300</text> <text x="352" y="10">350</text> <text x="402" y="10">400</text> <text x="452" y="10">450</text> <text x="502" y="10">500</text> <text x="552" y="10">550</text> <text x="602" y="10">600</text> <text x="652" y="10">650</text> <text x="702" y="10">700</text> <text x="752" y="10">750</text> <text x="802" y="10">800</text> <text x="2" y="0">0</text> <text x="2" y="50">50</text> <text x="2" y="100">100</text> <text x="2" y="150">150</text> <text x="2" y="200">200</text> <text x="2" y="250">250</text> <text x="2" y="300">300</text> </g> <text transform="translate(100,100)"> <textPath font-size="30" stroke="black" stroke-width="0.5" fill="red" xlink:href="#spiralText">help, Im getting dizzy!</textPath> </text>
</svg>
</div>
<div id="reflection-transformation" class="section level2">
<h2>Reflection Transformation</h2>
<pre class="r"><code>WH=c(800,250)
svgR( wh=WH,
      graphPaper(WH, dxy=c(50,50), labels=TRUE),
      text( &quot;Reflections&quot;, xy=c(0,0), 
            font.size=100, font.weight=&quot;bold&quot;, 
            stroke='black',  stroke.width=0.5, fill='red',
            transform=list(translate=c(100,100))
            ),
      text( &quot;Reflections&quot;, xy=c(0,0), 
            font.size=100, font.weight=&quot;bold&quot;, 
            stroke='black',  stroke.width=0.5, fill='pink',
            transform = list(translate=c(100, 100), scale=c(1, -1) ) 
          )
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="250">
<g stroke-width="1" font-size="10" stroke="lightgrey"> <line x1="0" y1="0" x2="0" y2="250"></line> <line x1="50" y1="0" x2="50" y2="250"></line> <line x1="100" y1="0" x2="100" y2="250"></line> <line x1="150" y1="0" x2="150" y2="250"></line> <line x1="200" y1="0" x2="200" y2="250"></line> <line x1="250" y1="0" x2="250" y2="250"></line> <line x1="300" y1="0" x2="300" y2="250"></line> <line x1="350" y1="0" x2="350" y2="250"></line> <line x1="400" y1="0" x2="400" y2="250"></line> <line x1="450" y1="0" x2="450" y2="250"></line> <line x1="500" y1="0" x2="500" y2="250"></line> <line x1="550" y1="0" x2="550" y2="250"></line> <line x1="600" y1="0" x2="600" y2="250"></line> <line x1="650" y1="0" x2="650" y2="250"></line> <line x1="700" y1="0" x2="700" y2="250"></line> <line x1="750" y1="0" x2="750" y2="250"></line> <line x1="800" y1="0" x2="800" y2="250"></line> <line x1="0" y1="0" x2="800" y2="0"></line> <line x1="0" y1="50" x2="800" y2="50"></line> <line x1="0" y1="100" x2="800" y2="100"></line> <line x1="0" y1="150" x2="800" y2="150"></line> <line x1="0" y1="200" x2="800" y2="200"></line> <line x1="0" y1="250" x2="800" y2="250"></line> <text x="2" y="10">0</text> <text x="52" y="10">50</text> <text x="102" y="10">100</text> <text x="152" y="10">150</text> <text x="202" y="10">200</text> <text x="252" y="10">250</text> <text x="302" y="10">300</text> <text x="352" y="10">350</text> <text x="402" y="10">400</text> <text x="452" y="10">450</text> <text x="502" y="10">500</text> <text x="552" y="10">550</text> <text x="602" y="10">600</text> <text x="652" y="10">650</text> <text x="702" y="10">700</text> <text x="752" y="10">750</text> <text x="802" y="10">800</text> <text x="2" y="0">0</text> <text x="2" y="50">50</text> <text x="2" y="100">100</text> <text x="2" y="150">150</text> <text x="2" y="200">200</text> <text x="2" y="250">250</text> </g> <text font-size="100" font-weight="bold" stroke="black" stroke-width="0.5" fill="red" transform="translate(100,100)" x="0" y="0">Reflections</text> <text font-size="100" font-weight="bold" stroke="black" stroke-width="0.5" fill="pink" transform="translate(100,100) scale(1,-1)" x="0" y="0">Reflections</text>
</svg>
</div>
<div id="writing-mode" class="section level2">
<h2>Writing mode</h2>
<p>The writing mode is useful to change text orientation to top-bottom</p>
<pre class="r"><code>WH&lt;-c(200,600)
svgR( wh=WH,
      graphPaper(WH, dxy=c(40,40), labels=TRUE),
      text( linearRegression ,  writing.mode=&quot;tb&quot; , 
              font.size=100,
              xy=c(80, 80), fill='red',
              font.weight=&quot;bold&quot;, stroke='black',  stroke.width=0.5
      )
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="200" height="600">
<g stroke-width="1" font-size="10" stroke="lightgrey"> <line x1="0" y1="0" x2="0" y2="600"></line> <line x1="40" y1="0" x2="40" y2="600"></line> <line x1="80" y1="0" x2="80" y2="600"></line> <line x1="120" y1="0" x2="120" y2="600"></line> <line x1="160" y1="0" x2="160" y2="600"></line> <line x1="200" y1="0" x2="200" y2="600"></line> <line x1="0" y1="0" x2="200" y2="0"></line> <line x1="0" y1="40" x2="200" y2="40"></line> <line x1="0" y1="80" x2="200" y2="80"></line> <line x1="0" y1="120" x2="200" y2="120"></line> <line x1="0" y1="160" x2="200" y2="160"></line> <line x1="0" y1="200" x2="200" y2="200"></line> <line x1="0" y1="240" x2="200" y2="240"></line> <line x1="0" y1="280" x2="200" y2="280"></line> <line x1="0" y1="320" x2="200" y2="320"></line> <line x1="0" y1="360" x2="200" y2="360"></line> <line x1="0" y1="400" x2="200" y2="400"></line> <line x1="0" y1="440" x2="200" y2="440"></line> <line x1="0" y1="480" x2="200" y2="480"></line> <line x1="0" y1="520" x2="200" y2="520"></line> <line x1="0" y1="560" x2="200" y2="560"></line> <line x1="0" y1="600" x2="200" y2="600"></line> <text x="2" y="10">0</text> <text x="42" y="10">40</text> <text x="82" y="10">80</text> <text x="122" y="10">120</text> <text x="162" y="10">160</text> <text x="202" y="10">200</text> <text x="2" y="0">0</text> <text x="2" y="40">40</text> <text x="2" y="80">80</text> <text x="2" y="120">120</text> <text x="2" y="160">160</text> <text x="2" y="200">200</text> <text x="2" y="240">240</text> <text x="2" y="280">280</text> <text x="2" y="320">320</text> <text x="2" y="360">360</text> <text x="2" y="400">400</text> <text x="2" y="440">440</text> <text x="2" y="480">480</text> <text x="2" y="520">520</text> <text x="2" y="560">560</text> <text x="2" y="600">600</text> </g> <text writing-mode="tb" font-size="100" fill="red" font-weight="bold" stroke="black" stroke-width="0.5" x="80" y="80"></text>
</svg>
<p>Text can be outlined or filled depending on what argument is supplied to the <strong>fill</strong> attribute.</p>
<pre class="r"><code>WH=c(800,100)
svgR( wh=WH,
      graphPaper(WH, dxy=c(20,20), labels=TRUE),
      text( &quot;Outlined Text&quot;, xy=c(60,80), 
            font.size=50, font.weight=&quot;bold&quot;, 
            stroke='black',  stroke.width=0.5, fill='none'),
      text( &quot;Filled Text&quot;, xy=c(460,80), 
            font.size=50, font.weight=&quot;bold&quot;, 
            stroke='black',  stroke.width=0.5, fill='lightblue')
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="100">
<g stroke-width="1" font-size="10" stroke="lightgrey"> <line x1="0" y1="0" x2="0" y2="100"></line> <line x1="20" y1="0" x2="20" y2="100"></line> <line x1="40" y1="0" x2="40" y2="100"></line> <line x1="60" y1="0" x2="60" y2="100"></line> <line x1="80" y1="0" x2="80" y2="100"></line> <line x1="100" y1="0" x2="100" y2="100"></line> <line x1="120" y1="0" x2="120" y2="100"></line> <line x1="140" y1="0" x2="140" y2="100"></line> <line x1="160" y1="0" x2="160" y2="100"></line> <line x1="180" y1="0" x2="180" y2="100"></line> <line x1="200" y1="0" x2="200" y2="100"></line> <line x1="220" y1="0" x2="220" y2="100"></line> <line x1="240" y1="0" x2="240" y2="100"></line> <line x1="260" y1="0" x2="260" y2="100"></line> <line x1="280" y1="0" x2="280" y2="100"></line> <line x1="300" y1="0" x2="300" y2="100"></line> <line x1="320" y1="0" x2="320" y2="100"></line> <line x1="340" y1="0" x2="340" y2="100"></line> <line x1="360" y1="0" x2="360" y2="100"></line> <line x1="380" y1="0" x2="380" y2="100"></line> <line x1="400" y1="0" x2="400" y2="100"></line> <line x1="420" y1="0" x2="420" y2="100"></line> <line x1="440" y1="0" x2="440" y2="100"></line> <line x1="460" y1="0" x2="460" y2="100"></line> <line x1="480" y1="0" x2="480" y2="100"></line> <line x1="500" y1="0" x2="500" y2="100"></line> <line x1="520" y1="0" x2="520" y2="100"></line> <line x1="540" y1="0" x2="540" y2="100"></line> <line x1="560" y1="0" x2="560" y2="100"></line> <line x1="580" y1="0" x2="580" y2="100"></line> <line x1="600" y1="0" x2="600" y2="100"></line> <line x1="620" y1="0" x2="620" y2="100"></line> <line x1="640" y1="0" x2="640" y2="100"></line> <line x1="660" y1="0" x2="660" y2="100"></line> <line x1="680" y1="0" x2="680" y2="100"></line> <line x1="700" y1="0" x2="700" y2="100"></line> <line x1="720" y1="0" x2="720" y2="100"></line> <line x1="740" y1="0" x2="740" y2="100"></line> <line x1="760" y1="0" x2="760" y2="100"></line> <line x1="780" y1="0" x2="780" y2="100"></line> <line x1="800" y1="0" x2="800" y2="100"></line> <line x1="0" y1="0" x2="800" y2="0"></line> <line x1="0" y1="20" x2="800" y2="20"></line> <line x1="0" y1="40" x2="800" y2="40"></line> <line x1="0" y1="60" x2="800" y2="60"></line> <line x1="0" y1="80" x2="800" y2="80"></line> <line x1="0" y1="100" x2="800" y2="100"></line> <text x="2" y="10">0</text> <text x="22" y="10">20</text> <text x="42" y="10">40</text> <text x="62" y="10">60</text> <text x="82" y="10">80</text> <text x="102" y="10">100</text> <text x="122" y="10">120</text> <text x="142" y="10">140</text> <text x="162" y="10">160</text> <text x="182" y="10">180</text> <text x="202" y="10">200</text> <text x="222" y="10">220</text> <text x="242" y="10">240</text> <text x="262" y="10">260</text> <text x="282" y="10">280</text> <text x="302" y="10">300</text> <text x="322" y="10">320</text> <text x="342" y="10">340</text> <text x="362" y="10">360</text> <text x="382" y="10">380</text> <text x="402" y="10">400</text> <text x="422" y="10">420</text> <text x="442" y="10">440</text> <text x="462" y="10">460</text> <text x="482" y="10">480</text> <text x="502" y="10">500</text> <text x="522" y="10">520</text> <text x="542" y="10">540</text> <text x="562" y="10">560</text> <text x="582" y="10">580</text> <text x="602" y="10">600</text> <text x="622" y="10">620</text> <text x="642" y="10">640</text> <text x="662" y="10">660</text> <text x="682" y="10">680</text> <text x="702" y="10">700</text> <text x="722" y="10">720</text> <text x="742" y="10">740</text> <text x="762" y="10">760</text> <text x="782" y="10">780</text> <text x="802" y="10">800</text> <text x="2" y="0">0</text> <text x="2" y="20">20</text> <text x="2" y="40">40</text> <text x="2" y="60">60</text> <text x="2" y="80">80</text> <text x="2" y="100">100</text> </g> <text font-size="50" font-weight="bold" stroke="black" stroke-width="0.5" fill="none" x="60" y="80">Outlined Text</text> <text font-size="50" font-weight="bold" stroke="black" stroke-width="0.5" fill="lightblue" x="460" y="80">Filled Text</text>
</svg>
<pre class="r"><code>WH=c(800,120)
svgR( wh=WH,
      graphPaper(WH, dxy=c(50,50), labels=TRUE),
      text( &quot;svgR has it All&quot;, xy=c(50,100), 
            font.size=100, font.weight=&quot;bold&quot;, 
            stroke='black',  stroke.width=0.5, fill='red')
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="120">
<g stroke-width="1" font-size="10" stroke="lightgrey"> <line x1="0" y1="0" x2="0" y2="120"></line> <line x1="50" y1="0" x2="50" y2="120"></line> <line x1="100" y1="0" x2="100" y2="120"></line> <line x1="150" y1="0" x2="150" y2="120"></line> <line x1="200" y1="0" x2="200" y2="120"></line> <line x1="250" y1="0" x2="250" y2="120"></line> <line x1="300" y1="0" x2="300" y2="120"></line> <line x1="350" y1="0" x2="350" y2="120"></line> <line x1="400" y1="0" x2="400" y2="120"></line> <line x1="450" y1="0" x2="450" y2="120"></line> <line x1="500" y1="0" x2="500" y2="120"></line> <line x1="550" y1="0" x2="550" y2="120"></line> <line x1="600" y1="0" x2="600" y2="120"></line> <line x1="650" y1="0" x2="650" y2="120"></line> <line x1="700" y1="0" x2="700" y2="120"></line> <line x1="750" y1="0" x2="750" y2="120"></line> <line x1="800" y1="0" x2="800" y2="120"></line> <line x1="0" y1="0" x2="800" y2="0"></line> <line x1="0" y1="50" x2="800" y2="50"></line> <line x1="0" y1="100" x2="800" y2="100"></line> <text x="2" y="10">0</text> <text x="52" y="10">50</text> <text x="102" y="10">100</text> <text x="152" y="10">150</text> <text x="202" y="10">200</text> <text x="252" y="10">250</text> <text x="302" y="10">300</text> <text x="352" y="10">350</text> <text x="402" y="10">400</text> <text x="452" y="10">450</text> <text x="502" y="10">500</text> <text x="552" y="10">550</text> <text x="602" y="10">600</text> <text x="652" y="10">650</text> <text x="702" y="10">700</text> <text x="752" y="10">750</text> <text x="802" y="10">800</text> <text x="2" y="0">0</text> <text x="2" y="50">50</text> <text x="2" y="100">100</text> </g> <text font-size="100" font-weight="bold" stroke="black" stroke-width="0.5" fill="red" x="50" y="100">svgR has it All</text>
</svg>
<hr>
<p><br /><br /></p>
</div>
</div>
<div id="the-fill-attribute" class="section level1">
<h1>The Fill Attribute</h1>
<p><em>Filler up</em></p>
<p>At this point, we have seen several shapes, with the fill attribute specified either as</p>
<ul>
<li>none</li>
<li>a color, such as red, or #FF0000 or rgb(255,0,0)</li>
</ul>
<p>However, we can also fill with</p>
<ul>
<li>a linear gradient</li>
<li>a radial gradient</li>
<li>a pattern</li>
</ul>
<div id="fill-with-a-linear-gradient" class="section level2">
<h2>Fill with a Linear Gradient</h2>
<p>As first example, we take an ellipse to fill with a linear gradient.</p>
<pre class="r"><code>colors=c('blue','green','white','orange','red')
svgR( 
  wh=c(600, 200), 
  ellipse(cxy=c(250,100), rxy=c(200,80), 
          fill=linearGradient( xy1=c(0,0), xy2=c(1,0), colors=colors)     
  )
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="600" height="200">
<linearGradient x1="0" y1="0" x2="1" y2="0" id="genid19"> <stop offset="0%" stop-color="blue"></stop> <stop offset="25%" stop-color="green"></stop> <stop offset="50%" stop-color="white"></stop> <stop offset="75%" stop-color="orange"></stop> <stop offset="100%" stop-color="red"></stop> </linearGradient> <ellipse fill="url(#genid19)" cx="250" cy="100" rx="200" ry="80"></ellipse>
</svg>
<p>The above example invokes the svgR quick approach with fill=lineargradient(), but this is not standard svg. Standard svg requires a reference to a gradient to be assigned to the fill attribute, i.e.fill=url(#id) and usually the gradient definition is placed inside a defs element, as illustrated in the following.</p>
<pre class="r"><code>colors&lt;-c('green','white','orange')
svgR( 
   wh=c(600, 200), 
  defs(
    linearGradient(id='grad1', xy1=c(0,0), xy2=c(1,0), colors=colors)
  ),
  ellipse(cxy=c(250,100), rxy=c(200,80), fill=&quot;url( #grad1 )&quot;) 
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="600" height="200">
<defs> <linearGradient id="grad1" x1="0" y1="0" x2="1" y2="0"> <stop offset="0%" stop-color="green"></stop> <stop offset="50%" stop-color="white"></stop> <stop offset="100%" stop-color="orange"></stop> </linearGradient> </defs> <ellipse fill="url( #grad1 )" cx="250" cy="100" rx="200" ry="80"></ellipse>
</svg>
<p>In the second approach, we can reuse the gradient definition multiple times referencing the url for each use</p>
<pre class="r"><code>color&lt;-c('green','white','orange')
svgR( 
   wh=c(600, 200), 
  defs(
    linearGradient(id='grad1', xy1=c(0,0), xy2=c(1,0),colors=colors)
  ),
  ellipse(cxy=c(50,100), rxy=c(20,80), fill=&quot;url( #grad1 )&quot;),
  ellipse(cxy=c(100,100), rxy=c(20,80), fill=&quot;url( #grad1 )&quot;),   
  ellipse(cxy=c(150,100), rxy=c(20,80), fill=&quot;url( #grad1 )&quot;), 
  ellipse(cxy=c(200,100), rxy=c(20,80), fill=&quot;url( #grad1 )&quot;),
  ellipse(cxy=c(250,100), rxy=c(20,80), fill=&quot;url( #grad1 )&quot;) 
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="600" height="200">
<defs> <linearGradient id="grad1" x1="0" y1="0" x2="1" y2="0"> <stop offset="0%" stop-color="green"></stop> <stop offset="50%" stop-color="white"></stop> <stop offset="100%" stop-color="orange"></stop> </linearGradient> </defs> <ellipse fill="url( #grad1 )" cx="50" cy="100" rx="20" ry="80"></ellipse> <ellipse fill="url( #grad1 )" cx="100" cy="100" rx="20" ry="80"></ellipse> <ellipse fill="url( #grad1 )" cx="150" cy="100" rx="20" ry="80"></ellipse> <ellipse fill="url( #grad1 )" cx="200" cy="100" rx="20" ry="80"></ellipse> <ellipse fill="url( #grad1 )" cx="250" cy="100" rx="20" ry="80"></ellipse>
</svg>
<p>However, if we explicity assign an id to the fill=lineargrad(id=), for the first ellipse, we can also refer to that gradient in the subsequent ellipses</p>
<pre class="r"><code>colors&lt;-c('blue','green','white','orange','red')
svgR( 
  wh=c(600, 200), 
  ellipse(cxy=c(50,100), rxy=c(20,80), 
          fill=linearGradient( id=&quot;grad2&quot;, xy1=c(0,0), xy2=c(1,0), colors=colors)), 
  ellipse(cxy=c(100,100), rxy=c(20,80), fill=&quot;url( #grad2 )&quot;),
  ellipse(cxy=c(150,100), rxy=c(20,80), fill=&quot;url( #grad2 )&quot;),
  ellipse(cxy=c(200,100), rxy=c(20,80), fill=&quot;url( #grad2 )&quot;),
  ellipse(cxy=c(250,100), rxy=c(20,80), fill=&quot;url( #grad2 )&quot;) 
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="600" height="200">
<linearGradient id="grad2" x1="0" y1="0" x2="1" y2="0"> <stop offset="0%" stop-color="blue"></stop> <stop offset="25%" stop-color="green"></stop> <stop offset="50%" stop-color="white"></stop> <stop offset="75%" stop-color="orange"></stop> <stop offset="100%" stop-color="red"></stop> </linearGradient> <ellipse fill="url(#grad2)" cx="50" cy="100" rx="20" ry="80"></ellipse> <ellipse fill="url( #grad2 )" cx="100" cy="100" rx="20" ry="80"></ellipse> <ellipse fill="url( #grad2 )" cx="150" cy="100" rx="20" ry="80"></ellipse> <ellipse fill="url( #grad2 )" cx="200" cy="100" rx="20" ry="80"></ellipse> <ellipse fill="url( #grad2 )" cx="250" cy="100" rx="20" ry="80"></ellipse>
</svg>
<p>Of course, an elegant approach is to put the ellipses in a group and iterate</p>
<pre class="r"><code>colors&lt;-c('blue','green','yellow','white','orange','red','purple')
svgR( 
  wh=c(600, 200),
  g(
    lapply(seq(50,550,by=50), function(x)ellipse(cxy=c(x,100), rxy=c(20,80))),
    fill=linearGradient( xy1=c(0,0), xy2=c(1,0), colors=colors)
  )
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="600" height="200">
<linearGradient x1="0" y1="0" x2="1" y2="0" id="genid20"> <stop offset="0%" stop-color="blue"></stop> <stop offset="16%" stop-color="green"></stop> <stop offset="33%" stop-color="yellow"></stop> <stop offset="50%" stop-color="white"></stop> <stop offset="66%" stop-color="orange"></stop> <stop offset="83%" stop-color="red"></stop> <stop offset="100%" stop-color="purple"></stop> </linearGradient> <g fill="url(#genid20)"> <ellipse cx="50" cy="100" rx="20" ry="80"></ellipse> <ellipse cx="100" cy="100" rx="20" ry="80"></ellipse> <ellipse cx="150" cy="100" rx="20" ry="80"></ellipse> <ellipse cx="200" cy="100" rx="20" ry="80"></ellipse> <ellipse cx="250" cy="100" rx="20" ry="80"></ellipse> <ellipse cx="300" cy="100" rx="20" ry="80"></ellipse> <ellipse cx="350" cy="100" rx="20" ry="80"></ellipse> <ellipse cx="400" cy="100" rx="20" ry="80"></ellipse> <ellipse cx="450" cy="100" rx="20" ry="80"></ellipse> <ellipse cx="500" cy="100" rx="20" ry="80"></ellipse> <ellipse cx="550" cy="100" rx="20" ry="80"></ellipse> </g>
</svg>
</div>
<div id="filling-with-a-radial-gradient" class="section level2">
<h2>Filling with a radial gradient</h2>
<p>Filling radial gradient is essentially the same as with a linear gradient</p>
<pre class="r"><code>colors=c('blue','green','white','orange','red')
svgR( 
  wh=c(600, 200), 
  ellipse(cxy=c(250,100), rxy=c(200,80), 
          fill=radialGradient(
            colors=colors)     
  )
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="600" height="200">
<radialGradient id="genid21"> <stop offset="0%" stop-color="blue"></stop> <stop offset="25%" stop-color="green"></stop> <stop offset="50%" stop-color="white"></stop> <stop offset="75%" stop-color="orange"></stop> <stop offset="100%" stop-color="red"></stop> </radialGradient> <ellipse fill="url(#genid21)" cx="250" cy="100" rx="200" ry="80"></ellipse>
</svg>
<div id="radial-gradient-fill-with-center-offset" class="section level5">
<h5>Radial Gradient fill with center offset</h5>
<pre class="r"><code>colors=c('white', 'green', 'blue')
WH=c(600, 200)
S=190 # Size of square
svgR( 
  wh=WH, 
  rect(cxy=WH/2, wh=c(190,190), stroke='black', stroke.width=3,
      fill=radialGradient( 
        cxy=c(.5,.5), 
        r=.5,
        fxy=c(.6,.6)+c(0,0),
        colors=colors)     
  )
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="600" height="200">
<radialGradient r="0.5" cx="0.5" cy="0.5" fx="0.6" fy="0.6" id="genid22"> <stop offset="0%" stop-color="white"></stop> <stop offset="50%" stop-color="green"></stop> <stop offset="100%" stop-color="blue"></stop> </radialGradient> <rect stroke="black" stroke-width="3" fill="url(#genid22)" width="190" height="190" x="205" y="5"></rect>
</svg>
<p>Here the attributes of the radialGradient are:</p>
<ul>
<li>cxy The center of the outer circle</li>
<li>r The radius of the outer circe</li>
<li>fxy The center of the gradient focus</li>
<li>colors, an array of gradient colors</li>
</ul>
<p>All the above units are in relative to the bounding box, which in this case is the dimensions of the rectangle.</p>
<p>Alternativly, we can set the units via filterUnits=userSpaceOnUse,</p>
</div>
<div id="radial-gradient-fill-with-center-offset-1" class="section level5">
<h5>Radial Gradient fill with center offset</h5>
<pre class="r"><code>colors=c('white', 'green', 'blue')
WH=c(600, 200)
S=190 # Size of square
svgR( 
  wh=WH, 
  rect(cxy=WH/2, wh=c(S,S), stroke='black', stroke.width=3,
    fill=radialGradient( gradientUnits=&quot;userSpaceOnUse&quot;,
            cxy=WH/2, 
            r=.5*S,
            fxy=WH/2+.1*S,
            colors=colors)     
  )
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="600" height="200">
<radialGradient gradientUnits="userSpaceOnUse" r="95" cx="300" cy="100" fx="319" fy="119" id="genid23"> <stop offset="0%" stop-color="white"></stop> <stop offset="50%" stop-color="green"></stop> <stop offset="100%" stop-color="blue"></stop> </radialGradient> <rect stroke="black" stroke-width="3" fill="url(#genid23)" width="190" height="190" x="205" y="5"></rect>
</svg>
</div>
</div>
<div id="fill-with-patterns" class="section level2">
<h2>Fill with Patterns</h2>
<p>We can also fill with a pattern (Although, depending on the your system, you may need to refresh after scrolling)</p>
<pre class="r"><code>WH=c(600, 200) # window rect
svgR( wh=WH,
  ellipse( cxy=c(250,100), rxy=c(200,80), 
    fill=pattern( xy=c(10,10), wh=c(40,40), patternUnits=&quot;userSpaceOnUse&quot;,
                  circle(cxy=c(10,10), r=10, fill='blue')
         )
  )
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="600" height="200">
<pattern patternUnits="userSpaceOnUse" width="40" height="40" x="10" y="10" id="genid24"> <circle r="10" fill="blue" cx="10" cy="10"></circle> </pattern> <ellipse fill="url(#genid24)" cx="250" cy="100" rx="200" ry="80"></ellipse>
</svg>
<p>Or using defs for the fill</p>
<pre class="r"><code>WH=c(600, 200) # window rect
svgR( wh=WH,
  g(
    pattern(
        id=&quot;pattern2&quot;, xy=c(10,10), wh=c(40,40), patternUnits=&quot;userSpaceOnUse&quot; ,
        circle(cxy=c(10,10), r=10, fill='red')
    ),
    ellipse( cxy=c(250,100), rxy=c(200,80), fill=&quot;url(#pattern2)&quot;)
  )
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="600" height="200">
<g> <pattern id="pattern2" patternUnits="userSpaceOnUse" width="40" height="40" x="10" y="10"> <circle r="10" fill="red" cx="10" cy="10"></circle> </pattern> <ellipse fill="url(#pattern2)" cx="250" cy="100" rx="200" ry="80"></ellipse> </g>
</svg>
<p>And we can compose pattern with gradients:</p>
<pre class="r"><code>WH=c(600, 200) # window rect
colors=c('white','yellow','orange','green', 'blue','black')
svgR( wh=WH,
  ellipse( cxy=c(250,100), rxy=c(200,80), 
    fill=pattern( xy=c(10,10), wh=c(40,40), patternUnits=&quot;userSpaceOnUse&quot;,
                  rect(cxy=c(20,20), wh=c(40,40), 
                       fill=radialGradient(  colors=colors)
                  )
         )
  )
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="600" height="200">
<pattern patternUnits="userSpaceOnUse" width="40" height="40" x="10" y="10" id="genid26"> <radialGradient id="genid25"> <stop offset="0%" stop-color="white"></stop> <stop offset="20%" stop-color="yellow"></stop> <stop offset="40%" stop-color="orange"></stop> <stop offset="60%" stop-color="green"></stop> <stop offset="80%" stop-color="blue"></stop> <stop offset="100%" stop-color="black"></stop> </radialGradient> <rect fill="url(#genid25)" width="40" height="40" x="0" y="0"></rect> </pattern> <ellipse fill="url(#genid26)" cx="250" cy="100" rx="200" ry="80"></ellipse>
</svg>
</div>
<div id="filling-text" class="section level2">
<h2>Filling text</h2>
<p>We can also fill text with gradients and patterns</p>
<pre class="r"><code>WH=c(600, 300) # window rect
colors1=c('white','yellow','orange','green', 'blue','black')
colors2=c('blue','green','orange','yellow','orange', 'green','blue')
svgR( wh=WH,
  text( cxy=c(150,100), font.size=300, &quot;R&quot;, stroke='green',
        fill=pattern( xy=c(0,0), wh=c(20,20), patternUnits=&quot;userSpaceOnUse&quot;,
                  text(&quot;R&quot;, cxy=c(10,10), stroke='red')
        )
  )
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="600" height="300">
<pattern patternUnits="userSpaceOnUse" width="20" height="20" x="0" y="0" id="genid27"> <text stroke="red" text-anchor="middle" dominant-baseline="central" x="10" y="10">R</text> </pattern> <text font-size="300" stroke="green" fill="url(#genid27)" text-anchor="middle" dominant-baseline="central" x="150" y="100">R</text>
</svg>
<pre class="r"><code>WH=c(600, 300) # window rect
svgR( wh=WH,
  text( cxy=c(150,100), font.size=300, &quot;R&quot;,
        fill=radialGradient( colors=colors1)
  ),
  text( cxy=c(420,50), font.size=60, &quot;Programming&quot;,
        fill=linearGradient(colors=colors2)
  )
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="600" height="300">
<radialGradient id="genid28"> <stop offset="0%" stop-color="white"></stop> <stop offset="20%" stop-color="yellow"></stop> <stop offset="40%" stop-color="orange"></stop> <stop offset="60%" stop-color="green"></stop> <stop offset="80%" stop-color="blue"></stop> <stop offset="100%" stop-color="black"></stop> </radialGradient> <text font-size="300" fill="url(#genid28)" text-anchor="middle" dominant-baseline="central" x="150" y="100">R</text> <linearGradient id="genid29"> <stop offset="0%" stop-color="blue"></stop> <stop offset="16%" stop-color="green"></stop> <stop offset="33%" stop-color="orange"></stop> <stop offset="50%" stop-color="yellow"></stop> <stop offset="66%" stop-color="orange"></stop> <stop offset="83%" stop-color="green"></stop> <stop offset="100%" stop-color="blue"></stop> </linearGradient> <text font-size="60" fill="url(#genid29)" text-anchor="middle" dominant-baseline="central" x="420" y="50">Programming</text>
</svg>
<hr>
<br /><br /> <br />
<hr>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="860">
<filter id="genid33"> <feGaussianBlur stdDeviation="5" in="SourceAlpha" result="genid30"></feGaussianBlur> <feSpecularLighting surfaceScale="6" specularConstant="1" specularExponent="30" lighting-color="pink" in="genid30" result="genid31"> <fePointLight x="40" y="-30" z="200"></fePointLight> </feSpecularLighting> <feComposite operator="in" in="genid31" in2="SourceAlpha" result="genid32"></feComposite> <feMerge> <feMergeNode in="SourceGraphic"></feMergeNode> <feMergeNode in="genid32"></feMergeNode> </feMerge> </filter> <g stroke="black" filter="url(#genid33)"> <text fill="darkblue" font-size="40" font-family="san serif" stroke-width="3" x="0.6" y="45">svgR</text> <line stroke-width="5" x1="120" y1="25" x2="594" y2="25"></line> </g>
</svg>
</div>
</div>
<div id="the-filter-attribute" class="section level1">
<h1>The Filter Attribute</h1>
<div id="overview-1" class="section level2">
<h2>Overview</h2>
<p>The Filter attribute can only have a filter element or a reference to a filter element as its value. A Filter element is a container for fe-elements, which in this document we will refer to as . The fe-elements together form a directed graph, with root, whose construction is discussed in the section <a href="#combining-filter-primitives">Combining Filter Primitives</a></p>
<p>That ensemble is used to create interesting effects by modifying existing images.</p>
<p>Many filter primitives require input of image data (some require two), and these are supplied via the in1 and in2 attributes. Two notable exceptions are feImage and feFlood.</p>
<p>todo: diagrams</p>
<p>todo:</p>
<ul>
<li>feFunc<strong><em>X</em></strong></li>
<li>feTile</li>
</ul>
<div id="the-in-attribute-of-filter-components" class="section level3">
<h3>The In Attribute of Filter components</h3>
<p>As we noted before, filter components may have one or two <strong><em>in</em></strong> attributes: in1, in2. The in1 and in2 attributes can take the values SourceGraphic, SourceAlpha, BackgroundImage, BackgroundAlpha, FillPaint, StrokePaint, or a reference to another primitives result. The behaviours for each are as follows:</p>
<ul>
<li>SourceGraphic represents the original element to which the filter is applied (as full RGBA image data)</li>
<li>SourceAlpha represents just the alpha channel of the original element to which the filter is applied</li>
<li>BackgroundImage represents the area directly underneath the filter region</li>
<li>BackgroundAlpha represents just the alpha channel of the area underneath the filter region</li>
<li>FillPaint represents whatever fill was applied to the element in question</li>
<li>StrokePaint represents whatever stroke was applied to the element</li>
<li>Any other value should be a reference equal to the result attribute for any preceding filter primitive. In this case, the output of the referenced primitive will be used as the specified input.</li>
</ul>
</div>
<div id="filter-components-summary" class="section level3">
<h3>Filter Components Summary</h3>
<table>
<thead>
<tr class="header">
<th align="left">Element</th>
<th align="left">Attributes</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">feBlend</td>
<td align="left">in2=<strong><em>second source</em></strong> <br> mode=normal multiply screen darken lighten</td>
</tr>
<tr class="even">
<td align="left">feColorMatrix</td>
<td align="left">type=matrix saturate hueRotate luminanceToAlpha <br> values=<strong><em>matrix values</em></strong> <strong><em>saturation value (0-1)</em></strong> <strong><em>rotate degrees</em></strong></td>
</tr>
<tr class="odd">
<td align="left">feComponentTransfer</td>
<td align="left">container for <br>feFuncR, <br>feFuncG, <br>feFuncB, and <br>feFuncA elements.</td>
</tr>
<tr class="even">
<td align="left">feFunc<strong><em>X</em></strong></td>
<td align="left">type=identity table discrete linear gamma <br> tableValues=<strong><em>intervals for table, steps for discrete</em></strong> <br> slope=<strong><em>linear slope</em></strong> <br> intercept=<strong><em>linear intercept</em></strong> <br> amplitude=<strong><em>gamma amplitude</em></strong> <br> exponent=<strong><em>gamma exponent</em></strong> <br> offset=<strong><em>gamma offset</em></strong></td>
</tr>
<tr class="odd">
<td align="left">feComposite</td>
<td align="left">in2=<strong><em>second source</em></strong> <br> operator=over in out atop xor arithmetic <br> The following attributes are used with arithmetic: <br> k1=<strong><em>factor for in1,in2</em></strong> <br> k2=<strong><em>factor for in1</em></strong> <br> k3=<strong><em>factor for in2</em></strong> <br> k4=<strong><em>additive offset</em></strong></td>
</tr>
<tr class="even">
<td align="left">feConvolveMatrix</td>
<td align="left">order=<strong><em>columns rows</em></strong> (default 3 by 3) <br> kernel=<strong><em>values</em></strong> <br> bias=<strong><em>offset value</em></strong></td>
</tr>
<tr class="odd">
<td align="left">feDiffuseLighting</td>
<td align="left">Container for a light source element. <br> surfaceScale=<strong><em>height</em></strong> (default 1) <br> diffuseConstant=<strong><em>factor</em></strong> (must be non-negative; default 1)</td>
</tr>
<tr class="even">
<td align="left">feDisplacementMap</td>
<td align="left">scale=<strong><em>displacement factor</em></strong> (default 0) <br> xChannelSelector=R G B A <br> yChannelSelector=R G B A <br> in2=<strong><em>second input</em></strong></td>
</tr>
<tr class="odd">
<td align="left">feFlood</td>
<td align="left">flood.fill.color=<strong><em>color specification</em></strong> <br> flood.fill.opacity=<strong><em>value (0-1)</em></strong></td>
</tr>
<tr class="even">
<td align="left">feGaussianBlur</td>
<td align="left">stdDeviation=<strong><em>blur spread</em></strong> (larger is blurrier; default 0)</td>
</tr>
<tr class="odd">
<td align="left">feImage</td>
<td align="left">xlink:href=<strong><em>image source</em></strong></td>
</tr>
<tr class="even">
<td align="left">feMerge</td>
<td align="left">container for feMergeNode elements</td>
</tr>
<tr class="odd">
<td align="left">feMergeNode</td>
<td align="left"><strong><em>in1</em></strong> = <strong><em>intermediate result</em></strong></td>
</tr>
<tr class="even">
<td align="left">feMorphology</td>
<td align="left">operator=erode dilate <br> radius=<em><strong>x-radius</strong> <strong>y-radius</strong></em> <br> radius=<strong><em>radius</em></strong></td>
</tr>
<tr class="odd">
<td align="left">feOffset</td>
<td align="left">dx=<strong><em>x offset</em></strong> (default 0)<br>dy=<strong><em>y offset</em></strong> (default 0)</td>
</tr>
<tr class="even">
<td align="left">feSpecularLighting</td>
<td align="left">Container for a light source element.<br>surfaceScale=<strong><em>height</em></strong> (default 1)<br>specularConstant=<strong><em>factor</em></strong> (must be non-negative; default 1)<br>specularExponent=<strong><em>exponent</em></strong> (range 1-128; default 1)</td>
</tr>
<tr class="odd">
<td align="left">feTile</td>
<td align="left">tiles the <strong><em>in1</em></strong> layer</td>
</tr>
<tr class="even">
<td align="left">feTurbulence</td>
<td align="left">type=turbulence fractalNoise <br> baseFrequency=<strong><em>x-frequency y-frequency</em></strong> <br> baseFrequency=<strong><em>frequency</em></strong> <br> numOctaves=<strong><em>integer</em></strong> <br> seed=<strong><em>number</em></strong></td>
</tr>
<tr class="odd">
<td align="left">feDistantLight</td>
<td align="left">azimuth=<strong><em>degrees</em></strong> (default 0)<br>elevation=<strong><em>degrees</em></strong> (default 0)</td>
</tr>
<tr class="even">
<td align="left">fePointLight</td>
<td align="left">x=<strong><em>coordinate</em></strong> (default 0)<br>y=<strong><em>coordinate</em></strong> (default 0)<br>z=<strong><em>coordinate</em></strong> (default 0)</td>
</tr>
<tr class="odd">
<td align="left">feSpotLight</td>
<td align="left">x=<strong><em>coordinate</em></strong> (default 0)<br>y=<strong><em>coordinate</em></strong> (default 0)<br>z=<strong><em>coordinate</em></strong> (default 0)<br>pointsAtX=<strong><em>coordinate</em></strong> (default 0)<br>pointsAtY=<strong><em>coordinate</em></strong> (default 0)<br>pointsAtZ=<strong><em>coordinate</em></strong> (default 0)<br>specularConstant=<strong><em>focus control</em></strong> (default 1)<br>limitingConeAngle=<strong><em>degrees</em></strong></td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="the-gaussian-blur-filter" class="section level2">
<h2>The Gaussian Blur Filter</h2>
<pre class="r"><code>WH=c(800, 100) # window rect
svgR( wh=WH,
  text(xy=c(20,15), &quot;On the left, the original shape, on the right, the shape with a gaussian blur applied&quot;),
  text( 'svgR', xy=c(50,80), font.size=50, fill=&quot;blue&quot;),
  text( 'svgR', xy=c(250,80), font.size=50, fill=&quot;blue&quot;,
           filter=filter( y=-5, height=40, feGaussianBlur(in1=&quot;SourceGraphic&quot;, stdDeviation=3, y=&quot;-&quot;))
      ),
  text( 'svgR', xy=c(450,80), font.size=50, fill=&quot;blue&quot;,
           filter=filter( y=-5, height=40, feGaussianBlur(in1=&quot;SourceAlpha&quot;, stdDeviation=3, y=&quot;-&quot;))
      ),
  text( 'svgR', xy=c(650,80), font.size=50, fill=&quot;blue&quot;,
           filter=filter( y=-5, height=40, feGaussianBlur(in1=&quot;SourceGraphic&quot;, stdDeviation=c(8,0), y=&quot;-&quot;))
      )
  
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="100">
<text x="20" y="15">On the left, the original shape, on the right, the shape with a gaussian blur applied</text> <text font-size="50" fill="blue" x="50" y="80">svgR</text> <filter y="-5" height="40" id="genid34"> <feGaussianBlur in="SourceGraphic" stdDeviation="3" y="-"></feGaussianBlur> </filter> <text font-size="50" fill="blue" filter="url(#genid34)" x="250" y="80">svgR</text> <filter y="-5" height="40" id="genid35"> <feGaussianBlur in="SourceAlpha" stdDeviation="3" y="-"></feGaussianBlur> </filter> <text font-size="50" fill="blue" filter="url(#genid35)" x="450" y="80">svgR</text> <filter y="-5" height="40" id="genid36"> <feGaussianBlur in="SourceGraphic" stdDeviation="8,0" y="-"></feGaussianBlur> </filter> <text font-size="50" fill="blue" filter="url(#genid36)" x="650" y="80">svgR</text>
</svg>
<p>Alternatively, we can place the filter inside a defs element.</p>
<pre class="r"><code>WH=c(800, 100) # window rect
svgR( wh=WH,
  defs( 
    filter(id=&quot;blurFilter1&quot;, y=-5, height=40,
      feGaussianBlur(in1=&quot;SourceGraphic&quot;, stdDeviation=3, y=&quot;-&quot;)
    ),          
    filter(id=&quot;blurFilter2&quot;, y=-5, height=40,
      feGaussianBlur(in1=&quot;SourceAlpha&quot;, stdDeviation=3, y=&quot;-&quot;)
    ),           
    filter(id=&quot;blurFilter3&quot;, y=-5, height=40,
      feGaussianBlur(in1=&quot;SourceGraphic&quot;, stdDeviation=c(8,0), y=&quot;-&quot;)
    )   
  ),
  text( 'svgR', xy=c(50,80),  font.size=50, fill=&quot;blue&quot;),
  text( 'svgR', xy=c(250,80), font.size=50, fill=&quot;blue&quot;, filter=&quot;url(#blurFilter1)&quot;),
  text( 'svgR', xy=c(450,80), font.size=50, fill=&quot;blue&quot;, filter=&quot;url(#blurFilter2)&quot;),
  text( 'svgR', xy=c(650,80), font.size=50, fill=&quot;blue&quot;, filter=&quot;url(#blurFilter3)&quot;)
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="100">
<defs> <filter id="blurFilter1" y="-5" height="40"> <feGaussianBlur in="SourceGraphic" stdDeviation="3" y="-"></feGaussianBlur> </filter> <filter id="blurFilter2" y="-5" height="40"> <feGaussianBlur in="SourceAlpha" stdDeviation="3" y="-"></feGaussianBlur> </filter> <filter id="blurFilter3" y="-5" height="40"> <feGaussianBlur in="SourceGraphic" stdDeviation="8,0" y="-"></feGaussianBlur> </filter> </defs> <text font-size="50" fill="blue" x="50" y="80">svgR</text> <text font-size="50" fill="blue" filter="url(#blurFilter1)" x="250" y="80">svgR</text> <text font-size="50" fill="blue" filter="url(#blurFilter2)" x="450" y="80">svgR</text> <text font-size="50" fill="blue" filter="url(#blurFilter3)" x="650" y="80">svgR</text>
</svg>
<p><strong>Note</strong> The last filter effect gives the appearence of motion and is achieved using a stdDeviation in the x direction of 8, and a stdDeviation in the y direction of 0.</p>
<div id="gaussian-blur-and-opacity" class="section level3">
<h3>Gaussian Blur and Opacity</h3>
<p>It is important to note that blur effect is accomplished by adjusting the opacity, as see below. This property is extremely useful for creating an alpha channel to be used in lighting.</p>
<pre class="r"><code>WH=c(800, 100) # window rect
svgR( wh=WH,
  rect(xy=c(0,0), wh=WH, 
    fill=pattern( xy=c(0,0), wh=c(20,20), patternUnits=&quot;userSpaceOnUse&quot;,
      text(&quot;R&quot;, cxy=c(10,10), font.size=18, stroke='red')
    )
  ), 
  text( 'DATA', cxy=WH/2, font.size=90, fill=&quot;blue&quot;,
           filter=filter( y=-5, height=40, feGaussianBlur(in1=&quot;SourceGraphic&quot;, stdDeviation=5, y=&quot;-&quot;))
      )
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="100">
<pattern patternUnits="userSpaceOnUse" width="20" height="20" x="0" y="0" id="genid37"> <text font-size="18" stroke="red" text-anchor="middle" dominant-baseline="central" x="10" y="10">R</text> </pattern> <rect fill="url(#genid37)" width="800" height="100" x="0" y="0"></rect> <filter y="-5" height="40" id="genid38"> <feGaussianBlur in="SourceGraphic" stdDeviation="5" y="-"></feGaussianBlur> </filter> <text font-size="90" fill="blue" filter="url(#genid38)" text-anchor="middle" dominant-baseline="central" x="400" y="50">DATA</text>
</svg>
</div>
</div>
<div id="filter-coordinates" class="section level2">
<h2>Filter Coordinates</h2>
</div>
<div id="understanding-the-filter-coordinates" class="section level2">
<h2>Understanding the Filter Coordinates</h2>
<p>We begin by illustrating a simple filter.</p>
<div id="a-minimal-example-feoffset" class="section level3">
<h3>A Minimal Example: feOffset</h3>
<pre class="r"><code>WH=c(800, 160) # window rect
svgR( wh=WH,
  graphPaper(WH, dxy=c(40,40), labels=TRUE), 
  rect( xy=c(40,40), wh=c(120,40), stroke=&quot;black&quot;, fill=&quot;blue&quot;, fill.opacity=0.5,
         filter=filter(  wh=c(2,2), 
           feOffset(  dxy=c(80, 20), in1=&quot;SourceGraphic&quot;)
         )
  )
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="160">
<g stroke-width="1" font-size="10" stroke="lightgrey"> <line x1="0" y1="0" x2="0" y2="160"></line> <line x1="40" y1="0" x2="40" y2="160"></line> <line x1="80" y1="0" x2="80" y2="160"></line> <line x1="120" y1="0" x2="120" y2="160"></line> <line x1="160" y1="0" x2="160" y2="160"></line> <line x1="200" y1="0" x2="200" y2="160"></line> <line x1="240" y1="0" x2="240" y2="160"></line> <line x1="280" y1="0" x2="280" y2="160"></line> <line x1="320" y1="0" x2="320" y2="160"></line> <line x1="360" y1="0" x2="360" y2="160"></line> <line x1="400" y1="0" x2="400" y2="160"></line> <line x1="440" y1="0" x2="440" y2="160"></line> <line x1="480" y1="0" x2="480" y2="160"></line> <line x1="520" y1="0" x2="520" y2="160"></line> <line x1="560" y1="0" x2="560" y2="160"></line> <line x1="600" y1="0" x2="600" y2="160"></line> <line x1="640" y1="0" x2="640" y2="160"></line> <line x1="680" y1="0" x2="680" y2="160"></line> <line x1="720" y1="0" x2="720" y2="160"></line> <line x1="760" y1="0" x2="760" y2="160"></line> <line x1="800" y1="0" x2="800" y2="160"></line> <line x1="0" y1="0" x2="800" y2="0"></line> <line x1="0" y1="40" x2="800" y2="40"></line> <line x1="0" y1="80" x2="800" y2="80"></line> <line x1="0" y1="120" x2="800" y2="120"></line> <line x1="0" y1="160" x2="800" y2="160"></line> <text x="2" y="10">0</text> <text x="42" y="10">40</text> <text x="82" y="10">80</text> <text x="122" y="10">120</text> <text x="162" y="10">160</text> <text x="202" y="10">200</text> <text x="242" y="10">240</text> <text x="282" y="10">280</text> <text x="322" y="10">320</text> <text x="362" y="10">360</text> <text x="402" y="10">400</text> <text x="442" y="10">440</text> <text x="482" y="10">480</text> <text x="522" y="10">520</text> <text x="562" y="10">560</text> <text x="602" y="10">600</text> <text x="642" y="10">640</text> <text x="682" y="10">680</text> <text x="722" y="10">720</text> <text x="762" y="10">760</text> <text x="802" y="10">800</text> <text x="2" y="0">0</text> <text x="2" y="40">40</text> <text x="2" y="80">80</text> <text x="2" y="120">120</text> <text x="2" y="160">160</text> </g> <filter width="2" height="2" id="genid39"> <feOffset in="SourceGraphic" dx="80" dy="20"></feOffset> </filter> <rect stroke="black" fill="blue" fill-opacity="0.5" filter="url(#genid39)" width="120" height="40" x="40" y="40"></rect>
</svg>
</div>
<div id="dissecting-the-filter-coordinates" class="section level3">
<h3>Dissecting the filter Coordinates</h3>
<p>Examining the above example we note</p>
<ul>
<li>The rectangle is declared to have an upper-left corner to be located at xy=c(40,40)</li>
<li>The rectange is rendered with the upper-left corner at xy=c(120,60)</li>
<li>The filter is assigned using the filter attribute filter=.</li>
<li>The filter is constructed using the filter(), element.</li>
<li>The filter has one component feOffset</li>
<li>The feOffset has 2 attributes, dxy, in1</li>
<li>dxy is the displacement of dxy=c(80,20), causing the final location of the upper-left hand corner to be c(120,60)=c(40,40)+c(120,60)</li>
<li>in1 is assigned SourceGraphics, indicating that the input to feOffset is the original source.</li>
<li>The filter is assigned a wh=c(2,2)=c(200%,200%)</li>
</ul>
<p>This last point is significant: the filter region must large enough to include the image to be rendered. Any portion outside will be clipped. By default, the wh is the size of the bounding box of the SourceGraphic. This means that we may need to resize the wh and xy filter attributes accordingly.</p>
</div>
<div id="the-bounding-box" class="section level3">
<h3>The Bounding Box</h3>
<p>We can visualize this as <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="160"> <g stroke-width="1" font-size="10" stroke="lightgrey"> <line x1="0" y1="0" x2="0" y2="160"></line> <line x1="40" y1="0" x2="40" y2="160"></line> <line x1="80" y1="0" x2="80" y2="160"></line> <line x1="120" y1="0" x2="120" y2="160"></line> <line x1="160" y1="0" x2="160" y2="160"></line> <line x1="200" y1="0" x2="200" y2="160"></line> <line x1="240" y1="0" x2="240" y2="160"></line> <line x1="280" y1="0" x2="280" y2="160"></line> <line x1="320" y1="0" x2="320" y2="160"></line> <line x1="360" y1="0" x2="360" y2="160"></line> <line x1="400" y1="0" x2="400" y2="160"></line> <line x1="440" y1="0" x2="440" y2="160"></line> <line x1="480" y1="0" x2="480" y2="160"></line> <line x1="520" y1="0" x2="520" y2="160"></line> <line x1="560" y1="0" x2="560" y2="160"></line> <line x1="600" y1="0" x2="600" y2="160"></line> <line x1="640" y1="0" x2="640" y2="160"></line> <line x1="680" y1="0" x2="680" y2="160"></line> <line x1="720" y1="0" x2="720" y2="160"></line> <line x1="760" y1="0" x2="760" y2="160"></line> <line x1="800" y1="0" x2="800" y2="160"></line> <line x1="0" y1="0" x2="800" y2="0"></line> <line x1="0" y1="40" x2="800" y2="40"></line> <line x1="0" y1="80" x2="800" y2="80"></line> <line x1="0" y1="120" x2="800" y2="120"></line> <line x1="0" y1="160" x2="800" y2="160"></line> <text x="2" y="10">0</text> <text x="42" y="10">40</text> <text x="82" y="10">80</text> <text x="122" y="10">120</text> <text x="162" y="10">160</text> <text x="202" y="10">200</text> <text x="242" y="10">240</text> <text x="282" y="10">280</text> <text x="322" y="10">320</text> <text x="362" y="10">360</text> <text x="402" y="10">400</text> <text x="442" y="10">440</text> <text x="482" y="10">480</text> <text x="522" y="10">520</text> <text x="562" y="10">560</text> <text x="602" y="10">600</text> <text x="642" y="10">640</text> <text x="682" y="10">680</text> <text x="722" y="10">720</text> <text x="762" y="10">760</text> <text x="802" y="10">800</text> <text x="2" y="0">0</text> <text x="2" y="40">40</text> <text x="2" y="80">80</text> <text x="2" y="120">120</text> <text x="2" y="160">160</text> </g> <rect stroke="green" fill="green" fill-opacity="0.2" width="120" height="40" x="40" y="40"></rect> <rect stroke="red" fill="none" width="200" height="60" x="40" y="40"></rect> <filter width="2" height="2" id="genid40"> <feOffset in="SourceGraphic" dx="80" dy="20"></feOffset> </filter> <rect stroke="blue" fill="blue" fill-opacity="0.5" filter="url(#genid40)" width="120" height="40" x="40" y="40"></rect> <text stroke="green" text-anchor="middle" dominant-baseline="central" x="27" y="27">xy</text> <text stroke="red" x="122" y="120">w</text> <text stroke="red" x="245" y="80">h</text> </svg></p>
<p>The filter wh attribute is the width and height of the smallest rect containg both the original image (green) and the displaced image (blue). We call that rectangle the <strong><em>filter Boundingbox</em></strong>. The units for wh are called <strong>filterUnits</strong> and by default are expressed relative to <strong><em>object BoundingBox</em></strong>. That is, the <strong>filterUnits</strong> attribute is <strong>filterUnits=objectBoundingBox</strong>. The <strong><em>object BoundingBox</em></strong> is the smallest rectangle containing the <strong><em>SourceGraphic</em></strong>. When the filter attributes <strong>xy, wh</strong> are not specified, the default is assumed to be that of the <strong><em>object BoundingBox</em></strong> , that is wh=c(1,1) and xy=(0,0). In our case, this makes wh=c(2,2), and the xy=c(0,0).</p>
<p>An Alternative to filterUnits=objectBoundingBox is filterUnits=userSpaceOnUse. In that case, the filter coordintate attributes become xy=c(40,40), wh=c(200,80).</p>
<p>This is show as follows:</p>
<pre class="r"><code>WH=c(800, 120) # window rect
svgR( wh=WH,
  graphPaper(WH, dxy=c(40,40), labels=TRUE), 
  rect( xy=c(40,40), wh=c(120,40), stroke=&quot;black&quot;, fill=&quot;none&quot;), 
  rect( xy=c(40,40), wh=c(120,40), stroke=&quot;black&quot;, fill=&quot;blue&quot;, fill.opacity=0.2 ,
         filter=filter( wh=c(200,80), xy=c(40,40), 
                        filterUnits=&quot;userSpaceOnUse&quot;,
           feOffset(  dxy=c(80, 20), in1=&quot;SourceGraphic&quot;)
         )
  )
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="120">
<g stroke-width="1" font-size="10" stroke="lightgrey"> <line x1="0" y1="0" x2="0" y2="120"></line> <line x1="40" y1="0" x2="40" y2="120"></line> <line x1="80" y1="0" x2="80" y2="120"></line> <line x1="120" y1="0" x2="120" y2="120"></line> <line x1="160" y1="0" x2="160" y2="120"></line> <line x1="200" y1="0" x2="200" y2="120"></line> <line x1="240" y1="0" x2="240" y2="120"></line> <line x1="280" y1="0" x2="280" y2="120"></line> <line x1="320" y1="0" x2="320" y2="120"></line> <line x1="360" y1="0" x2="360" y2="120"></line> <line x1="400" y1="0" x2="400" y2="120"></line> <line x1="440" y1="0" x2="440" y2="120"></line> <line x1="480" y1="0" x2="480" y2="120"></line> <line x1="520" y1="0" x2="520" y2="120"></line> <line x1="560" y1="0" x2="560" y2="120"></line> <line x1="600" y1="0" x2="600" y2="120"></line> <line x1="640" y1="0" x2="640" y2="120"></line> <line x1="680" y1="0" x2="680" y2="120"></line> <line x1="720" y1="0" x2="720" y2="120"></line> <line x1="760" y1="0" x2="760" y2="120"></line> <line x1="800" y1="0" x2="800" y2="120"></line> <line x1="0" y1="0" x2="800" y2="0"></line> <line x1="0" y1="40" x2="800" y2="40"></line> <line x1="0" y1="80" x2="800" y2="80"></line> <line x1="0" y1="120" x2="800" y2="120"></line> <text x="2" y="10">0</text> <text x="42" y="10">40</text> <text x="82" y="10">80</text> <text x="122" y="10">120</text> <text x="162" y="10">160</text> <text x="202" y="10">200</text> <text x="242" y="10">240</text> <text x="282" y="10">280</text> <text x="322" y="10">320</text> <text x="362" y="10">360</text> <text x="402" y="10">400</text> <text x="442" y="10">440</text> <text x="482" y="10">480</text> <text x="522" y="10">520</text> <text x="562" y="10">560</text> <text x="602" y="10">600</text> <text x="642" y="10">640</text> <text x="682" y="10">680</text> <text x="722" y="10">720</text> <text x="762" y="10">760</text> <text x="802" y="10">800</text> <text x="2" y="0">0</text> <text x="2" y="40">40</text> <text x="2" y="80">80</text> <text x="2" y="120">120</text> </g> <rect stroke="black" fill="none" width="120" height="40" x="40" y="40"></rect> <filter filterUnits="userSpaceOnUse" width="200" height="80" x="40" y="40" id="genid41"> <feOffset in="SourceGraphic" dx="80" dy="20"></feOffset> </filter> <rect stroke="black" fill="blue" fill-opacity="0.2" filter="url(#genid41)" width="120" height="40" x="40" y="40"></rect>
</svg>
<p>As a final illustration, consider the case when dxy is negative, for example, dxy=-c(40,20). For <strong>filterUnits=userSpaceOnUse</strong>, we need to set filter wh=c(160,60), xy=c(0,20) in order to cover both the both the original SourceGraphic and the final feOffset graphic result.</p>
<pre class="r"><code>WH=c(800, 120) # window rect
svgR( wh=WH,
  graphPaper(WH, dxy=c(40,40), labels=TRUE), 
  rect( xy=c(40,40), wh=c(120,40), stroke=&quot;black&quot;, fill=&quot;none&quot;), 
  rect( xy=c(40,40), wh=c(120,40), stroke=&quot;black&quot;, fill=&quot;blue&quot;, fill.opacity=0.2 ,
         filter=filter( wh=c(160,60), xy=c(0,20), 
                        filterUnits=&quot;userSpaceOnUse&quot;,
           feOffset(  dxy=c(-40, -20), in1=&quot;SourceGraphic&quot;)
         )
  )
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="120">
<g stroke-width="1" font-size="10" stroke="lightgrey"> <line x1="0" y1="0" x2="0" y2="120"></line> <line x1="40" y1="0" x2="40" y2="120"></line> <line x1="80" y1="0" x2="80" y2="120"></line> <line x1="120" y1="0" x2="120" y2="120"></line> <line x1="160" y1="0" x2="160" y2="120"></line> <line x1="200" y1="0" x2="200" y2="120"></line> <line x1="240" y1="0" x2="240" y2="120"></line> <line x1="280" y1="0" x2="280" y2="120"></line> <line x1="320" y1="0" x2="320" y2="120"></line> <line x1="360" y1="0" x2="360" y2="120"></line> <line x1="400" y1="0" x2="400" y2="120"></line> <line x1="440" y1="0" x2="440" y2="120"></line> <line x1="480" y1="0" x2="480" y2="120"></line> <line x1="520" y1="0" x2="520" y2="120"></line> <line x1="560" y1="0" x2="560" y2="120"></line> <line x1="600" y1="0" x2="600" y2="120"></line> <line x1="640" y1="0" x2="640" y2="120"></line> <line x1="680" y1="0" x2="680" y2="120"></line> <line x1="720" y1="0" x2="720" y2="120"></line> <line x1="760" y1="0" x2="760" y2="120"></line> <line x1="800" y1="0" x2="800" y2="120"></line> <line x1="0" y1="0" x2="800" y2="0"></line> <line x1="0" y1="40" x2="800" y2="40"></line> <line x1="0" y1="80" x2="800" y2="80"></line> <line x1="0" y1="120" x2="800" y2="120"></line> <text x="2" y="10">0</text> <text x="42" y="10">40</text> <text x="82" y="10">80</text> <text x="122" y="10">120</text> <text x="162" y="10">160</text> <text x="202" y="10">200</text> <text x="242" y="10">240</text> <text x="282" y="10">280</text> <text x="322" y="10">320</text> <text x="362" y="10">360</text> <text x="402" y="10">400</text> <text x="442" y="10">440</text> <text x="482" y="10">480</text> <text x="522" y="10">520</text> <text x="562" y="10">560</text> <text x="602" y="10">600</text> <text x="642" y="10">640</text> <text x="682" y="10">680</text> <text x="722" y="10">720</text> <text x="762" y="10">760</text> <text x="802" y="10">800</text> <text x="2" y="0">0</text> <text x="2" y="40">40</text> <text x="2" y="80">80</text> <text x="2" y="120">120</text> </g> <rect stroke="black" fill="none" width="120" height="40" x="40" y="40"></rect> <filter filterUnits="userSpaceOnUse" width="160" height="60" x="0" y="20" id="genid42"> <feOffset in="SourceGraphic" dx="-40" dy="-20"></feOffset> </filter> <rect stroke="black" fill="blue" fill-opacity="0.2" filter="url(#genid42)" width="120" height="40" x="40" y="40"></rect>
</svg>
<p>For filterUnits=objectBoundingBox, we set wh=c(4/3,3/2), xy=(-1/3, -1/2)</p>
<pre class="r"><code>WH=c(800, 120) # window rect
svgR( wh=WH,
  graphPaper(WH, dxy=c(40,40), labels=TRUE), 
  rect( xy=c(40,40), wh=c(120,40), stroke=&quot;black&quot;, fill=&quot;none&quot;), 
  rect( xy=c(40,40), wh=c(120,40), stroke=&quot;black&quot;, fill=&quot;blue&quot;, fill.opacity=0.2 ,
         filter=filter( wh=c(4/3,3/2), xy=c(-1/3, -1/2), 
                        filterUnits=&quot;objectBoundingBox&quot;,
           feOffset(  dxy=c(-40, -20), in1=&quot;SourceGraphic&quot;)
         )
  )
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="120">
<g stroke-width="1" font-size="10" stroke="lightgrey"> <line x1="0" y1="0" x2="0" y2="120"></line> <line x1="40" y1="0" x2="40" y2="120"></line> <line x1="80" y1="0" x2="80" y2="120"></line> <line x1="120" y1="0" x2="120" y2="120"></line> <line x1="160" y1="0" x2="160" y2="120"></line> <line x1="200" y1="0" x2="200" y2="120"></line> <line x1="240" y1="0" x2="240" y2="120"></line> <line x1="280" y1="0" x2="280" y2="120"></line> <line x1="320" y1="0" x2="320" y2="120"></line> <line x1="360" y1="0" x2="360" y2="120"></line> <line x1="400" y1="0" x2="400" y2="120"></line> <line x1="440" y1="0" x2="440" y2="120"></line> <line x1="480" y1="0" x2="480" y2="120"></line> <line x1="520" y1="0" x2="520" y2="120"></line> <line x1="560" y1="0" x2="560" y2="120"></line> <line x1="600" y1="0" x2="600" y2="120"></line> <line x1="640" y1="0" x2="640" y2="120"></line> <line x1="680" y1="0" x2="680" y2="120"></line> <line x1="720" y1="0" x2="720" y2="120"></line> <line x1="760" y1="0" x2="760" y2="120"></line> <line x1="800" y1="0" x2="800" y2="120"></line> <line x1="0" y1="0" x2="800" y2="0"></line> <line x1="0" y1="40" x2="800" y2="40"></line> <line x1="0" y1="80" x2="800" y2="80"></line> <line x1="0" y1="120" x2="800" y2="120"></line> <text x="2" y="10">0</text> <text x="42" y="10">40</text> <text x="82" y="10">80</text> <text x="122" y="10">120</text> <text x="162" y="10">160</text> <text x="202" y="10">200</text> <text x="242" y="10">240</text> <text x="282" y="10">280</text> <text x="322" y="10">320</text> <text x="362" y="10">360</text> <text x="402" y="10">400</text> <text x="442" y="10">440</text> <text x="482" y="10">480</text> <text x="522" y="10">520</text> <text x="562" y="10">560</text> <text x="602" y="10">600</text> <text x="642" y="10">640</text> <text x="682" y="10">680</text> <text x="722" y="10">720</text> <text x="762" y="10">760</text> <text x="802" y="10">800</text> <text x="2" y="0">0</text> <text x="2" y="40">40</text> <text x="2" y="80">80</text> <text x="2" y="120">120</text> </g> <rect stroke="black" fill="none" width="120" height="40" x="40" y="40"></rect> <filter filterUnits="objectBoundingBox" width="1.33333333333333" height="1.5" x="-0.333333333333333" y="-0.5" id="genid43"> <feOffset in="SourceGraphic" dx="-40" dy="-20"></feOffset> </filter> <rect stroke="black" fill="blue" fill-opacity="0.2" filter="url(#genid43)" width="120" height="40" x="40" y="40"></rect>
</svg>
</div>
</div>
</div>
<div id="manipulationg-colors" class="section level1">
<h1>Manipulationg Colors</h1>
<div id="color-flooding" class="section level2">
<h2>Color Flooding</h2>
<p>The feFlood filter is probably the simplest filter. It is used to flood a region with a given color. The feFlood filter is often combined with other filters and rarely used alone. In this section we use feFlood alone, but later sections will use it in combination with other filters.</p>
<p>A simple example of feFlood is</p>
<pre class="r"><code>WH=c(800, 100) # window rect
svgR( wh=WH,
  use(
    filter=filter( feFlood(flood.color='yellow') )
  )
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="100">
<filter id="genid44"> <feFlood flood-color="yellow"></feFlood> </filter> <use filter="url(#genid44)"></use>
</svg>
<p>The filter as shown above, assigns an filter element to a filter attribute directly. This filter=filter() is a shortcut introduced in svgR for programming convienience.</p>
<p>The more traditional approach is to place the filter as a child of a defs element and use a reference to the filter when when assigning to an attribute.</p>
<p>For example</p>
<pre class="r"><code>WH=c(800, 100) # window rect
svgR( wh=WH,
  defs(
    filter(id='myFlood',
           feFlood(flood.color='yellow')
    )
  ),
  use(
    filter=&quot;url(#myFlood)&quot;
  )
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="100">
<defs> <filter id="myFlood"> <feFlood flood-color="yellow"></feFlood> </filter> </defs> <use filter="url(#myFlood)"></use>
</svg>
<p>The filter=filter() short cut in svgR does a similar construction in the output. However, for complex filters, where filter components are reused the tradional approach might be easier.</p>
<p>In this document we use the shortcut approach.</p>
<p>Our second example of feFlood is to illustrate that a filter has on a rectangular region on which it is effective. That region given by its xy, wh coordinates.</p>
<pre class="r"><code>WH=c(800, 100) # window rect
svgR( wh=WH,
    text('10 semi-transparent floods', xy=c(5,20), stroke=&quot;black&quot;, font.size=20),
    rect(cxy=WH/2, wh=c(1,.2)*WH, fill='blue'),
    lapply(1:10, 
      function(i){g(
           filter=filter( xy=c(i*60,10),  wh=c(30,90), feFlood(flood.color='yellow', flood.opacity='.5'))
           ) 
      }
      )
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="100">
<text stroke="black" font-size="20" x="5" y="20">10 semi-transparent floods</text> <rect fill="blue" width="800" height="20" x="0" y="40"></rect> <filter width="30" height="90" x="60" y="10" id="genid45"> <feFlood flood-color="yellow" flood-opacity=".5"></feFlood> </filter> <g filter="url(#genid45)"></g> <filter width="30" height="90" x="120" y="10" id="genid46"> <feFlood flood-color="yellow" flood-opacity=".5"></feFlood> </filter> <g filter="url(#genid46)"></g> <filter width="30" height="90" x="180" y="10" id="genid47"> <feFlood flood-color="yellow" flood-opacity=".5"></feFlood> </filter> <g filter="url(#genid47)"></g> <filter width="30" height="90" x="240" y="10" id="genid48"> <feFlood flood-color="yellow" flood-opacity=".5"></feFlood> </filter> <g filter="url(#genid48)"></g> <filter width="30" height="90" x="300" y="10" id="genid49"> <feFlood flood-color="yellow" flood-opacity=".5"></feFlood> </filter> <g filter="url(#genid49)"></g> <filter width="30" height="90" x="360" y="10" id="genid50"> <feFlood flood-color="yellow" flood-opacity=".5"></feFlood> </filter> <g filter="url(#genid50)"></g> <filter width="30" height="90" x="420" y="10" id="genid51"> <feFlood flood-color="yellow" flood-opacity=".5"></feFlood> </filter> <g filter="url(#genid51)"></g> <filter width="30" height="90" x="480" y="10" id="genid52"> <feFlood flood-color="yellow" flood-opacity=".5"></feFlood> </filter> <g filter="url(#genid52)"></g> <filter width="30" height="90" x="540" y="10" id="genid53"> <feFlood flood-color="yellow" flood-opacity=".5"></feFlood> </filter> <g filter="url(#genid53)"></g> <filter width="30" height="90" x="600" y="10" id="genid54"> <feFlood flood-color="yellow" flood-opacity=".5"></feFlood> </filter> <g filter="url(#genid54)"></g>
</svg>
<p>Caution: feFlood floods the filters bounding box defined by the filter xy and wh. To flood the interior of a graphics, one needs to use one of feComposite, feBlend, feMerge.</p>
</div>
<div id="rotating-hues" class="section level2">
<h2>Rotating Hues</h2>
<p>The <strong>feColorMatrix</strong> is a filter primitive that can be used to rotate color hues</p>
<p>Begining withcollection of red rectangles, we apply a hue rotation to each. The first rectangle, (left most rectangle) is rotated by 0 (degrees) and retains its original color. The last rectangle is rotated by 360 (degrees) and so keeps its original color. But the intermediate rectangles have their colors remapped according to a color wheel.</p>
<pre class="r"><code>WH=c(800, 100) # window rect
svgR( wh=WH,
    lapply(seq(from=0, to=360, by=16), 
      function(i){
        rect(xy=c(i*2,10), wh=c(30,32), fill='red',
           filter=filter( 
             feColorMatrix(
               type=&quot;hueRotate&quot;, values=i
             )  
           )
        )
      }
    )
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="100">
<filter id="genid55"> <feColorMatrix type="hueRotate" values="0"></feColorMatrix> </filter> <rect fill="red" filter="url(#genid55)" width="30" height="32" x="0" y="10"></rect> <filter id="genid56"> <feColorMatrix type="hueRotate" values="16"></feColorMatrix> </filter> <rect fill="red" filter="url(#genid56)" width="30" height="32" x="32" y="10"></rect> <filter id="genid57"> <feColorMatrix type="hueRotate" values="32"></feColorMatrix> </filter> <rect fill="red" filter="url(#genid57)" width="30" height="32" x="64" y="10"></rect> <filter id="genid58"> <feColorMatrix type="hueRotate" values="48"></feColorMatrix> </filter> <rect fill="red" filter="url(#genid58)" width="30" height="32" x="96" y="10"></rect> <filter id="genid59"> <feColorMatrix type="hueRotate" values="64"></feColorMatrix> </filter> <rect fill="red" filter="url(#genid59)" width="30" height="32" x="128" y="10"></rect> <filter id="genid60"> <feColorMatrix type="hueRotate" values="80"></feColorMatrix> </filter> <rect fill="red" filter="url(#genid60)" width="30" height="32" x="160" y="10"></rect> <filter id="genid61"> <feColorMatrix type="hueRotate" values="96"></feColorMatrix> </filter> <rect fill="red" filter="url(#genid61)" width="30" height="32" x="192" y="10"></rect> <filter id="genid62"> <feColorMatrix type="hueRotate" values="112"></feColorMatrix> </filter> <rect fill="red" filter="url(#genid62)" width="30" height="32" x="224" y="10"></rect> <filter id="genid63"> <feColorMatrix type="hueRotate" values="128"></feColorMatrix> </filter> <rect fill="red" filter="url(#genid63)" width="30" height="32" x="256" y="10"></rect> <filter id="genid64"> <feColorMatrix type="hueRotate" values="144"></feColorMatrix> </filter> <rect fill="red" filter="url(#genid64)" width="30" height="32" x="288" y="10"></rect> <filter id="genid65"> <feColorMatrix type="hueRotate" values="160"></feColorMatrix> </filter> <rect fill="red" filter="url(#genid65)" width="30" height="32" x="320" y="10"></rect> <filter id="genid66"> <feColorMatrix type="hueRotate" values="176"></feColorMatrix> </filter> <rect fill="red" filter="url(#genid66)" width="30" height="32" x="352" y="10"></rect> <filter id="genid67"> <feColorMatrix type="hueRotate" values="192"></feColorMatrix> </filter> <rect fill="red" filter="url(#genid67)" width="30" height="32" x="384" y="10"></rect> <filter id="genid68"> <feColorMatrix type="hueRotate" values="208"></feColorMatrix> </filter> <rect fill="red" filter="url(#genid68)" width="30" height="32" x="416" y="10"></rect> <filter id="genid69"> <feColorMatrix type="hueRotate" values="224"></feColorMatrix> </filter> <rect fill="red" filter="url(#genid69)" width="30" height="32" x="448" y="10"></rect> <filter id="genid70"> <feColorMatrix type="hueRotate" values="240"></feColorMatrix> </filter> <rect fill="red" filter="url(#genid70)" width="30" height="32" x="480" y="10"></rect> <filter id="genid71"> <feColorMatrix type="hueRotate" values="256"></feColorMatrix> </filter> <rect fill="red" filter="url(#genid71)" width="30" height="32" x="512" y="10"></rect> <filter id="genid72"> <feColorMatrix type="hueRotate" values="272"></feColorMatrix> </filter> <rect fill="red" filter="url(#genid72)" width="30" height="32" x="544" y="10"></rect> <filter id="genid73"> <feColorMatrix type="hueRotate" values="288"></feColorMatrix> </filter> <rect fill="red" filter="url(#genid73)" width="30" height="32" x="576" y="10"></rect> <filter id="genid74"> <feColorMatrix type="hueRotate" values="304"></feColorMatrix> </filter> <rect fill="red" filter="url(#genid74)" width="30" height="32" x="608" y="10"></rect> <filter id="genid75"> <feColorMatrix type="hueRotate" values="320"></feColorMatrix> </filter> <rect fill="red" filter="url(#genid75)" width="30" height="32" x="640" y="10"></rect> <filter id="genid76"> <feColorMatrix type="hueRotate" values="336"></feColorMatrix> </filter> <rect fill="red" filter="url(#genid76)" width="30" height="32" x="672" y="10"></rect> <filter id="genid77"> <feColorMatrix type="hueRotate" values="352"></feColorMatrix> </filter> <rect fill="red" filter="url(#genid77)" width="30" height="32" x="704" y="10"></rect>
</svg>
<p>This time we illustrate hue rotation applied to a rectangles filled with a linear gradient. The left most is the original, and each step to the right rotates that gradient by 16 degrees on the color wheel.</p>
<pre class="r"><code>WH=c(800, 100) # window rect
svgR( wh=WH,
    lapply(seq(from=0, to=360, by=16), 
      function(i){
        rect(xy=c(i*2,10), wh=c(30,96), 
          fill=linearGradient( xy1=c(0,0), xy2=c(0,1),
            colors=c('red','yellow','green','blue')),
           filter=filter( 
             feColorMatrix(
               type=&quot;hueRotate&quot;, values=i
             )  
           )
        )
      }
    )
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="100">
<filter id="genid78"> <feColorMatrix type="hueRotate" values="0"></feColorMatrix> </filter> <linearGradient x1="0" y1="0" x2="0" y2="1" id="genid79"> <stop offset="0%" stop-color="red"></stop> <stop offset="33%" stop-color="yellow"></stop> <stop offset="66%" stop-color="green"></stop> <stop offset="100%" stop-color="blue"></stop> </linearGradient> <rect fill="url(#genid79)" filter="url(#genid78)" width="30" height="96" x="0" y="10"></rect> <filter id="genid80"> <feColorMatrix type="hueRotate" values="16"></feColorMatrix> </filter> <linearGradient x1="0" y1="0" x2="0" y2="1" id="genid81"> <stop offset="0%" stop-color="red"></stop> <stop offset="33%" stop-color="yellow"></stop> <stop offset="66%" stop-color="green"></stop> <stop offset="100%" stop-color="blue"></stop> </linearGradient> <rect fill="url(#genid81)" filter="url(#genid80)" width="30" height="96" x="32" y="10"></rect> <filter id="genid82"> <feColorMatrix type="hueRotate" values="32"></feColorMatrix> </filter> <linearGradient x1="0" y1="0" x2="0" y2="1" id="genid83"> <stop offset="0%" stop-color="red"></stop> <stop offset="33%" stop-color="yellow"></stop> <stop offset="66%" stop-color="green"></stop> <stop offset="100%" stop-color="blue"></stop> </linearGradient> <rect fill="url(#genid83)" filter="url(#genid82)" width="30" height="96" x="64" y="10"></rect> <filter id="genid84"> <feColorMatrix type="hueRotate" values="48"></feColorMatrix> </filter> <linearGradient x1="0" y1="0" x2="0" y2="1" id="genid85"> <stop offset="0%" stop-color="red"></stop> <stop offset="33%" stop-color="yellow"></stop> <stop offset="66%" stop-color="green"></stop> <stop offset="100%" stop-color="blue"></stop> </linearGradient> <rect fill="url(#genid85)" filter="url(#genid84)" width="30" height="96" x="96" y="10"></rect> <filter id="genid86"> <feColorMatrix type="hueRotate" values="64"></feColorMatrix> </filter> <linearGradient x1="0" y1="0" x2="0" y2="1" id="genid87"> <stop offset="0%" stop-color="red"></stop> <stop offset="33%" stop-color="yellow"></stop> <stop offset="66%" stop-color="green"></stop> <stop offset="100%" stop-color="blue"></stop> </linearGradient> <rect fill="url(#genid87)" filter="url(#genid86)" width="30" height="96" x="128" y="10"></rect> <filter id="genid88"> <feColorMatrix type="hueRotate" values="80"></feColorMatrix> </filter> <linearGradient x1="0" y1="0" x2="0" y2="1" id="genid89"> <stop offset="0%" stop-color="red"></stop> <stop offset="33%" stop-color="yellow"></stop> <stop offset="66%" stop-color="green"></stop> <stop offset="100%" stop-color="blue"></stop> </linearGradient> <rect fill="url(#genid89)" filter="url(#genid88)" width="30" height="96" x="160" y="10"></rect> <filter id="genid90"> <feColorMatrix type="hueRotate" values="96"></feColorMatrix> </filter> <linearGradient x1="0" y1="0" x2="0" y2="1" id="genid91"> <stop offset="0%" stop-color="red"></stop> <stop offset="33%" stop-color="yellow"></stop> <stop offset="66%" stop-color="green"></stop> <stop offset="100%" stop-color="blue"></stop> </linearGradient> <rect fill="url(#genid91)" filter="url(#genid90)" width="30" height="96" x="192" y="10"></rect> <filter id="genid92"> <feColorMatrix type="hueRotate" values="112"></feColorMatrix> </filter> <linearGradient x1="0" y1="0" x2="0" y2="1" id="genid93"> <stop offset="0%" stop-color="red"></stop> <stop offset="33%" stop-color="yellow"></stop> <stop offset="66%" stop-color="green"></stop> <stop offset="100%" stop-color="blue"></stop> </linearGradient> <rect fill="url(#genid93)" filter="url(#genid92)" width="30" height="96" x="224" y="10"></rect> <filter id="genid94"> <feColorMatrix type="hueRotate" values="128"></feColorMatrix> </filter> <linearGradient x1="0" y1="0" x2="0" y2="1" id="genid95"> <stop offset="0%" stop-color="red"></stop> <stop offset="33%" stop-color="yellow"></stop> <stop offset="66%" stop-color="green"></stop> <stop offset="100%" stop-color="blue"></stop> </linearGradient> <rect fill="url(#genid95)" filter="url(#genid94)" width="30" height="96" x="256" y="10"></rect> <filter id="genid96"> <feColorMatrix type="hueRotate" values="144"></feColorMatrix> </filter> <linearGradient x1="0" y1="0" x2="0" y2="1" id="genid97"> <stop offset="0%" stop-color="red"></stop> <stop offset="33%" stop-color="yellow"></stop> <stop offset="66%" stop-color="green"></stop> <stop offset="100%" stop-color="blue"></stop> </linearGradient> <rect fill="url(#genid97)" filter="url(#genid96)" width="30" height="96" x="288" y="10"></rect> <filter id="genid98"> <feColorMatrix type="hueRotate" values="160"></feColorMatrix> </filter> <linearGradient x1="0" y1="0" x2="0" y2="1" id="genid99"> <stop offset="0%" stop-color="red"></stop> <stop offset="33%" stop-color="yellow"></stop> <stop offset="66%" stop-color="green"></stop> <stop offset="100%" stop-color="blue"></stop> </linearGradient> <rect fill="url(#genid99)" filter="url(#genid98)" width="30" height="96" x="320" y="10"></rect> <filter id="genid100"> <feColorMatrix type="hueRotate" values="176"></feColorMatrix> </filter> <linearGradient x1="0" y1="0" x2="0" y2="1" id="genid101"> <stop offset="0%" stop-color="red"></stop> <stop offset="33%" stop-color="yellow"></stop> <stop offset="66%" stop-color="green"></stop> <stop offset="100%" stop-color="blue"></stop> </linearGradient> <rect fill="url(#genid101)" filter="url(#genid100)" width="30" height="96" x="352" y="10"></rect> <filter id="genid102"> <feColorMatrix type="hueRotate" values="192"></feColorMatrix> </filter> <linearGradient x1="0" y1="0" x2="0" y2="1" id="genid103"> <stop offset="0%" stop-color="red"></stop> <stop offset="33%" stop-color="yellow"></stop> <stop offset="66%" stop-color="green"></stop> <stop offset="100%" stop-color="blue"></stop> </linearGradient> <rect fill="url(#genid103)" filter="url(#genid102)" width="30" height="96" x="384" y="10"></rect> <filter id="genid104"> <feColorMatrix type="hueRotate" values="208"></feColorMatrix> </filter> <linearGradient x1="0" y1="0" x2="0" y2="1" id="genid105"> <stop offset="0%" stop-color="red"></stop> <stop offset="33%" stop-color="yellow"></stop> <stop offset="66%" stop-color="green"></stop> <stop offset="100%" stop-color="blue"></stop> </linearGradient> <rect fill="url(#genid105)" filter="url(#genid104)" width="30" height="96" x="416" y="10"></rect> <filter id="genid106"> <feColorMatrix type="hueRotate" values="224"></feColorMatrix> </filter> <linearGradient x1="0" y1="0" x2="0" y2="1" id="genid107"> <stop offset="0%" stop-color="red"></stop> <stop offset="33%" stop-color="yellow"></stop> <stop offset="66%" stop-color="green"></stop> <stop offset="100%" stop-color="blue"></stop> </linearGradient> <rect fill="url(#genid107)" filter="url(#genid106)" width="30" height="96" x="448" y="10"></rect> <filter id="genid108"> <feColorMatrix type="hueRotate" values="240"></feColorMatrix> </filter> <linearGradient x1="0" y1="0" x2="0" y2="1" id="genid109"> <stop offset="0%" stop-color="red"></stop> <stop offset="33%" stop-color="yellow"></stop> <stop offset="66%" stop-color="green"></stop> <stop offset="100%" stop-color="blue"></stop> </linearGradient> <rect fill="url(#genid109)" filter="url(#genid108)" width="30" height="96" x="480" y="10"></rect> <filter id="genid110"> <feColorMatrix type="hueRotate" values="256"></feColorMatrix> </filter> <linearGradient x1="0" y1="0" x2="0" y2="1" id="genid111"> <stop offset="0%" stop-color="red"></stop> <stop offset="33%" stop-color="yellow"></stop> <stop offset="66%" stop-color="green"></stop> <stop offset="100%" stop-color="blue"></stop> </linearGradient> <rect fill="url(#genid111)" filter="url(#genid110)" width="30" height="96" x="512" y="10"></rect> <filter id="genid112"> <feColorMatrix type="hueRotate" values="272"></feColorMatrix> </filter> <linearGradient x1="0" y1="0" x2="0" y2="1" id="genid113"> <stop offset="0%" stop-color="red"></stop> <stop offset="33%" stop-color="yellow"></stop> <stop offset="66%" stop-color="green"></stop> <stop offset="100%" stop-color="blue"></stop> </linearGradient> <rect fill="url(#genid113)" filter="url(#genid112)" width="30" height="96" x="544" y="10"></rect> <filter id="genid114"> <feColorMatrix type="hueRotate" values="288"></feColorMatrix> </filter> <linearGradient x1="0" y1="0" x2="0" y2="1" id="genid115"> <stop offset="0%" stop-color="red"></stop> <stop offset="33%" stop-color="yellow"></stop> <stop offset="66%" stop-color="green"></stop> <stop offset="100%" stop-color="blue"></stop> </linearGradient> <rect fill="url(#genid115)" filter="url(#genid114)" width="30" height="96" x="576" y="10"></rect> <filter id="genid116"> <feColorMatrix type="hueRotate" values="304"></feColorMatrix> </filter> <linearGradient x1="0" y1="0" x2="0" y2="1" id="genid117"> <stop offset="0%" stop-color="red"></stop> <stop offset="33%" stop-color="yellow"></stop> <stop offset="66%" stop-color="green"></stop> <stop offset="100%" stop-color="blue"></stop> </linearGradient> <rect fill="url(#genid117)" filter="url(#genid116)" width="30" height="96" x="608" y="10"></rect> <filter id="genid118"> <feColorMatrix type="hueRotate" values="320"></feColorMatrix> </filter> <linearGradient x1="0" y1="0" x2="0" y2="1" id="genid119"> <stop offset="0%" stop-color="red"></stop> <stop offset="33%" stop-color="yellow"></stop> <stop offset="66%" stop-color="green"></stop> <stop offset="100%" stop-color="blue"></stop> </linearGradient> <rect fill="url(#genid119)" filter="url(#genid118)" width="30" height="96" x="640" y="10"></rect> <filter id="genid120"> <feColorMatrix type="hueRotate" values="336"></feColorMatrix> </filter> <linearGradient x1="0" y1="0" x2="0" y2="1" id="genid121"> <stop offset="0%" stop-color="red"></stop> <stop offset="33%" stop-color="yellow"></stop> <stop offset="66%" stop-color="green"></stop> <stop offset="100%" stop-color="blue"></stop> </linearGradient> <rect fill="url(#genid121)" filter="url(#genid120)" width="30" height="96" x="672" y="10"></rect> <filter id="genid122"> <feColorMatrix type="hueRotate" values="352"></feColorMatrix> </filter> <linearGradient x1="0" y1="0" x2="0" y2="1" id="genid123"> <stop offset="0%" stop-color="red"></stop> <stop offset="33%" stop-color="yellow"></stop> <stop offset="66%" stop-color="green"></stop> <stop offset="100%" stop-color="blue"></stop> </linearGradient> <rect fill="url(#genid123)" filter="url(#genid122)" width="30" height="96" x="704" y="10"></rect>
</svg>
</div>
<div id="color-saturation" class="section level2">
<h2>Color Saturation</h2>
<p>Color saturation is a measure of preceived color intensity. For example, light from a laser at high intensity having single wave-length as its color is considered to be saturated.</p>
<p>The filter primitive element, <strong>feColorMatrix</strong> that can be used to modify the saturation of a given color by <em>desaturating</em> the original image. (Remove color) The amount of desaturation is specified by a value between 0 and 1, with 0 being no desaturation and 1 being totally desaturated.</p>
<p>Applying satuate to a series of red rectangles we have:</p>
<pre class="r"><code>WH=c(800, 100) # window rect
svgR( wh=WH,
    lapply(seq(from=1, to=0, by=-.05), 
      function(i){
        rect(xy=c(i*800,10), wh=c(32,32), fill=&quot;red&quot;,
           filter=filter( 
             feColorMatrix(
               type=&quot;saturate&quot;, values=i
             )  
           )
        )
      }
    )
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="100">
<filter id="genid124"> <feColorMatrix type="saturate" values="1"></feColorMatrix> </filter> <rect fill="red" filter="url(#genid124)" width="32" height="32" x="800" y="10"></rect> <filter id="genid125"> <feColorMatrix type="saturate" values="0.95"></feColorMatrix> </filter> <rect fill="red" filter="url(#genid125)" width="32" height="32" x="760" y="10"></rect> <filter id="genid126"> <feColorMatrix type="saturate" values="0.9"></feColorMatrix> </filter> <rect fill="red" filter="url(#genid126)" width="32" height="32" x="720" y="10"></rect> <filter id="genid127"> <feColorMatrix type="saturate" values="0.85"></feColorMatrix> </filter> <rect fill="red" filter="url(#genid127)" width="32" height="32" x="680" y="10"></rect> <filter id="genid128"> <feColorMatrix type="saturate" values="0.8"></feColorMatrix> </filter> <rect fill="red" filter="url(#genid128)" width="32" height="32" x="640" y="10"></rect> <filter id="genid129"> <feColorMatrix type="saturate" values="0.75"></feColorMatrix> </filter> <rect fill="red" filter="url(#genid129)" width="32" height="32" x="600" y="10"></rect> <filter id="genid130"> <feColorMatrix type="saturate" values="0.7"></feColorMatrix> </filter> <rect fill="red" filter="url(#genid130)" width="32" height="32" x="560" y="10"></rect> <filter id="genid131"> <feColorMatrix type="saturate" values="0.65"></feColorMatrix> </filter> <rect fill="red" filter="url(#genid131)" width="32" height="32" x="520" y="10"></rect> <filter id="genid132"> <feColorMatrix type="saturate" values="0.6"></feColorMatrix> </filter> <rect fill="red" filter="url(#genid132)" width="32" height="32" x="480" y="10"></rect> <filter id="genid133"> <feColorMatrix type="saturate" values="0.55"></feColorMatrix> </filter> <rect fill="red" filter="url(#genid133)" width="32" height="32" x="440" y="10"></rect> <filter id="genid134"> <feColorMatrix type="saturate" values="0.5"></feColorMatrix> </filter> <rect fill="red" filter="url(#genid134)" width="32" height="32" x="400" y="10"></rect> <filter id="genid135"> <feColorMatrix type="saturate" values="0.45"></feColorMatrix> </filter> <rect fill="red" filter="url(#genid135)" width="32" height="32" x="360" y="10"></rect> <filter id="genid136"> <feColorMatrix type="saturate" values="0.4"></feColorMatrix> </filter> <rect fill="red" filter="url(#genid136)" width="32" height="32" x="320" y="10"></rect> <filter id="genid137"> <feColorMatrix type="saturate" values="0.35"></feColorMatrix> </filter> <rect fill="red" filter="url(#genid137)" width="32" height="32" x="280" y="10"></rect> <filter id="genid138"> <feColorMatrix type="saturate" values="0.3"></feColorMatrix> </filter> <rect fill="red" filter="url(#genid138)" width="32" height="32" x="240" y="10"></rect> <filter id="genid139"> <feColorMatrix type="saturate" values="0.25"></feColorMatrix> </filter> <rect fill="red" filter="url(#genid139)" width="32" height="32" x="200" y="10"></rect> <filter id="genid140"> <feColorMatrix type="saturate" values="0.2"></feColorMatrix> </filter> <rect fill="red" filter="url(#genid140)" width="32" height="32" x="160" y="10"></rect> <filter id="genid141"> <feColorMatrix type="saturate" values="0.15"></feColorMatrix> </filter> <rect fill="red" filter="url(#genid141)" width="32" height="32" x="120" y="10"></rect> <filter id="genid142"> <feColorMatrix type="saturate" values="0.1"></feColorMatrix> </filter> <rect fill="red" filter="url(#genid142)" width="32" height="32" x="80" y="10"></rect> <filter id="genid143"> <feColorMatrix type="saturate" values="0.0499999999999999"></feColorMatrix> </filter> <rect fill="red" filter="url(#genid143)" width="32" height="32" x="39.9999999999999" y="10"></rect> <filter id="genid144"> <feColorMatrix type="saturate" values="0"></feColorMatrix> </filter> <rect fill="red" filter="url(#genid144)" width="32" height="32" x="0" y="10"></rect>
</svg>
<p>The left-most rectanle was given a desaturation value of 1, and the right-most rectangle was given value of 0.</p>
<p>Again, applying hue saturate to a color spectrum generated by a linear gradient. we have</p>
<pre class="r"><code>WH=c(800, 100) # window rect
svgR( wh=WH,
    lapply(seq(from=1, to=0, by=-.05),
      function(i){
        rect(xy=c(i*800,10), wh=c(32,96), fill=
          linearGradient( xy1=c(0,0), xy2=c(0,1),
            colors=c('red','yellow','green','blue')),
           filter=filter( 
             feColorMatrix(
               type=&quot;saturate&quot;, values=i
             ) 
           )
        )
      }
    )
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="100">
<filter id="genid145"> <feColorMatrix type="saturate" values="1"></feColorMatrix> </filter> <linearGradient x1="0" y1="0" x2="0" y2="1" id="genid146"> <stop offset="0%" stop-color="red"></stop> <stop offset="33%" stop-color="yellow"></stop> <stop offset="66%" stop-color="green"></stop> <stop offset="100%" stop-color="blue"></stop> </linearGradient> <rect fill="url(#genid146)" filter="url(#genid145)" width="32" height="96" x="800" y="10"></rect> <filter id="genid147"> <feColorMatrix type="saturate" values="0.95"></feColorMatrix> </filter> <linearGradient x1="0" y1="0" x2="0" y2="1" id="genid148"> <stop offset="0%" stop-color="red"></stop> <stop offset="33%" stop-color="yellow"></stop> <stop offset="66%" stop-color="green"></stop> <stop offset="100%" stop-color="blue"></stop> </linearGradient> <rect fill="url(#genid148)" filter="url(#genid147)" width="32" height="96" x="760" y="10"></rect> <filter id="genid149"> <feColorMatrix type="saturate" values="0.9"></feColorMatrix> </filter> <linearGradient x1="0" y1="0" x2="0" y2="1" id="genid150"> <stop offset="0%" stop-color="red"></stop> <stop offset="33%" stop-color="yellow"></stop> <stop offset="66%" stop-color="green"></stop> <stop offset="100%" stop-color="blue"></stop> </linearGradient> <rect fill="url(#genid150)" filter="url(#genid149)" width="32" height="96" x="720" y="10"></rect> <filter id="genid151"> <feColorMatrix type="saturate" values="0.85"></feColorMatrix> </filter> <linearGradient x1="0" y1="0" x2="0" y2="1" id="genid152"> <stop offset="0%" stop-color="red"></stop> <stop offset="33%" stop-color="yellow"></stop> <stop offset="66%" stop-color="green"></stop> <stop offset="100%" stop-color="blue"></stop> </linearGradient> <rect fill="url(#genid152)" filter="url(#genid151)" width="32" height="96" x="680" y="10"></rect> <filter id="genid153"> <feColorMatrix type="saturate" values="0.8"></feColorMatrix> </filter> <linearGradient x1="0" y1="0" x2="0" y2="1" id="genid154"> <stop offset="0%" stop-color="red"></stop> <stop offset="33%" stop-color="yellow"></stop> <stop offset="66%" stop-color="green"></stop> <stop offset="100%" stop-color="blue"></stop> </linearGradient> <rect fill="url(#genid154)" filter="url(#genid153)" width="32" height="96" x="640" y="10"></rect> <filter id="genid155"> <feColorMatrix type="saturate" values="0.75"></feColorMatrix> </filter> <linearGradient x1="0" y1="0" x2="0" y2="1" id="genid156"> <stop offset="0%" stop-color="red"></stop> <stop offset="33%" stop-color="yellow"></stop> <stop offset="66%" stop-color="green"></stop> <stop offset="100%" stop-color="blue"></stop> </linearGradient> <rect fill="url(#genid156)" filter="url(#genid155)" width="32" height="96" x="600" y="10"></rect> <filter id="genid157"> <feColorMatrix type="saturate" values="0.7"></feColorMatrix> </filter> <linearGradient x1="0" y1="0" x2="0" y2="1" id="genid158"> <stop offset="0%" stop-color="red"></stop> <stop offset="33%" stop-color="yellow"></stop> <stop offset="66%" stop-color="green"></stop> <stop offset="100%" stop-color="blue"></stop> </linearGradient> <rect fill="url(#genid158)" filter="url(#genid157)" width="32" height="96" x="560" y="10"></rect> <filter id="genid159"> <feColorMatrix type="saturate" values="0.65"></feColorMatrix> </filter> <linearGradient x1="0" y1="0" x2="0" y2="1" id="genid160"> <stop offset="0%" stop-color="red"></stop> <stop offset="33%" stop-color="yellow"></stop> <stop offset="66%" stop-color="green"></stop> <stop offset="100%" stop-color="blue"></stop> </linearGradient> <rect fill="url(#genid160)" filter="url(#genid159)" width="32" height="96" x="520" y="10"></rect> <filter id="genid161"> <feColorMatrix type="saturate" values="0.6"></feColorMatrix> </filter> <linearGradient x1="0" y1="0" x2="0" y2="1" id="genid162"> <stop offset="0%" stop-color="red"></stop> <stop offset="33%" stop-color="yellow"></stop> <stop offset="66%" stop-color="green"></stop> <stop offset="100%" stop-color="blue"></stop> </linearGradient> <rect fill="url(#genid162)" filter="url(#genid161)" width="32" height="96" x="480" y="10"></rect> <filter id="genid163"> <feColorMatrix type="saturate" values="0.55"></feColorMatrix> </filter> <linearGradient x1="0" y1="0" x2="0" y2="1" id="genid164"> <stop offset="0%" stop-color="red"></stop> <stop offset="33%" stop-color="yellow"></stop> <stop offset="66%" stop-color="green"></stop> <stop offset="100%" stop-color="blue"></stop> </linearGradient> <rect fill="url(#genid164)" filter="url(#genid163)" width="32" height="96" x="440" y="10"></rect> <filter id="genid165"> <feColorMatrix type="saturate" values="0.5"></feColorMatrix> </filter> <linearGradient x1="0" y1="0" x2="0" y2="1" id="genid166"> <stop offset="0%" stop-color="red"></stop> <stop offset="33%" stop-color="yellow"></stop> <stop offset="66%" stop-color="green"></stop> <stop offset="100%" stop-color="blue"></stop> </linearGradient> <rect fill="url(#genid166)" filter="url(#genid165)" width="32" height="96" x="400" y="10"></rect> <filter id="genid167"> <feColorMatrix type="saturate" values="0.45"></feColorMatrix> </filter> <linearGradient x1="0" y1="0" x2="0" y2="1" id="genid168"> <stop offset="0%" stop-color="red"></stop> <stop offset="33%" stop-color="yellow"></stop> <stop offset="66%" stop-color="green"></stop> <stop offset="100%" stop-color="blue"></stop> </linearGradient> <rect fill="url(#genid168)" filter="url(#genid167)" width="32" height="96" x="360" y="10"></rect> <filter id="genid169"> <feColorMatrix type="saturate" values="0.4"></feColorMatrix> </filter> <linearGradient x1="0" y1="0" x2="0" y2="1" id="genid170"> <stop offset="0%" stop-color="red"></stop> <stop offset="33%" stop-color="yellow"></stop> <stop offset="66%" stop-color="green"></stop> <stop offset="100%" stop-color="blue"></stop> </linearGradient> <rect fill="url(#genid170)" filter="url(#genid169)" width="32" height="96" x="320" y="10"></rect> <filter id="genid171"> <feColorMatrix type="saturate" values="0.35"></feColorMatrix> </filter> <linearGradient x1="0" y1="0" x2="0" y2="1" id="genid172"> <stop offset="0%" stop-color="red"></stop> <stop offset="33%" stop-color="yellow"></stop> <stop offset="66%" stop-color="green"></stop> <stop offset="100%" stop-color="blue"></stop> </linearGradient> <rect fill="url(#genid172)" filter="url(#genid171)" width="32" height="96" x="280" y="10"></rect> <filter id="genid173"> <feColorMatrix type="saturate" values="0.3"></feColorMatrix> </filter> <linearGradient x1="0" y1="0" x2="0" y2="1" id="genid174"> <stop offset="0%" stop-color="red"></stop> <stop offset="33%" stop-color="yellow"></stop> <stop offset="66%" stop-color="green"></stop> <stop offset="100%" stop-color="blue"></stop> </linearGradient> <rect fill="url(#genid174)" filter="url(#genid173)" width="32" height="96" x="240" y="10"></rect> <filter id="genid175"> <feColorMatrix type="saturate" values="0.25"></feColorMatrix> </filter> <linearGradient x1="0" y1="0" x2="0" y2="1" id="genid176"> <stop offset="0%" stop-color="red"></stop> <stop offset="33%" stop-color="yellow"></stop> <stop offset="66%" stop-color="green"></stop> <stop offset="100%" stop-color="blue"></stop> </linearGradient> <rect fill="url(#genid176)" filter="url(#genid175)" width="32" height="96" x="200" y="10"></rect> <filter id="genid177"> <feColorMatrix type="saturate" values="0.2"></feColorMatrix> </filter> <linearGradient x1="0" y1="0" x2="0" y2="1" id="genid178"> <stop offset="0%" stop-color="red"></stop> <stop offset="33%" stop-color="yellow"></stop> <stop offset="66%" stop-color="green"></stop> <stop offset="100%" stop-color="blue"></stop> </linearGradient> <rect fill="url(#genid178)" filter="url(#genid177)" width="32" height="96" x="160" y="10"></rect> <filter id="genid179"> <feColorMatrix type="saturate" values="0.15"></feColorMatrix> </filter> <linearGradient x1="0" y1="0" x2="0" y2="1" id="genid180"> <stop offset="0%" stop-color="red"></stop> <stop offset="33%" stop-color="yellow"></stop> <stop offset="66%" stop-color="green"></stop> <stop offset="100%" stop-color="blue"></stop> </linearGradient> <rect fill="url(#genid180)" filter="url(#genid179)" width="32" height="96" x="120" y="10"></rect> <filter id="genid181"> <feColorMatrix type="saturate" values="0.1"></feColorMatrix> </filter> <linearGradient x1="0" y1="0" x2="0" y2="1" id="genid182"> <stop offset="0%" stop-color="red"></stop> <stop offset="33%" stop-color="yellow"></stop> <stop offset="66%" stop-color="green"></stop> <stop offset="100%" stop-color="blue"></stop> </linearGradient> <rect fill="url(#genid182)" filter="url(#genid181)" width="32" height="96" x="80" y="10"></rect> <filter id="genid183"> <feColorMatrix type="saturate" values="0.0499999999999999"></feColorMatrix> </filter> <linearGradient x1="0" y1="0" x2="0" y2="1" id="genid184"> <stop offset="0%" stop-color="red"></stop> <stop offset="33%" stop-color="yellow"></stop> <stop offset="66%" stop-color="green"></stop> <stop offset="100%" stop-color="blue"></stop> </linearGradient> <rect fill="url(#genid184)" filter="url(#genid183)" width="32" height="96" x="39.9999999999999" y="10"></rect> <filter id="genid185"> <feColorMatrix type="saturate" values="0"></feColorMatrix> </filter> <linearGradient x1="0" y1="0" x2="0" y2="1" id="genid186"> <stop offset="0%" stop-color="red"></stop> <stop offset="33%" stop-color="yellow"></stop> <stop offset="66%" stop-color="green"></stop> <stop offset="100%" stop-color="blue"></stop> </linearGradient> <rect fill="url(#genid186)" filter="url(#genid185)" width="32" height="96" x="0" y="10"></rect>
</svg>
</div>
<div id="applying-a-color-matrix" class="section level2">
<h2>Applying a color matrix</h2>
<p>(!!To fix)</p>
<p>Applying satuate to a red rectangle</p>
<pre class="r"><code>WH=c(800, 100) # window rect
svgR( wh=WH,
    lapply(seq(from=0, to=1, by=.05), 
      function(i){
        rect(xy=c(i*800,10), wh=c(32,32), fill=&quot;red&quot;,
           filter=filter( 
             feColorMatrix(
               type=&quot;matrix&quot;, 
               values=paste(runif(25,-1,1),collapse=&quot; &quot;)
             )  
           )
        )
      }
    )
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="100">
<filter id="genid187"> <feColorMatrix type="matrix" values="0.0269406675361097 0.786430882755667 -0.844436403363943 -0.158453652169555 0.519631570205092 0.704041377641261 0.775116831529886 0.834480459801853 0.876446556299925 0.27355116372928 -0.284721048083156 0.0935177700594068 0.0666103973053396 -0.32920795539394 -0.539485402870923 -0.585899268742651 0.647959553636611 -0.162397371139377 0.192541090305895 0.38543130364269 0.403368513565511 -0.690228343009949 0.519849269185215 -0.0602546064183116 0.792264706455171"></feColorMatrix> </filter> <rect fill="red" filter="url(#genid187)" width="32" height="32" x="0" y="10"></rect> <filter id="genid188"> <feColorMatrix type="matrix" values="-0.879945961758494 0.880882563535124 0.35908385599032 -0.72625523339957 0.520930214785039 -0.100791811011732 -0.439762896858156 0.491870530880988 -0.923078756779432 -0.487675551325083 0.994912125635892 -0.509725662413985 0.608805033843964 0.171772462781519 0.671276391483843 -0.566502656321973 -0.277333870064467 0.163897551596165 0.772911452222615 -0.818122698925436 0.834398388396949 -0.172704796306789 0.937557223252952 0.164993544109166 -0.667128221131861"></feColorMatrix> </filter> <rect fill="red" filter="url(#genid188)" width="32" height="32" x="40" y="10"></rect> <filter id="genid189"> <feColorMatrix type="matrix" values="0.866179469507188 -0.295316213741899 -0.51886646496132 0.52299225050956 -0.786533392034471 0.514913064427674 -0.418427271302789 -0.280756796244532 -0.156704844906926 0.774912176188082 -0.338032434694469 0.0397278773598373 0.500469288788736 -0.0206159977242351 -0.811976807191968 0.243293707258999 0.965358020272106 0.80088907899335 0.864114084281027 0.457769640721381 -0.114288431592286 0.696307957638055 -0.0142665728926659 -0.855812007561326 0.373958040494472"></feColorMatrix> </filter> <rect fill="red" filter="url(#genid189)" width="32" height="32" x="80" y="10"></rect> <filter id="genid190"> <feColorMatrix type="matrix" values="0.393741758074611 0.411552699748427 -0.301904045511037 -0.276560398284346 -0.87592398468405 -0.232005290687084 0.90801809867844 0.675852415151894 -0.515876380726695 -0.629631561227143 -0.471026404295117 0.416185709647834 0.943645583000034 -0.086751454975456 -0.573876976966858 -0.558373428881168 -0.791262492537498 0.388649941422045 0.314268575515598 -0.457570113241673 -0.451290607452393 0.490933675318956 0.155502735637128 -0.477064124774188 0.628427125047892"></feColorMatrix> </filter> <rect fill="red" filter="url(#genid190)" width="32" height="32" x="120" y="10"></rect> <filter id="genid191"> <feColorMatrix type="matrix" values="-0.841034993063658 0.0276818457059562 0.552502968814224 0.00896996865049005 -0.0646027927286923 0.822643177583814 -0.521961646620184 0.714397741481662 0.125211035367101 0.647749823052436 -0.359961178619415 -0.150680566672236 -0.648709232918918 0.956606172956526 -0.431935376953334 -0.630209967959672 -0.447653450537473 -0.245757905300707 -0.194313300773501 0.144541239365935 -0.485951271373779 0.109705423936248 -0.696764098014683 0.331511184107512 0.880818762816489"></feColorMatrix> </filter> <rect fill="red" filter="url(#genid191)" width="32" height="32" x="160" y="10"></rect> <filter id="genid192"> <feColorMatrix type="matrix" values="-0.0746027915738523 -0.880860680248588 0.79554781364277 0.660369718447328 -0.532133981585503 -0.000326555222272873 0.190732323098928 -0.373248934745789 0.167958965525031 0.255625577643514 -0.30693884845823 0.413416678085923 -0.885363598819822 0.057808056473732 -0.0212491741403937 0.94561514351517 0.581985759548843 0.227735693566501 0.663000864442438 -0.511096657253802 0.654553966131061 -0.873741159215569 0.455095974728465 0.621359671466053 -0.69112616404891"></feColorMatrix> </filter> <rect fill="red" filter="url(#genid192)" width="32" height="32" x="200" y="10"></rect> <filter id="genid193"> <feColorMatrix type="matrix" values="0.02884939359501 -0.249197349883616 0.801851315423846 -0.448201784864068 0.309356434736401 -0.368722833693027 -0.444754334632307 -0.20165133709088 -0.916832174174488 -0.220562461297959 -0.69417872140184 0.789461200125515 -0.00788377923890948 -0.351858132984489 0.989697986282408 0.949603089597076 -0.246736730914563 -0.0719617819413543 -0.553437261842191 -0.141564008314162 0.081709838937968 -0.0519104916602373 -0.481046450790018 -0.147593548055738 0.916813094168901"></feColorMatrix> </filter> <rect fill="red" filter="url(#genid193)" width="32" height="32" x="240" y="10"></rect> <filter id="genid194"> <feColorMatrix type="matrix" values="0.16116242017597 0.0276761767454445 0.166273561771959 0.10501746693626 -0.306719922460616 -0.747763454914093 -0.888277161866426 0.884803546126932 -0.371203637681901 -0.511162688024342 -0.652589909732342 -0.11146192625165 0.0927109876647592 -0.565124846063554 -0.560975598637015 -0.792061590123922 0.103281656745821 0.422243545297533 0.182582441717386 -0.310304771177471 0.688168948981911 0.34721415117383 0.839815243612975 -0.473184247501194 0.410383192822337"></feColorMatrix> </filter> <rect fill="red" filter="url(#genid194)" width="32" height="32" x="280" y="10"></rect> <filter id="genid195"> <feColorMatrix type="matrix" values="-0.626844264101237 -0.216848168987781 0.158433234319091 -0.916754303500056 -0.111098105553538 -0.833234985824674 0.854365640319884 -0.172245703171939 0.40642220294103 -0.762040779460222 0.569026401732117 0.671579311136156 -0.205418847501278 0.53987236507237 0.445929757319391 0.196241387166083 0.962420811410993 -0.582214140798897 -0.16851823637262 -0.803392744157463 0.552644670009613 0.639177478849888 -0.253736676648259 -0.560743672773242 -0.642682839650661"></feColorMatrix> </filter> <rect fill="red" filter="url(#genid195)" width="32" height="32" x="320" y="10"></rect> <filter id="genid196"> <feColorMatrix type="matrix" values="-0.669498377479613 -0.176475654356182 0.138327206019312 -0.544180898461491 -0.547176856081933 0.699359292630106 0.0354005936533213 0.858821278903633 -0.693703680299222 0.135801123920828 0.217669871635735 -0.17878810595721 -0.603369789663702 0.941341646015644 -0.104388332925737 -0.71587521629408 -0.401687974575907 -0.0185585469007492 -0.748691973276436 0.273344158194959 0.336655188817531 0.475121816620231 -0.599410883616656 -0.051615999545902 0.386083964258432"></feColorMatrix> </filter> <rect fill="red" filter="url(#genid196)" width="32" height="32" x="360" y="10"></rect> <filter id="genid197"> <feColorMatrix type="matrix" values="-0.989558401051909 -0.351476259063929 -0.729334615636617 0.510426736902446 -0.536915867123753 0.808147836010903 0.190713881049305 0.529527336824685 0.336044580675662 0.614038068801165 -0.365795511752367 -0.177722244989127 -0.564415072090924 0.986286247614771 0.889438500162214 -0.0220717643387616 0.694217063952237 0.0993520575575531 0.0309725669212639 -0.800306896213442 -0.703326875343919 0.443873633630574 -0.134015709161758 0.519612525589764 0.620172618422657"></feColorMatrix> </filter> <rect fill="red" filter="url(#genid197)" width="32" height="32" x="400" y="10"></rect> <filter id="genid198"> <feColorMatrix type="matrix" values="0.681385236792266 -0.278173790313303 0.130680670496076 -0.239695015829057 0.876720827072859 -0.715984568931162 -0.55145317921415 0.963841960765421 -0.871108158491552 0.830388292204589 0.800525989383459 -0.0467632305808365 -0.825902585405856 -0.545521792024374 0.612176834605634 -0.885086998809129 0.473995943553746 -0.165668154601008 0.187097446527332 0.978178119752556 -0.0572774759493768 0.801399500109255 -0.206248967442662 -0.3182976488024 -0.351358614396304"></feColorMatrix> </filter> <rect fill="red" filter="url(#genid198)" width="32" height="32" x="440" y="10"></rect> <filter id="genid199"> <feColorMatrix type="matrix" values="-0.0845287474803627 -0.126314108725637 0.0615854123607278 -0.612079134210944 0.531328530516475 -0.571274904999882 -0.690692561678588 0.896243242546916 -0.824650647584349 0.678241102956235 0.569322132971138 0.655835372861475 -0.0200475673191249 0.227312853559852 0.863667664118111 -0.654058531392366 -0.288257706910372 0.0566439847461879 -0.866078581660986 -0.0486372183077037 0.660675166174769 0.275239983573556 -0.593535129446536 0.27649305248633 -0.140709951985627"></feColorMatrix> </filter> <rect fill="red" filter="url(#genid199)" width="32" height="32" x="480" y="10"></rect> <filter id="genid200"> <feColorMatrix type="matrix" values="0.20096361450851 -0.429837645031512 0.912691123783588 0.277374967001379 -0.966321732383221 -0.534213953651488 -0.483036785386503 0.566471324767917 -0.227298067416996 0.396882134955376 0.680156799498945 -0.194307471159846 0.361164032947272 -0.0409807087853551 0.031616183463484 0.983350737486035 0.165173379704356 -0.628867811057717 0.181840587407351 -0.373324980959296 0.870016291271895 0.877309466246516 -0.647491282317787 -0.442474753130227 0.363835982512683"></feColorMatrix> </filter> <rect fill="red" filter="url(#genid200)" width="32" height="32" x="520" y="10"></rect> <filter id="genid201"> <feColorMatrix type="matrix" values="0.797655986156315 -0.374170372728258 -0.0643684500828385 0.865121132694185 0.828533431980759 0.362998739816248 0.840689628850669 -0.51727913832292 -0.616457183845341 0.67775599565357 -0.37707903701812 -0.833925954066217 -0.535044190939516 0.662080065812916 -0.0529550188221037 0.374839100055397 -0.62732680561021 0.215216290205717 0.383839131332934 0.143734656274319 -0.186904871370643 0.974921001587063 0.677457073237747 0.0284542054869235 -0.797667270991951"></feColorMatrix> </filter> <rect fill="red" filter="url(#genid201)" width="32" height="32" x="560" y="10"></rect> <filter id="genid202"> <feColorMatrix type="matrix" values="-0.36889510974288 -0.187500926665962 -0.566066452302039 -0.779660892672837 0.345582312438637 0.281268245074898 -0.83116407925263 0.840813539922237 -0.107325888238847 -0.109889491461217 -0.505349372979254 -0.70974680269137 -0.661803597584367 -0.644122282974422 -0.467593072447926 0.828953044954687 -0.905374224763364 -0.277803077828139 0.711325762793422 -0.118036889471114 -0.308201461099088 -0.33314533950761 -0.949172275606543 0.180713703855872 0.181415161117911"></feColorMatrix> </filter> <rect fill="red" filter="url(#genid202)" width="32" height="32" x="600" y="10"></rect> <filter id="genid203"> <feColorMatrix type="matrix" values="0.368202620651573 0.934489433187991 0.0209378646686673 0.179995747283101 0.183710736222565 -0.742725543677807 -0.785530676133931 0.867947407066822 -0.387199222110212 -0.869471252895892 0.286144447047263 -0.461598745547235 -0.288633255288005 0.646645601373166 -0.822081852238625 -0.0533283641561866 -0.605017465539277 0.36238773399964 0.9202786735259 0.688455792609602 -0.626556633971632 0.581291065551341 -0.632320237811655 -0.565288916230202 0.121502311434597"></feColorMatrix> </filter> <rect fill="red" filter="url(#genid203)" width="32" height="32" x="640" y="10"></rect> <filter id="genid204"> <feColorMatrix type="matrix" values="0.00205783173441887 -0.614335437770933 -0.587745149619877 0.879125372506678 0.210905277635902 0.458582171238959 0.728129246737808 0.868059087079018 0.0705460105091333 -0.829493234865367 0.318401651922613 0.321350382640958 -0.178400577511638 -0.598700830712914 0.269112501759082 -0.0287839309312403 -0.771558905486017 0.54561749054119 -0.810659281443805 -0.859262265730649 0.189358259551227 0.560758633073419 -0.964670007582754 0.167639787308872 0.0556520777754486"></feColorMatrix> </filter> <rect fill="red" filter="url(#genid204)" width="32" height="32" x="680" y="10"></rect> <filter id="genid205"> <feColorMatrix type="matrix" values="-0.469708713237196 0.238205937668681 0.967936908826232 0.161235019564629 0.154806817416102 0.494670120533556 0.927404032088816 -0.465583180077374 -0.881298364140093 -0.792855282314122 -0.72449945518747 0.739818457048386 -0.463549441192299 0.915234398562461 -0.569708202965558 0.0923209493048489 0.68460427923128 -0.88613791950047 0.246858226135373 0.974577751941979 0.544741691090167 -0.585775649175048 -0.815940993372351 -0.0544697227887809 0.124632210936397"></feColorMatrix> </filter> <rect fill="red" filter="url(#genid205)" width="32" height="32" x="720" y="10"></rect> <filter id="genid206"> <feColorMatrix type="matrix" values="0.168394642882049 -0.218106634914875 -0.854368742089719 0.932237437926233 -0.283131027594209 -0.300033301580697 -0.649310301989317 0.736264313571155 -0.101117479149252 0.744918414857239 -0.752133982721716 -0.86502706957981 -0.372984205838293 -0.751361843664199 0.300169068388641 0.476413689553738 -0.687728577293456 -0.95328954514116 0.701034353114665 0.882643577177078 0.75153720844537 -0.991551878396422 0.430551668163389 0.0944148609414697 0.718097280710936"></feColorMatrix> </filter> <rect fill="red" filter="url(#genid206)" width="32" height="32" x="760" y="10"></rect> <filter id="genid207"> <feColorMatrix type="matrix" values="-0.0293919444084167 -0.798547689802945 -0.018478995654732 0.300068309064955 0.255921482574195 -0.0300900628790259 -0.236754768062383 -0.552100239321589 -0.143731881398708 -0.487650398164988 0.0471541001461446 0.726510060485452 -0.332304663024843 0.731271277647465 0.580244567710906 0.562812056392431 0.22661978751421 -0.210839764680713 -0.181001890450716 -0.02240617480129 -0.774012353736907 0.961514581926167 0.287622251082212 -0.734557025600225 0.412607758305967"></feColorMatrix> </filter> <rect fill="red" filter="url(#genid207)" width="32" height="32" x="800" y="10"></rect>
</svg>
</div>
<div id="fecomponenttransfer" class="section level2">
<h2>feComponentTransfer</h2>
<p>Colors can also be remapped using feComponentTransfer and the components feFuncR, feFuncG, feFuncB, feFuncA. The feFuncXs correspond to the Red, Green, Blue, and Alpha channels. Each channel has a value between between 0 and 1 which can be reassinged using the component transfers. There are four types of color component transfers:</p>
<ul>
<li><strong>table</strong>: Reassigns the colors according to a piece-wise continous linear function that is specified by a table&quot; values of points. The points are assumend to form a uniform partion of [0,1] so only the values need to be specified. (Using linear interpolation of the values between the points)</li>
<li><strong>linear</strong> Similar to table, but with only 2 points. The function is specifed using the slope and intercept</li>
<li><strong>discrete</strong> Reassigns the colors according to a step function that is specified by a table&quot; of points. Again the points are assumed to be a uniform partition of [0,1], so only the values need be specified in the table.&quot; (Between points, the output is the value of the nearest point.</li>
<li><strong>gamma</strong> The value is given by <span class="math inline">\(C_{out} = \alpha \times C_{in}^\gamma + \beta\)</span></li>
</ul>
<div id="fecomponenttransfer-table" class="section level4">
<h4>feComponentTransfer: Table</h4>
<p>We illustrate this with a simple example that interchanges the colors blue and red of a color spectrum.</p>
<pre class="r"><code>WH=c(800, 200) # window rect
colors=c('red','blue')
svgR( wh=WH, stroke=&quot;black&quot;,
  rect(wh=c(.6,.3)*WH, xy=c(.2,0)*WH, 
       fill=linearGradient(colors=colors)
  ),
  rect(wh=c(.6,.3)*WH, xy=c(.2,.3)*WH, 
       fill=linearGradient(colors=colors),
       filter=filter( 
          feComponentTransfer( 
              feFuncR( type=&quot;table&quot;, tableValues=&quot;1 0&quot;),
              feFuncB( type=&quot;table&quot;, tableValues=&quot;1 0 &quot;)
          )
        )
  ),
  text('original', xy=c(20,1.5*WH[2])),
  text('transfered', xy=c(20,4.5*WH[2])),
  text('feComponentTransfer using type=&quot;table&quot;', cxy=c(.5,.8)*WH)
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" stroke="black" id="root" width="800" height="200">
<linearGradient id="genid208"> <stop offset="0%" stop-color="red"></stop> <stop offset="100%" stop-color="blue"></stop> </linearGradient> <rect fill="url(#genid208)" width="480" height="60" x="160" y="0"></rect> <filter id="genid209"> <feComponentTransfer> <feFuncR type="table" tableValues="1 0"></feFuncR> <feFuncB type="table" tableValues="1 0 "></feFuncB> </feComponentTransfer> </filter> <linearGradient id="genid210"> <stop offset="0%" stop-color="red"></stop> <stop offset="100%" stop-color="blue"></stop> </linearGradient> <rect fill="url(#genid210)" filter="url(#genid209)" width="480" height="60" x="160" y="60"></rect> <text x="20" y="300">original</text> <text x="20" y="900">transfered</text> <text text-anchor="middle" dominant-baseline="central" x="400" y="160">feComponentTransfer using type=table</text>
</svg>
</div>
<div id="fecomponenttransfer-linear" class="section level4">
<h4>feComponentTransfer: Linear</h4>
<pre class="r"><code>WH=c(800, 200) # window rect
colors=c('red','blue')
svgR( wh=WH, stroke=&quot;black&quot;,
  rect(wh=c(.6,.3)*WH, xy=c(.2,0)*WH, 
       fill=linearGradient(colors=colors)
  ),
  rect(wh=c(.6,.3)*WH, xy=c(.2,.3)*WH, 
       fill=linearGradient(colors=colors),
       filter=filter( 
          feComponentTransfer( 
              feFuncR( type=&quot;linear&quot;, intercept=1, slope=-1),
              feFuncB( type=&quot;linear&quot;, intercept=1, slope=-1)
          )
        )
  ),
  text('original', xy=c(20,1.5*WH[2])),
  text('transfered', xy=c(20,4.5*WH[2])),
  text('feComponentTransfer using type=&quot;linear&quot;', cxy=c(.5,.8)*WH)
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" stroke="black" id="root" width="800" height="200">
<linearGradient id="genid211"> <stop offset="0%" stop-color="red"></stop> <stop offset="100%" stop-color="blue"></stop> </linearGradient> <rect fill="url(#genid211)" width="480" height="60" x="160" y="0"></rect> <filter id="genid212"> <feComponentTransfer> <feFuncR type="linear" intercept="1" slope="-1"></feFuncR> <feFuncB type="linear" intercept="1" slope="-1"></feFuncB> </feComponentTransfer> </filter> <linearGradient id="genid213"> <stop offset="0%" stop-color="red"></stop> <stop offset="100%" stop-color="blue"></stop> </linearGradient> <rect fill="url(#genid213)" filter="url(#genid212)" width="480" height="60" x="160" y="60"></rect> <text x="20" y="300">original</text> <text x="20" y="900">transfered</text> <text text-anchor="middle" dominant-baseline="central" x="400" y="160">feComponentTransfer using type=linear</text>
</svg>
</div>
<div id="fecomponenttransfer-discrete" class="section level4">
<h4>feComponentTransfer: Discrete</h4>
<pre class="r"><code>WH=c(800, 200) # window rect
colors=c('red','blue')
svgR( wh=WH, stroke=&quot;black&quot;,
  rect(wh=c(.6,.3)*WH, xy=c(.2,0)*WH, 
       fill=linearGradient(colors=colors)
  ),
  rect(wh=c(.6,.3)*WH, xy=c(.2,.3)*WH, 
       fill=linearGradient(colors=colors),
       filter=filter( 
          feComponentTransfer( 
              feFuncR( type=&quot;discrete&quot;, tableValues=&quot;1 0&quot;),
              feFuncB( type=&quot;discrete&quot;, tableValues=&quot;1 0 &quot;)
          )
        )
  ),
  text('original', xy=c(20,1.5*WH[2])),
  text('transfered', xy=c(20,4.5*WH[2])),
  text('feComponentTransfer using type=&quot;discrete&quot;', cxy=c(.5,.8)*WH)
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" stroke="black" id="root" width="800" height="200">
<linearGradient id="genid214"> <stop offset="0%" stop-color="red"></stop> <stop offset="100%" stop-color="blue"></stop> </linearGradient> <rect fill="url(#genid214)" width="480" height="60" x="160" y="0"></rect> <filter id="genid215"> <feComponentTransfer> <feFuncR type="discrete" tableValues="1 0"></feFuncR> <feFuncB type="discrete" tableValues="1 0 "></feFuncB> </feComponentTransfer> </filter> <linearGradient id="genid216"> <stop offset="0%" stop-color="red"></stop> <stop offset="100%" stop-color="blue"></stop> </linearGradient> <rect fill="url(#genid216)" filter="url(#genid215)" width="480" height="60" x="160" y="60"></rect> <text x="20" y="300">original</text> <text x="20" y="900">transfered</text> <text text-anchor="middle" dominant-baseline="central" x="400" y="160">feComponentTransfer using type=discrete</text>
</svg>
</div>
<div id="fecomponenttransfer-gamma-exponent1" class="section level4">
<h4>feComponentTransfer: Gamma exponent=1</h4>
<pre class="r"><code>WH=c(800, 200) # window rect
colors=c('red','blue')
svgR( wh=WH, stroke=&quot;black&quot;,
  rect(wh=c(.6,.3)*WH, xy=c(.2,0)*WH, 
       fill=linearGradient(colors=colors)
  ),
  rect(wh=c(.6,.3)*WH, xy=c(.2,.3)*WH, 
       fill=linearGradient(colors=colors),
       filter=filter( 
          feComponentTransfer( 
              feFuncR( type=&quot;gamma&quot;, offset=1, amplitude=-1, exponent=1),
              feFuncB( type=&quot;gamma&quot;, offset=1, amplitude=-1, exponent=1)
          )
        )
  ),
  text('original', xy=c(20,1.5*WH[2])),
  text('transfered', xy=c(20,4.5*WH[2])),
  text('feComponentTransfer using type=&quot;gamma&quot;', cxy=c(.5,.8)*WH)
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" stroke="black" id="root" width="800" height="200">
<linearGradient id="genid217"> <stop offset="0%" stop-color="red"></stop> <stop offset="100%" stop-color="blue"></stop> </linearGradient> <rect fill="url(#genid217)" width="480" height="60" x="160" y="0"></rect> <filter id="genid218"> <feComponentTransfer> <feFuncR type="gamma" offset="1" amplitude="-1" exponent="1"></feFuncR> <feFuncB type="gamma" offset="1" amplitude="-1" exponent="1"></feFuncB> </feComponentTransfer> </filter> <linearGradient id="genid219"> <stop offset="0%" stop-color="red"></stop> <stop offset="100%" stop-color="blue"></stop> </linearGradient> <rect fill="url(#genid219)" filter="url(#genid218)" width="480" height="60" x="160" y="60"></rect> <text x="20" y="300">original</text> <text x="20" y="900">transfered</text> <text text-anchor="middle" dominant-baseline="central" x="400" y="160">feComponentTransfer using type=gamma</text>
</svg>
</div>
<div id="fecomponenttransfer-gamma-exponent10" class="section level4">
<h4>feComponentTransfer: Gamma, exponent=10</h4>
<pre class="r"><code>WH=c(800, 200) # window rect
colors=c('red','blue')
svgR( wh=WH, stroke=&quot;black&quot;,
  rect(wh=c(.6,.3)*WH, xy=c(.2,0)*WH, 
       fill=linearGradient(colors=colors)
  ),
  rect(wh=c(.6,.3)*WH, xy=c(.2,.3)*WH, 
       fill=linearGradient(colors=colors),
       filter=filter( 
          feComponentTransfer( 
              feFuncR( type=&quot;gamma&quot;, offset=1, amplitude=-1, exponent=2),
              feFuncB( type=&quot;gamma&quot;, offset=1, amplitude=-1, exponent=2)
          )
        )
  ),
  text('original', xy=c(20,1.5*WH[2])),
  text('transfered', xy=c(20,4.5*WH[2])),
  text('feComponentTransfer using type=&quot;table&quot;', cxy=c(.5,.8)*WH)
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" stroke="black" id="root" width="800" height="200">
<linearGradient id="genid220"> <stop offset="0%" stop-color="red"></stop> <stop offset="100%" stop-color="blue"></stop> </linearGradient> <rect fill="url(#genid220)" width="480" height="60" x="160" y="0"></rect> <filter id="genid221"> <feComponentTransfer> <feFuncR type="gamma" offset="1" amplitude="-1" exponent="2"></feFuncR> <feFuncB type="gamma" offset="1" amplitude="-1" exponent="2"></feFuncB> </feComponentTransfer> </filter> <linearGradient id="genid222"> <stop offset="0%" stop-color="red"></stop> <stop offset="100%" stop-color="blue"></stop> </linearGradient> <rect fill="url(#genid222)" filter="url(#genid221)" width="480" height="60" x="160" y="60"></rect> <text x="20" y="300">original</text> <text x="20" y="900">transfered</text> <text text-anchor="middle" dominant-baseline="central" x="400" y="160">feComponentTransfer using type=table</text>
</svg>
</div>
<div id="fecomponenttransfer-inverting-the-grey-scale" class="section level3">
<h3>feComponentTransfer: Inverting the grey scale</h3>
<pre class="r"><code>WH=c(800, 200) # window rect
colors=c('red','blue')
svgR( wh=WH, stroke=&quot;black&quot;,
  rect(wh=c(.6,.3)*WH, xy=c(.2,0)*WH, 
       fill=linearGradient(colors=colors)
  ),
  rect(wh=c(.6,.3)*WH, xy=c(.2,.3)*WH, 
       fill=linearGradient(colors=colors),
       filter=filter( 
          feComponentTransfer( 
              feFuncR( type=&quot;table&quot;, tableValues=&quot;1 0&quot;),
              feFuncG( type=&quot;table&quot;, tableValues=&quot;1 0&quot;),
              feFuncB( type=&quot;table&quot;, tableValues=&quot;1 0 &quot;)
          )
        )
  ),
  text('original', xy=c(20,1.5*WH[2])),
  text('transfered', xy=c(20,4.5*WH[2])),
  text('feComponentTransfer using type=&quot;table&quot;', cxy=c(.5,.8)*WH)
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" stroke="black" id="root" width="800" height="200">
<linearGradient id="genid223"> <stop offset="0%" stop-color="red"></stop> <stop offset="100%" stop-color="blue"></stop> </linearGradient> <rect fill="url(#genid223)" width="480" height="60" x="160" y="0"></rect> <filter id="genid224"> <feComponentTransfer> <feFuncR type="table" tableValues="1 0"></feFuncR> <feFuncG type="table" tableValues="1 0"></feFuncG> <feFuncB type="table" tableValues="1 0 "></feFuncB> </feComponentTransfer> </filter> <linearGradient id="genid225"> <stop offset="0%" stop-color="red"></stop> <stop offset="100%" stop-color="blue"></stop> </linearGradient> <rect fill="url(#genid225)" filter="url(#genid224)" width="480" height="60" x="160" y="60"></rect> <text x="20" y="300">original</text> <text x="20" y="900">transfered</text> <text text-anchor="middle" dominant-baseline="central" x="400" y="160">feComponentTransfer using type=table</text>
</svg>
<div id="fecomponenttransfer-applied-to-a-spectrum" class="section level4">
<h4>feComponentTransfer Applied to a Spectrum</h4>
<pre class="r"><code>WH=c(800, 100) # window rect
svgR( wh=WH,
    lapply(seq(from=1, to=0, by=-.05),
      function(i){
        rect(xy=c(i*800,10), wh=c(32,96), fill=
          linearGradient( xy1=c(0,0), xy2=c(0,1),
            colors=c('red','yellow','green','blue')
          ),
            filter=filter( 
             feComponentTransfer(
               feFuncR(type=&quot;linear&quot;, slope=i, intercept=1-i),
               feFuncG(type=&quot;linear&quot;, slope=1, intercept=0),
               feFuncB(type=&quot;linear&quot;, slope=1-i, intercept=i),
               feFuncA(type=&quot;linear&quot;, slope=0, intercept=1)
             )
          )
        ) 
      }
    )
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="100">
<filter id="genid226"> <feComponentTransfer> <feFuncR type="linear" slope="1" intercept="0"></feFuncR> <feFuncG type="linear" slope="1" intercept="0"></feFuncG> <feFuncB type="linear" slope="0" intercept="1"></feFuncB> <feFuncA type="linear" slope="0" intercept="1"></feFuncA> </feComponentTransfer> </filter> <linearGradient x1="0" y1="0" x2="0" y2="1" id="genid227"> <stop offset="0%" stop-color="red"></stop> <stop offset="33%" stop-color="yellow"></stop> <stop offset="66%" stop-color="green"></stop> <stop offset="100%" stop-color="blue"></stop> </linearGradient> <rect fill="url(#genid227)" filter="url(#genid226)" width="32" height="96" x="800" y="10"></rect> <filter id="genid228"> <feComponentTransfer> <feFuncR type="linear" slope="0.95" intercept="0.05"></feFuncR> <feFuncG type="linear" slope="1" intercept="0"></feFuncG> <feFuncB type="linear" slope="0.05" intercept="0.95"></feFuncB> <feFuncA type="linear" slope="0" intercept="1"></feFuncA> </feComponentTransfer> </filter> <linearGradient x1="0" y1="0" x2="0" y2="1" id="genid229"> <stop offset="0%" stop-color="red"></stop> <stop offset="33%" stop-color="yellow"></stop> <stop offset="66%" stop-color="green"></stop> <stop offset="100%" stop-color="blue"></stop> </linearGradient> <rect fill="url(#genid229)" filter="url(#genid228)" width="32" height="96" x="760" y="10"></rect> <filter id="genid230"> <feComponentTransfer> <feFuncR type="linear" slope="0.9" intercept="0.1"></feFuncR> <feFuncG type="linear" slope="1" intercept="0"></feFuncG> <feFuncB type="linear" slope="0.1" intercept="0.9"></feFuncB> <feFuncA type="linear" slope="0" intercept="1"></feFuncA> </feComponentTransfer> </filter> <linearGradient x1="0" y1="0" x2="0" y2="1" id="genid231"> <stop offset="0%" stop-color="red"></stop> <stop offset="33%" stop-color="yellow"></stop> <stop offset="66%" stop-color="green"></stop> <stop offset="100%" stop-color="blue"></stop> </linearGradient> <rect fill="url(#genid231)" filter="url(#genid230)" width="32" height="96" x="720" y="10"></rect> <filter id="genid232"> <feComponentTransfer> <feFuncR type="linear" slope="0.85" intercept="0.15"></feFuncR> <feFuncG type="linear" slope="1" intercept="0"></feFuncG> <feFuncB type="linear" slope="0.15" intercept="0.85"></feFuncB> <feFuncA type="linear" slope="0" intercept="1"></feFuncA> </feComponentTransfer> </filter> <linearGradient x1="0" y1="0" x2="0" y2="1" id="genid233"> <stop offset="0%" stop-color="red"></stop> <stop offset="33%" stop-color="yellow"></stop> <stop offset="66%" stop-color="green"></stop> <stop offset="100%" stop-color="blue"></stop> </linearGradient> <rect fill="url(#genid233)" filter="url(#genid232)" width="32" height="96" x="680" y="10"></rect> <filter id="genid234"> <feComponentTransfer> <feFuncR type="linear" slope="0.8" intercept="0.2"></feFuncR> <feFuncG type="linear" slope="1" intercept="0"></feFuncG> <feFuncB type="linear" slope="0.2" intercept="0.8"></feFuncB> <feFuncA type="linear" slope="0" intercept="1"></feFuncA> </feComponentTransfer> </filter> <linearGradient x1="0" y1="0" x2="0" y2="1" id="genid235"> <stop offset="0%" stop-color="red"></stop> <stop offset="33%" stop-color="yellow"></stop> <stop offset="66%" stop-color="green"></stop> <stop offset="100%" stop-color="blue"></stop> </linearGradient> <rect fill="url(#genid235)" filter="url(#genid234)" width="32" height="96" x="640" y="10"></rect> <filter id="genid236"> <feComponentTransfer> <feFuncR type="linear" slope="0.75" intercept="0.25"></feFuncR> <feFuncG type="linear" slope="1" intercept="0"></feFuncG> <feFuncB type="linear" slope="0.25" intercept="0.75"></feFuncB> <feFuncA type="linear" slope="0" intercept="1"></feFuncA> </feComponentTransfer> </filter> <linearGradient x1="0" y1="0" x2="0" y2="1" id="genid237"> <stop offset="0%" stop-color="red"></stop> <stop offset="33%" stop-color="yellow"></stop> <stop offset="66%" stop-color="green"></stop> <stop offset="100%" stop-color="blue"></stop> </linearGradient> <rect fill="url(#genid237)" filter="url(#genid236)" width="32" height="96" x="600" y="10"></rect> <filter id="genid238"> <feComponentTransfer> <feFuncR type="linear" slope="0.7" intercept="0.3"></feFuncR> <feFuncG type="linear" slope="1" intercept="0"></feFuncG> <feFuncB type="linear" slope="0.3" intercept="0.7"></feFuncB> <feFuncA type="linear" slope="0" intercept="1"></feFuncA> </feComponentTransfer> </filter> <linearGradient x1="0" y1="0" x2="0" y2="1" id="genid239"> <stop offset="0%" stop-color="red"></stop> <stop offset="33%" stop-color="yellow"></stop> <stop offset="66%" stop-color="green"></stop> <stop offset="100%" stop-color="blue"></stop> </linearGradient> <rect fill="url(#genid239)" filter="url(#genid238)" width="32" height="96" x="560" y="10"></rect> <filter id="genid240"> <feComponentTransfer> <feFuncR type="linear" slope="0.65" intercept="0.35"></feFuncR> <feFuncG type="linear" slope="1" intercept="0"></feFuncG> <feFuncB type="linear" slope="0.35" intercept="0.65"></feFuncB> <feFuncA type="linear" slope="0" intercept="1"></feFuncA> </feComponentTransfer> </filter> <linearGradient x1="0" y1="0" x2="0" y2="1" id="genid241"> <stop offset="0%" stop-color="red"></stop> <stop offset="33%" stop-color="yellow"></stop> <stop offset="66%" stop-color="green"></stop> <stop offset="100%" stop-color="blue"></stop> </linearGradient> <rect fill="url(#genid241)" filter="url(#genid240)" width="32" height="96" x="520" y="10"></rect> <filter id="genid242"> <feComponentTransfer> <feFuncR type="linear" slope="0.6" intercept="0.4"></feFuncR> <feFuncG type="linear" slope="1" intercept="0"></feFuncG> <feFuncB type="linear" slope="0.4" intercept="0.6"></feFuncB> <feFuncA type="linear" slope="0" intercept="1"></feFuncA> </feComponentTransfer> </filter> <linearGradient x1="0" y1="0" x2="0" y2="1" id="genid243"> <stop offset="0%" stop-color="red"></stop> <stop offset="33%" stop-color="yellow"></stop> <stop offset="66%" stop-color="green"></stop> <stop offset="100%" stop-color="blue"></stop> </linearGradient> <rect fill="url(#genid243)" filter="url(#genid242)" width="32" height="96" x="480" y="10"></rect> <filter id="genid244"> <feComponentTransfer> <feFuncR type="linear" slope="0.55" intercept="0.45"></feFuncR> <feFuncG type="linear" slope="1" intercept="0"></feFuncG> <feFuncB type="linear" slope="0.45" intercept="0.55"></feFuncB> <feFuncA type="linear" slope="0" intercept="1"></feFuncA> </feComponentTransfer> </filter> <linearGradient x1="0" y1="0" x2="0" y2="1" id="genid245"> <stop offset="0%" stop-color="red"></stop> <stop offset="33%" stop-color="yellow"></stop> <stop offset="66%" stop-color="green"></stop> <stop offset="100%" stop-color="blue"></stop> </linearGradient> <rect fill="url(#genid245)" filter="url(#genid244)" width="32" height="96" x="440" y="10"></rect> <filter id="genid246"> <feComponentTransfer> <feFuncR type="linear" slope="0.5" intercept="0.5"></feFuncR> <feFuncG type="linear" slope="1" intercept="0"></feFuncG> <feFuncB type="linear" slope="0.5" intercept="0.5"></feFuncB> <feFuncA type="linear" slope="0" intercept="1"></feFuncA> </feComponentTransfer> </filter> <linearGradient x1="0" y1="0" x2="0" y2="1" id="genid247"> <stop offset="0%" stop-color="red"></stop> <stop offset="33%" stop-color="yellow"></stop> <stop offset="66%" stop-color="green"></stop> <stop offset="100%" stop-color="blue"></stop> </linearGradient> <rect fill="url(#genid247)" filter="url(#genid246)" width="32" height="96" x="400" y="10"></rect> <filter id="genid248"> <feComponentTransfer> <feFuncR type="linear" slope="0.45" intercept="0.55"></feFuncR> <feFuncG type="linear" slope="1" intercept="0"></feFuncG> <feFuncB type="linear" slope="0.55" intercept="0.45"></feFuncB> <feFuncA type="linear" slope="0" intercept="1"></feFuncA> </feComponentTransfer> </filter> <linearGradient x1="0" y1="0" x2="0" y2="1" id="genid249"> <stop offset="0%" stop-color="red"></stop> <stop offset="33%" stop-color="yellow"></stop> <stop offset="66%" stop-color="green"></stop> <stop offset="100%" stop-color="blue"></stop> </linearGradient> <rect fill="url(#genid249)" filter="url(#genid248)" width="32" height="96" x="360" y="10"></rect> <filter id="genid250"> <feComponentTransfer> <feFuncR type="linear" slope="0.4" intercept="0.6"></feFuncR> <feFuncG type="linear" slope="1" intercept="0"></feFuncG> <feFuncB type="linear" slope="0.6" intercept="0.4"></feFuncB> <feFuncA type="linear" slope="0" intercept="1"></feFuncA> </feComponentTransfer> </filter> <linearGradient x1="0" y1="0" x2="0" y2="1" id="genid251"> <stop offset="0%" stop-color="red"></stop> <stop offset="33%" stop-color="yellow"></stop> <stop offset="66%" stop-color="green"></stop> <stop offset="100%" stop-color="blue"></stop> </linearGradient> <rect fill="url(#genid251)" filter="url(#genid250)" width="32" height="96" x="320" y="10"></rect> <filter id="genid252"> <feComponentTransfer> <feFuncR type="linear" slope="0.35" intercept="0.65"></feFuncR> <feFuncG type="linear" slope="1" intercept="0"></feFuncG> <feFuncB type="linear" slope="0.65" intercept="0.35"></feFuncB> <feFuncA type="linear" slope="0" intercept="1"></feFuncA> </feComponentTransfer> </filter> <linearGradient x1="0" y1="0" x2="0" y2="1" id="genid253"> <stop offset="0%" stop-color="red"></stop> <stop offset="33%" stop-color="yellow"></stop> <stop offset="66%" stop-color="green"></stop> <stop offset="100%" stop-color="blue"></stop> </linearGradient> <rect fill="url(#genid253)" filter="url(#genid252)" width="32" height="96" x="280" y="10"></rect> <filter id="genid254"> <feComponentTransfer> <feFuncR type="linear" slope="0.3" intercept="0.7"></feFuncR> <feFuncG type="linear" slope="1" intercept="0"></feFuncG> <feFuncB type="linear" slope="0.7" intercept="0.3"></feFuncB> <feFuncA type="linear" slope="0" intercept="1"></feFuncA> </feComponentTransfer> </filter> <linearGradient x1="0" y1="0" x2="0" y2="1" id="genid255"> <stop offset="0%" stop-color="red"></stop> <stop offset="33%" stop-color="yellow"></stop> <stop offset="66%" stop-color="green"></stop> <stop offset="100%" stop-color="blue"></stop> </linearGradient> <rect fill="url(#genid255)" filter="url(#genid254)" width="32" height="96" x="240" y="10"></rect> <filter id="genid256"> <feComponentTransfer> <feFuncR type="linear" slope="0.25" intercept="0.75"></feFuncR> <feFuncG type="linear" slope="1" intercept="0"></feFuncG> <feFuncB type="linear" slope="0.75" intercept="0.25"></feFuncB> <feFuncA type="linear" slope="0" intercept="1"></feFuncA> </feComponentTransfer> </filter> <linearGradient x1="0" y1="0" x2="0" y2="1" id="genid257"> <stop offset="0%" stop-color="red"></stop> <stop offset="33%" stop-color="yellow"></stop> <stop offset="66%" stop-color="green"></stop> <stop offset="100%" stop-color="blue"></stop> </linearGradient> <rect fill="url(#genid257)" filter="url(#genid256)" width="32" height="96" x="200" y="10"></rect> <filter id="genid258"> <feComponentTransfer> <feFuncR type="linear" slope="0.2" intercept="0.8"></feFuncR> <feFuncG type="linear" slope="1" intercept="0"></feFuncG> <feFuncB type="linear" slope="0.8" intercept="0.2"></feFuncB> <feFuncA type="linear" slope="0" intercept="1"></feFuncA> </feComponentTransfer> </filter> <linearGradient x1="0" y1="0" x2="0" y2="1" id="genid259"> <stop offset="0%" stop-color="red"></stop> <stop offset="33%" stop-color="yellow"></stop> <stop offset="66%" stop-color="green"></stop> <stop offset="100%" stop-color="blue"></stop> </linearGradient> <rect fill="url(#genid259)" filter="url(#genid258)" width="32" height="96" x="160" y="10"></rect> <filter id="genid260"> <feComponentTransfer> <feFuncR type="linear" slope="0.15" intercept="0.85"></feFuncR> <feFuncG type="linear" slope="1" intercept="0"></feFuncG> <feFuncB type="linear" slope="0.85" intercept="0.15"></feFuncB> <feFuncA type="linear" slope="0" intercept="1"></feFuncA> </feComponentTransfer> </filter> <linearGradient x1="0" y1="0" x2="0" y2="1" id="genid261"> <stop offset="0%" stop-color="red"></stop> <stop offset="33%" stop-color="yellow"></stop> <stop offset="66%" stop-color="green"></stop> <stop offset="100%" stop-color="blue"></stop> </linearGradient> <rect fill="url(#genid261)" filter="url(#genid260)" width="32" height="96" x="120" y="10"></rect> <filter id="genid262"> <feComponentTransfer> <feFuncR type="linear" slope="0.1" intercept="0.9"></feFuncR> <feFuncG type="linear" slope="1" intercept="0"></feFuncG> <feFuncB type="linear" slope="0.9" intercept="0.1"></feFuncB> <feFuncA type="linear" slope="0" intercept="1"></feFuncA> </feComponentTransfer> </filter> <linearGradient x1="0" y1="0" x2="0" y2="1" id="genid263"> <stop offset="0%" stop-color="red"></stop> <stop offset="33%" stop-color="yellow"></stop> <stop offset="66%" stop-color="green"></stop> <stop offset="100%" stop-color="blue"></stop> </linearGradient> <rect fill="url(#genid263)" filter="url(#genid262)" width="32" height="96" x="80" y="10"></rect> <filter id="genid264"> <feComponentTransfer> <feFuncR type="linear" slope="0.0499999999999999" intercept="0.95"></feFuncR> <feFuncG type="linear" slope="1" intercept="0"></feFuncG> <feFuncB type="linear" slope="0.95" intercept="0.0499999999999999"></feFuncB> <feFuncA type="linear" slope="0" intercept="1"></feFuncA> </feComponentTransfer> </filter> <linearGradient x1="0" y1="0" x2="0" y2="1" id="genid265"> <stop offset="0%" stop-color="red"></stop> <stop offset="33%" stop-color="yellow"></stop> <stop offset="66%" stop-color="green"></stop> <stop offset="100%" stop-color="blue"></stop> </linearGradient> <rect fill="url(#genid265)" filter="url(#genid264)" width="32" height="96" x="39.9999999999999" y="10"></rect> <filter id="genid266"> <feComponentTransfer> <feFuncR type="linear" slope="0" intercept="1"></feFuncR> <feFuncG type="linear" slope="1" intercept="0"></feFuncG> <feFuncB type="linear" slope="1" intercept="0"></feFuncB> <feFuncA type="linear" slope="0" intercept="1"></feFuncA> </feComponentTransfer> </filter> <linearGradient x1="0" y1="0" x2="0" y2="1" id="genid267"> <stop offset="0%" stop-color="red"></stop> <stop offset="33%" stop-color="yellow"></stop> <stop offset="66%" stop-color="green"></stop> <stop offset="100%" stop-color="blue"></stop> </linearGradient> <rect fill="url(#genid267)" filter="url(#genid266)" width="32" height="96" x="0" y="10"></rect>
</svg>
</div>
</div>
</div>
</div>
<div id="combining-filter-primitives" class="section level1">
<h1>Combining Filter Primitives</h1>
<p>Almost always, more than one filter component is required by the filter, and those components need to be combined. There are three elements that can be used to combine filter components.</p>
<div id="fecomposite-operatorover" class="section level2">
<h2>feComposite (operator=over)</h2>
<pre class="r"><code>WH=c(800, 100) # window rect
svgR( wh=WH,
    circle(cxy=WH/2, r=30, stroke='black', fill='red' ,
      filter=filter(  wh=c('200%','100%'), xy=c(0,0), 
        feComposite(  
          operator=&quot;over&quot;, 
          in1=&quot;SourceGraphic&quot;,
          in2=feOffset(  dxy=c(20, 0), 
             in1=feColorMatrix( type=&quot;hueRotate&quot;, values=240, &quot;SourceGraphic&quot;)
          )
       )
     )
  )
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="100">
<filter width="200%" height="100%" x="0" y="0" id="genid270"> <feColorMatrix type="hueRotate" values="240" result="genid268">SourceGraphic</feColorMatrix> <feOffset in="genid268" dx="20" dy="0" result="genid269"></feOffset> <feComposite operator="over" in="SourceGraphic" in2="genid269"></feComposite> </filter> <circle r="30" stroke="black" fill="red" filter="url(#genid270)" cx="400" cy="50"></circle>
</svg>
<div id="fecomposite-comparison-operator-over-in-out-atop-xor" class="section level3">
<h3>feComposite comparison (operator= over, in, out, atop, xor)</h3>
<p>Compariong the operator options over, in, out, atop, xor for feComposite:</p>
<div id="fecomposite-comparison-with-opacity1" class="section level4">
<h4>feComposite comparison with opacity=1</h4>
<pre class="r"><code>WH=c(800, 100) # window rect
operators=c(&quot;over&quot;,&quot;in&quot;,&quot;out&quot;,&quot;atop&quot;,&quot;xor&quot;)
svgR( wh=WH,
      lapply( 1:5, function(i){
        x=100+(i-1)*150
        g( 
          circle(cxy=c(x,40), r=30, stroke='black', fill='red',
            filter=filter(  wh=c('200%','100%'), xy=c(0,0), 
              feComposite(  
                operator=operators[i], 
                in1=&quot;SourceGraphic&quot;,
                in2=feOffset(  dxy=c(20, 0), 
                   in1=feColorMatrix( type=&quot;hueRotate&quot;, values=240, &quot;SourceGraphic&quot;)
                )
             )
           )
          ),
          text( operators[i], xy=c(x,82), font.size=15 )
        )
    })
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="100">
<g> <filter width="200%" height="100%" x="0" y="0" id="genid273"> <feColorMatrix type="hueRotate" values="240" result="genid271">SourceGraphic</feColorMatrix> <feOffset in="genid271" dx="20" dy="0" result="genid272"></feOffset> <feComposite operator="over" in="SourceGraphic" in2="genid272"></feComposite> </filter> <circle r="30" stroke="black" fill="red" filter="url(#genid273)" cx="100" cy="40"></circle> <text font-size="15" x="100" y="82">over</text> </g> <g> <filter width="200%" height="100%" x="0" y="0" id="genid276"> <feColorMatrix type="hueRotate" values="240" result="genid274">SourceGraphic</feColorMatrix> <feOffset in="genid274" dx="20" dy="0" result="genid275"></feOffset> <feComposite operator="in" in="SourceGraphic" in2="genid275"></feComposite> </filter> <circle r="30" stroke="black" fill="red" filter="url(#genid276)" cx="250" cy="40"></circle> <text font-size="15" x="250" y="82">in</text> </g> <g> <filter width="200%" height="100%" x="0" y="0" id="genid279"> <feColorMatrix type="hueRotate" values="240" result="genid277">SourceGraphic</feColorMatrix> <feOffset in="genid277" dx="20" dy="0" result="genid278"></feOffset> <feComposite operator="out" in="SourceGraphic" in2="genid278"></feComposite> </filter> <circle r="30" stroke="black" fill="red" filter="url(#genid279)" cx="400" cy="40"></circle> <text font-size="15" x="400" y="82">out</text> </g> <g> <filter width="200%" height="100%" x="0" y="0" id="genid282"> <feColorMatrix type="hueRotate" values="240" result="genid280">SourceGraphic</feColorMatrix> <feOffset in="genid280" dx="20" dy="0" result="genid281"></feOffset> <feComposite operator="atop" in="SourceGraphic" in2="genid281"></feComposite> </filter> <circle r="30" stroke="black" fill="red" filter="url(#genid282)" cx="550" cy="40"></circle> <text font-size="15" x="550" y="82">atop</text> </g> <g> <filter width="200%" height="100%" x="0" y="0" id="genid285"> <feColorMatrix type="hueRotate" values="240" result="genid283">SourceGraphic</feColorMatrix> <feOffset in="genid283" dx="20" dy="0" result="genid284"></feOffset> <feComposite operator="xor" in="SourceGraphic" in2="genid284"></feComposite> </filter> <circle r="30" stroke="black" fill="red" filter="url(#genid285)" cx="700" cy="40"></circle> <text font-size="15" x="700" y="82">xor</text> </g>
</svg>
<p>Here we compare feComposite for an source with opacity=50%</p>
</div>
<div id="fecomposite-comparison-with-opacity.5" class="section level4">
<h4>feComposite comparison with opacity=.5</h4>
<pre class="r"><code>WH=c(800, 100) # window rect
operators=c(&quot;over&quot;,&quot;in&quot;,&quot;out&quot;,&quot;atop&quot;,&quot;xor&quot;)
svgR( wh=WH,
      lapply( 1:5, function(i){
        x=100+(i-1)*150
        g( 
          circle(cxy=c(x,40), r=30, stroke='black', fill='red', fill.opacity=0.5,
            filter=filter(  wh=c('200%','100%'), xy=c(0,0), 
              feComposite(  
                operator=operators[i], 
                in1=&quot;SourceGraphic&quot;,
                in2=feOffset(  dxy=c(20, 0), 
                   in1=feColorMatrix( type=&quot;hueRotate&quot;, values=240, &quot;SourceGraphic&quot;)
                )
             )
           )
          ),
          text( operators[i], xy=c(x,82), font.size=15 )
        )
    })
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="100">
<g> <filter width="200%" height="100%" x="0" y="0" id="genid288"> <feColorMatrix type="hueRotate" values="240" result="genid286">SourceGraphic</feColorMatrix> <feOffset in="genid286" dx="20" dy="0" result="genid287"></feOffset> <feComposite operator="over" in="SourceGraphic" in2="genid287"></feComposite> </filter> <circle r="30" stroke="black" fill="red" fill-opacity="0.5" filter="url(#genid288)" cx="100" cy="40"></circle> <text font-size="15" x="100" y="82">over</text> </g> <g> <filter width="200%" height="100%" x="0" y="0" id="genid291"> <feColorMatrix type="hueRotate" values="240" result="genid289">SourceGraphic</feColorMatrix> <feOffset in="genid289" dx="20" dy="0" result="genid290"></feOffset> <feComposite operator="in" in="SourceGraphic" in2="genid290"></feComposite> </filter> <circle r="30" stroke="black" fill="red" fill-opacity="0.5" filter="url(#genid291)" cx="250" cy="40"></circle> <text font-size="15" x="250" y="82">in</text> </g> <g> <filter width="200%" height="100%" x="0" y="0" id="genid294"> <feColorMatrix type="hueRotate" values="240" result="genid292">SourceGraphic</feColorMatrix> <feOffset in="genid292" dx="20" dy="0" result="genid293"></feOffset> <feComposite operator="out" in="SourceGraphic" in2="genid293"></feComposite> </filter> <circle r="30" stroke="black" fill="red" fill-opacity="0.5" filter="url(#genid294)" cx="400" cy="40"></circle> <text font-size="15" x="400" y="82">out</text> </g> <g> <filter width="200%" height="100%" x="0" y="0" id="genid297"> <feColorMatrix type="hueRotate" values="240" result="genid295">SourceGraphic</feColorMatrix> <feOffset in="genid295" dx="20" dy="0" result="genid296"></feOffset> <feComposite operator="atop" in="SourceGraphic" in2="genid296"></feComposite> </filter> <circle r="30" stroke="black" fill="red" fill-opacity="0.5" filter="url(#genid297)" cx="550" cy="40"></circle> <text font-size="15" x="550" y="82">atop</text> </g> <g> <filter width="200%" height="100%" x="0" y="0" id="genid300"> <feColorMatrix type="hueRotate" values="240" result="genid298">SourceGraphic</feColorMatrix> <feOffset in="genid298" dx="20" dy="0" result="genid299"></feOffset> <feComposite operator="xor" in="SourceGraphic" in2="genid299"></feComposite> </filter> <circle r="30" stroke="black" fill="red" fill-opacity="0.5" filter="url(#genid300)" cx="700" cy="40"></circle> <text font-size="15" x="700" y="82">xor</text> </g>
</svg>
</div>
</div>
<div id="fecomposite-operatorarithmetic" class="section level3">
<h3>feComposite (operator=arithmetic)</h3>
<p>The arithmetic operator combines the inputs by summing the individual inputs and their product, and then adds a constant.</p>
<p>The result is given by <span class="math display">\[ result= \kappa_1 in_1 in_2 + \kappa_2 in_1  + \kappa_3 in_2 + \kappa_4\]</span></p>
<p>Thus - k1234=c(0,1,1,0) sums the two components <span class="math inline">\(in_1\)</span> and <span class="math inline">\(in_2\)</span>. - k1234=c(0,0,0,1) produces white (essentially ignoring the inputs) - k1234=c(0,1,0,0) produces the <span class="math inline">\(in_1\)</span> ( ignoring the <span class="math inline">\(in_2\)</span>) - k1234=c(0,0,1,0) produces the <span class="math inline">\(in_2\)</span> ( ignoring the <span class="math inline">\(in_1\)</span>)</p>
<p>The following example illustrates various combinations of values</p>
<pre class="r"><code>WH=c(800, 800) # window rect
WH2=WH/4
kappa&lt;-expand.grid( c(0,1),c(0,2),0:1,c(0,-.5))
pos&lt;-expand.grid(0:3,0:3)
svgR( wh=WH,
      lapply( 1:16, function(i){
        xy=pos[i,]*WH2
        svg( xy=xy, wh=WH2,
          #rect(xy=c(5,5), wh=WH2-c(10,10), fill='black'),
          #circle(cxy=WH2/2, r=WH2[1]/8, stroke='black', fill='red'),
          circle(cxy=WH2/2-c(10,0), r=WH2[1]/8, stroke='black', fill='red', #opacity=.5,
            filter=filter(  wh=c(&quot;200%&quot;,&quot;100%&quot;), xy=c(0,0), 
              feComposite(  
                operator= &quot;arithmetic&quot;, 
                k1234=as.numeric(kappa[i,]),
                in1=&quot;SourceGraphic&quot;,
                in2=feOffset(  dxy=c(20, 0), 
                   in1=feColorMatrix( type=&quot;hueRotate&quot;, values=140, &quot;SourceGraphic&quot;)
                )
              )
            )
          ),
          text( paste(kappa[i,], collapse=&quot;, &quot;), xy=c(.1,.9)* WH2, font.size=15 , fill='black')
        )
    })
)-&gt;doc
cat(&quot;'&quot;,as.character(doc),&quot;'&quot;)</code></pre>
<p><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="800"> <svg width="200" height="200" x="0" y="0"> <filter width="200%" height="100%" x="0" y="0" id="genid303"> <feColorMatrix type="hueRotate" values="140" result="genid301">SourceGraphic</feColorMatrix> <feOffset in="genid301" dx="20" dy="0" result="genid302"></feOffset> <feComposite operator="arithmetic" in="SourceGraphic" in2="genid302" k1="0" k2="0" k3="0" k4="0"></feComposite> </filter> <circle r="25" stroke="black" fill="red" filter="url(#genid303)" cx="90" cy="100"></circle> <text font-size="15" fill="black" x="20" y="180">0, 0, 0, 0</text> </svg> <svg width="200" height="200" x="200" y="0"> <filter width="200%" height="100%" x="0" y="0" id="genid306"> <feColorMatrix type="hueRotate" values="140" result="genid304">SourceGraphic</feColorMatrix> <feOffset in="genid304" dx="20" dy="0" result="genid305"></feOffset> <feComposite operator="arithmetic" in="SourceGraphic" in2="genid305" k1="1" k2="0" k3="0" k4="0"></feComposite> </filter> <circle r="25" stroke="black" fill="red" filter="url(#genid306)" cx="90" cy="100"></circle> <text font-size="15" fill="black" x="20" y="180">1, 0, 0, 0</text> </svg> <svg width="200" height="200" x="400" y="0"> <filter width="200%" height="100%" x="0" y="0" id="genid309"> <feColorMatrix type="hueRotate" values="140" result="genid307">SourceGraphic</feColorMatrix> <feOffset in="genid307" dx="20" dy="0" result="genid308"></feOffset> <feComposite operator="arithmetic" in="SourceGraphic" in2="genid308" k1="0" k2="2" k3="0" k4="0"></feComposite> </filter> <circle r="25" stroke="black" fill="red" filter="url(#genid309)" cx="90" cy="100"></circle> <text font-size="15" fill="black" x="20" y="180">0, 2, 0, 0</text> </svg> <svg width="200" height="200" x="600" y="0"> <filter width="200%" height="100%" x="0" y="0" id="genid312"> <feColorMatrix type="hueRotate" values="140" result="genid310">SourceGraphic</feColorMatrix> <feOffset in="genid310" dx="20" dy="0" result="genid311"></feOffset> <feComposite operator="arithmetic" in="SourceGraphic" in2="genid311" k1="1" k2="2" k3="0" k4="0"></feComposite> </filter> <circle r="25" stroke="black" fill="red" filter="url(#genid312)" cx="90" cy="100"></circle> <text font-size="15" fill="black" x="20" y="180">1, 2, 0, 0</text> </svg> <svg width="200" height="200" x="0" y="200"> <filter width="200%" height="100%" x="0" y="0" id="genid315"> <feColorMatrix type="hueRotate" values="140" result="genid313">SourceGraphic</feColorMatrix> <feOffset in="genid313" dx="20" dy="0" result="genid314"></feOffset> <feComposite operator="arithmetic" in="SourceGraphic" in2="genid314" k1="0" k2="0" k3="1" k4="0"></feComposite> </filter> <circle r="25" stroke="black" fill="red" filter="url(#genid315)" cx="90" cy="100"></circle> <text font-size="15" fill="black" x="20" y="180">0, 0, 1, 0</text> </svg> <svg width="200" height="200" x="200" y="200"> <filter width="200%" height="100%" x="0" y="0" id="genid318"> <feColorMatrix type="hueRotate" values="140" result="genid316">SourceGraphic</feColorMatrix> <feOffset in="genid316" dx="20" dy="0" result="genid317"></feOffset> <feComposite operator="arithmetic" in="SourceGraphic" in2="genid317" k1="1" k2="0" k3="1" k4="0"></feComposite> </filter> <circle r="25" stroke="black" fill="red" filter="url(#genid318)" cx="90" cy="100"></circle> <text font-size="15" fill="black" x="20" y="180">1, 0, 1, 0</text> </svg> <svg width="200" height="200" x="400" y="200"> <filter width="200%" height="100%" x="0" y="0" id="genid321"> <feColorMatrix type="hueRotate" values="140" result="genid319">SourceGraphic</feColorMatrix> <feOffset in="genid319" dx="20" dy="0" result="genid320"></feOffset> <feComposite operator="arithmetic" in="SourceGraphic" in2="genid320" k1="0" k2="2" k3="1" k4="0"></feComposite> </filter> <circle r="25" stroke="black" fill="red" filter="url(#genid321)" cx="90" cy="100"></circle> <text font-size="15" fill="black" x="20" y="180">0, 2, 1, 0</text> </svg> <svg width="200" height="200" x="600" y="200"> <filter width="200%" height="100%" x="0" y="0" id="genid324"> <feColorMatrix type="hueRotate" values="140" result="genid322">SourceGraphic</feColorMatrix> <feOffset in="genid322" dx="20" dy="0" result="genid323"></feOffset> <feComposite operator="arithmetic" in="SourceGraphic" in2="genid323" k1="1" k2="2" k3="1" k4="0"></feComposite> </filter> <circle r="25" stroke="black" fill="red" filter="url(#genid324)" cx="90" cy="100"></circle> <text font-size="15" fill="black" x="20" y="180">1, 2, 1, 0</text> </svg> <svg width="200" height="200" x="0" y="400"> <filter width="200%" height="100%" x="0" y="0" id="genid327"> <feColorMatrix type="hueRotate" values="140" result="genid325">SourceGraphic</feColorMatrix> <feOffset in="genid325" dx="20" dy="0" result="genid326"></feOffset> <feComposite operator="arithmetic" in="SourceGraphic" in2="genid326" k1="0" k2="0" k3="0" k4="-0.5"></feComposite> </filter> <circle r="25" stroke="black" fill="red" filter="url(#genid327)" cx="90" cy="100"></circle> <text font-size="15" fill="black" x="20" y="180">0, 0, 0, -0.5</text> </svg> <svg width="200" height="200" x="200" y="400"> <filter width="200%" height="100%" x="0" y="0" id="genid330"> <feColorMatrix type="hueRotate" values="140" result="genid328">SourceGraphic</feColorMatrix> <feOffset in="genid328" dx="20" dy="0" result="genid329"></feOffset> <feComposite operator="arithmetic" in="SourceGraphic" in2="genid329" k1="1" k2="0" k3="0" k4="-0.5"></feComposite> </filter> <circle r="25" stroke="black" fill="red" filter="url(#genid330)" cx="90" cy="100"></circle> <text font-size="15" fill="black" x="20" y="180">1, 0, 0, -0.5</text> </svg> <svg width="200" height="200" x="400" y="400"> <filter width="200%" height="100%" x="0" y="0" id="genid333"> <feColorMatrix type="hueRotate" values="140" result="genid331">SourceGraphic</feColorMatrix> <feOffset in="genid331" dx="20" dy="0" result="genid332"></feOffset> <feComposite operator="arithmetic" in="SourceGraphic" in2="genid332" k1="0" k2="2" k3="0" k4="-0.5"></feComposite> </filter> <circle r="25" stroke="black" fill="red" filter="url(#genid333)" cx="90" cy="100"></circle> <text font-size="15" fill="black" x="20" y="180">0, 2, 0, -0.5</text> </svg> <svg width="200" height="200" x="600" y="400"> <filter width="200%" height="100%" x="0" y="0" id="genid336"> <feColorMatrix type="hueRotate" values="140" result="genid334">SourceGraphic</feColorMatrix> <feOffset in="genid334" dx="20" dy="0" result="genid335"></feOffset> <feComposite operator="arithmetic" in="SourceGraphic" in2="genid335" k1="1" k2="2" k3="0" k4="-0.5"></feComposite> </filter> <circle r="25" stroke="black" fill="red" filter="url(#genid336)" cx="90" cy="100"></circle> <text font-size="15" fill="black" x="20" y="180">1, 2, 0, -0.5</text> </svg> <svg width="200" height="200" x="0" y="600"> <filter width="200%" height="100%" x="0" y="0" id="genid339"> <feColorMatrix type="hueRotate" values="140" result="genid337">SourceGraphic</feColorMatrix> <feOffset in="genid337" dx="20" dy="0" result="genid338"></feOffset> <feComposite operator="arithmetic" in="SourceGraphic" in2="genid338" k1="0" k2="0" k3="1" k4="-0.5"></feComposite> </filter> <circle r="25" stroke="black" fill="red" filter="url(#genid339)" cx="90" cy="100"></circle> <text font-size="15" fill="black" x="20" y="180">0, 0, 1, -0.5</text> </svg> <svg width="200" height="200" x="200" y="600"> <filter width="200%" height="100%" x="0" y="0" id="genid342"> <feColorMatrix type="hueRotate" values="140" result="genid340">SourceGraphic</feColorMatrix> <feOffset in="genid340" dx="20" dy="0" result="genid341"></feOffset> <feComposite operator="arithmetic" in="SourceGraphic" in2="genid341" k1="1" k2="0" k3="1" k4="-0.5"></feComposite> </filter> <circle r="25" stroke="black" fill="red" filter="url(#genid342)" cx="90" cy="100"></circle> <text font-size="15" fill="black" x="20" y="180">1, 0, 1, -0.5</text> </svg> <svg width="200" height="200" x="400" y="600"> <filter width="200%" height="100%" x="0" y="0" id="genid345"> <feColorMatrix type="hueRotate" values="140" result="genid343">SourceGraphic</feColorMatrix> <feOffset in="genid343" dx="20" dy="0" result="genid344"></feOffset> <feComposite operator="arithmetic" in="SourceGraphic" in2="genid344" k1="0" k2="2" k3="1" k4="-0.5"></feComposite> </filter> <circle r="25" stroke="black" fill="red" filter="url(#genid345)" cx="90" cy="100"></circle> <text font-size="15" fill="black" x="20" y="180">0, 2, 1, -0.5</text> </svg> <svg width="200" height="200" x="600" y="600"> <filter width="200%" height="100%" x="0" y="0" id="genid348"> <feColorMatrix type="hueRotate" values="140" result="genid346">SourceGraphic</feColorMatrix> <feOffset in="genid346" dx="20" dy="0" result="genid347"></feOffset> <feComposite operator="arithmetic" in="SourceGraphic" in2="genid347" k1="1" k2="2" k3="1" k4="-0.5"></feComposite> </filter> <circle r="25" stroke="black" fill="red" filter="url(#genid348)" cx="90" cy="100"></circle> <text font-size="15" fill="black" x="20" y="180">1, 2, 1, -0.5</text> </svg> </svg></p>
</div>
</div>
<div id="feblend" class="section level2">
<h2>feBlend</h2>
<p>Next we consider feBlend</p>
<pre class="r"><code>WH=c(800, 100) # window rect
modes=c(&quot;normal&quot;,&quot;multiply&quot;,&quot;screen&quot;,&quot;darken&quot;,&quot;lighten&quot;)
svgR( wh=WH,
      lapply( 1:5, function(i){
        x=100+(i-1)*150
        g( 
          circle(cxy=c(x,40), r=30, stroke='black', fill='red', 
            filter=filter(  wh=c('200%','100%'), xy=c(0,0), 
              feBlend(  
                mode=modes[i], 
                in1=&quot;SourceGraphic&quot;,
                in2=feOffset(  dxy=c(20, 0), 
                   in1=feColorMatrix( type=&quot;hueRotate&quot;, values=240, &quot;SourceGraphic&quot;)
                )
             )
           )
          ),
          text( modes[i], xy=c(x,82), font.size=15 )
        )
    })
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="100">
<g> <filter width="200%" height="100%" x="0" y="0" id="genid351"> <feColorMatrix type="hueRotate" values="240" result="genid349">SourceGraphic</feColorMatrix> <feOffset in="genid349" dx="20" dy="0" result="genid350"></feOffset> <feBlend mode="normal" in="SourceGraphic" in2="genid350"></feBlend> </filter> <circle r="30" stroke="black" fill="red" filter="url(#genid351)" cx="100" cy="40"></circle> <text font-size="15" x="100" y="82">normal</text> </g> <g> <filter width="200%" height="100%" x="0" y="0" id="genid354"> <feColorMatrix type="hueRotate" values="240" result="genid352">SourceGraphic</feColorMatrix> <feOffset in="genid352" dx="20" dy="0" result="genid353"></feOffset> <feBlend mode="multiply" in="SourceGraphic" in2="genid353"></feBlend> </filter> <circle r="30" stroke="black" fill="red" filter="url(#genid354)" cx="250" cy="40"></circle> <text font-size="15" x="250" y="82">multiply</text> </g> <g> <filter width="200%" height="100%" x="0" y="0" id="genid357"> <feColorMatrix type="hueRotate" values="240" result="genid355">SourceGraphic</feColorMatrix> <feOffset in="genid355" dx="20" dy="0" result="genid356"></feOffset> <feBlend mode="screen" in="SourceGraphic" in2="genid356"></feBlend> </filter> <circle r="30" stroke="black" fill="red" filter="url(#genid357)" cx="400" cy="40"></circle> <text font-size="15" x="400" y="82">screen</text> </g> <g> <filter width="200%" height="100%" x="0" y="0" id="genid360"> <feColorMatrix type="hueRotate" values="240" result="genid358">SourceGraphic</feColorMatrix> <feOffset in="genid358" dx="20" dy="0" result="genid359"></feOffset> <feBlend mode="darken" in="SourceGraphic" in2="genid359"></feBlend> </filter> <circle r="30" stroke="black" fill="red" filter="url(#genid360)" cx="550" cy="40"></circle> <text font-size="15" x="550" y="82">darken</text> </g> <g> <filter width="200%" height="100%" x="0" y="0" id="genid363"> <feColorMatrix type="hueRotate" values="240" result="genid361">SourceGraphic</feColorMatrix> <feOffset in="genid361" dx="20" dy="0" result="genid362"></feOffset> <feBlend mode="lighten" in="SourceGraphic" in2="genid362"></feBlend> </filter> <circle r="30" stroke="black" fill="red" filter="url(#genid363)" cx="700" cy="40"></circle> <text font-size="15" x="700" y="82">lighten</text> </g>
</svg>
<div id="femerge" class="section level3">
<h3>feMerge</h3>
<p>Finally feMerge</p>
<pre class="r"><code>WH=c(800, 100) # window rect
svgR( wh=WH,
    circle(cxy=WH/2, r=30, stroke='black', fill='red' ,
      filter=filter(  wh=c('200%','100%'), xy=c(0,0), 
        feMerge(  
          feMergeNode(in1=&quot;SourceGraphic&quot;),
          feMergeNode(in1=feOffset(  dxy=c(20, 0), 
             in1=feColorMatrix( type=&quot;hueRotate&quot;, values=240, in1=&quot;SourceGraphic&quot;)
          ))
       )
     )
  )
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="100">
<filter width="200%" height="100%" x="0" y="0" id="genid366"> <feColorMatrix type="hueRotate" values="240" in="SourceGraphic" result="genid364"></feColorMatrix> <feOffset in="genid364" dx="20" dy="0" result="genid365"></feOffset> <feMerge> <feMergeNode in="SourceGraphic"></feMergeNode> <feMergeNode in="genid365"></feMergeNode> </feMerge> </filter> <circle r="30" stroke="black" fill="red" filter="url(#genid366)" cx="400" cy="50"></circle>
</svg>
<div id="femerge-using-defs" class="section level4">
<h4>feMerge using defs</h4>
<pre class="r"><code>WH=c(800, 100) # window rect
svgR( wh=WH,
  defs( 
    filter(  id=&quot;myMergeFilter&quot;, wh=c('200%','100%'), xy=c(0,0), 
     feColorMatrix( in1='SourceGraphic', type=&quot;hueRotate&quot;, values=240,  result='myColor'),
     feOffset(dxy=c(20, 0), in1=&quot;myColor&quot;, result=&quot;offed&quot; ),
     feMerge(  
        feMergeNode(in1=&quot;SourceGraphic&quot;),
        feMergeNode(in1= &quot;offed&quot;)
     )
    )
  ),
  circle(cxy=WH/2, r=50, stroke='black', fill='red' , 
    filter=&quot;url(#myMergeFilter)&quot;
  )
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="100">
<defs> <filter id="myMergeFilter" width="200%" height="100%" x="0" y="0"> <feColorMatrix in="SourceGraphic" type="hueRotate" values="240" result="myColor"></feColorMatrix> <feOffset in="myColor" result="offed" dx="20" dy="0"></feOffset> <feMerge> <feMergeNode in="SourceGraphic"></feMergeNode> <feMergeNode in="offed"></feMergeNode> </feMerge> </filter> </defs> <circle r="50" stroke="black" fill="red" filter="url(#myMergeFilter)" cx="400" cy="50"></circle>
</svg>
</div>
</div>
</div>
<div id="dropshadows" class="section level2">
<h2>DropShadows</h2>
<p>Drop shadows of a figure can be made by applying alpha channel of an image with a small offset and then combining it with the original image. Specifically we</p>
<ol style="list-style-type: decimal">
<li>Apply an offset to the original source using feOffset</li>
<li>Take the result of 1 and apply feGaussianBlur to the Alpha channel of the original source to create the shadow portion.</li>
<li>Combine using <strong>feComposite</strong> the original source with the result of 2</li>
</ol>
<div id="feblend-1" class="section level4">
<h4>feBlend</h4>
<pre class="r"><code>WH=c(800, 120) # window rect
svgR( wh=WH,
  text( 'svgR', xy=c(50,70), font.size=50,  fill=&quot;lightblue&quot;, stroke=&quot;darkblue&quot;,
    filter = filter( xy=c(-10,-10), wh=c(200,60),
              feBlend( x=-10, width=200, 
                in1=&quot;SourceGraphic&quot;, 
                in2=feGaussianBlur( stdDeviation=3, in1=feOffset( dxy=c(3,3), in1=&quot;SourceAlpha&quot;) )
              )
      )   
  )
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="120">
<filter width="200" height="60" x="-10" y="-10" id="genid369"> <feOffset in="SourceAlpha" dx="3" dy="3" result="genid367"></feOffset> <feGaussianBlur stdDeviation="3" in="genid367" result="genid368"></feGaussianBlur> <feBlend x="-10" width="200" in="SourceGraphic" in2="genid368"></feBlend> </filter> <text font-size="50" fill="lightblue" stroke="darkblue" filter="url(#genid369)" x="50" y="70">svgR</text>
</svg>
<p><strong>Note:</strong> Here, for feBlend, in1 is placed on top, in2 is placed below.</p>
<p>Alternatively, we can place the filter definition in a defs statement and refer to the filter by its id.</p>
<pre class="r"><code>WH=c(600, 120) # window rect
svgR( wh=WH,
  defs( 
    filter(
      id=&quot;blendFilter2&quot;, xy=c(-10,-10), wh=c(200,100),
      feOffset( in1=&quot;SourceAlpha&quot;, dxy=c(3,3), result=&quot;offset2&quot;), 
      feGaussianBlur(in1=&quot;offset2&quot;, stdDeviation=3, result=&quot;blur2&quot;),
      feBlend( in1=&quot;SourceGraphic&quot;,  in2=&quot;blur2&quot;, x=-10, width=200)
    )         
  ),
  text( 'svgR', xy=c(50,70), font.size=50,  fill=&quot;lightblue&quot;, stroke=&quot;darkblue&quot;,
           filter=&quot;url(#blendFilter2)&quot;)
  
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="600" height="120">
<defs> <filter id="blendFilter2" width="200" height="100" x="-10" y="-10"> <feOffset in="SourceAlpha" result="offset2" dx="3" dy="3"></feOffset> <feGaussianBlur in="offset2" stdDeviation="3" result="blur2"></feGaussianBlur> <feBlend in="SourceGraphic" in2="blur2" x="-10" width="200"></feBlend> </filter> </defs> <text font-size="50" fill="lightblue" stroke="darkblue" filter="url(#blendFilter2)" x="50" y="70">svgR</text>
</svg>
<p>Now suppose that we want to replace the black shadow with a different colored shadow, for example red. Recall that our shadow came about by applying a feGaussianBlur to a SourceAlpha. But SourceAlpha gives us black. So we need to replace SourceAlpha with something else. One way is to apply a red flood to the source graphic. To limit the flood to SourceGraphic, we will feComposite the flood with the SourceGraphic.</p>
<p>The following demonstrates our approach for obtaining the red text using the flood filter:</p>
<pre class="r"><code>#```{r, echo=T}
WH=c(800, 120) # window rect
svgR( wh=WH,
  text( 'svgR', xy=c(50,70), font.size=50,  fill=&quot;lightblue&quot;, stroke=&quot;darkblue&quot;,
    filter = filter(
      feComposite(
        operator=&quot;in&quot;,
        in1=feFlood(flood.color='red', full.opacity=1),
        in2=&quot;SourceGraphic&quot;
      )
    )
  )
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="120">
<filter id="genid371"> <feFlood flood-color="red" full-opacity="1" result="genid370"></feFlood> <feComposite operator="in" in="genid370" in2="SourceGraphic"></feComposite> </filter> <text font-size="50" fill="lightblue" stroke="darkblue" filter="url(#genid371)" x="50" y="70">svgR</text>
</svg>
<p>Now we replace SourceAlpha with the feComposite in our original drop shadow to get</p>
<pre class="r"><code>WH=c(800, 120) # window rect
svgR( wh=WH,
  text( 'svgR', xy=c(50,70), font.size=50,  fill=&quot;lightblue&quot;, stroke='darkblue',
    filter = filter(
      feBlend( x=-10, width=200,
        in1=&quot;SourceGraphic&quot;, 
        in2=feGaussianBlur( stdDeviation=3,
          in1=feOffset( dxy=c(3,3), 
              in1=feComposite( operator=&quot;in&quot;,
                  in1=feFlood(flood.color='red', full.opacity=1), 
                  in2=&quot;SourceGraphic&quot;
              )
          )
        )
      )
    )
  )
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="120">
<filter id="genid376"> <feFlood flood-color="red" full-opacity="1" result="genid372"></feFlood> <feComposite operator="in" in="genid372" in2="SourceGraphic" result="genid373"></feComposite> <feOffset in="genid373" dx="3" dy="3" result="genid374"></feOffset> <feGaussianBlur stdDeviation="3" in="genid374" result="genid375"></feGaussianBlur> <feBlend x="-10" width="200" in="SourceGraphic" in2="genid375"></feBlend> </filter> <text font-size="50" fill="lightblue" stroke="darkblue" filter="url(#genid376)" x="50" y="70">svgR</text>
</svg>
</div>
<div id="some-fun-with-fecomposite" class="section level4">
<h4>Some Fun with feComposite</h4>
<p>Lets return to our shadow example</p>
</div>
</div>
<div id="fun-with-drop-shadows" class="section level2">
<h2>Fun with Drop Shadows</h2>
<p>Lets have some fun with drop shadows and feComposite.</p>
<p>First lets change the color again.</p>
<pre class="r"><code>WH=c(800, 120) # window rect
svgR( wh=WH,
  text( 'svgR', xy=c(50,70), font.size=50,  fill=&quot;orange&quot;, stroke='brown',
    filter = filter(
      feBlend( x=-10, width=200,
        in1=&quot;SourceGraphic&quot;, 
        in2=feGaussianBlur( stdDeviation=3,
          in1=feOffset( dxy=c(3,3), 
              in1=feComposite( operator=&quot;in&quot;,
                  in1=feFlood(flood.color='blue', full.opacity=1), 
                  in2=&quot;SourceGraphic&quot;
              )
          )
        )
      )
    )
  )
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="120">
<filter id="genid381"> <feFlood flood-color="blue" full-opacity="1" result="genid377"></feFlood> <feComposite operator="in" in="genid377" in2="SourceGraphic" result="genid378"></feComposite> <feOffset in="genid378" dx="3" dy="3" result="genid379"></feOffset> <feGaussianBlur stdDeviation="3" in="genid379" result="genid380"></feGaussianBlur> <feBlend x="-10" width="200" in="SourceGraphic" in2="genid380"></feBlend> </filter> <text font-size="50" fill="orange" stroke="brown" filter="url(#genid381)" x="50" y="70">svgR</text>
</svg>
<p>Or stick with blue</p>
<pre class="r"><code>WH=c(800, 120) # window rect
svgR( wh=WH,
  text( 'svgR', xy=c(50,70), font.size=50,  fill=&quot;lightblue&quot;, stroke='blue',
    filter = filter(
      feBlend( x=-10, width=200,
        in1=&quot;SourceGraphic&quot;, 
        in2=feGaussianBlur( stdDeviation=3,
          in1=feOffset( dxy=c(3,3), 
              in1=feComposite( operator=&quot;in&quot;,
                  in1=feFlood(flood.color='blue', full.opacity=1), 
                  in2=&quot;SourceGraphic&quot;
              )
          )
        )
      )
    )
  )
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="120">
<filter id="genid386"> <feFlood flood-color="blue" full-opacity="1" result="genid382"></feFlood> <feComposite operator="in" in="genid382" in2="SourceGraphic" result="genid383"></feComposite> <feOffset in="genid383" dx="3" dy="3" result="genid384"></feOffset> <feGaussianBlur stdDeviation="3" in="genid384" result="genid385"></feGaussianBlur> <feBlend x="-10" width="200" in="SourceGraphic" in2="genid385"></feBlend> </filter> <text font-size="50" fill="lightblue" stroke="blue" filter="url(#genid386)" x="50" y="70">svgR</text>
</svg>
<p>Or play with the in operator of feComposite</p>
<pre class="r"><code>WH=c(800, 120) # window rect
operators=c(&quot;over&quot;,&quot;in&quot;,&quot;out&quot;,&quot;atop&quot;,&quot;xor&quot;)
svgR( wh=WH,
  lapply( 1:5, function(i){
    x=20+(i-1)*150
    g( 
      text( 'svgR', xy=c(x,55), font.size=50,  fill=&quot;lightblue&quot;, stroke='black',
        filter = filter(
          feComposite( x=x-10, width=200, 
            operator=operators[i],
            in1=&quot;SourceGraphic&quot;, 
            in2=feGaussianBlur( stdDeviation=5,
              in1=feOffset( dxy=c(3,3), in1=&quot;SourceAlpha&quot;)
            )
          )
        )
      ),
      text( operators[i], xy=c(x,92), font.size=15 )
    )
  })
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="120">
<g> <filter id="genid389"> <feOffset in="SourceAlpha" dx="3" dy="3" result="genid387"></feOffset> <feGaussianBlur stdDeviation="5" in="genid387" result="genid388"></feGaussianBlur> <feComposite x="10" width="200" operator="over" in="SourceGraphic" in2="genid388"></feComposite> </filter> <text font-size="50" fill="lightblue" stroke="black" filter="url(#genid389)" x="20" y="55">svgR</text> <text font-size="15" x="20" y="92">over</text> </g> <g> <filter id="genid392"> <feOffset in="SourceAlpha" dx="3" dy="3" result="genid390"></feOffset> <feGaussianBlur stdDeviation="5" in="genid390" result="genid391"></feGaussianBlur> <feComposite x="160" width="200" operator="in" in="SourceGraphic" in2="genid391"></feComposite> </filter> <text font-size="50" fill="lightblue" stroke="black" filter="url(#genid392)" x="170" y="55">svgR</text> <text font-size="15" x="170" y="92">in</text> </g> <g> <filter id="genid395"> <feOffset in="SourceAlpha" dx="3" dy="3" result="genid393"></feOffset> <feGaussianBlur stdDeviation="5" in="genid393" result="genid394"></feGaussianBlur> <feComposite x="310" width="200" operator="out" in="SourceGraphic" in2="genid394"></feComposite> </filter> <text font-size="50" fill="lightblue" stroke="black" filter="url(#genid395)" x="320" y="55">svgR</text> <text font-size="15" x="320" y="92">out</text> </g> <g> <filter id="genid398"> <feOffset in="SourceAlpha" dx="3" dy="3" result="genid396"></feOffset> <feGaussianBlur stdDeviation="5" in="genid396" result="genid397"></feGaussianBlur> <feComposite x="460" width="200" operator="atop" in="SourceGraphic" in2="genid397"></feComposite> </filter> <text font-size="50" fill="lightblue" stroke="black" filter="url(#genid398)" x="470" y="55">svgR</text> <text font-size="15" x="470" y="92">atop</text> </g> <g> <filter id="genid401"> <feOffset in="SourceAlpha" dx="3" dy="3" result="genid399"></feOffset> <feGaussianBlur stdDeviation="5" in="genid399" result="genid400"></feGaussianBlur> <feComposite x="610" width="200" operator="xor" in="SourceGraphic" in2="genid400"></feComposite> </filter> <text font-size="50" fill="lightblue" stroke="black" filter="url(#genid401)" x="620" y="55">svgR</text> <text font-size="15" x="620" y="92">xor</text> </g>
</svg>
<p>Next we modify the alpha channel</p>
<pre class="r"><code>WH=c(800, 120) # window rect
operators=c(&quot;over&quot;,&quot;in&quot;,&quot;out&quot;,&quot;atop&quot;,&quot;xor&quot;)
svgR( wh=WH,
  lapply( 1:5, function(i){
    x=20+(i-1)*150
    g( 
      text( 'svgR', xy=c(x,55), font.size=50,  fill=&quot;black&quot;, stroke='black',
        filter = filter(
          feComposite( x=x-10, width=200, 
            operator=operators[i],
            in1=&quot;SourceGraphic&quot;, 
            in2=feComponentTransfer(
             feFuncA( type='table', 
                       tableValues=c(0, .5, 0, .5, 0, .5, 0, .5) 
              ),
              in1=feGaussianBlur( stdDeviation=10, in1=&quot;SourceAlpha&quot;)
            )
          )
        )
      ),
      text( operators[i], xy=c(x,92), font.size=15 )
    )
  })
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="120">
<g> <filter id="genid404"> <feGaussianBlur stdDeviation="10" in="SourceAlpha" result="genid402"></feGaussianBlur> <feComponentTransfer in="genid402" result="genid403"> <feFuncA type="table" tableValues="c(0, 0.5, 0, 0.5, 0, 0.5, 0, 0.5)"></feFuncA> </feComponentTransfer> <feComposite x="10" width="200" operator="over" in="SourceGraphic" in2="genid403"></feComposite> </filter> <text font-size="50" fill="black" stroke="black" filter="url(#genid404)" x="20" y="55">svgR</text> <text font-size="15" x="20" y="92">over</text> </g> <g> <filter id="genid407"> <feGaussianBlur stdDeviation="10" in="SourceAlpha" result="genid405"></feGaussianBlur> <feComponentTransfer in="genid405" result="genid406"> <feFuncA type="table" tableValues="c(0, 0.5, 0, 0.5, 0, 0.5, 0, 0.5)"></feFuncA> </feComponentTransfer> <feComposite x="160" width="200" operator="in" in="SourceGraphic" in2="genid406"></feComposite> </filter> <text font-size="50" fill="black" stroke="black" filter="url(#genid407)" x="170" y="55">svgR</text> <text font-size="15" x="170" y="92">in</text> </g> <g> <filter id="genid410"> <feGaussianBlur stdDeviation="10" in="SourceAlpha" result="genid408"></feGaussianBlur> <feComponentTransfer in="genid408" result="genid409"> <feFuncA type="table" tableValues="c(0, 0.5, 0, 0.5, 0, 0.5, 0, 0.5)"></feFuncA> </feComponentTransfer> <feComposite x="310" width="200" operator="out" in="SourceGraphic" in2="genid409"></feComposite> </filter> <text font-size="50" fill="black" stroke="black" filter="url(#genid410)" x="320" y="55">svgR</text> <text font-size="15" x="320" y="92">out</text> </g> <g> <filter id="genid413"> <feGaussianBlur stdDeviation="10" in="SourceAlpha" result="genid411"></feGaussianBlur> <feComponentTransfer in="genid411" result="genid412"> <feFuncA type="table" tableValues="c(0, 0.5, 0, 0.5, 0, 0.5, 0, 0.5)"></feFuncA> </feComponentTransfer> <feComposite x="460" width="200" operator="atop" in="SourceGraphic" in2="genid412"></feComposite> </filter> <text font-size="50" fill="black" stroke="black" filter="url(#genid413)" x="470" y="55">svgR</text> <text font-size="15" x="470" y="92">atop</text> </g> <g> <filter id="genid416"> <feGaussianBlur stdDeviation="10" in="SourceAlpha" result="genid414"></feGaussianBlur> <feComponentTransfer in="genid414" result="genid415"> <feFuncA type="table" tableValues="c(0, 0.5, 0, 0.5, 0, 0.5, 0, 0.5)"></feFuncA> </feComponentTransfer> <feComposite x="610" width="200" operator="xor" in="SourceGraphic" in2="genid415"></feComposite> </filter> <text font-size="50" fill="black" stroke="black" filter="url(#genid416)" x="620" y="55">svgR</text> <text font-size="15" x="620" y="92">xor</text> </g>
</svg>
</div>
<div id="fecomponenttransfer-1" class="section level2">
<h2>feComponentTransfer</h2>
<p>Colors can also be remapped using feComponentTransfer and the components feFuncR, feFuncG, feFuncB, feFuncA. The feFuncXs correspond to the Red, Green, Blue, and Alpha channels. Each channel has a value between between 0 and 1 which can be reassinged using the component transfers. There are four types of color component transfers:</p>
<ul>
<li><strong>table</strong>: Reassigns the colors according to a piece-wise continous linear function that is specified by a table&quot; values of points. The points are assumend to form a uniform partion of [0,1] so only the values need to be specified. (Using linear interpolation of the values between the points)</li>
<li><strong>linear</strong> Similar to table, but with only 2 points. The function is specifed using the slope and intercept</li>
<li><strong>discrete</strong> Reassigns the colors according to a step function that is specified by a table&quot; of points. Again the points are assumed to be a uniform partition of [0,1], so only the values need be specified in the table.&quot; (Between points, the output is the value of the nearest point.</li>
<li><strong>gamma</strong> The value is given by <span class="math inline">\(C_{out} = \alpha \times C_{in}^\gamma + \beta\)</span></li>
</ul>
<div id="fecomponenttransfer-table-1" class="section level4">
<h4>feComponentTransfer: Table</h4>
<p>We illustrate this with a simple example that interchanges the colors blue and red of a color spectrum.</p>
<pre class="r"><code>WH=c(800, 200) # window rect
colors=c('red','blue')
svgR( wh=WH, stroke=&quot;black&quot;,
  rect(wh=c(.6,.3)*WH, xy=c(.2,0)*WH, 
       fill=linearGradient(colors=colors)
  ),
  rect(wh=c(.6,.3)*WH, xy=c(.2,.3)*WH, 
       fill=linearGradient(colors=colors),
       filter=filter( 
          feComponentTransfer( 
              feFuncR( type=&quot;table&quot;, tableValues=&quot;1 0&quot;),
              feFuncB( type=&quot;table&quot;, tableValues=&quot;1 0 &quot;)
          )
        )
  ),
  text('original', xy=c(20,1.5*WH[2])),
  text('transfered', xy=c(20,4.5*WH[2])),
  text('feComponentTransfer using type=&quot;table&quot;', cxy=c(.5,.8)*WH)
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" stroke="black" id="root" width="800" height="200">
<linearGradient id="genid417"> <stop offset="0%" stop-color="red"></stop> <stop offset="100%" stop-color="blue"></stop> </linearGradient> <rect fill="url(#genid417)" width="480" height="60" x="160" y="0"></rect> <filter id="genid418"> <feComponentTransfer> <feFuncR type="table" tableValues="1 0"></feFuncR> <feFuncB type="table" tableValues="1 0 "></feFuncB> </feComponentTransfer> </filter> <linearGradient id="genid419"> <stop offset="0%" stop-color="red"></stop> <stop offset="100%" stop-color="blue"></stop> </linearGradient> <rect fill="url(#genid419)" filter="url(#genid418)" width="480" height="60" x="160" y="60"></rect> <text x="20" y="300">original</text> <text x="20" y="900">transfered</text> <text text-anchor="middle" dominant-baseline="central" x="400" y="160">feComponentTransfer using type=table</text>
</svg>
</div>
<div id="fecomponenttransfer-linear-1" class="section level4">
<h4>feComponentTransfer: Linear</h4>
<pre class="r"><code>WH=c(800, 200) # window rect
colors=c('red','blue')
svgR( wh=WH, stroke=&quot;black&quot;,
  rect(wh=c(.6,.3)*WH, xy=c(.2,0)*WH, 
       fill=linearGradient(colors=colors)
  ),
  rect(wh=c(.6,.3)*WH, xy=c(.2,.3)*WH, 
       fill=linearGradient(colors=colors),
       filter=filter( 
          feComponentTransfer( 
              feFuncR( type=&quot;linear&quot;, intercept=1, slope=-1),
              feFuncB( type=&quot;linear&quot;, intercept=1, slope=-1)
          )
        )
  ),
  text('original', xy=c(20,1.5*WH[2])),
  text('transfered', xy=c(20,4.5*WH[2])),
  text('feComponentTransfer using type=&quot;linear&quot;', cxy=c(.5,.8)*WH)
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" stroke="black" id="root" width="800" height="200">
<linearGradient id="genid420"> <stop offset="0%" stop-color="red"></stop> <stop offset="100%" stop-color="blue"></stop> </linearGradient> <rect fill="url(#genid420)" width="480" height="60" x="160" y="0"></rect> <filter id="genid421"> <feComponentTransfer> <feFuncR type="linear" intercept="1" slope="-1"></feFuncR> <feFuncB type="linear" intercept="1" slope="-1"></feFuncB> </feComponentTransfer> </filter> <linearGradient id="genid422"> <stop offset="0%" stop-color="red"></stop> <stop offset="100%" stop-color="blue"></stop> </linearGradient> <rect fill="url(#genid422)" filter="url(#genid421)" width="480" height="60" x="160" y="60"></rect> <text x="20" y="300">original</text> <text x="20" y="900">transfered</text> <text text-anchor="middle" dominant-baseline="central" x="400" y="160">feComponentTransfer using type=linear</text>
</svg>
</div>
<div id="fecomponenttransfer-discrete-1" class="section level4">
<h4>feComponentTransfer: Discrete</h4>
<pre class="r"><code>WH=c(800, 200) # window rect
colors=c('red','blue')
svgR( wh=WH, stroke=&quot;black&quot;,
  rect(wh=c(.6,.3)*WH, xy=c(.2,0)*WH, 
       fill=linearGradient(colors=colors)
  ),
  rect(wh=c(.6,.3)*WH, xy=c(.2,.3)*WH, 
       fill=linearGradient(colors=colors),
       filter=filter( 
          feComponentTransfer( 
              feFuncR( type=&quot;discrete&quot;, tableValues=&quot;1 0&quot;),
              feFuncB( type=&quot;discrete&quot;, tableValues=&quot;1 0 &quot;)
          )
        )
  ),
  text('original', xy=c(20,1.5*WH[2])),
  text('transfered', xy=c(20,4.5*WH[2])),
  text('feComponentTransfer using type=&quot;discrete&quot;', cxy=c(.5,.8)*WH)
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" stroke="black" id="root" width="800" height="200">
<linearGradient id="genid423"> <stop offset="0%" stop-color="red"></stop> <stop offset="100%" stop-color="blue"></stop> </linearGradient> <rect fill="url(#genid423)" width="480" height="60" x="160" y="0"></rect> <filter id="genid424"> <feComponentTransfer> <feFuncR type="discrete" tableValues="1 0"></feFuncR> <feFuncB type="discrete" tableValues="1 0 "></feFuncB> </feComponentTransfer> </filter> <linearGradient id="genid425"> <stop offset="0%" stop-color="red"></stop> <stop offset="100%" stop-color="blue"></stop> </linearGradient> <rect fill="url(#genid425)" filter="url(#genid424)" width="480" height="60" x="160" y="60"></rect> <text x="20" y="300">original</text> <text x="20" y="900">transfered</text> <text text-anchor="middle" dominant-baseline="central" x="400" y="160">feComponentTransfer using type=discrete</text>
</svg>
</div>
<div id="fecomponenttransfer-gamma-exponent1-1" class="section level4">
<h4>feComponentTransfer: Gamma exponent=1</h4>
<pre class="r"><code>WH=c(800, 200) # window rect
colors=c('red','blue')
svgR( wh=WH, stroke=&quot;black&quot;,
  rect(wh=c(.6,.3)*WH, xy=c(.2,0)*WH, 
       fill=linearGradient(colors=colors)
  ),
  rect(wh=c(.6,.3)*WH, xy=c(.2,.3)*WH, 
       fill=linearGradient(colors=colors),
       filter=filter( 
          feComponentTransfer( 
              feFuncR( type=&quot;gamma&quot;, offset=1, amplitude=-1, exponent=1),
              feFuncB( type=&quot;gamma&quot;, offset=1, amplitude=-1, exponent=1)
          )
        )
  ),
  text('original', xy=c(20,1.5*WH[2])),
  text('transfered', xy=c(20,4.5*WH[2])),
  text('feComponentTransfer using type=&quot;gamma&quot;', cxy=c(.5,.8)*WH)
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" stroke="black" id="root" width="800" height="200">
<linearGradient id="genid426"> <stop offset="0%" stop-color="red"></stop> <stop offset="100%" stop-color="blue"></stop> </linearGradient> <rect fill="url(#genid426)" width="480" height="60" x="160" y="0"></rect> <filter id="genid427"> <feComponentTransfer> <feFuncR type="gamma" offset="1" amplitude="-1" exponent="1"></feFuncR> <feFuncB type="gamma" offset="1" amplitude="-1" exponent="1"></feFuncB> </feComponentTransfer> </filter> <linearGradient id="genid428"> <stop offset="0%" stop-color="red"></stop> <stop offset="100%" stop-color="blue"></stop> </linearGradient> <rect fill="url(#genid428)" filter="url(#genid427)" width="480" height="60" x="160" y="60"></rect> <text x="20" y="300">original</text> <text x="20" y="900">transfered</text> <text text-anchor="middle" dominant-baseline="central" x="400" y="160">feComponentTransfer using type=gamma</text>
</svg>
</div>
<div id="fecomponenttransfer-gamma-exponent10-1" class="section level4">
<h4>feComponentTransfer: Gamma, exponent=10</h4>
<pre class="r"><code>WH=c(800, 200) # window rect
colors=c('red','blue')
svgR( wh=WH, stroke=&quot;black&quot;,
  rect(wh=c(.6,.3)*WH, xy=c(.2,0)*WH, 
       fill=linearGradient(colors=colors)
  ),
  rect(wh=c(.6,.3)*WH, xy=c(.2,.3)*WH, 
       fill=linearGradient(colors=colors),
       filter=filter( 
          feComponentTransfer( 
              feFuncR( type=&quot;gamma&quot;, offset=1, amplitude=-1, exponent=2),
              feFuncB( type=&quot;gamma&quot;, offset=1, amplitude=-1, exponent=2)
          )
        )
  ),
  text('original', xy=c(20,1.5*WH[2])),
  text('transfered', xy=c(20,4.5*WH[2])),
  text('feComponentTransfer using type=&quot;table&quot;', cxy=c(.5,.8)*WH)
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" stroke="black" id="root" width="800" height="200">
<linearGradient id="genid429"> <stop offset="0%" stop-color="red"></stop> <stop offset="100%" stop-color="blue"></stop> </linearGradient> <rect fill="url(#genid429)" width="480" height="60" x="160" y="0"></rect> <filter id="genid430"> <feComponentTransfer> <feFuncR type="gamma" offset="1" amplitude="-1" exponent="2"></feFuncR> <feFuncB type="gamma" offset="1" amplitude="-1" exponent="2"></feFuncB> </feComponentTransfer> </filter> <linearGradient id="genid431"> <stop offset="0%" stop-color="red"></stop> <stop offset="100%" stop-color="blue"></stop> </linearGradient> <rect fill="url(#genid431)" filter="url(#genid430)" width="480" height="60" x="160" y="60"></rect> <text x="20" y="300">original</text> <text x="20" y="900">transfered</text> <text text-anchor="middle" dominant-baseline="central" x="400" y="160">feComponentTransfer using type=table</text>
</svg>
</div>
<div id="fecomponenttransfer-inverting-the-grey-scale-1" class="section level3">
<h3>feComponentTransfer: Inverting the grey scale</h3>
<pre class="r"><code>WH=c(800, 200) # window rect
colors=c('red','blue')
svgR( wh=WH, stroke=&quot;black&quot;,
  rect(wh=c(.6,.3)*WH, xy=c(.2,0)*WH, 
       fill=linearGradient(colors=colors)
  ),
  rect(wh=c(.6,.3)*WH, xy=c(.2,.3)*WH, 
       fill=linearGradient(colors=colors),
       filter=filter( 
          feComponentTransfer( 
              feFuncR( type=&quot;table&quot;, tableValues=&quot;1 0&quot;),
              feFuncG( type=&quot;table&quot;, tableValues=&quot;1 0&quot;),
              feFuncB( type=&quot;table&quot;, tableValues=&quot;1 0 &quot;)
          )
        )
  ),
  text('original', xy=c(20,1.5*WH[2])),
  text('transfered', xy=c(20,4.5*WH[2])),
  text('feComponentTransfer using type=&quot;table&quot;', cxy=c(.5,.8)*WH)
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" stroke="black" id="root" width="800" height="200">
<linearGradient id="genid432"> <stop offset="0%" stop-color="red"></stop> <stop offset="100%" stop-color="blue"></stop> </linearGradient> <rect fill="url(#genid432)" width="480" height="60" x="160" y="0"></rect> <filter id="genid433"> <feComponentTransfer> <feFuncR type="table" tableValues="1 0"></feFuncR> <feFuncG type="table" tableValues="1 0"></feFuncG> <feFuncB type="table" tableValues="1 0 "></feFuncB> </feComponentTransfer> </filter> <linearGradient id="genid434"> <stop offset="0%" stop-color="red"></stop> <stop offset="100%" stop-color="blue"></stop> </linearGradient> <rect fill="url(#genid434)" filter="url(#genid433)" width="480" height="60" x="160" y="60"></rect> <text x="20" y="300">original</text> <text x="20" y="900">transfered</text> <text text-anchor="middle" dominant-baseline="central" x="400" y="160">feComponentTransfer using type=table</text>
</svg>
<!-- Textures -->
</div>
</div>
</div>
<div id="textures" class="section level1">
<h1>Textures</h1>
<div id="a-simple-example" class="section level2">
<h2>A Simple Example</h2>
<p>To create textures, we often employ the <strong>feTurbulance</strong> filter primitive. The feTurlence supports two <em>types</em>:</p>
<ul>
<li>type=turbulence (default)</li>
<li>type =fractal</li>
</ul>
<p>A simple example of the former is:</p>
<pre class="r"><code>WH=c(800, 100) # window rect
svgR( wh=WH,
      use(
        filter=filter(
          feTurbulence(baseFrequency=0.1, numOctaves=2 ) 
        )
      )
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="100">
<filter id="genid435"> <feTurbulence baseFrequency="0.1" numOctaves="2"></feTurbulence> </filter> <use filter="url(#genid435)"></use>
</svg>
<p>Here we have specified</p>
<ul>
<li><em>baseFrequency</em>=0.1</li>
<li><em>numOctaves</em>=2</li>
</ul>
</div>
<div id="basefrequency" class="section level2">
<h2>baseFrequency</h2>
<p>The effect of base frequence is seen here</p>
<pre class="r"><code>WH=c(800, 880) # window rect
N&lt;-99
bfreq&lt;-1:N * .003
svgR( wh=WH,
  text('Base frequencey Effects', xy=c(WH[1]/2, 20)),
  lapply( 1:N, function(i){
    x&lt;-((i-1)%%11)*70
    y&lt;-(floor((i-1)/11))*90+50
    g(
      use( filter=filter( xy=c(x,y), wh=c(60,60),
          feTurbulence(baseFrequency=bfreq[i], numOctaves=2) 
        ) ),
      text(bfreq[i], xy=c(x,y-10))

    )
  })
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="880">
<text x="400" y="20">Base frequencey Effects</text> <g> <filter width="60" height="60" x="0" y="50" id="genid436"> <feTurbulence baseFrequency="0.003" numOctaves="2"></feTurbulence> </filter> <use filter="url(#genid436)"></use> <text x="0" y="40">0.003</text> </g> <g> <filter width="60" height="60" x="70" y="50" id="genid437"> <feTurbulence baseFrequency="0.006" numOctaves="2"></feTurbulence> </filter> <use filter="url(#genid437)"></use> <text x="70" y="40">0.006</text> </g> <g> <filter width="60" height="60" x="140" y="50" id="genid438"> <feTurbulence baseFrequency="0.009" numOctaves="2"></feTurbulence> </filter> <use filter="url(#genid438)"></use> <text x="140" y="40">0.009</text> </g> <g> <filter width="60" height="60" x="210" y="50" id="genid439"> <feTurbulence baseFrequency="0.012" numOctaves="2"></feTurbulence> </filter> <use filter="url(#genid439)"></use> <text x="210" y="40">0.012</text> </g> <g> <filter width="60" height="60" x="280" y="50" id="genid440"> <feTurbulence baseFrequency="0.015" numOctaves="2"></feTurbulence> </filter> <use filter="url(#genid440)"></use> <text x="280" y="40">0.015</text> </g> <g> <filter width="60" height="60" x="350" y="50" id="genid441"> <feTurbulence baseFrequency="0.018" numOctaves="2"></feTurbulence> </filter> <use filter="url(#genid441)"></use> <text x="350" y="40">0.018</text> </g> <g> <filter width="60" height="60" x="420" y="50" id="genid442"> <feTurbulence baseFrequency="0.021" numOctaves="2"></feTurbulence> </filter> <use filter="url(#genid442)"></use> <text x="420" y="40">0.021</text> </g> <g> <filter width="60" height="60" x="490" y="50" id="genid443"> <feTurbulence baseFrequency="0.024" numOctaves="2"></feTurbulence> </filter> <use filter="url(#genid443)"></use> <text x="490" y="40">0.024</text> </g> <g> <filter width="60" height="60" x="560" y="50" id="genid444"> <feTurbulence baseFrequency="0.027" numOctaves="2"></feTurbulence> </filter> <use filter="url(#genid444)"></use> <text x="560" y="40">0.027</text> </g> <g> <filter width="60" height="60" x="630" y="50" id="genid445"> <feTurbulence baseFrequency="0.03" numOctaves="2"></feTurbulence> </filter> <use filter="url(#genid445)"></use> <text x="630" y="40">0.03</text> </g> <g> <filter width="60" height="60" x="700" y="50" id="genid446"> <feTurbulence baseFrequency="0.033" numOctaves="2"></feTurbulence> </filter> <use filter="url(#genid446)"></use> <text x="700" y="40">0.033</text> </g> <g> <filter width="60" height="60" x="0" y="140" id="genid447"> <feTurbulence baseFrequency="0.036" numOctaves="2"></feTurbulence> </filter> <use filter="url(#genid447)"></use> <text x="0" y="130">0.036</text> </g> <g> <filter width="60" height="60" x="70" y="140" id="genid448"> <feTurbulence baseFrequency="0.039" numOctaves="2"></feTurbulence> </filter> <use filter="url(#genid448)"></use> <text x="70" y="130">0.039</text> </g> <g> <filter width="60" height="60" x="140" y="140" id="genid449"> <feTurbulence baseFrequency="0.042" numOctaves="2"></feTurbulence> </filter> <use filter="url(#genid449)"></use> <text x="140" y="130">0.042</text> </g> <g> <filter width="60" height="60" x="210" y="140" id="genid450"> <feTurbulence baseFrequency="0.045" numOctaves="2"></feTurbulence> </filter> <use filter="url(#genid450)"></use> <text x="210" y="130">0.045</text> </g> <g> <filter width="60" height="60" x="280" y="140" id="genid451"> <feTurbulence baseFrequency="0.048" numOctaves="2"></feTurbulence> </filter> <use filter="url(#genid451)"></use> <text x="280" y="130">0.048</text> </g> <g> <filter width="60" height="60" x="350" y="140" id="genid452"> <feTurbulence baseFrequency="0.051" numOctaves="2"></feTurbulence> </filter> <use filter="url(#genid452)"></use> <text x="350" y="130">0.051</text> </g> <g> <filter width="60" height="60" x="420" y="140" id="genid453"> <feTurbulence baseFrequency="0.054" numOctaves="2"></feTurbulence> </filter> <use filter="url(#genid453)"></use> <text x="420" y="130">0.054</text> </g> <g> <filter width="60" height="60" x="490" y="140" id="genid454"> <feTurbulence baseFrequency="0.057" numOctaves="2"></feTurbulence> </filter> <use filter="url(#genid454)"></use> <text x="490" y="130">0.057</text> </g> <g> <filter width="60" height="60" x="560" y="140" id="genid455"> <feTurbulence baseFrequency="0.06" numOctaves="2"></feTurbulence> </filter> <use filter="url(#genid455)"></use> <text x="560" y="130">0.06</text> </g> <g> <filter width="60" height="60" x="630" y="140" id="genid456"> <feTurbulence baseFrequency="0.063" numOctaves="2"></feTurbulence> </filter> <use filter="url(#genid456)"></use> <text x="630" y="130">0.063</text> </g> <g> <filter width="60" height="60" x="700" y="140" id="genid457"> <feTurbulence baseFrequency="0.066" numOctaves="2"></feTurbulence> </filter> <use filter="url(#genid457)"></use> <text x="700" y="130">0.066</text> </g> <g> <filter width="60" height="60" x="0" y="230" id="genid458"> <feTurbulence baseFrequency="0.069" numOctaves="2"></feTurbulence> </filter> <use filter="url(#genid458)"></use> <text x="0" y="220">0.069</text> </g> <g> <filter width="60" height="60" x="70" y="230" id="genid459"> <feTurbulence baseFrequency="0.072" numOctaves="2"></feTurbulence> </filter> <use filter="url(#genid459)"></use> <text x="70" y="220">0.072</text> </g> <g> <filter width="60" height="60" x="140" y="230" id="genid460"> <feTurbulence baseFrequency="0.075" numOctaves="2"></feTurbulence> </filter> <use filter="url(#genid460)"></use> <text x="140" y="220">0.075</text> </g> <g> <filter width="60" height="60" x="210" y="230" id="genid461"> <feTurbulence baseFrequency="0.078" numOctaves="2"></feTurbulence> </filter> <use filter="url(#genid461)"></use> <text x="210" y="220">0.078</text> </g> <g> <filter width="60" height="60" x="280" y="230" id="genid462"> <feTurbulence baseFrequency="0.081" numOctaves="2"></feTurbulence> </filter> <use filter="url(#genid462)"></use> <text x="280" y="220">0.081</text> </g> <g> <filter width="60" height="60" x="350" y="230" id="genid463"> <feTurbulence baseFrequency="0.084" numOctaves="2"></feTurbulence> </filter> <use filter="url(#genid463)"></use> <text x="350" y="220">0.084</text> </g> <g> <filter width="60" height="60" x="420" y="230" id="genid464"> <feTurbulence baseFrequency="0.087" numOctaves="2"></feTurbulence> </filter> <use filter="url(#genid464)"></use> <text x="420" y="220">0.087</text> </g> <g> <filter width="60" height="60" x="490" y="230" id="genid465"> <feTurbulence baseFrequency="0.09" numOctaves="2"></feTurbulence> </filter> <use filter="url(#genid465)"></use> <text x="490" y="220">0.09</text> </g> <g> <filter width="60" height="60" x="560" y="230" id="genid466"> <feTurbulence baseFrequency="0.093" numOctaves="2"></feTurbulence> </filter> <use filter="url(#genid466)"></use> <text x="560" y="220">0.093</text> </g> <g> <filter width="60" height="60" x="630" y="230" id="genid467"> <feTurbulence baseFrequency="0.096" numOctaves="2"></feTurbulence> </filter> <use filter="url(#genid467)"></use> <text x="630" y="220">0.096</text> </g> <g> <filter width="60" height="60" x="700" y="230" id="genid468"> <feTurbulence baseFrequency="0.099" numOctaves="2"></feTurbulence> </filter> <use filter="url(#genid468)"></use> <text x="700" y="220">0.099</text> </g> <g> <filter width="60" height="60" x="0" y="320" id="genid469"> <feTurbulence baseFrequency="0.102" numOctaves="2"></feTurbulence> </filter> <use filter="url(#genid469)"></use> <text x="0" y="310">0.102</text> </g> <g> <filter width="60" height="60" x="70" y="320" id="genid470"> <feTurbulence baseFrequency="0.105" numOctaves="2"></feTurbulence> </filter> <use filter="url(#genid470)"></use> <text x="70" y="310">0.105</text> </g> <g> <filter width="60" height="60" x="140" y="320" id="genid471"> <feTurbulence baseFrequency="0.108" numOctaves="2"></feTurbulence> </filter> <use filter="url(#genid471)"></use> <text x="140" y="310">0.108</text> </g> <g> <filter width="60" height="60" x="210" y="320" id="genid472"> <feTurbulence baseFrequency="0.111" numOctaves="2"></feTurbulence> </filter> <use filter="url(#genid472)"></use> <text x="210" y="310">0.111</text> </g> <g> <filter width="60" height="60" x="280" y="320" id="genid473"> <feTurbulence baseFrequency="0.114" numOctaves="2"></feTurbulence> </filter> <use filter="url(#genid473)"></use> <text x="280" y="310">0.114</text> </g> <g> <filter width="60" height="60" x="350" y="320" id="genid474"> <feTurbulence baseFrequency="0.117" numOctaves="2"></feTurbulence> </filter> <use filter="url(#genid474)"></use> <text x="350" y="310">0.117</text> </g> <g> <filter width="60" height="60" x="420" y="320" id="genid475"> <feTurbulence baseFrequency="0.12" numOctaves="2"></feTurbulence> </filter> <use filter="url(#genid475)"></use> <text x="420" y="310">0.12</text> </g> <g> <filter width="60" height="60" x="490" y="320" id="genid476"> <feTurbulence baseFrequency="0.123" numOctaves="2"></feTurbulence> </filter> <use filter="url(#genid476)"></use> <text x="490" y="310">0.123</text> </g> <g> <filter width="60" height="60" x="560" y="320" id="genid477"> <feTurbulence baseFrequency="0.126" numOctaves="2"></feTurbulence> </filter> <use filter="url(#genid477)"></use> <text x="560" y="310">0.126</text> </g> <g> <filter width="60" height="60" x="630" y="320" id="genid478"> <feTurbulence baseFrequency="0.129" numOctaves="2"></feTurbulence> </filter> <use filter="url(#genid478)"></use> <text x="630" y="310">0.129</text> </g> <g> <filter width="60" height="60" x="700" y="320" id="genid479"> <feTurbulence baseFrequency="0.132" numOctaves="2"></feTurbulence> </filter> <use filter="url(#genid479)"></use> <text x="700" y="310">0.132</text> </g> <g> <filter width="60" height="60" x="0" y="410" id="genid480"> <feTurbulence baseFrequency="0.135" numOctaves="2"></feTurbulence> </filter> <use filter="url(#genid480)"></use> <text x="0" y="400">0.135</text> </g> <g> <filter width="60" height="60" x="70" y="410" id="genid481"> <feTurbulence baseFrequency="0.138" numOctaves="2"></feTurbulence> </filter> <use filter="url(#genid481)"></use> <text x="70" y="400">0.138</text> </g> <g> <filter width="60" height="60" x="140" y="410" id="genid482"> <feTurbulence baseFrequency="0.141" numOctaves="2"></feTurbulence> </filter> <use filter="url(#genid482)"></use> <text x="140" y="400">0.141</text> </g> <g> <filter width="60" height="60" x="210" y="410" id="genid483"> <feTurbulence baseFrequency="0.144" numOctaves="2"></feTurbulence> </filter> <use filter="url(#genid483)"></use> <text x="210" y="400">0.144</text> </g> <g> <filter width="60" height="60" x="280" y="410" id="genid484"> <feTurbulence baseFrequency="0.147" numOctaves="2"></feTurbulence> </filter> <use filter="url(#genid484)"></use> <text x="280" y="400">0.147</text> </g> <g> <filter width="60" height="60" x="350" y="410" id="genid485"> <feTurbulence baseFrequency="0.15" numOctaves="2"></feTurbulence> </filter> <use filter="url(#genid485)"></use> <text x="350" y="400">0.15</text> </g> <g> <filter width="60" height="60" x="420" y="410" id="genid486"> <feTurbulence baseFrequency="0.153" numOctaves="2"></feTurbulence> </filter> <use filter="url(#genid486)"></use> <text x="420" y="400">0.153</text> </g> <g> <filter width="60" height="60" x="490" y="410" id="genid487"> <feTurbulence baseFrequency="0.156" numOctaves="2"></feTurbulence> </filter> <use filter="url(#genid487)"></use> <text x="490" y="400">0.156</text> </g> <g> <filter width="60" height="60" x="560" y="410" id="genid488"> <feTurbulence baseFrequency="0.159" numOctaves="2"></feTurbulence> </filter> <use filter="url(#genid488)"></use> <text x="560" y="400">0.159</text> </g> <g> <filter width="60" height="60" x="630" y="410" id="genid489"> <feTurbulence baseFrequency="0.162" numOctaves="2"></feTurbulence> </filter> <use filter="url(#genid489)"></use> <text x="630" y="400">0.162</text> </g> <g> <filter width="60" height="60" x="700" y="410" id="genid490"> <feTurbulence baseFrequency="0.165" numOctaves="2"></feTurbulence> </filter> <use filter="url(#genid490)"></use> <text x="700" y="400">0.165</text> </g> <g> <filter width="60" height="60" x="0" y="500" id="genid491"> <feTurbulence baseFrequency="0.168" numOctaves="2"></feTurbulence> </filter> <use filter="url(#genid491)"></use> <text x="0" y="490">0.168</text> </g> <g> <filter width="60" height="60" x="70" y="500" id="genid492"> <feTurbulence baseFrequency="0.171" numOctaves="2"></feTurbulence> </filter> <use filter="url(#genid492)"></use> <text x="70" y="490">0.171</text> </g> <g> <filter width="60" height="60" x="140" y="500" id="genid493"> <feTurbulence baseFrequency="0.174" numOctaves="2"></feTurbulence> </filter> <use filter="url(#genid493)"></use> <text x="140" y="490">0.174</text> </g> <g> <filter width="60" height="60" x="210" y="500" id="genid494"> <feTurbulence baseFrequency="0.177" numOctaves="2"></feTurbulence> </filter> <use filter="url(#genid494)"></use> <text x="210" y="490">0.177</text> </g> <g> <filter width="60" height="60" x="280" y="500" id="genid495"> <feTurbulence baseFrequency="0.18" numOctaves="2"></feTurbulence> </filter> <use filter="url(#genid495)"></use> <text x="280" y="490">0.18</text> </g> <g> <filter width="60" height="60" x="350" y="500" id="genid496"> <feTurbulence baseFrequency="0.183" numOctaves="2"></feTurbulence> </filter> <use filter="url(#genid496)"></use> <text x="350" y="490">0.183</text> </g> <g> <filter width="60" height="60" x="420" y="500" id="genid497"> <feTurbulence baseFrequency="0.186" numOctaves="2"></feTurbulence> </filter> <use filter="url(#genid497)"></use> <text x="420" y="490">0.186</text> </g> <g> <filter width="60" height="60" x="490" y="500" id="genid498"> <feTurbulence baseFrequency="0.189" numOctaves="2"></feTurbulence> </filter> <use filter="url(#genid498)"></use> <text x="490" y="490">0.189</text> </g> <g> <filter width="60" height="60" x="560" y="500" id="genid499"> <feTurbulence baseFrequency="0.192" numOctaves="2"></feTurbulence> </filter> <use filter="url(#genid499)"></use> <text x="560" y="490">0.192</text> </g> <g> <filter width="60" height="60" x="630" y="500" id="genid500"> <feTurbulence baseFrequency="0.195" numOctaves="2"></feTurbulence> </filter> <use filter="url(#genid500)"></use> <text x="630" y="490">0.195</text> </g> <g> <filter width="60" height="60" x="700" y="500" id="genid501"> <feTurbulence baseFrequency="0.198" numOctaves="2"></feTurbulence> </filter> <use filter="url(#genid501)"></use> <text x="700" y="490">0.198</text> </g> <g> <filter width="60" height="60" x="0" y="590" id="genid502"> <feTurbulence baseFrequency="0.201" numOctaves="2"></feTurbulence> </filter> <use filter="url(#genid502)"></use> <text x="0" y="580">0.201</text> </g> <g> <filter width="60" height="60" x="70" y="590" id="genid503"> <feTurbulence baseFrequency="0.204" numOctaves="2"></feTurbulence> </filter> <use filter="url(#genid503)"></use> <text x="70" y="580">0.204</text> </g> <g> <filter width="60" height="60" x="140" y="590" id="genid504"> <feTurbulence baseFrequency="0.207" numOctaves="2"></feTurbulence> </filter> <use filter="url(#genid504)"></use> <text x="140" y="580">0.207</text> </g> <g> <filter width="60" height="60" x="210" y="590" id="genid505"> <feTurbulence baseFrequency="0.21" numOctaves="2"></feTurbulence> </filter> <use filter="url(#genid505)"></use> <text x="210" y="580">0.21</text> </g> <g> <filter width="60" height="60" x="280" y="590" id="genid506"> <feTurbulence baseFrequency="0.213" numOctaves="2"></feTurbulence> </filter> <use filter="url(#genid506)"></use> <text x="280" y="580">0.213</text> </g> <g> <filter width="60" height="60" x="350" y="590" id="genid507"> <feTurbulence baseFrequency="0.216" numOctaves="2"></feTurbulence> </filter> <use filter="url(#genid507)"></use> <text x="350" y="580">0.216</text> </g> <g> <filter width="60" height="60" x="420" y="590" id="genid508"> <feTurbulence baseFrequency="0.219" numOctaves="2"></feTurbulence> </filter> <use filter="url(#genid508)"></use> <text x="420" y="580">0.219</text> </g> <g> <filter width="60" height="60" x="490" y="590" id="genid509"> <feTurbulence baseFrequency="0.222" numOctaves="2"></feTurbulence> </filter> <use filter="url(#genid509)"></use> <text x="490" y="580">0.222</text> </g> <g> <filter width="60" height="60" x="560" y="590" id="genid510"> <feTurbulence baseFrequency="0.225" numOctaves="2"></feTurbulence> </filter> <use filter="url(#genid510)"></use> <text x="560" y="580">0.225</text> </g> <g> <filter width="60" height="60" x="630" y="590" id="genid511"> <feTurbulence baseFrequency="0.228" numOctaves="2"></feTurbulence> </filter> <use filter="url(#genid511)"></use> <text x="630" y="580">0.228</text> </g> <g> <filter width="60" height="60" x="700" y="590" id="genid512"> <feTurbulence baseFrequency="0.231" numOctaves="2"></feTurbulence> </filter> <use filter="url(#genid512)"></use> <text x="700" y="580">0.231</text> </g> <g> <filter width="60" height="60" x="0" y="680" id="genid513"> <feTurbulence baseFrequency="0.234" numOctaves="2"></feTurbulence> </filter> <use filter="url(#genid513)"></use> <text x="0" y="670">0.234</text> </g> <g> <filter width="60" height="60" x="70" y="680" id="genid514"> <feTurbulence baseFrequency="0.237" numOctaves="2"></feTurbulence> </filter> <use filter="url(#genid514)"></use> <text x="70" y="670">0.237</text> </g> <g> <filter width="60" height="60" x="140" y="680" id="genid515"> <feTurbulence baseFrequency="0.24" numOctaves="2"></feTurbulence> </filter> <use filter="url(#genid515)"></use> <text x="140" y="670">0.24</text> </g> <g> <filter width="60" height="60" x="210" y="680" id="genid516"> <feTurbulence baseFrequency="0.243" numOctaves="2"></feTurbulence> </filter> <use filter="url(#genid516)"></use> <text x="210" y="670">0.243</text> </g> <g> <filter width="60" height="60" x="280" y="680" id="genid517"> <feTurbulence baseFrequency="0.246" numOctaves="2"></feTurbulence> </filter> <use filter="url(#genid517)"></use> <text x="280" y="670">0.246</text> </g> <g> <filter width="60" height="60" x="350" y="680" id="genid518"> <feTurbulence baseFrequency="0.249" numOctaves="2"></feTurbulence> </filter> <use filter="url(#genid518)"></use> <text x="350" y="670">0.249</text> </g> <g> <filter width="60" height="60" x="420" y="680" id="genid519"> <feTurbulence baseFrequency="0.252" numOctaves="2"></feTurbulence> </filter> <use filter="url(#genid519)"></use> <text x="420" y="670">0.252</text> </g> <g> <filter width="60" height="60" x="490" y="680" id="genid520"> <feTurbulence baseFrequency="0.255" numOctaves="2"></feTurbulence> </filter> <use filter="url(#genid520)"></use> <text x="490" y="670">0.255</text> </g> <g> <filter width="60" height="60" x="560" y="680" id="genid521"> <feTurbulence baseFrequency="0.258" numOctaves="2"></feTurbulence> </filter> <use filter="url(#genid521)"></use> <text x="560" y="670">0.258</text> </g> <g> <filter width="60" height="60" x="630" y="680" id="genid522"> <feTurbulence baseFrequency="0.261" numOctaves="2"></feTurbulence> </filter> <use filter="url(#genid522)"></use> <text x="630" y="670">0.261</text> </g> <g> <filter width="60" height="60" x="700" y="680" id="genid523"> <feTurbulence baseFrequency="0.264" numOctaves="2"></feTurbulence> </filter> <use filter="url(#genid523)"></use> <text x="700" y="670">0.264</text> </g> <g> <filter width="60" height="60" x="0" y="770" id="genid524"> <feTurbulence baseFrequency="0.267" numOctaves="2"></feTurbulence> </filter> <use filter="url(#genid524)"></use> <text x="0" y="760">0.267</text> </g> <g> <filter width="60" height="60" x="70" y="770" id="genid525"> <feTurbulence baseFrequency="0.27" numOctaves="2"></feTurbulence> </filter> <use filter="url(#genid525)"></use> <text x="70" y="760">0.27</text> </g> <g> <filter width="60" height="60" x="140" y="770" id="genid526"> <feTurbulence baseFrequency="0.273" numOctaves="2"></feTurbulence> </filter> <use filter="url(#genid526)"></use> <text x="140" y="760">0.273</text> </g> <g> <filter width="60" height="60" x="210" y="770" id="genid527"> <feTurbulence baseFrequency="0.276" numOctaves="2"></feTurbulence> </filter> <use filter="url(#genid527)"></use> <text x="210" y="760">0.276</text> </g> <g> <filter width="60" height="60" x="280" y="770" id="genid528"> <feTurbulence baseFrequency="0.279" numOctaves="2"></feTurbulence> </filter> <use filter="url(#genid528)"></use> <text x="280" y="760">0.279</text> </g> <g> <filter width="60" height="60" x="350" y="770" id="genid529"> <feTurbulence baseFrequency="0.282" numOctaves="2"></feTurbulence> </filter> <use filter="url(#genid529)"></use> <text x="350" y="760">0.282</text> </g> <g> <filter width="60" height="60" x="420" y="770" id="genid530"> <feTurbulence baseFrequency="0.285" numOctaves="2"></feTurbulence> </filter> <use filter="url(#genid530)"></use> <text x="420" y="760">0.285</text> </g> <g> <filter width="60" height="60" x="490" y="770" id="genid531"> <feTurbulence baseFrequency="0.288" numOctaves="2"></feTurbulence> </filter> <use filter="url(#genid531)"></use> <text x="490" y="760">0.288</text> </g> <g> <filter width="60" height="60" x="560" y="770" id="genid532"> <feTurbulence baseFrequency="0.291" numOctaves="2"></feTurbulence> </filter> <use filter="url(#genid532)"></use> <text x="560" y="760">0.291</text> </g> <g> <filter width="60" height="60" x="630" y="770" id="genid533"> <feTurbulence baseFrequency="0.294" numOctaves="2"></feTurbulence> </filter> <use filter="url(#genid533)"></use> <text x="630" y="760">0.294</text> </g> <g> <filter width="60" height="60" x="700" y="770" id="genid534"> <feTurbulence baseFrequency="0.297" numOctaves="2"></feTurbulence> </filter> <use filter="url(#genid534)"></use> <text x="700" y="760">0.297</text> </g>
</svg>
<p>The base frequence can also be expressed along the x or y axis independently by seting baseFrequency=c(xFreq, yFreq)</p>
<pre class="r"><code>WH=c(800, 800) # window rect
baseFeqRng=1:6
numOctRng=1:6
indx&lt;-expand.grid(baseFeqRng, numOctRng)
xp&lt;-function(i)(i-1)*130+50
yp&lt;-function(j)(j-1)*100+50
svgR( wh=WH,
    text(&quot;x-baseFrequency&quot;, xy=c(WH[1]/2,10)),
    text(&quot;y-baseFrequency&quot;, xy=c(10,WH[2]/2), writing.mode='tb'),
    lapply(baseFeqRng, function(i){text(0.005*(i-1), xy=c(xp(i),35))}),
    lapply(numOctRng, function(j){text(0.005*(j-1), xy=c(20,yp(j)+50))}),
    apply(indx, 1, function(z){
      i=z[1];j=z[2]
      use(filter=filter( xy=c(xp(i),yp(j)),  wh=c(120,90),
            feTurbulence(baseFrequency=0.005*c(i-1,j-1), numOctaves=1) 
          )
        ) 
      })
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="800">
<text x="400" y="10">x-baseFrequency</text> <text writing-mode="tb" x="10" y="400">y-baseFrequency</text> <text x="50" y="35">0</text> <text x="180" y="35">0.005</text> <text x="310" y="35">0.01</text> <text x="440" y="35">0.015</text> <text x="570" y="35">0.02</text> <text x="700" y="35">0.025</text> <text x="20" y="100">0</text> <text x="20" y="200">0.005</text> <text x="20" y="300">0.01</text> <text x="20" y="400">0.015</text> <text x="20" y="500">0.02</text> <text x="20" y="600">0.025</text> <filter width="120" height="90" x="50" y="50" id="genid535"> <feTurbulence baseFrequency="0,0" numOctaves="1"></feTurbulence> </filter> <use filter="url(#genid535)"></use> <filter width="120" height="90" x="180" y="50" id="genid536"> <feTurbulence baseFrequency="0.005,0" numOctaves="1"></feTurbulence> </filter> <use filter="url(#genid536)"></use> <filter width="120" height="90" x="310" y="50" id="genid537"> <feTurbulence baseFrequency="0.01,0" numOctaves="1"></feTurbulence> </filter> <use filter="url(#genid537)"></use> <filter width="120" height="90" x="440" y="50" id="genid538"> <feTurbulence baseFrequency="0.015,0" numOctaves="1"></feTurbulence> </filter> <use filter="url(#genid538)"></use> <filter width="120" height="90" x="570" y="50" id="genid539"> <feTurbulence baseFrequency="0.02,0" numOctaves="1"></feTurbulence> </filter> <use filter="url(#genid539)"></use> <filter width="120" height="90" x="700" y="50" id="genid540"> <feTurbulence baseFrequency="0.025,0" numOctaves="1"></feTurbulence> </filter> <use filter="url(#genid540)"></use> <filter width="120" height="90" x="50" y="150" id="genid541"> <feTurbulence baseFrequency="0,0.005" numOctaves="1"></feTurbulence> </filter> <use filter="url(#genid541)"></use> <filter width="120" height="90" x="180" y="150" id="genid542"> <feTurbulence baseFrequency="0.005,0.005" numOctaves="1"></feTurbulence> </filter> <use filter="url(#genid542)"></use> <filter width="120" height="90" x="310" y="150" id="genid543"> <feTurbulence baseFrequency="0.01,0.005" numOctaves="1"></feTurbulence> </filter> <use filter="url(#genid543)"></use> <filter width="120" height="90" x="440" y="150" id="genid544"> <feTurbulence baseFrequency="0.015,0.005" numOctaves="1"></feTurbulence> </filter> <use filter="url(#genid544)"></use> <filter width="120" height="90" x="570" y="150" id="genid545"> <feTurbulence baseFrequency="0.02,0.005" numOctaves="1"></feTurbulence> </filter> <use filter="url(#genid545)"></use> <filter width="120" height="90" x="700" y="150" id="genid546"> <feTurbulence baseFrequency="0.025,0.005" numOctaves="1"></feTurbulence> </filter> <use filter="url(#genid546)"></use> <filter width="120" height="90" x="50" y="250" id="genid547"> <feTurbulence baseFrequency="0,0.01" numOctaves="1"></feTurbulence> </filter> <use filter="url(#genid547)"></use> <filter width="120" height="90" x="180" y="250" id="genid548"> <feTurbulence baseFrequency="0.005,0.01" numOctaves="1"></feTurbulence> </filter> <use filter="url(#genid548)"></use> <filter width="120" height="90" x="310" y="250" id="genid549"> <feTurbulence baseFrequency="0.01,0.01" numOctaves="1"></feTurbulence> </filter> <use filter="url(#genid549)"></use> <filter width="120" height="90" x="440" y="250" id="genid550"> <feTurbulence baseFrequency="0.015,0.01" numOctaves="1"></feTurbulence> </filter> <use filter="url(#genid550)"></use> <filter width="120" height="90" x="570" y="250" id="genid551"> <feTurbulence baseFrequency="0.02,0.01" numOctaves="1"></feTurbulence> </filter> <use filter="url(#genid551)"></use> <filter width="120" height="90" x="700" y="250" id="genid552"> <feTurbulence baseFrequency="0.025,0.01" numOctaves="1"></feTurbulence> </filter> <use filter="url(#genid552)"></use> <filter width="120" height="90" x="50" y="350" id="genid553"> <feTurbulence baseFrequency="0,0.015" numOctaves="1"></feTurbulence> </filter> <use filter="url(#genid553)"></use> <filter width="120" height="90" x="180" y="350" id="genid554"> <feTurbulence baseFrequency="0.005,0.015" numOctaves="1"></feTurbulence> </filter> <use filter="url(#genid554)"></use> <filter width="120" height="90" x="310" y="350" id="genid555"> <feTurbulence baseFrequency="0.01,0.015" numOctaves="1"></feTurbulence> </filter> <use filter="url(#genid555)"></use> <filter width="120" height="90" x="440" y="350" id="genid556"> <feTurbulence baseFrequency="0.015,0.015" numOctaves="1"></feTurbulence> </filter> <use filter="url(#genid556)"></use> <filter width="120" height="90" x="570" y="350" id="genid557"> <feTurbulence baseFrequency="0.02,0.015" numOctaves="1"></feTurbulence> </filter> <use filter="url(#genid557)"></use> <filter width="120" height="90" x="700" y="350" id="genid558"> <feTurbulence baseFrequency="0.025,0.015" numOctaves="1"></feTurbulence> </filter> <use filter="url(#genid558)"></use> <filter width="120" height="90" x="50" y="450" id="genid559"> <feTurbulence baseFrequency="0,0.02" numOctaves="1"></feTurbulence> </filter> <use filter="url(#genid559)"></use> <filter width="120" height="90" x="180" y="450" id="genid560"> <feTurbulence baseFrequency="0.005,0.02" numOctaves="1"></feTurbulence> </filter> <use filter="url(#genid560)"></use> <filter width="120" height="90" x="310" y="450" id="genid561"> <feTurbulence baseFrequency="0.01,0.02" numOctaves="1"></feTurbulence> </filter> <use filter="url(#genid561)"></use> <filter width="120" height="90" x="440" y="450" id="genid562"> <feTurbulence baseFrequency="0.015,0.02" numOctaves="1"></feTurbulence> </filter> <use filter="url(#genid562)"></use> <filter width="120" height="90" x="570" y="450" id="genid563"> <feTurbulence baseFrequency="0.02,0.02" numOctaves="1"></feTurbulence> </filter> <use filter="url(#genid563)"></use> <filter width="120" height="90" x="700" y="450" id="genid564"> <feTurbulence baseFrequency="0.025,0.02" numOctaves="1"></feTurbulence> </filter> <use filter="url(#genid564)"></use> <filter width="120" height="90" x="50" y="550" id="genid565"> <feTurbulence baseFrequency="0,0.025" numOctaves="1"></feTurbulence> </filter> <use filter="url(#genid565)"></use> <filter width="120" height="90" x="180" y="550" id="genid566"> <feTurbulence baseFrequency="0.005,0.025" numOctaves="1"></feTurbulence> </filter> <use filter="url(#genid566)"></use> <filter width="120" height="90" x="310" y="550" id="genid567"> <feTurbulence baseFrequency="0.01,0.025" numOctaves="1"></feTurbulence> </filter> <use filter="url(#genid567)"></use> <filter width="120" height="90" x="440" y="550" id="genid568"> <feTurbulence baseFrequency="0.015,0.025" numOctaves="1"></feTurbulence> </filter> <use filter="url(#genid568)"></use> <filter width="120" height="90" x="570" y="550" id="genid569"> <feTurbulence baseFrequency="0.02,0.025" numOctaves="1"></feTurbulence> </filter> <use filter="url(#genid569)"></use> <filter width="120" height="90" x="700" y="550" id="genid570"> <feTurbulence baseFrequency="0.025,0.025" numOctaves="1"></feTurbulence> </filter> <use filter="url(#genid570)"></use>
</svg>
</div>
<div id="octaves" class="section level2">
<h2>Octaves</h2>
<p>To see the effect of baseFrequency vs numOctaves, we iterate</p>
<pre class="r"><code>WH=c(800, 1200) # window rect
baseFeqRng=1:5
numOctRng=1:10
indx&lt;-expand.grid(baseFeqRng, numOctRng)
xp&lt;-function(i)(i-1)*140+50
yp&lt;-function(j)(j-1)*100+50
svgR( wh=WH,
    text(&quot;baseFrequency&quot;, xy=c(WH[1]/2,10)),
    text(&quot;numOctaves&quot;, xy=c(10,WH[2]/2), writing.mode='tb'),
    lapply(baseFeqRng, function(i){text(.02*i, xy=c(xp(i),35))}),
    lapply(numOctRng, function(j){text(2*j-1, xy=c(20,yp(j)+50))}),
    apply(indx, 1, function(z){
      i=z[1];j=z[2]
      use(filter=filter( xy=c(xp(i),yp(j)),  wh=c(130,90),
            feTurbulence(baseFrequency=.02*i, numOctaves=2*j-1 )
          )
        ) 
      })
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="1200">
<text x="400" y="10">baseFrequency</text> <text writing-mode="tb" x="10" y="600">numOctaves</text> <text x="50" y="35">0.02</text> <text x="190" y="35">0.04</text> <text x="330" y="35">0.06</text> <text x="470" y="35">0.08</text> <text x="610" y="35">0.1</text> <text x="20" y="100">1</text> <text x="20" y="200">3</text> <text x="20" y="300">5</text> <text x="20" y="400">7</text> <text x="20" y="500">9</text> <text x="20" y="600">11</text> <text x="20" y="700">13</text> <text x="20" y="800">15</text> <text x="20" y="900">17</text> <text x="20" y="1000">19</text> <filter width="130" height="90" x="50" y="50" id="genid571"> <feTurbulence baseFrequency="0.02" numOctaves="1"></feTurbulence> </filter> <use filter="url(#genid571)"></use> <filter width="130" height="90" x="190" y="50" id="genid572"> <feTurbulence baseFrequency="0.04" numOctaves="1"></feTurbulence> </filter> <use filter="url(#genid572)"></use> <filter width="130" height="90" x="330" y="50" id="genid573"> <feTurbulence baseFrequency="0.06" numOctaves="1"></feTurbulence> </filter> <use filter="url(#genid573)"></use> <filter width="130" height="90" x="470" y="50" id="genid574"> <feTurbulence baseFrequency="0.08" numOctaves="1"></feTurbulence> </filter> <use filter="url(#genid574)"></use> <filter width="130" height="90" x="610" y="50" id="genid575"> <feTurbulence baseFrequency="0.1" numOctaves="1"></feTurbulence> </filter> <use filter="url(#genid575)"></use> <filter width="130" height="90" x="50" y="150" id="genid576"> <feTurbulence baseFrequency="0.02" numOctaves="3"></feTurbulence> </filter> <use filter="url(#genid576)"></use> <filter width="130" height="90" x="190" y="150" id="genid577"> <feTurbulence baseFrequency="0.04" numOctaves="3"></feTurbulence> </filter> <use filter="url(#genid577)"></use> <filter width="130" height="90" x="330" y="150" id="genid578"> <feTurbulence baseFrequency="0.06" numOctaves="3"></feTurbulence> </filter> <use filter="url(#genid578)"></use> <filter width="130" height="90" x="470" y="150" id="genid579"> <feTurbulence baseFrequency="0.08" numOctaves="3"></feTurbulence> </filter> <use filter="url(#genid579)"></use> <filter width="130" height="90" x="610" y="150" id="genid580"> <feTurbulence baseFrequency="0.1" numOctaves="3"></feTurbulence> </filter> <use filter="url(#genid580)"></use> <filter width="130" height="90" x="50" y="250" id="genid581"> <feTurbulence baseFrequency="0.02" numOctaves="5"></feTurbulence> </filter> <use filter="url(#genid581)"></use> <filter width="130" height="90" x="190" y="250" id="genid582"> <feTurbulence baseFrequency="0.04" numOctaves="5"></feTurbulence> </filter> <use filter="url(#genid582)"></use> <filter width="130" height="90" x="330" y="250" id="genid583"> <feTurbulence baseFrequency="0.06" numOctaves="5"></feTurbulence> </filter> <use filter="url(#genid583)"></use> <filter width="130" height="90" x="470" y="250" id="genid584"> <feTurbulence baseFrequency="0.08" numOctaves="5"></feTurbulence> </filter> <use filter="url(#genid584)"></use> <filter width="130" height="90" x="610" y="250" id="genid585"> <feTurbulence baseFrequency="0.1" numOctaves="5"></feTurbulence> </filter> <use filter="url(#genid585)"></use> <filter width="130" height="90" x="50" y="350" id="genid586"> <feTurbulence baseFrequency="0.02" numOctaves="7"></feTurbulence> </filter> <use filter="url(#genid586)"></use> <filter width="130" height="90" x="190" y="350" id="genid587"> <feTurbulence baseFrequency="0.04" numOctaves="7"></feTurbulence> </filter> <use filter="url(#genid587)"></use> <filter width="130" height="90" x="330" y="350" id="genid588"> <feTurbulence baseFrequency="0.06" numOctaves="7"></feTurbulence> </filter> <use filter="url(#genid588)"></use> <filter width="130" height="90" x="470" y="350" id="genid589"> <feTurbulence baseFrequency="0.08" numOctaves="7"></feTurbulence> </filter> <use filter="url(#genid589)"></use> <filter width="130" height="90" x="610" y="350" id="genid590"> <feTurbulence baseFrequency="0.1" numOctaves="7"></feTurbulence> </filter> <use filter="url(#genid590)"></use> <filter width="130" height="90" x="50" y="450" id="genid591"> <feTurbulence baseFrequency="0.02" numOctaves="9"></feTurbulence> </filter> <use filter="url(#genid591)"></use> <filter width="130" height="90" x="190" y="450" id="genid592"> <feTurbulence baseFrequency="0.04" numOctaves="9"></feTurbulence> </filter> <use filter="url(#genid592)"></use> <filter width="130" height="90" x="330" y="450" id="genid593"> <feTurbulence baseFrequency="0.06" numOctaves="9"></feTurbulence> </filter> <use filter="url(#genid593)"></use> <filter width="130" height="90" x="470" y="450" id="genid594"> <feTurbulence baseFrequency="0.08" numOctaves="9"></feTurbulence> </filter> <use filter="url(#genid594)"></use> <filter width="130" height="90" x="610" y="450" id="genid595"> <feTurbulence baseFrequency="0.1" numOctaves="9"></feTurbulence> </filter> <use filter="url(#genid595)"></use> <filter width="130" height="90" x="50" y="550" id="genid596"> <feTurbulence baseFrequency="0.02" numOctaves="11"></feTurbulence> </filter> <use filter="url(#genid596)"></use> <filter width="130" height="90" x="190" y="550" id="genid597"> <feTurbulence baseFrequency="0.04" numOctaves="11"></feTurbulence> </filter> <use filter="url(#genid597)"></use> <filter width="130" height="90" x="330" y="550" id="genid598"> <feTurbulence baseFrequency="0.06" numOctaves="11"></feTurbulence> </filter> <use filter="url(#genid598)"></use> <filter width="130" height="90" x="470" y="550" id="genid599"> <feTurbulence baseFrequency="0.08" numOctaves="11"></feTurbulence> </filter> <use filter="url(#genid599)"></use> <filter width="130" height="90" x="610" y="550" id="genid600"> <feTurbulence baseFrequency="0.1" numOctaves="11"></feTurbulence> </filter> <use filter="url(#genid600)"></use> <filter width="130" height="90" x="50" y="650" id="genid601"> <feTurbulence baseFrequency="0.02" numOctaves="13"></feTurbulence> </filter> <use filter="url(#genid601)"></use> <filter width="130" height="90" x="190" y="650" id="genid602"> <feTurbulence baseFrequency="0.04" numOctaves="13"></feTurbulence> </filter> <use filter="url(#genid602)"></use> <filter width="130" height="90" x="330" y="650" id="genid603"> <feTurbulence baseFrequency="0.06" numOctaves="13"></feTurbulence> </filter> <use filter="url(#genid603)"></use> <filter width="130" height="90" x="470" y="650" id="genid604"> <feTurbulence baseFrequency="0.08" numOctaves="13"></feTurbulence> </filter> <use filter="url(#genid604)"></use> <filter width="130" height="90" x="610" y="650" id="genid605"> <feTurbulence baseFrequency="0.1" numOctaves="13"></feTurbulence> </filter> <use filter="url(#genid605)"></use> <filter width="130" height="90" x="50" y="750" id="genid606"> <feTurbulence baseFrequency="0.02" numOctaves="15"></feTurbulence> </filter> <use filter="url(#genid606)"></use> <filter width="130" height="90" x="190" y="750" id="genid607"> <feTurbulence baseFrequency="0.04" numOctaves="15"></feTurbulence> </filter> <use filter="url(#genid607)"></use> <filter width="130" height="90" x="330" y="750" id="genid608"> <feTurbulence baseFrequency="0.06" numOctaves="15"></feTurbulence> </filter> <use filter="url(#genid608)"></use> <filter width="130" height="90" x="470" y="750" id="genid609"> <feTurbulence baseFrequency="0.08" numOctaves="15"></feTurbulence> </filter> <use filter="url(#genid609)"></use> <filter width="130" height="90" x="610" y="750" id="genid610"> <feTurbulence baseFrequency="0.1" numOctaves="15"></feTurbulence> </filter> <use filter="url(#genid610)"></use> <filter width="130" height="90" x="50" y="850" id="genid611"> <feTurbulence baseFrequency="0.02" numOctaves="17"></feTurbulence> </filter> <use filter="url(#genid611)"></use> <filter width="130" height="90" x="190" y="850" id="genid612"> <feTurbulence baseFrequency="0.04" numOctaves="17"></feTurbulence> </filter> <use filter="url(#genid612)"></use> <filter width="130" height="90" x="330" y="850" id="genid613"> <feTurbulence baseFrequency="0.06" numOctaves="17"></feTurbulence> </filter> <use filter="url(#genid613)"></use> <filter width="130" height="90" x="470" y="850" id="genid614"> <feTurbulence baseFrequency="0.08" numOctaves="17"></feTurbulence> </filter> <use filter="url(#genid614)"></use> <filter width="130" height="90" x="610" y="850" id="genid615"> <feTurbulence baseFrequency="0.1" numOctaves="17"></feTurbulence> </filter> <use filter="url(#genid615)"></use> <filter width="130" height="90" x="50" y="950" id="genid616"> <feTurbulence baseFrequency="0.02" numOctaves="19"></feTurbulence> </filter> <use filter="url(#genid616)"></use> <filter width="130" height="90" x="190" y="950" id="genid617"> <feTurbulence baseFrequency="0.04" numOctaves="19"></feTurbulence> </filter> <use filter="url(#genid617)"></use> <filter width="130" height="90" x="330" y="950" id="genid618"> <feTurbulence baseFrequency="0.06" numOctaves="19"></feTurbulence> </filter> <use filter="url(#genid618)"></use> <filter width="130" height="90" x="470" y="950" id="genid619"> <feTurbulence baseFrequency="0.08" numOctaves="19"></feTurbulence> </filter> <use filter="url(#genid619)"></use> <filter width="130" height="90" x="610" y="950" id="genid620"> <feTurbulence baseFrequency="0.1" numOctaves="19"></feTurbulence> </filter> <use filter="url(#genid620)"></use>
</svg>
</div>
<div id="types-of-feturbulence" class="section level2">
<h2>Types of feTurbulence</h2>
<p>The type attribute of feTurbulence can have one of two values:</p>
<ul>
<li>turbulence (the default)</li>
<li>fractalNoise</li>
</ul>
<p>We have seen the turblance type in action, fractalNoise is similar, but the appears to be softer</p>
<pre class="r"><code>WH=c(800, 150) # window rect
svgR( wh=WH,
      use(
        filter=filter( xy=c(50,70),wh=c(150,60),
          feTurbulence(type='turbulence', baseFrequency=&quot;0.1&quot;, numOctaves=&quot;2&quot; ) 
        )
      ),
            use(
        filter=filter( xy=c(250,70),wh=c(150,60),
          feTurbulence(type='fractalNoise', baseFrequency=&quot;0.1&quot;, numOctaves=&quot;2&quot; ) 
        )
      ),
      text(&quot;turbulence&quot;, xy=c(100,65)),
      text(&quot;fractalNoise&quot;, xy=c(300,65))

)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="150">
<filter width="150" height="60" x="50" y="70" id="genid621"> <feTurbulence type="turbulence" baseFrequency="0.1" numOctaves="2"></feTurbulence> </filter> <use filter="url(#genid621)"></use> <filter width="150" height="60" x="250" y="70" id="genid622"> <feTurbulence type="fractalNoise" baseFrequency="0.1" numOctaves="2"></feTurbulence> </filter> <use filter="url(#genid622)"></use> <text x="100" y="65">turbulence</text> <text x="300" y="65">fractalNoise</text>
</svg>
</div>
<div id="combining-feturbulance" class="section level2">
<h2>Combining feTurbulance</h2>
<p>By using feTurbulance, feComponentTransfer and feColorMatrix we can discover some intersting effects. For example, define the following filter</p>
<div id="feturbulance-fecomponenttransfer" class="section level3">
<h3>feTurbulance + feComponentTransfer</h3>
<pre><code>funkyFilter&lt;-function(id, baseFrequency=.01, numOctaves=3, slope=c(4,4,4), seed=100){
  filter( id=id, 
    feTurbulence(baseFrequency=baseFrequency, numOctaves=numOctaves, seed=100),
    feComponentTransfer(
      feFuncR(type=&quot;linear&quot;, slope=slope[1], intercept=-1),
      feFuncG(type=&quot;linear&quot;, slope=slope[2], intercept=-1),
      feFuncB(type=&quot;linear&quot;, slope=slope[3], intercept=-1),
      feFuncA(type=&quot;linear&quot;, slope=0, intercept=1)
    ),
    feColorMatrix(type=&quot;saturate&quot;) 
  )
} </code></pre>
<p>To see this filter function at work:</p>
<pre class="r"><code>library(svgR)
WH=c(800, 800) # window rect
N&lt;-4
dH&lt;-WH[2]/(N+1)
y&lt;-0:(N-1)*dH
ww&lt;-WH[1]-40
svgR( wh=WH,
  lapply(1:N, function(i){
    id=paste0(&quot;funky1-&quot;,i/N)
    bf=.02/(i)
    g(
      text(paste0('funky filter base frequency=', bf), xy=c(20, y[i]+35) ),
      rect(xy=c(20,y[i]+60), wh=c(ww, dH-60 ), 
         filter = funkyFilter(id, baseFrequency = bf))
    )      
  })
    
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="800">
<g> <text x="20" y="35">funky filter base frequency=0.02</text> <filter id="funky1-0.25"> <feTurbulence baseFrequency="0.02" numOctaves="3" seed="100"></feTurbulence> <feComponentTransfer> <feFuncR type="linear" slope="4" intercept="-1"></feFuncR> <feFuncG type="linear" slope="4" intercept="-1"></feFuncG> <feFuncB type="linear" slope="4" intercept="-1"></feFuncB> <feFuncA type="linear" slope="0" intercept="1"></feFuncA> </feComponentTransfer> <feColorMatrix type="saturate"></feColorMatrix> </filter> <rect filter="url(#funky1-0.25)" width="760" height="100" x="20" y="60"></rect> </g> <g> <text x="20" y="195">funky filter base frequency=0.01</text> <filter id="funky1-0.5"> <feTurbulence baseFrequency="0.01" numOctaves="3" seed="100"></feTurbulence> <feComponentTransfer> <feFuncR type="linear" slope="4" intercept="-1"></feFuncR> <feFuncG type="linear" slope="4" intercept="-1"></feFuncG> <feFuncB type="linear" slope="4" intercept="-1"></feFuncB> <feFuncA type="linear" slope="0" intercept="1"></feFuncA> </feComponentTransfer> <feColorMatrix type="saturate"></feColorMatrix> </filter> <rect filter="url(#funky1-0.5)" width="760" height="100" x="20" y="220"></rect> </g> <g> <text x="20" y="355">funky filter base frequency=0.00666666666666667</text> <filter id="funky1-0.75"> <feTurbulence baseFrequency="0.00666666666666667" numOctaves="3" seed="100"></feTurbulence> <feComponentTransfer> <feFuncR type="linear" slope="4" intercept="-1"></feFuncR> <feFuncG type="linear" slope="4" intercept="-1"></feFuncG> <feFuncB type="linear" slope="4" intercept="-1"></feFuncB> <feFuncA type="linear" slope="0" intercept="1"></feFuncA> </feComponentTransfer> <feColorMatrix type="saturate"></feColorMatrix> </filter> <rect filter="url(#funky1-0.75)" width="760" height="100" x="20" y="380"></rect> </g> <g> <text x="20" y="515">funky filter base frequency=0.005</text> <filter id="funky1-1"> <feTurbulence baseFrequency="0.005" numOctaves="3" seed="100"></feTurbulence> <feComponentTransfer> <feFuncR type="linear" slope="4" intercept="-1"></feFuncR> <feFuncG type="linear" slope="4" intercept="-1"></feFuncG> <feFuncB type="linear" slope="4" intercept="-1"></feFuncB> <feFuncA type="linear" slope="0" intercept="1"></feFuncA> </feComponentTransfer> <feColorMatrix type="saturate"></feColorMatrix> </filter> <rect filter="url(#funky1-1)" width="760" height="100" x="20" y="540"></rect> </g>
</svg>
</div>
<div id="feturbulance-fecomponenttransfer-feconvolvematrix" class="section level3">
<h3>feTurbulance + feComponentTransfer + feConvolveMatrix</h3>
<p>We can sharpen this using an <strong>feConvolveMatrix</strong>.</p>
<pre class="r"><code>sharpAndFunkyFilter&lt;-function(baseFrequency=.01, numOctaves=3, slope=c(4,4,4), seed=100){
  filter( 
    feTurbulence(baseFrequency=baseFrequency, numOctaves=numOctaves, seed=100),
    feComponentTransfer(
      feFuncR(type=&quot;linear&quot;, slope=slope[1], intercept=-1),
      feFuncG(type=&quot;linear&quot;, slope=slope[2], intercept=-1),
      feFuncB(type=&quot;linear&quot;, slope=slope[3], intercept=-1),
      feFuncA(type=&quot;linear&quot;, slope=0, intercept=1)
    ),
    feColorMatrix(type=&quot;saturate&quot;),
    feConvolveMatrix( order=3, kernelMatrix=matrix(c(1,-1,1,-1,-.1,-1,1,-1,1), 3,3))
  )
} </code></pre>
<p>And the sharpened result is</p>
<pre class="r"><code>library(svgR)
WH=c(800, 800) # window rect
N&lt;-4
dH&lt;-WH[2]/(N+1)
y&lt;-0:(N-1)*dH
ww&lt;-WH[1]-40
svgR( wh=WH,
  lapply(1:N, function(i){
    id=paste0(&quot;funky2-&quot;,i/N)
    bf=.02/(i)
    g(
      text(paste0('funky filter base frequency=', bf), xy=c(20, y[i]+35) ),
      rect(xy=c(20,y[i]+60), wh=c(ww, dH-60 ), 
         filter = sharpAndFunkyFilter( baseFrequency = bf))
    )      
  })
    
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="800">
<g> <text x="20" y="35">funky filter base frequency=0.02</text> <filter id="genid623"> <feTurbulence baseFrequency="0.02" numOctaves="3" seed="100"></feTurbulence> <feComponentTransfer> <feFuncR type="linear" slope="4" intercept="-1"></feFuncR> <feFuncG type="linear" slope="4" intercept="-1"></feFuncG> <feFuncB type="linear" slope="4" intercept="-1"></feFuncB> <feFuncA type="linear" slope="0" intercept="1"></feFuncA> </feComponentTransfer> <feColorMatrix type="saturate"></feColorMatrix> <feConvolveMatrix order="3,3" kernelMatrix="1 -1 1 -1 -0.1 -1 1 -1 1"></feConvolveMatrix> </filter> <rect filter="url(#genid623)" width="760" height="100" x="20" y="60"></rect> </g> <g> <text x="20" y="195">funky filter base frequency=0.01</text> <filter id="genid624"> <feTurbulence baseFrequency="0.01" numOctaves="3" seed="100"></feTurbulence> <feComponentTransfer> <feFuncR type="linear" slope="4" intercept="-1"></feFuncR> <feFuncG type="linear" slope="4" intercept="-1"></feFuncG> <feFuncB type="linear" slope="4" intercept="-1"></feFuncB> <feFuncA type="linear" slope="0" intercept="1"></feFuncA> </feComponentTransfer> <feColorMatrix type="saturate"></feColorMatrix> <feConvolveMatrix order="3,3" kernelMatrix="1 -1 1 -1 -0.1 -1 1 -1 1"></feConvolveMatrix> </filter> <rect filter="url(#genid624)" width="760" height="100" x="20" y="220"></rect> </g> <g> <text x="20" y="355">funky filter base frequency=0.00666666666666667</text> <filter id="genid625"> <feTurbulence baseFrequency="0.00666666666666667" numOctaves="3" seed="100"></feTurbulence> <feComponentTransfer> <feFuncR type="linear" slope="4" intercept="-1"></feFuncR> <feFuncG type="linear" slope="4" intercept="-1"></feFuncG> <feFuncB type="linear" slope="4" intercept="-1"></feFuncB> <feFuncA type="linear" slope="0" intercept="1"></feFuncA> </feComponentTransfer> <feColorMatrix type="saturate"></feColorMatrix> <feConvolveMatrix order="3,3" kernelMatrix="1 -1 1 -1 -0.1 -1 1 -1 1"></feConvolveMatrix> </filter> <rect filter="url(#genid625)" width="760" height="100" x="20" y="380"></rect> </g> <g> <text x="20" y="515">funky filter base frequency=0.005</text> <filter id="genid626"> <feTurbulence baseFrequency="0.005" numOctaves="3" seed="100"></feTurbulence> <feComponentTransfer> <feFuncR type="linear" slope="4" intercept="-1"></feFuncR> <feFuncG type="linear" slope="4" intercept="-1"></feFuncG> <feFuncB type="linear" slope="4" intercept="-1"></feFuncB> <feFuncA type="linear" slope="0" intercept="1"></feFuncA> </feComponentTransfer> <feColorMatrix type="saturate"></feColorMatrix> <feConvolveMatrix order="3,3" kernelMatrix="1 -1 1 -1 -0.1 -1 1 -1 1"></feConvolveMatrix> </filter> <rect filter="url(#genid626)" width="760" height="100" x="20" y="540"></rect> </g>
</svg>
<p>Messing with the base frequency gives a different texture</p>
<pre class="r"><code>library(svgR)
WH=c(800, 800) # window rect
N&lt;-4
dH&lt;-WH[2]/(N+1)
y&lt;-0:(N-1)*dH
ww&lt;-WH[1]-40
svgR( wh=WH,
  lapply(1:N, function(i){
    id=paste0(&quot;funky2-&quot;,i/N)
    bf=c(.1,.1/(i))
    g(
      text(paste0('funky filter base frequency=', paste(bf, collapse=&quot;,&quot;) ), xy=c(20, y[i]+35) ),
      rect(xy=c(20,y[i]+60), wh=c(ww, dH-60 ), 
         filter = sharpAndFunkyFilter( baseFrequency = bf))
    )      
  })
    
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="800">
<g> <text x="20" y="35">funky filter base frequency=0.1,0.1</text> <filter id="genid627"> <feTurbulence baseFrequency="0.1,0.1" numOctaves="3" seed="100"></feTurbulence> <feComponentTransfer> <feFuncR type="linear" slope="4" intercept="-1"></feFuncR> <feFuncG type="linear" slope="4" intercept="-1"></feFuncG> <feFuncB type="linear" slope="4" intercept="-1"></feFuncB> <feFuncA type="linear" slope="0" intercept="1"></feFuncA> </feComponentTransfer> <feColorMatrix type="saturate"></feColorMatrix> <feConvolveMatrix order="3,3" kernelMatrix="1 -1 1 -1 -0.1 -1 1 -1 1"></feConvolveMatrix> </filter> <rect filter="url(#genid627)" width="760" height="100" x="20" y="60"></rect> </g> <g> <text x="20" y="195">funky filter base frequency=0.1,0.05</text> <filter id="genid628"> <feTurbulence baseFrequency="0.1,0.05" numOctaves="3" seed="100"></feTurbulence> <feComponentTransfer> <feFuncR type="linear" slope="4" intercept="-1"></feFuncR> <feFuncG type="linear" slope="4" intercept="-1"></feFuncG> <feFuncB type="linear" slope="4" intercept="-1"></feFuncB> <feFuncA type="linear" slope="0" intercept="1"></feFuncA> </feComponentTransfer> <feColorMatrix type="saturate"></feColorMatrix> <feConvolveMatrix order="3,3" kernelMatrix="1 -1 1 -1 -0.1 -1 1 -1 1"></feConvolveMatrix> </filter> <rect filter="url(#genid628)" width="760" height="100" x="20" y="220"></rect> </g> <g> <text x="20" y="355">funky filter base frequency=0.1,0.0333333333333333</text> <filter id="genid629"> <feTurbulence baseFrequency="0.1,0.0333333333333333" numOctaves="3" seed="100"></feTurbulence> <feComponentTransfer> <feFuncR type="linear" slope="4" intercept="-1"></feFuncR> <feFuncG type="linear" slope="4" intercept="-1"></feFuncG> <feFuncB type="linear" slope="4" intercept="-1"></feFuncB> <feFuncA type="linear" slope="0" intercept="1"></feFuncA> </feComponentTransfer> <feColorMatrix type="saturate"></feColorMatrix> <feConvolveMatrix order="3,3" kernelMatrix="1 -1 1 -1 -0.1 -1 1 -1 1"></feConvolveMatrix> </filter> <rect filter="url(#genid629)" width="760" height="100" x="20" y="380"></rect> </g> <g> <text x="20" y="515">funky filter base frequency=0.1,0.025</text> <filter id="genid630"> <feTurbulence baseFrequency="0.1,0.025" numOctaves="3" seed="100"></feTurbulence> <feComponentTransfer> <feFuncR type="linear" slope="4" intercept="-1"></feFuncR> <feFuncG type="linear" slope="4" intercept="-1"></feFuncG> <feFuncB type="linear" slope="4" intercept="-1"></feFuncB> <feFuncA type="linear" slope="0" intercept="1"></feFuncA> </feComponentTransfer> <feColorMatrix type="saturate"></feColorMatrix> <feConvolveMatrix order="3,3" kernelMatrix="1 -1 1 -1 -0.1 -1 1 -1 1"></feConvolveMatrix> </filter> <rect filter="url(#genid630)" width="760" height="100" x="20" y="540"></rect> </g>
</svg>
</div>
</div>
<div id="wood-texture" class="section level2">
<h2>Wood Texture</h2>
<p>To create a wood texture we use</p>
<ul>
<li>feDisplacementMap</li>
<li>feTurbulence</li>
<li>feFlood</li>
<li>feColorMatrix</li>
</ul>
<pre class="r"><code>WH=c(800, 200) # window rect
m&lt;-rbind( c(1,0,0,0,0), c(0,-1,0,0,0), c(0,0,-1,0,0), c(1,-1,1,0,0))
svgR( wh=WH, 
  rect( cxy=WH/2, wh=WH, stroke.width=2, stroke='black',
    filter = filter(
      feDisplacementMap(  scale=9, xChannelSelector=&quot;R&quot;, yChannelSelector=&quot;B&quot;,
        in1=feMerge(
          feMergeNode(in1= feFlood(xy=c(0,0), wh=WH,
          flood.color=&quot;#CCAC6C&quot;) ),
          feMergeNode(
            feColorMatrix( type=&quot;matrix&quot;, values=m , 
              in1=feTurbulence( baseFrequency=c(.008,.25), numOctaves=1)
            )
          )
        ),
        in2=feTurbulence( baseFrequency=c(.04,.2), numOctaves=1) 
      )
    ),
    clip.path=clipPath(
      text(&quot;Wood&quot;, font.size=250, cxy=WH/2, font.face='bold')
    )
  )
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="200">
<filter id="genid635"> <feFlood flood-color="#CCAC6C" width="800" height="200" x="0" y="0" result="genid631"></feFlood> <feTurbulence baseFrequency="0.008,0.25" numOctaves="1" result="genid632"></feTurbulence> <feMerge result="genid633"> <feMergeNode in="genid631"></feMergeNode> <feMergeNode> <feColorMatrix type="matrix" values="c(1, 0, 0, 1, 0, -1, 0, -1, 0, 0, -1, 1, 0, 0, 0, 0, 0, 0, 0, 0)" in="genid632"></feColorMatrix> </feMergeNode> </feMerge> <feTurbulence baseFrequency="0.04,0.2" numOctaves="1" result="genid634"></feTurbulence> <feDisplacementMap scale="9" xChannelSelector="R" yChannelSelector="B" in="genid633" in2="genid634"></feDisplacementMap> </filter> <clipPath id="genid636"> <text font-size="250" font-face="bold" text-anchor="middle" dominant-baseline="central" x="400" y="100">Wood</text> </clipPath> <rect stroke-width="2" stroke="black" filter="url(#genid635)" clip-path="url(#genid636)" width="800" height="200" x="0" y="0"></rect>
</svg>
<p><br><br></p>
<div id="stucco-textures" class="section level3">
<h3>Stucco Textures</h3>
<pre class="r"><code>WH=c(800, 200) # window rect
m&lt;-rbind( c(3,0,0,0,0), c(0,0,0,0,0), c(0,0,-1,0,0), c(1,1,1,0,0))
svgR( wh=WH, 
  rect( cxy=WH/2, wh=WH, stroke.width=2, stroke='black',
    filter = filter(
      feDisplacementMap(  scale=9, xChannelSelector=&quot;R&quot;, yChannelSelector=&quot;B&quot;,
        in1=feMerge(
          feMergeNode(in1= feFlood(xy=c(0,0), wh=WH,
          flood.color=&quot;#CCDCDC&quot;), flood.opacity=.5 ),
          feMergeNode(
            feColorMatrix( type=&quot;matrix&quot;, values=m , 
              in1=feTurbulence( baseFrequency=c(.2,.3), numOctaves=1)
            )
          )
        ),
        in2=feTurbulence( baseFrequency=c(.006,.004), numOctaves=2) 
      )
    ),
    clip.path=clipPath(
      text(&quot;Stucco&quot;, font.size=250, cxy=WH/2, font.face='bold')
    )
  )
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="200">
<filter id="genid641"> <feFlood flood-color="#CCDCDC" width="800" height="200" x="0" y="0" result="genid637"></feFlood> <feTurbulence baseFrequency="0.2,0.3" numOctaves="1" result="genid638"></feTurbulence> <feMerge result="genid639"> <feMergeNode in="genid637" flood-opacity="0.5"></feMergeNode> <feMergeNode> <feColorMatrix type="matrix" values="c(3, 0, 0, 1, 0, 0, 0, 1, 0, 0, -1, 1, 0, 0, 0, 0, 0, 0, 0, 0)" in="genid638"></feColorMatrix> </feMergeNode> </feMerge> <feTurbulence baseFrequency="0.006,0.004" numOctaves="2" result="genid640"></feTurbulence> <feDisplacementMap scale="9" xChannelSelector="R" yChannelSelector="B" in="genid639" in2="genid640"></feDisplacementMap> </filter> <clipPath id="genid642"> <text font-size="250" font-face="bold" text-anchor="middle" dominant-baseline="central" x="400" y="100">Stucco</text> </clipPath> <rect stroke-width="2" stroke="black" filter="url(#genid641)" clip-path="url(#genid642)" width="800" height="200" x="0" y="0"></rect>
</svg>
<pre class="r"><code>WH=c(800, 200) # window rect
m&lt;-rbind( c(3,0,0,0,0), c(0,0,0,0,0), c(0,0,-1,0,0), c(1,1,1,0,0))
svgR( wh=WH, 
  rect( cxy=WH/2, wh=WH, stroke.width=2, stroke='black',
    filter = filter(
      feDisplacementMap(  scale=9, xChannelSelector=&quot;R&quot;, yChannelSelector=&quot;B&quot;,
        in1=feMerge(
          feMergeNode(in1= feFlood(xy=c(0,0), wh=WH,
          flood.color=&quot;#FFDCDC&quot;), flood.opacity=.5 ),
          feMergeNode(
            feColorMatrix( type=&quot;matrix&quot;, values=m , 
              in1=feTurbulence( baseFrequency=c(.5,.1), numOctaves=4)
            )
          )
        ),
        in2=feTurbulence( baseFrequency=c(.006,.004), numOctaves=2) 
      )
    ),
    clip.path=clipPath(
      text(&quot;Stucco&quot;, font.size=250, cxy=WH/2, font.face='bold')
    )
  )
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="200">
<filter id="genid647"> <feFlood flood-color="#FFDCDC" width="800" height="200" x="0" y="0" result="genid643"></feFlood> <feTurbulence baseFrequency="0.5,0.1" numOctaves="4" result="genid644"></feTurbulence> <feMerge result="genid645"> <feMergeNode in="genid643" flood-opacity="0.5"></feMergeNode> <feMergeNode> <feColorMatrix type="matrix" values="c(3, 0, 0, 1, 0, 0, 0, 1, 0, 0, -1, 1, 0, 0, 0, 0, 0, 0, 0, 0)" in="genid644"></feColorMatrix> </feMergeNode> </feMerge> <feTurbulence baseFrequency="0.006,0.004" numOctaves="2" result="genid646"></feTurbulence> <feDisplacementMap scale="9" xChannelSelector="R" yChannelSelector="B" in="genid645" in2="genid646"></feDisplacementMap> </filter> <clipPath id="genid648"> <text font-size="250" font-face="bold" text-anchor="middle" dominant-baseline="central" x="400" y="100">Stucco</text> </clipPath> <rect stroke-width="2" stroke="black" filter="url(#genid647)" clip-path="url(#genid648)" width="800" height="200" x="0" y="0"></rect>
</svg>
</div>
<div id="a-jade-texture" class="section level3">
<h3>A Jade Texture</h3>
<pre class="r"><code>WH=c(800, 200) # window rect
m&lt;-rbind( c(3,0,0,0,0), c(0,0,0,0,0), c(0,0,-1,0,0), c(1,1,1,0,0))
svgR( wh=WH, 
  rect( cxy=WH/2, wh=WH, stroke.width=2, stroke='black',
    filter = filter(
      feDisplacementMap(  scale=9, xChannelSelector=&quot;R&quot;, yChannelSelector=&quot;B&quot;,
        in1=feMerge(
          feMergeNode(in1= feFlood(xy=c(0,0), wh=WH,
          flood.color=&quot;#CFFCDC&quot;), flood.opacity=.5 ),
          feMergeNode(
            feColorMatrix( type=&quot;matrix&quot;, values=m , 
              in1=feTurbulence( baseFrequency=c(.1,.1), numOctaves=4)
            )
          )
        ),
        in2=feTurbulence( baseFrequency=c(.06,.004), numOctaves=2) 
      )
    ),
    clip.path=clipPath(
      text(&quot;Jade&quot;, font.size=250, cxy=WH/2, font.face='bold')
    )
  )
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="200">
<filter id="genid653"> <feFlood flood-color="#CFFCDC" width="800" height="200" x="0" y="0" result="genid649"></feFlood> <feTurbulence baseFrequency="0.1,0.1" numOctaves="4" result="genid650"></feTurbulence> <feMerge result="genid651"> <feMergeNode in="genid649" flood-opacity="0.5"></feMergeNode> <feMergeNode> <feColorMatrix type="matrix" values="c(3, 0, 0, 1, 0, 0, 0, 1, 0, 0, -1, 1, 0, 0, 0, 0, 0, 0, 0, 0)" in="genid650"></feColorMatrix> </feMergeNode> </feMerge> <feTurbulence baseFrequency="0.06,0.004" numOctaves="2" result="genid652"></feTurbulence> <feDisplacementMap scale="9" xChannelSelector="R" yChannelSelector="B" in="genid651" in2="genid652"></feDisplacementMap> </filter> <clipPath id="genid654"> <text font-size="250" font-face="bold" text-anchor="middle" dominant-baseline="central" x="400" y="100">Jade</text> </clipPath> <rect stroke-width="2" stroke="black" filter="url(#genid653)" clip-path="url(#genid654)" width="800" height="200" x="0" y="0"></rect>
</svg>
</div>
<div id="a-shiny-texutre" class="section level3">
<h3>A Shiny Texutre</h3>
<pre class="r"><code>WH=c(800, 300) # window rect
m&lt;-rbind( c(3,0,0,0,0), c(0,0,0,0,0), c(0,0,-1,0,0), c(1,1,1,0,0))
svgR( wh=WH, 
  rect( cxy=WH/2, wh=WH, stroke.width=2, stroke='black',
    filter = filter(
      feDisplacementMap(  scale=9, xChannelSelector=&quot;R&quot;, yChannelSelector=&quot;B&quot;,
        in1=feMerge(
          feMergeNode(in1= feFlood(xy=c(0,0), wh=WH,
          flood.color=&quot;#CFFCDC&quot;), flood.opacity=.5 ),
          feMergeNode(
            feColorMatrix( type=&quot;matrix&quot;, values=m , 
              in1=feTurbulence( baseFrequency=c(.01,.01), numOctaves=1)
            )
          )
        ),
        in2=feTurbulence( baseFrequency=c(.006,.04), numOctaves=2) 
      )
    ),
    clip.path=clipPath(
      text(&quot;Shiny&quot;, font.size=250, cxy=WH/2, font.face='bold')
    )
  )
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="300">
<filter id="genid659"> <feFlood flood-color="#CFFCDC" width="800" height="300" x="0" y="0" result="genid655"></feFlood> <feTurbulence baseFrequency="0.01,0.01" numOctaves="1" result="genid656"></feTurbulence> <feMerge result="genid657"> <feMergeNode in="genid655" flood-opacity="0.5"></feMergeNode> <feMergeNode> <feColorMatrix type="matrix" values="c(3, 0, 0, 1, 0, 0, 0, 1, 0, 0, -1, 1, 0, 0, 0, 0, 0, 0, 0, 0)" in="genid656"></feColorMatrix> </feMergeNode> </feMerge> <feTurbulence baseFrequency="0.006,0.04" numOctaves="2" result="genid658"></feTurbulence> <feDisplacementMap scale="9" xChannelSelector="R" yChannelSelector="B" in="genid657" in2="genid658"></feDisplacementMap> </filter> <clipPath id="genid660"> <text font-size="250" font-face="bold" text-anchor="middle" dominant-baseline="central" x="400" y="150">Shiny</text> </clipPath> <rect stroke-width="2" stroke="black" filter="url(#genid659)" clip-path="url(#genid660)" width="800" height="300" x="0" y="0"></rect>
</svg>
</div>
</div>
</div>
<div id="lighting" class="section level1">
<h1>Lighting</h1>
<div id="lighting-overview" class="section level2">
<h2>Lighting Overview</h2>
<table>
<tr>
<td>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="400" height="300">
<rect fill="black" width="300" height="300" x="0" y="0"></rect> <filter id="genid666"> <feGaussianBlur stdDeviation="4" result="genid661"></feGaussianBlur> <feDiffuseLighting lighting-color="white" diffuseConstant="0.2" in="genid661" specularExponent="30" result="genid662"> <feDistantLight elevation="20" azimuth="180"></feDistantLight> </feDiffuseLighting> <feComposite operator="arithmetic" in="genid662" in2="SourceGraphic" k1="0" k2="0.8" k3="1" k4="0" result="genid664"></feComposite> <feGaussianBlur stdDeviation="4" result="genid663"></feGaussianBlur> <feSpecularLighting lighting-color="white" surfaceScale="10" in="genid663" specularExponent="30" result="genid665"> <feDistantLight elevation="20" azimuth="180"></feDistantLight> </feSpecularLighting> <feComposite operator="arithmetic" in="genid664" in2="genid665" k1="0" k2="1" k3="1" k4="0"></feComposite> </filter> <clipPath id="genid667"> <text font-size="300" text-anchor="middle" dominant-baseline="central" x="150" y="150">R</text> </clipPath> <text font-size="300" stroke="none" fill="#400088" filter="url(#genid666)" clip-path="url(#genid667)" text-anchor="middle" dominant-baseline="central" x="150" y="150">R</text>
</svg>
</td>
<td width="350">
<p>To produce 3-D effect using lighting/shading, such as seem in the above letter, involves specifying the following three ingredients:</p>
<ul>
<li><strong>The Geometry</strong>, a 3-D representation of the objects to display.</li>
<li><strong>The Reflectivity Properties</strong>, how shiny (or flat) is the object.</li>
<li><strong>The Light Sources</strong>, the type and or location of the lights.</li>
</ul>
Each in turn, will be describe in this section. This will be followed by examples illustrating some of the differences.
</td>
</tr>
</table>
</div>
<div id="geometry" class="section level2">
<h2>Geometry</h2>
<p>In this section we describe how we represent repesent a shape as 3-dimensional object.</p>
<p>Now <em>SVG</em> shape specifications naturally provide the x and y coordinates. To specify a z coordinate, a small trick is used, namely use the alpha channel of the pixel at the point x,y.</p>
<p>Specifically</p>
<p><span class="math display">\[ z(x,y)= surfaceScale \times I_\alpha(x,y) \]</span></p>
<p>This produces a 3-Dimensional surface.<br />
(Recall, each pixel consists of 4 coordinates, the first 3 being Red, Green, Blue and the last being <span class="math inline">\(\alpha\)</span> which is value between 0 and 1 repesenting the opacity of the pixel.)</p>
<p>As an example consider the gradient fill where we set the opacity:</p>
<pre class="r"><code>library(svgR)
WH=c(800, 400) # window rect
R&lt;-150
svgR( wh=WH, 
    circle( cxy=WH/2, r= R,  stroke=&quot;black&quot; , stroke.width=5, 
        fill = radialGradient( fxy=c(.5,.5), r=1, spreadMethod='pad',
          stop( offset=1/6,    stop.opacity=1),
          stop( offset=1/3,    stop.opacity=0)
        )
    )
 )</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="400">
<radialGradient r="1" spreadMethod="pad" fx="0.5" fy="0.5" id="genid668"> <stop offset="0.166666666666667" stop-opacity="1"></stop> <stop offset="0.333333333333333" stop-opacity="0"></stop> </radialGradient> <circle r="150" stroke="black" stroke-width="5" fill="url(#genid668)" cx="400" cy="200"></circle>
</svg>
<p>Then profile of this surface going through the center would look like</p>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="200">
<path d="M 600 115 C 552.5 115 600 50 552.5 50" stroke="black" fill="none" stroke-width="1"></path> <path d="M 600 115 C 552.5 115 600 180 552.5 180" stroke="black" fill="none" stroke-width="1"></path> <text font-size="16" x="620" y="119">surfaceScale</text> <polyline points="0 180 247.5 180 247.5 50 252.5 50 252.5 180 300 180 350 50 450 50 500 180 547.5 180 547.5 50 552.5 50 552.5 180 800 180" fill="lightblue"></polyline> <line stroke="black" x1="0" y1="180" x2="800" y2="180"></line>
</svg>
<p>Since a Gaussion blur creates its effect by adjusting opacity, it too can be use to create a surface.</p>
<pre class="r"><code>library(svgR)
WH=c(800, 400) # window rect
R&lt;-150
svgR( wh=WH, 
    circle( cxy=WH/2, r= R/2,  
      filter=filter( xy=c(-20,-20), wh=c(R,R)+40, feGaussianBlur( stdDeviation=20 ))
    )
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="400">
<filter width="190" height="190" x="-20" y="-20" id="genid669"> <feGaussianBlur stdDeviation="20"></feGaussianBlur> </filter> <circle r="75" filter="url(#genid669)" cx="400" cy="200"></circle>
</svg>
<p>The profile is then <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="200"> <path d="M 580 115 C 532.5 115 580 50 532.5 50" stroke="black" fill="none" stroke-width="1"></path> <path d="M 580 115 C 532.5 115 580 180 532.5 180" stroke="black" fill="none" stroke-width="1"></path> <text font-size="16" x="600" y="119">surfaceScale</text> <path d="M 305 180 C 335 180 335 50 365 50 L 435 50 C 465 50 465 180 495 180 Z" fill="lightblue" stroke="lightblue"></path> <line stroke="black" x1="0" y1="180" x2="800" y2="180"></line> </svg></p>
<p>So specifying a surfaceScale together with an alpha channel of an image together provides a way to describe a surface in 3 dimensions.</p>
<p>The next step is to compute a unit normal vector <span class="math inline">\(\hat n\)</span> at each point <span class="math inline">\((x,y)\)</span>. This is needed to compute reflectivity as described in the next section. The normal vector is approximated at a point <span class="math inline">\((x,y)\)</span> by fitting a plane through a set of points in a neighborhood of (x,y). The set of points used generated from the grid <span class="math inline">\((x-dx, x, x+dx) \times (y-dy, y, y+dy)\)</span>. The values of <span class="math inline">\(dx, dy\)</span> are specified through the <em>kernelUnitLength</em> attribute. The value can be either be specifed as <em>kernelUnitLength=c(dx, dy)</em> or <em>kernelUnitLength=dd</em>. In the later case dx, dy are both set to dd. If no <em>kernelUnitLength</em> is specified, then a small value is chosen as a default.</p>
<p>Both surfaces can be combined into a single image</p>
<pre class="r"><code>library(svgR)
WH=c(800, 300) # window rect
R&lt;-70
elevation&lt;-40 #in degrees
azimuth&lt;-270 # in degrees
svgR( wh=WH,
  g(
    rect(cxy=WH/2, wh=WH, opacity=0),
    circle( cxy=c(.35,.5)*WH, r= R,  stroke=&quot;black&quot; , stroke.width=1, 
      fill = radialGradient( fxy=c(.5,.5), r=1, spreadMethod='pad',
        stop( offset=1/6,    stop.opacity=1),
        stop( offset=1/3,    stop.opacity=.0)
      )
    ),
    circle( cxy=c(.65,.5)*WH, r= R/2,  
      filter=filter( xy=c(-20,-20), wh=c(R,R)+40, feGaussianBlur( stdDeviation=20 ))
    ),
    filter=filter(
            feComposite( 
              operator=&quot;arithmetic&quot;, k1234=c(0,.9,1,0),
              in1=feSpecularLighting( lighting.color=&quot;white&quot;,  surfaceScale=15,
                  in1=&quot;SourceGraphic&quot;,
                  specularExponent=10,
                  feDistantLight(elevation=elevation, azimuth=azimuth)
              ),
              in2=  feFlood( flood.color='#357A55')
            )
    )
  ),
  text('Combining to create a single surface', cxy=c(.5,.1)*WH, font.size=25),
  text('Portion made using a Radial Gradient',cxy=c(.25,.9)*WH),
  text('Portion made using a Gaussian Blur',  cxy=c(.75,.9)*WH)
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="300">
<filter id="genid674"> <feSpecularLighting lighting-color="white" surfaceScale="15" in="SourceGraphic" specularExponent="10" result="genid672"> <feDistantLight elevation="40" azimuth="270"></feDistantLight> </feSpecularLighting> <feFlood flood-color="#357A55" result="genid673"></feFlood> <feComposite operator="arithmetic" in="genid672" in2="genid673" k1="0" k2="0.9" k3="1" k4="0"></feComposite> </filter> <g filter="url(#genid674)"> <rect opacity="0" width="800" height="300" x="0" y="0"></rect> <radialGradient r="1" spreadMethod="pad" fx="0.5" fy="0.5" id="genid670"> <stop offset="0.166666666666667" stop-opacity="1"></stop> <stop offset="0.333333333333333" stop-opacity="0"></stop> </radialGradient> <circle r="70" stroke="black" stroke-width="1" fill="url(#genid670)" cx="280" cy="150"></circle> <filter width="110" height="110" x="-20" y="-20" id="genid671"> <feGaussianBlur stdDeviation="20"></feGaussianBlur> </filter> <circle r="35" filter="url(#genid671)" cx="520" cy="150"></circle> </g> <text font-size="25" text-anchor="middle" dominant-baseline="central" x="400" y="30">Combining to create a single surface</text> <text text-anchor="middle" dominant-baseline="central" x="200" y="270">Portion made using a Radial Gradient</text> <text text-anchor="middle" dominant-baseline="central" x="600" y="270">Portion made using a Gaussian Blur</text>
</svg>
<div id="summarizing" class="section level3">
<h3>Summarizing</h3>
<p>The geometry of the surface requires</p>
<ul>
<li>A specification of an alpha channel (opacity describing the surface)</li>
<li>A specification of a <em>surfaceScale</em> value</li>
<li>A <em>kernelUnitLength</em> specification (optional)</li>
</ul>
</div>
</div>
<div id="reflective-properties-for-lightingshading" class="section level2">
<h2>Reflective Properties for lighting/shading</h2>
<p>Reflective properties are the second piece of the lighting/shading construction. Objects, such as a coffee cup, a book, or a dog, ar visible because of light reflected off of them. The light produced by these reflections can be decomposed into 3 types:</p>
<table>
<thead>
<tr class="header">
<th align="left">Type</th>
<th align="left">Description</th>
<th align="left">Main Assumption</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Ambient Light</td>
<td align="left">Uniform</td>
<td align="left">Light is constant at all points</td>
</tr>
<tr class="even">
<td align="left">Diffused Light</td>
<td align="left">Flat</td>
<td align="left">Light reflected in all directions at a given point</td>
</tr>
<tr class="odd">
<td align="left">Specular Light</td>
<td align="left">Shinny</td>
<td align="left">Light is reflected in a direction depending on source</td>
</tr>
</tbody>
</table>
<p>In practice, a combination of all three components may be applied. Combining these can be accomplished by using <strong>feComposite</strong>, usually with <em>operator=arithmetic</em>.</p>
<p><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="300"> <symbol> <text id="docId4" font-size="270" stroke="none" font-face="bold" fill="#400088" font-name="sans-serif" text-anchor="middle" dominant-baseline="central" x="80" y="105">R</text> </symbol> <rect fill="black" width="800" height="300" x="0" y="0"></rect> <svg width="160" height="300" x="0" y="0"> <text font-size="270" font-name="sans-serif" stroke="none" font-face="bold" fill="#400088" text-anchor="middle" dominant-baseline="central" x="80" y="120">R</text> <text font-size="18" fill="white" text-anchor="middle" dominant-baseline="central" x="80" y="270">Ambient</text> </svg> <svg width="160" height="300" x="200" y="0"> <filter id="genid677"> <feGaussianBlur stdDeviation="4" result="genid675"></feGaussianBlur> <feDiffuseLighting lighting-color="white" diffuseConstant="0.8" in="genid675" specularExponent="30" result="genid676"> <feDistantLight elevation="20" azimuth="180"></feDistantLight> </feDiffuseLighting> <feComposite operator="arithmetic" in="genid676" in2="SourceGraphic" k1="0" k2="0.8" k3="1" k4="0"></feComposite> </filter> <clipPath id="genid678"> <text font-size="270" text-anchor="middle" dominant-baseline="central" x="80" y="120">R</text> </clipPath> <text font-size="270" stroke="none" fill="#400088" filter="url(#genid677)" clip-path="url(#genid678)" text-anchor="middle" dominant-baseline="central" x="80" y="120">R</text> <text font-size="18" fill="white" text-anchor="middle" dominant-baseline="central" x="80" y="270">Diffuse</text> </svg> <svg width="160" height="300" x="400" y="0"> <filter id="genid680"> <feGaussianBlur stdDeviation="4" result="genid679"></feGaussianBlur> <feSpecularLighting lighting-color="white" surfaceScale="10" in="genid679" specularExponent="30"> <feDistantLight elevation="20" azimuth="180"></feDistantLight> </feSpecularLighting> </filter> <clipPath id="genid681"> <text font-size="270" text-anchor="middle" dominant-baseline="central" x="80" y="120">R</text> </clipPath> <text font-size="270" stroke="none" fill="#400088" filter="url(#genid680)" clip-path="url(#genid681)" text-anchor="middle" dominant-baseline="central" x="80" y="120">R</text> <text font-size="18" fill="white" text-anchor="middle" dominant-baseline="central" x="80" y="270">Pure Specular</text> </svg> <svg width="160" height="300" x="600" y="0"> <filter id="genid687"> <feGaussianBlur stdDeviation="4" result="genid682"></feGaussianBlur> <feDiffuseLighting lighting-color="white" diffuseConstant="0.8" in="genid682" result="genid683"> <feDistantLight elevation="20" azimuth="180"></feDistantLight> </feDiffuseLighting> <feComposite operator="arithmetic" in="genid683" in2="SourceGraphic" k1="0" k2="0.8" k3="1" k4="0" result="genid685"></feComposite> <feGaussianBlur stdDeviation="4" result="genid684"></feGaussianBlur> <feSpecularLighting lighting-color="white" surfaceScale="10" in="genid684" specularExponent="30" result="genid686"> <feDistantLight elevation="20" azimuth="180"></feDistantLight> </feSpecularLighting> <feComposite operator="arithmetic" in="genid685" in2="genid686" k1="0" k2="1" k3="1" k4="0"></feComposite> </filter> <clipPath id="genid688"> <text font-size="270" text-anchor="middle" dominant-baseline="central" x="80" y="120">R</text> </clipPath> <text font-size="270" stroke="none" fill="#400088" filter="url(#genid687)" clip-path="url(#genid688)" text-anchor="middle" dominant-baseline="central" x="80" y="120">R</text> <text font-size="18" fill="white" text-anchor="middle" dominant-baseline="central" x="80" y="270">Combined</text> </svg> </svg></p>
<p>Now since ambient light is uniform, simply assigning a color to an object produces the ambient effect. So we only need to consider diffuse and specular.</p>
</div>
<div id="diffuse-reflection" class="section level2">
<h2>Diffuse Reflection</h2>
<p>The main assumption for diffuse lighting is that light from any direction is reflected uniformly in all directions.<br />
Thus the only thing that affects the amount light recieved is how light is recieved by the surface of the object at that location. As an illustration, suppose we have a uniformly distribute collection of L parallel light rays (or photons if you prefer) impinging on flat surface at a fixed angle <span class="math inline">\(\theta\)</span>. The intensity of this source is simply the denisty, ie L/A where A is the area cross section perpendicular to the path of the incoming rays. The reflected output is uniform across the flat surface. The area of the flat surface is <span class="math inline">\(A cos(\theta)\)</span>, so the density impinging on the surface is <span class="math inline">\(\frac{L cos(\theta) }{A}\)</span>.</p>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="300">
<defs> <marker id="docId5" stroke-width="2" viewBox="0,0,10,10" markerWidth="6" markerHeight="6" orient="auto" refX="1" refY="5"> <path d="M 0 0 L 10 5 L 0 10 z"></path> </marker> <marker id="docId6" stroke-width="2" viewBox="0,0,10,10" fill="orange" stroke="orange" markerWidth="2" markerHeight="2" orient="auto" refX="1" refY="5"> <path d="M 0 0 L 10 5 L 0 10 z"></path> </marker> </defs> <polygon points="400 280 560 280 560 160" fill="lightblue"></polygon> <line stroke="orange" stroke-dasharray="2" fill="orange" stroke-width="4" marker-end="url(#docId6)" x1="200" y1="280" x2="400" y2="280"></line> <line stroke="orange" stroke-dasharray="2" fill="orange" stroke-width="4" marker-end="url(#docId6)" x1="200" y1="266.666666666667" x2="417.777777777778" y2="266.666666666667"></line> <line stroke="orange" stroke-dasharray="2" fill="orange" stroke-width="4" marker-end="url(#docId6)" x1="200" y1="253.333333333333" x2="435.555555555556" y2="253.333333333333"></line> <line stroke="orange" stroke-dasharray="2" fill="orange" stroke-width="4" marker-end="url(#docId6)" x1="200" y1="240" x2="453.333333333333" y2="240"></line> <line stroke="orange" stroke-dasharray="2" fill="orange" stroke-width="4" marker-end="url(#docId6)" x1="200" y1="226.666666666667" x2="471.111111111111" y2="226.666666666667"></line> <line stroke="orange" stroke-dasharray="2" fill="orange" stroke-width="4" marker-end="url(#docId6)" x1="200" y1="213.333333333333" x2="488.888888888889" y2="213.333333333333"></line> <line stroke="orange" stroke-dasharray="2" fill="orange" stroke-width="4" marker-end="url(#docId6)" x1="200" y1="200" x2="506.666666666667" y2="200"></line> <line stroke="orange" stroke-dasharray="2" fill="orange" stroke-width="4" marker-end="url(#docId6)" x1="200" y1="186.666666666667" x2="524.444444444444" y2="186.666666666667"></line> <line stroke="orange" stroke-dasharray="2" fill="orange" stroke-width="4" marker-end="url(#docId6)" x1="200" y1="173.333333333333" x2="542.222222222222" y2="173.333333333333"></line> <line stroke="orange" stroke-dasharray="2" fill="orange" stroke-width="4" marker-end="url(#docId6)" x1="200" y1="160" x2="560" y2="160"></line> <path d="M 660 220 C 560 220 660 160 560 160" stroke="black" fill="none" stroke-width="1"></path> <path d="M 660 220 C 560 220 660 280 560 280" stroke="black" fill="none" stroke-width="1"></path> <text font-size="16" stroke="black" x="680" y="220">A</text> <path d="M 420 140 C 480 220 500 80 560 160" stroke="blue" fill="none" stroke-width="1"></path> <path d="M 420 140 C 480 220 340 200 400 280" stroke="blue" fill="none" stroke-width="1"></path> <text font-size="16" stroke="blue" text-anchor="middle" dominant-baseline="central" x="414" y="132">I=K cos()/A</text> <path d="M 150 220 C 200 220 150 160 200 160" stroke="orange" fill="none" stroke-width="1"></path> <path d="M 150 220 C 200 220 150 280 200 280" stroke="orange" fill="none" stroke-width="1"></path> <text font-size="16" stroke="orange" x="10" y="220">I=K/A</text> <line stroke="black" marker-end="url(#docId5)" stroke-width="2" x1="400" y1="280" x2="352" y2="216"></line> <line stroke="black" marker-end="url(#docId5)" stroke-width="2" x1="400" y1="280" x2="320" y2="280"></line> <text stroke="black" text-anchor="middle" dominant-baseline="central" x="320" y="270">l</text> <text stroke="black" text-anchor="middle" dominant-baseline="central" x="336" y="216">n</text> <text stroke="black" text-anchor="middle" dominant-baseline="central" x="550" y="180"></text> <text stroke="black" text-anchor="middle" dominant-baseline="central" x="380" y="270"></text>
</svg>
<p>And since, by the main assumption, the reflection is uniform in all directions, at the observation point (the eyeball of the viewer) the reflected amount observed will be some constant <span class="math inline">\(\kappa\)</span> fraction of<br />
<span class="math inline">\(\frac{L cos(\theta) }{A}\)</span>. Thus <span class="math inline">\(I_{reflect}= cos(\theta)I_{source}\)</span>. Thus we have <span class="math display">\[I= \kappa \times \max (0, \hat n \cdot \hat l ) L\]</span> where <span class="math inline">\(\hat n\)</span> is a unit normal to the surface, <span class="math inline">\(\hat l\)</span> is a unit vector point at the light source and <span class="math inline">\(L\)</span> is the intensity of the light source. Note: <span class="math inline">\(\kappa \in [0,1]\)</span>, where <span class="math inline">\(\kappa==0\)</span> means no light is reflected.</p>
<p>In practice, a pixel has 4 components: Red, Green, Blue, Alpha. (Recall Alpha is opacity) So the above becomes</p>
<p><span class="math display">\[
I_x = \left\{
\begin{array}{ll}
 \kappa_x \times \max (0,   \hat n \cdot \hat l) L_x &amp; \text{ if } x \in  RGB \\
1                               &amp; \text{ if } x = \alpha
\end{array}
\right.
\]</span></p>
<p>Thus for <span class="math inline">\(\vec \kappa=(1,0,0)\)</span> we have red light is reflected, green and blue are completely absorbed.</p>
<p>The attributes specific to <strong>feDiffuseLighting</strong> element are</p>
<table>
<thead>
<tr class="header">
<th align="left">Attribute</th>
<th align="left">Value</th>
<th align="left">Default</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">surfaceScale</td>
<td align="left">numeric</td>
<td align="left">1</td>
<td align="left">height of surface when <span class="math inline">\(\alpha_{in}=1\)</span></td>
</tr>
<tr class="even">
<td align="left">diffuseConstant</td>
<td align="left">numeric</td>
<td align="left">1</td>
<td align="left"><span class="math inline">\(\kappa_s\)</span></td>
</tr>
<tr class="odd">
<td align="left">kernelUintLength</td>
<td align="left">numeric vector of length 1 or 2</td>
<td align="left">small</td>
<td align="left">granularity of facets</td>
</tr>
</tbody>
</table>
<div id="fediffuselighting-surface-scale" class="section level3">
<h3>feDiffuseLighting: surface scale</h3>
<pre class="r"><code>library(svgR)
WH&lt;-c(800, 300) # window rect
N=5
R&lt;-50
elevation&lt;-40 # in degrees
azimuth&lt;-270 # in degrees
WH2&lt;-c(1/N,1)*(WH-c(0,25)-c(N*10,0))
surfaceScale&lt;-seq(10,90, length.out=5)
svgR(wh=WH,
    text(&quot;Varying surface scale for feDiffuseLighting (light at 0,0,90)&quot;, font.size=20, cxy=c(WH[1]/2,30)),
    lapply(1:5, function(i){
      xy=(i-1)*c(WH2[1]+10,0)
      svg(  xy=xy, wh=WH2,
        circle( cxy=WH2/2, r= R,  stroke=&quot;black&quot; , stroke.width=5, 
            fill = &quot;darkgreen&quot;,
            filter=filter(
                feComposite( 
                  operator=&quot;arithmetic&quot;, k1234=c(0,.4,1,0),
                  in1=feDiffuseLighting( lighting.color=&quot;white&quot;,  surfaceScale=surfaceScale[i],
                      in1=feGaussianBlur( stdDeviation=10),
                      fePointLight( xyz= c(0,0,90) ) 
                  ),
                  in2=  &quot;SourceGraphic&quot;
                )
            )
        ),
        text(paste(&quot;surfaceScale=&quot;,surfaceScale[i]), cxy=c(WH2[1]/2,WH2[2]-30),  font.size=14)
      )
    })
)-&gt;doc
cat(&quot;'&quot;,as.character(doc),&quot;'&quot;)</code></pre>
<p><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="300"> <text font-size="20" text-anchor="middle" dominant-baseline="central" x="400" y="30">Varying surface scale for feDiffuseLighting (light at 0,0,90)</text> <svg width="150" height="275" x="0" y="0"> <filter id="genid691"> <feGaussianBlur stdDeviation="10" result="genid689"></feGaussianBlur> <feDiffuseLighting lighting-color="white" surfaceScale="10" in="genid689" result="genid690"> <fePointLight x="0" y="0" z="90"></fePointLight> </feDiffuseLighting> <feComposite operator="arithmetic" in="genid690" in2="SourceGraphic" k1="0" k2="0.4" k3="1" k4="0"></feComposite> </filter> <circle r="50" stroke="black" stroke-width="5" fill="darkgreen" filter="url(#genid691)" cx="75" cy="137.5"></circle> <text font-size="14" text-anchor="middle" dominant-baseline="central" x="75" y="245">surfaceScale= 10</text> </svg> <svg width="150" height="275" x="160" y="0"> <filter id="genid694"> <feGaussianBlur stdDeviation="10" result="genid692"></feGaussianBlur> <feDiffuseLighting lighting-color="white" surfaceScale="30" in="genid692" result="genid693"> <fePointLight x="0" y="0" z="90"></fePointLight> </feDiffuseLighting> <feComposite operator="arithmetic" in="genid693" in2="SourceGraphic" k1="0" k2="0.4" k3="1" k4="0"></feComposite> </filter> <circle r="50" stroke="black" stroke-width="5" fill="darkgreen" filter="url(#genid694)" cx="75" cy="137.5"></circle> <text font-size="14" text-anchor="middle" dominant-baseline="central" x="75" y="245">surfaceScale= 30</text> </svg> <svg width="150" height="275" x="320" y="0"> <filter id="genid697"> <feGaussianBlur stdDeviation="10" result="genid695"></feGaussianBlur> <feDiffuseLighting lighting-color="white" surfaceScale="50" in="genid695" result="genid696"> <fePointLight x="0" y="0" z="90"></fePointLight> </feDiffuseLighting> <feComposite operator="arithmetic" in="genid696" in2="SourceGraphic" k1="0" k2="0.4" k3="1" k4="0"></feComposite> </filter> <circle r="50" stroke="black" stroke-width="5" fill="darkgreen" filter="url(#genid697)" cx="75" cy="137.5"></circle> <text font-size="14" text-anchor="middle" dominant-baseline="central" x="75" y="245">surfaceScale= 50</text> </svg> <svg width="150" height="275" x="480" y="0"> <filter id="genid700"> <feGaussianBlur stdDeviation="10" result="genid698"></feGaussianBlur> <feDiffuseLighting lighting-color="white" surfaceScale="70" in="genid698" result="genid699"> <fePointLight x="0" y="0" z="90"></fePointLight> </feDiffuseLighting> <feComposite operator="arithmetic" in="genid699" in2="SourceGraphic" k1="0" k2="0.4" k3="1" k4="0"></feComposite> </filter> <circle r="50" stroke="black" stroke-width="5" fill="darkgreen" filter="url(#genid700)" cx="75" cy="137.5"></circle> <text font-size="14" text-anchor="middle" dominant-baseline="central" x="75" y="245">surfaceScale= 70</text> </svg> <svg width="150" height="275" x="640" y="0"> <filter id="genid703"> <feGaussianBlur stdDeviation="10" result="genid701"></feGaussianBlur> <feDiffuseLighting lighting-color="white" surfaceScale="90" in="genid701" result="genid702"> <fePointLight x="0" y="0" z="90"></fePointLight> </feDiffuseLighting> <feComposite operator="arithmetic" in="genid702" in2="SourceGraphic" k1="0" k2="0.4" k3="1" k4="0"></feComposite> </filter> <circle r="50" stroke="black" stroke-width="5" fill="darkgreen" filter="url(#genid703)" cx="75" cy="137.5"></circle> <text font-size="14" text-anchor="middle" dominant-baseline="central" x="75" y="245">surfaceScale= 90</text> </svg> </svg></p>
<p>To eliminate the backGround shadowing, simply add a clipPath to the circle.</p>
<pre class="r"><code>library(svgR)
WH&lt;-c(800, 300) # window rect
N=5
R&lt;-50
elevation&lt;-40 # in degrees
azimuth&lt;-270 # in degrees
WH2&lt;-c(1/N,1)*(WH-c(0,25)-c(N*10,0))
surfaceScale&lt;-seq(10,90, length.out=5)
svgR(wh=WH,
    text(&quot;Varying surface scale for feDiffuseLighting (clipping)&quot;, font.size=20, cxy=c(WH[1]/2,30)),
    lapply(1:5, function(i){
      xy=(i-1)*c(WH2[1]+10,0)
      svg(  xy=xy, wh=WH2,
        circle( cxy=WH2/2, r= R,  stroke=&quot;black&quot; , stroke.width=5, 
            fill = &quot;darkgreen&quot;,
            filter=filter(
                feComposite( 
                  operator=&quot;arithmetic&quot;, k1234=c(0,.4,1,0),
                  in1=feDiffuseLighting( lighting.color=&quot;white&quot;,  surfaceScale=surfaceScale[i],
                      in1=feGaussianBlur( stdDeviation=10),
                      fePointLight( xyz= c(0,0,90) ) 
                  ),
                  in2=  &quot;SourceGraphic&quot;
                )
            ),
            clip.path=clipPath(circle(cxy=WH2/2,r=R))
        ),
        text(paste(&quot;surfaceScale=&quot;,surfaceScale[i]), cxy=c(WH2[1]/2,WH2[2]-30),  font.size=14)
      )
    })
)-&gt;doc
cat(&quot;'&quot;,as.character(doc),&quot;'&quot;)</code></pre>
<p><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="300"> <text font-size="20" text-anchor="middle" dominant-baseline="central" x="400" y="30">Varying surface scale for feDiffuseLighting (clipping)</text> <svg width="150" height="275" x="0" y="0"> <filter id="genid706"> <feGaussianBlur stdDeviation="10" result="genid704"></feGaussianBlur> <feDiffuseLighting lighting-color="white" surfaceScale="10" in="genid704" result="genid705"> <fePointLight x="0" y="0" z="90"></fePointLight> </feDiffuseLighting> <feComposite operator="arithmetic" in="genid705" in2="SourceGraphic" k1="0" k2="0.4" k3="1" k4="0"></feComposite> </filter> <clipPath id="genid707"> <circle r="50" cx="75" cy="137.5"></circle> </clipPath> <circle r="50" stroke="black" stroke-width="5" fill="darkgreen" filter="url(#genid706)" clip-path="url(#genid707)" cx="75" cy="137.5"></circle> <text font-size="14" text-anchor="middle" dominant-baseline="central" x="75" y="245">surfaceScale= 10</text> </svg> <svg width="150" height="275" x="160" y="0"> <filter id="genid710"> <feGaussianBlur stdDeviation="10" result="genid708"></feGaussianBlur> <feDiffuseLighting lighting-color="white" surfaceScale="30" in="genid708" result="genid709"> <fePointLight x="0" y="0" z="90"></fePointLight> </feDiffuseLighting> <feComposite operator="arithmetic" in="genid709" in2="SourceGraphic" k1="0" k2="0.4" k3="1" k4="0"></feComposite> </filter> <clipPath id="genid711"> <circle r="50" cx="75" cy="137.5"></circle> </clipPath> <circle r="50" stroke="black" stroke-width="5" fill="darkgreen" filter="url(#genid710)" clip-path="url(#genid711)" cx="75" cy="137.5"></circle> <text font-size="14" text-anchor="middle" dominant-baseline="central" x="75" y="245">surfaceScale= 30</text> </svg> <svg width="150" height="275" x="320" y="0"> <filter id="genid714"> <feGaussianBlur stdDeviation="10" result="genid712"></feGaussianBlur> <feDiffuseLighting lighting-color="white" surfaceScale="50" in="genid712" result="genid713"> <fePointLight x="0" y="0" z="90"></fePointLight> </feDiffuseLighting> <feComposite operator="arithmetic" in="genid713" in2="SourceGraphic" k1="0" k2="0.4" k3="1" k4="0"></feComposite> </filter> <clipPath id="genid715"> <circle r="50" cx="75" cy="137.5"></circle> </clipPath> <circle r="50" stroke="black" stroke-width="5" fill="darkgreen" filter="url(#genid714)" clip-path="url(#genid715)" cx="75" cy="137.5"></circle> <text font-size="14" text-anchor="middle" dominant-baseline="central" x="75" y="245">surfaceScale= 50</text> </svg> <svg width="150" height="275" x="480" y="0"> <filter id="genid718"> <feGaussianBlur stdDeviation="10" result="genid716"></feGaussianBlur> <feDiffuseLighting lighting-color="white" surfaceScale="70" in="genid716" result="genid717"> <fePointLight x="0" y="0" z="90"></fePointLight> </feDiffuseLighting> <feComposite operator="arithmetic" in="genid717" in2="SourceGraphic" k1="0" k2="0.4" k3="1" k4="0"></feComposite> </filter> <clipPath id="genid719"> <circle r="50" cx="75" cy="137.5"></circle> </clipPath> <circle r="50" stroke="black" stroke-width="5" fill="darkgreen" filter="url(#genid718)" clip-path="url(#genid719)" cx="75" cy="137.5"></circle> <text font-size="14" text-anchor="middle" dominant-baseline="central" x="75" y="245">surfaceScale= 70</text> </svg> <svg width="150" height="275" x="640" y="0"> <filter id="genid722"> <feGaussianBlur stdDeviation="10" result="genid720"></feGaussianBlur> <feDiffuseLighting lighting-color="white" surfaceScale="90" in="genid720" result="genid721"> <fePointLight x="0" y="0" z="90"></fePointLight> </feDiffuseLighting> <feComposite operator="arithmetic" in="genid721" in2="SourceGraphic" k1="0" k2="0.4" k3="1" k4="0"></feComposite> </filter> <clipPath id="genid723"> <circle r="50" cx="75" cy="137.5"></circle> </clipPath> <circle r="50" stroke="black" stroke-width="5" fill="darkgreen" filter="url(#genid722)" clip-path="url(#genid723)" cx="75" cy="137.5"></circle> <text font-size="14" text-anchor="middle" dominant-baseline="central" x="75" y="245">surfaceScale= 90</text> </svg> </svg></p>
</div>
<div id="fediffuselighting-diffusionconstant" class="section level3">
<h3>feDiffuseLighting: diffusionConstant</h3>
<pre class="r"><code>library(svgR)
WH&lt;-c(800, 300) # window rect
N=5
R&lt;-50
elevation&lt;-40 # in degrees
azimuth&lt;-270 # in degrees
WH2&lt;-c(1/N,1)*(WH-c(0,25)-c(N*10,0))
diffuseConstant&lt;-seq(0,2, length.out=5)
svgR(wh=WH,
    text(&quot;feDiffuseLighting Varying diffusion constant&quot;, font.size=20, cxy=c(WH[1]/2,30)),
    lapply(1:5, function(i){
      xy=(i-1)*c(WH2[1]+10,0)
      svg(  xy=xy, wh=WH2,
        circle( cxy=WH2/2, r= R,  stroke=&quot;black&quot; , stroke.width=5, 
            fill = &quot;darkgreen&quot;,
            filter=filter(
                feComposite( 
                  operator=&quot;arithmetic&quot;, k1234=c(0,.4,1,0),
                  in1=feDiffuseLighting( lighting.color=&quot;white&quot;,  surfaceScale=50, 
                      diffuseConstant=diffuseConstant[i],
                      in1=feGaussianBlur( stdDeviation=10),
                      fePointLight( xyz= c(0,0,90) ) 
                  ),
                  in2=  &quot;SourceGraphic&quot;
                )
            ),
            clip.path=clipPath(circle(cxy=WH2/2,r=R))
        ),
        text(paste(&quot;diffuseConstant=&quot;,diffuseConstant[i]), cxy=c(WH2[1]/2,WH2[2]-30),  font.size=14)
      )
    })
)-&gt;doc
cat(&quot;'&quot;,as.character(doc),&quot;'&quot;)</code></pre>
<p><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="300"> <text font-size="20" text-anchor="middle" dominant-baseline="central" x="400" y="30">feDiffuseLighting Varying diffusion constant</text> <svg width="150" height="275" x="0" y="0"> <filter id="genid726"> <feGaussianBlur stdDeviation="10" result="genid724"></feGaussianBlur> <feDiffuseLighting lighting-color="white" surfaceScale="50" diffuseConstant="0" in="genid724" result="genid725"> <fePointLight x="0" y="0" z="90"></fePointLight> </feDiffuseLighting> <feComposite operator="arithmetic" in="genid725" in2="SourceGraphic" k1="0" k2="0.4" k3="1" k4="0"></feComposite> </filter> <clipPath id="genid727"> <circle r="50" cx="75" cy="137.5"></circle> </clipPath> <circle r="50" stroke="black" stroke-width="5" fill="darkgreen" filter="url(#genid726)" clip-path="url(#genid727)" cx="75" cy="137.5"></circle> <text font-size="14" text-anchor="middle" dominant-baseline="central" x="75" y="245">diffuseConstant= 0</text> </svg> <svg width="150" height="275" x="160" y="0"> <filter id="genid730"> <feGaussianBlur stdDeviation="10" result="genid728"></feGaussianBlur> <feDiffuseLighting lighting-color="white" surfaceScale="50" diffuseConstant="0.5" in="genid728" result="genid729"> <fePointLight x="0" y="0" z="90"></fePointLight> </feDiffuseLighting> <feComposite operator="arithmetic" in="genid729" in2="SourceGraphic" k1="0" k2="0.4" k3="1" k4="0"></feComposite> </filter> <clipPath id="genid731"> <circle r="50" cx="75" cy="137.5"></circle> </clipPath> <circle r="50" stroke="black" stroke-width="5" fill="darkgreen" filter="url(#genid730)" clip-path="url(#genid731)" cx="75" cy="137.5"></circle> <text font-size="14" text-anchor="middle" dominant-baseline="central" x="75" y="245">diffuseConstant= 0.5</text> </svg> <svg width="150" height="275" x="320" y="0"> <filter id="genid734"> <feGaussianBlur stdDeviation="10" result="genid732"></feGaussianBlur> <feDiffuseLighting lighting-color="white" surfaceScale="50" diffuseConstant="1" in="genid732" result="genid733"> <fePointLight x="0" y="0" z="90"></fePointLight> </feDiffuseLighting> <feComposite operator="arithmetic" in="genid733" in2="SourceGraphic" k1="0" k2="0.4" k3="1" k4="0"></feComposite> </filter> <clipPath id="genid735"> <circle r="50" cx="75" cy="137.5"></circle> </clipPath> <circle r="50" stroke="black" stroke-width="5" fill="darkgreen" filter="url(#genid734)" clip-path="url(#genid735)" cx="75" cy="137.5"></circle> <text font-size="14" text-anchor="middle" dominant-baseline="central" x="75" y="245">diffuseConstant= 1</text> </svg> <svg width="150" height="275" x="480" y="0"> <filter id="genid738"> <feGaussianBlur stdDeviation="10" result="genid736"></feGaussianBlur> <feDiffuseLighting lighting-color="white" surfaceScale="50" diffuseConstant="1.5" in="genid736" result="genid737"> <fePointLight x="0" y="0" z="90"></fePointLight> </feDiffuseLighting> <feComposite operator="arithmetic" in="genid737" in2="SourceGraphic" k1="0" k2="0.4" k3="1" k4="0"></feComposite> </filter> <clipPath id="genid739"> <circle r="50" cx="75" cy="137.5"></circle> </clipPath> <circle r="50" stroke="black" stroke-width="5" fill="darkgreen" filter="url(#genid738)" clip-path="url(#genid739)" cx="75" cy="137.5"></circle> <text font-size="14" text-anchor="middle" dominant-baseline="central" x="75" y="245">diffuseConstant= 1.5</text> </svg> <svg width="150" height="275" x="640" y="0"> <filter id="genid742"> <feGaussianBlur stdDeviation="10" result="genid740"></feGaussianBlur> <feDiffuseLighting lighting-color="white" surfaceScale="50" diffuseConstant="2" in="genid740" result="genid741"> <fePointLight x="0" y="0" z="90"></fePointLight> </feDiffuseLighting> <feComposite operator="arithmetic" in="genid741" in2="SourceGraphic" k1="0" k2="0.4" k3="1" k4="0"></feComposite> </filter> <clipPath id="genid743"> <circle r="50" cx="75" cy="137.5"></circle> </clipPath> <circle r="50" stroke="black" stroke-width="5" fill="darkgreen" filter="url(#genid742)" clip-path="url(#genid743)" cx="75" cy="137.5"></circle> <text font-size="14" text-anchor="middle" dominant-baseline="central" x="75" y="245">diffuseConstant= 2</text> </svg> </svg></p>
</div>
</div>
<div id="specular-reflection-the-blin-phong-model" class="section level2">
<h2>Specular Reflection (The Blin-Phong Model)</h2>
<p>Recall from Phyics, for a perfect mirror, <em>the angle of incidence equals the angle for reflection</em>, where angle is measured from a vector normal vector to the surface. Now consider a single ray of light striking the surface at point p with angle <span class="math inline">\(\theta\)</span> from the normal.</p>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="300">
<rect fill="lightblue" width="800" height="25" x="0" y="250"></rect> <polyline points="-33.0127018922194 0 400 250 833.012701892219 0" stroke-width="4" fill="none" stroke="orange" stroke-dasharray="2"></polyline> <text stroke="orange" x="20" y="20">source</text> <text stroke="orange" x="720" y="20">reflection</text> <line stroke-width="4" stroke="grey" stroke-dasharray="6" opacity="0.5" x1="400" y1="250" x2="451.763809020504" y2="56.8148347421863"></line> <text stroke="grey" opacity="0.5" text-anchor="middle" dominant-baseline="central" x="458.234285148067" y="32.6666890849596">eye of viewer</text> <path d="M 428.867513459481 233.333333333333 A 33.3333333333333 33.3333333333333 0 0 0 371.132486540519 233.333333333333 L 400 250 Z" stroke="red" fill="pink" stroke-width="2" opacity="0.5"></path> <defs> <marker id="docId8" viewBox="0,0,10,10" markerWidth="6" markerHeight="6" orient="auto" refX="1" refY="5"> <path d="M 0 0 L 10 5 L 0 10 z"></path> </marker> </defs> <line stroke="black" marker-end="url(#docId8)" x1="400" y1="250" x2="486.602540378444" y2="200"></line> <line stroke="black" marker-end="url(#docId8)" x1="400" y1="250" x2="400" y2="150"></line> <line stroke="black" marker-end="url(#docId8)" x1="400" y1="250" x2="313.397459621556" y2="200"></line> <line stroke="black" marker-end="url(#docId8)" x1="400" y1="250" x2="425.881904510252" y2="153.407417371093"></line> <text stroke="black" text-anchor="middle" dominant-baseline="central" x="503.923048454133" y="190">r</text> <text stroke="black" text-anchor="middle" dominant-baseline="central" x="400" y="130">n</text> <text stroke="black" text-anchor="middle" dominant-baseline="central" x="296.076951545867" y="190">i</text> <text stroke="black" text-anchor="middle" dominant-baseline="central" x="431.058285412302" y="134.088900845312">v</text>
</svg>
<p>Here, <span class="math inline">\(\hat l\)</span> is a unit vector in the direction of the light source, <span class="math inline">\(\hat r\)</span> is the unit vector in the direction of the reflected light at point p, <span class="math inline">\(\hat n\)</span> is the unit normal vector to the surface, and <span class="math inline">\(\hat v\)</span> is a unit vector pointing to the viewer. With a little algebra, we see <span class="math display">\[ \hat r = (2 \hat n \cdot \hat l ) \hat n - \hat l\]</span></p>
<p>But according to this model, the point p will appear dark unless <span class="math inline">\(\hat v == \hat r\)</span> precisely. i.e. <span class="math display">\[
I = \left\{
\begin{array}{ll}
 \kappa \times  L &amp; \text{ if } \hat v = \hat r \\
0                               &amp; otherwise
\end{array}
\right.
\]</span></p>
<p>In practice, this is too restrictive, what is needed is to spread out the reflection. One approach is to consider the vector <span class="math display">\[ \hat h = \frac{ \hat v + \hat l}{ \| \hat v + \hat l \| } \]</span> Note, <span class="math inline">\(\hat h=\hat n\)</span> if and only if <span class="math inline">\(\hat v = \hat r\)</span>. This suggests that we use a similarity measure of <span class="math inline">\(\hat h\)</span> to <span class="math inline">\(\hat n\)</span> as a coeffienct in our model. One such measure is the dot product, <span class="math inline">\(\hat h \cdot \hat n\)</span>. In practice, we use the dot product raised to a power s.</p>
<p>i.e. <span class="math display">\[I = \kappa \times ( \hat h \cdot \hat n )^s  L \]</span></p>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="300">
<rect fill="lightblue" width="800" height="25" x="0" y="250"></rect> <polyline points="-203.553390593274 0 400 250 1003.55339059327 0" stroke-width="4" fill="none" stroke="orange" stroke-dasharray="2"></polyline> <text stroke="orange" x="20" y="20">source</text> <text stroke="orange" x="720" y="20">reflection</text> <line stroke-width="4" stroke="grey" stroke-dasharray="6" opacity="0.5" x1="400" y1="250" x2="431.286893008046" y2="52.4623318809724"></line> <text stroke="grey" opacity="0.5" text-anchor="middle" dominant-baseline="central" x="435.197754634052" y="27.770123366094">eye of viewer</text> <path d="M 430.795984417043 237.24388558783 A 33.3333333333333 33.3333333333333 0 0 0 369.204015582957 237.24388558783 L 400 250 Z" stroke="red" fill="pink" stroke-width="2" opacity="0.5"></path> <defs> <marker id="docId10" viewBox="0,0,10,10" markerWidth="6" markerHeight="6" orient="auto" refX="1" refY="5"> <path d="M 0 0 L 10 5 L 0 10 z"></path> </marker> </defs> <line stroke="black" marker-end="url(#docId10)" x1="400" y1="250" x2="492.387953251129" y2="211.731656763491"></line> <line stroke="black" marker-end="url(#docId10)" x1="400" y1="250" x2="400" y2="150"></line> <line stroke="black" marker-end="url(#docId10)" x1="400" y1="250" x2="307.612046748871" y2="211.731656763491"></line> <line stroke="black" marker-end="url(#docId10)" x1="400" y1="250" x2="415.643446504023" y2="151.231165940486"></line> <line stroke="black" marker-end="url(#docId10)" x1="400" y1="250" x2="351.137875850305" y2="162.75039929272"></line> <text stroke="black" text-anchor="middle" dominant-baseline="central" x="510.865543901354" y="204.077988116189">r</text> <text stroke="black" text-anchor="middle" dominant-baseline="central" x="400" y="130">n</text> <text stroke="black" text-anchor="middle" dominant-baseline="central" x="289.134456098646" y="204.077988116189">i</text> <text stroke="black" text-anchor="middle" dominant-baseline="central" x="418.772135804828" y="131.477399128583">v</text> <text stroke="black" text-anchor="middle" dominant-baseline="central" x="341.365451020365" y="145.300479151264">h</text> <polygon points="400 250 351.137875850305 162.75039929272 400 162.75039929272" fill="lightgreen" opacity="0.5"></polygon> <path d="M 440 206.37519964636 C 400 206.37519964636 440 162.75039929272 400 162.75039929272" stroke="green" fill="none" stroke-width="1"></path> <path d="M 440 206.37519964636 C 400 206.37519964636 440 250 400 250" stroke="green" fill="none" stroke-width="1"></path> <text stroke="lightgreen" x="440" y="206.37519964636">h.n</text>
</svg>
<p>The exponent s allows us to control the degree of shininess, i.e. <span class="math inline">\(s=0\)</span> is essentially ambient light, and as <span class="math inline">\(s\)</span> approaches <span class="math inline">\(\infty\)</span> the reflection becomes more mirror like.</p>
<p>Implict in our argument is the assumption that the viewer is at infinity in the z direction (i.e., the unit vector in the eye direction is (0,0,1) everywhere).</p>
<p>In terms of the 4 pixel components: Red, Green, Blue, Alpha. This becomes</p>
<p><span class="math display">\[
\begin{array}{ll}
I_R &amp; = \kappa_R \times ( \hat n \cdot \hat h )^s \times L_R \\
I_G &amp; = \kappa_G \times ( \hat n \cdot \hat h )^s \times L_G \\
I_B &amp; = \kappa_B \times ( \hat n \cdot \hat h )^s \times L_B \\
I_\alpha &amp; = \max ( I_R, I_G, I_B)
\end{array}
\]</span></p>
<p>The result of a specular filter is meant to be added ( possibly to a textured image), so the <span class="math inline">\(\alpha\)</span> channel depends on the max intensity of components reflected. In particular, if IR,IG,IB is black at a given point, then the specular filter result is transparent at that point. If IR,IG,IB is white , then the specular filter result opaque. In this way we can layer the specular result on top to produce the desired shiny highlights without destroying the image.</p>
<p>The <strong>feSpecularLighting</strong> filter can be used to provide shinyness to an object.</p>
<p>The attributes specific to <strong>feSpecularLighting</strong> element are</p>
<table>
<thead>
<tr class="header">
<th align="left">Attribute</th>
<th align="left">Value</th>
<th align="left">Default</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">surfaceScale</td>
<td align="left">numeric</td>
<td align="left">1</td>
<td align="left">height of surface when <span class="math inline">\(\alpha_{in}=1\)</span></td>
</tr>
<tr class="even">
<td align="left">specularConstant</td>
<td align="left">numeric</td>
<td align="left">1</td>
<td align="left"><span class="math inline">\(\kappa_s\)</span> from the Phong model</td>
</tr>
<tr class="odd">
<td align="left">specularExponent</td>
<td align="left">numeric in range 1-128</td>
<td align="left">1</td>
<td align="left">Exponent of specular term</td>
</tr>
<tr class="even">
<td align="left">kernelUintLength</td>
<td align="left">numeric vector pair</td>
<td align="left">small</td>
<td align="left">granularity of facets</td>
</tr>
</tbody>
</table>
<div id="fespecularlighting-surfacescale" class="section level3">
<h3>feSpecularLighting: surfaceScale</h3>
<pre class="r"><code>library(svgR)
WH&lt;-c(800, 300) # window rect
N=5
R&lt;-50
elevation&lt;-40 # in degrees
azimuth&lt;-270 # in degrees
WH2&lt;-c(1/N,1)*(WH-c(0,25)-c(N*10,0))
surfaceScale&lt;-seq(5,25, length.out=5)
svgR(wh=WH,
    text(&quot;Varying surface scale for feSpecularLighting&quot;, font.size=20, cxy=c(WH[1]/2,30)),
    lapply(1:5, function(i){
      xy=(i-1)*c(WH2[1]+10,0)
      svg(  xy=xy, wh=WH2,
        circle( cxy=WH2/2, r= R,  stroke=&quot;black&quot; , stroke.width=5, 
            fill = &quot;darkgreen&quot;,
            filter=filter(
                feComposite( 
                  operator=&quot;arithmetic&quot;, k1234=c(0,1,1,0),
                  in1=feSpecularLighting( lighting.color=&quot;white&quot;,  
                      surfaceScale=surfaceScale[i],
                      specularExponent=4,
                      in1=feGaussianBlur( stdDeviation=10),
                      fePointLight( xyz= c(0,0,90) ) 
                  ),
                  in2=  &quot;SourceGraphic&quot;
                )
            ),
            clip.path=clipPath(circle(cxy=WH2/2,r=R))
        ),
        text(paste(&quot;surfaceScale=&quot;,surfaceScale[i]), cxy=c(WH2[1]/2,WH2[2]-30),  font.size=14)
      )
    })
)-&gt;doc
cat(&quot;'&quot;,as.character(doc),&quot;'&quot;)</code></pre>
<p><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="300"> <text font-size="20" text-anchor="middle" dominant-baseline="central" x="400" y="30">Varying surface scale for feSpecularLighting</text> <svg width="150" height="275" x="0" y="0"> <filter id="genid746"> <feGaussianBlur stdDeviation="10" result="genid744"></feGaussianBlur> <feSpecularLighting lighting-color="white" surfaceScale="5" specularExponent="4" in="genid744" result="genid745"> <fePointLight x="0" y="0" z="90"></fePointLight> </feSpecularLighting> <feComposite operator="arithmetic" in="genid745" in2="SourceGraphic" k1="0" k2="1" k3="1" k4="0"></feComposite> </filter> <clipPath id="genid747"> <circle r="50" cx="75" cy="137.5"></circle> </clipPath> <circle r="50" stroke="black" stroke-width="5" fill="darkgreen" filter="url(#genid746)" clip-path="url(#genid747)" cx="75" cy="137.5"></circle> <text font-size="14" text-anchor="middle" dominant-baseline="central" x="75" y="245">surfaceScale= 5</text> </svg> <svg width="150" height="275" x="160" y="0"> <filter id="genid750"> <feGaussianBlur stdDeviation="10" result="genid748"></feGaussianBlur> <feSpecularLighting lighting-color="white" surfaceScale="10" specularExponent="4" in="genid748" result="genid749"> <fePointLight x="0" y="0" z="90"></fePointLight> </feSpecularLighting> <feComposite operator="arithmetic" in="genid749" in2="SourceGraphic" k1="0" k2="1" k3="1" k4="0"></feComposite> </filter> <clipPath id="genid751"> <circle r="50" cx="75" cy="137.5"></circle> </clipPath> <circle r="50" stroke="black" stroke-width="5" fill="darkgreen" filter="url(#genid750)" clip-path="url(#genid751)" cx="75" cy="137.5"></circle> <text font-size="14" text-anchor="middle" dominant-baseline="central" x="75" y="245">surfaceScale= 10</text> </svg> <svg width="150" height="275" x="320" y="0"> <filter id="genid754"> <feGaussianBlur stdDeviation="10" result="genid752"></feGaussianBlur> <feSpecularLighting lighting-color="white" surfaceScale="15" specularExponent="4" in="genid752" result="genid753"> <fePointLight x="0" y="0" z="90"></fePointLight> </feSpecularLighting> <feComposite operator="arithmetic" in="genid753" in2="SourceGraphic" k1="0" k2="1" k3="1" k4="0"></feComposite> </filter> <clipPath id="genid755"> <circle r="50" cx="75" cy="137.5"></circle> </clipPath> <circle r="50" stroke="black" stroke-width="5" fill="darkgreen" filter="url(#genid754)" clip-path="url(#genid755)" cx="75" cy="137.5"></circle> <text font-size="14" text-anchor="middle" dominant-baseline="central" x="75" y="245">surfaceScale= 15</text> </svg> <svg width="150" height="275" x="480" y="0"> <filter id="genid758"> <feGaussianBlur stdDeviation="10" result="genid756"></feGaussianBlur> <feSpecularLighting lighting-color="white" surfaceScale="20" specularExponent="4" in="genid756" result="genid757"> <fePointLight x="0" y="0" z="90"></fePointLight> </feSpecularLighting> <feComposite operator="arithmetic" in="genid757" in2="SourceGraphic" k1="0" k2="1" k3="1" k4="0"></feComposite> </filter> <clipPath id="genid759"> <circle r="50" cx="75" cy="137.5"></circle> </clipPath> <circle r="50" stroke="black" stroke-width="5" fill="darkgreen" filter="url(#genid758)" clip-path="url(#genid759)" cx="75" cy="137.5"></circle> <text font-size="14" text-anchor="middle" dominant-baseline="central" x="75" y="245">surfaceScale= 20</text> </svg> <svg width="150" height="275" x="640" y="0"> <filter id="genid762"> <feGaussianBlur stdDeviation="10" result="genid760"></feGaussianBlur> <feSpecularLighting lighting-color="white" surfaceScale="25" specularExponent="4" in="genid760" result="genid761"> <fePointLight x="0" y="0" z="90"></fePointLight> </feSpecularLighting> <feComposite operator="arithmetic" in="genid761" in2="SourceGraphic" k1="0" k2="1" k3="1" k4="0"></feComposite> </filter> <clipPath id="genid763"> <circle r="50" cx="75" cy="137.5"></circle> </clipPath> <circle r="50" stroke="black" stroke-width="5" fill="darkgreen" filter="url(#genid762)" clip-path="url(#genid763)" cx="75" cy="137.5"></circle> <text font-size="14" text-anchor="middle" dominant-baseline="central" x="75" y="245">surfaceScale= 25</text> </svg> </svg></p>
</div>
<div id="fespecularlighting-specularconstant" class="section level3">
<h3>feSpecularLighting: specularConstant</h3>
<pre class="r"><code>library(svgR)
WH&lt;-c(800, 300) # window rect
N=5
R&lt;-50
elevation&lt;-40 # in degrees
azimuth&lt;-270 # in degrees
WH2&lt;-c(1/N,1)*(WH-c(0,25)-c(N*10,0))
specularConstant&lt;-seq(.1,1, length.out=5)
svgR(wh=WH,
    text(&quot;Varying specularConstant for feSpecularLighting&quot;, font.size=20, cxy=c(WH[1]/2,30)),
    lapply(1:5, function(i){
      xy=(i-1)*c(WH2[1]+10,0)
      svg(  xy=xy, wh=WH2,
        circle( cxy=WH2/2, r= R,  stroke=&quot;black&quot; , stroke.width=5, 
            fill = &quot;darkgreen&quot;,
            filter=filter(
                feComposite( 
                  operator=&quot;arithmetic&quot;, k1234=c(0,1,1,0),
                  in1=feSpecularLighting( lighting.color=&quot;white&quot;,  
                      surfaceScale=15,
                      specularExponent=4,
                      specularConstant=specularConstant[i],
                      in1=feGaussianBlur( stdDeviation=10),
                      fePointLight( xyz= c(0,0,90) ) 
                  ),
                  in2=  &quot;SourceGraphic&quot;
                )
            ),
            clip.path=clipPath(circle(cxy=WH2/2,r=R))
        ),
        text(paste(&quot;specularConstant=&quot;,specularConstant[i]), cxy=c(WH2[1]/2,WH2[2]-30),  font.size=14)
      )
    })
)-&gt;doc
cat(&quot;'&quot;,as.character(doc),&quot;'&quot;)</code></pre>
<p><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="300"> <text font-size="20" text-anchor="middle" dominant-baseline="central" x="400" y="30">Varying specularConstant for feSpecularLighting</text> <svg width="150" height="275" x="0" y="0"> <filter id="genid766"> <feGaussianBlur stdDeviation="10" result="genid764"></feGaussianBlur> <feSpecularLighting lighting-color="white" surfaceScale="15" specularExponent="4" specularConstant="0.1" in="genid764" result="genid765"> <fePointLight x="0" y="0" z="90"></fePointLight> </feSpecularLighting> <feComposite operator="arithmetic" in="genid765" in2="SourceGraphic" k1="0" k2="1" k3="1" k4="0"></feComposite> </filter> <clipPath id="genid767"> <circle r="50" cx="75" cy="137.5"></circle> </clipPath> <circle r="50" stroke="black" stroke-width="5" fill="darkgreen" filter="url(#genid766)" clip-path="url(#genid767)" cx="75" cy="137.5"></circle> <text font-size="14" text-anchor="middle" dominant-baseline="central" x="75" y="245">specularConstant= 0.1</text> </svg> <svg width="150" height="275" x="160" y="0"> <filter id="genid770"> <feGaussianBlur stdDeviation="10" result="genid768"></feGaussianBlur> <feSpecularLighting lighting-color="white" surfaceScale="15" specularExponent="4" specularConstant="0.325" in="genid768" result="genid769"> <fePointLight x="0" y="0" z="90"></fePointLight> </feSpecularLighting> <feComposite operator="arithmetic" in="genid769" in2="SourceGraphic" k1="0" k2="1" k3="1" k4="0"></feComposite> </filter> <clipPath id="genid771"> <circle r="50" cx="75" cy="137.5"></circle> </clipPath> <circle r="50" stroke="black" stroke-width="5" fill="darkgreen" filter="url(#genid770)" clip-path="url(#genid771)" cx="75" cy="137.5"></circle> <text font-size="14" text-anchor="middle" dominant-baseline="central" x="75" y="245">specularConstant= 0.325</text> </svg> <svg width="150" height="275" x="320" y="0"> <filter id="genid774"> <feGaussianBlur stdDeviation="10" result="genid772"></feGaussianBlur> <feSpecularLighting lighting-color="white" surfaceScale="15" specularExponent="4" specularConstant="0.55" in="genid772" result="genid773"> <fePointLight x="0" y="0" z="90"></fePointLight> </feSpecularLighting> <feComposite operator="arithmetic" in="genid773" in2="SourceGraphic" k1="0" k2="1" k3="1" k4="0"></feComposite> </filter> <clipPath id="genid775"> <circle r="50" cx="75" cy="137.5"></circle> </clipPath> <circle r="50" stroke="black" stroke-width="5" fill="darkgreen" filter="url(#genid774)" clip-path="url(#genid775)" cx="75" cy="137.5"></circle> <text font-size="14" text-anchor="middle" dominant-baseline="central" x="75" y="245">specularConstant= 0.55</text> </svg> <svg width="150" height="275" x="480" y="0"> <filter id="genid778"> <feGaussianBlur stdDeviation="10" result="genid776"></feGaussianBlur> <feSpecularLighting lighting-color="white" surfaceScale="15" specularExponent="4" specularConstant="0.775" in="genid776" result="genid777"> <fePointLight x="0" y="0" z="90"></fePointLight> </feSpecularLighting> <feComposite operator="arithmetic" in="genid777" in2="SourceGraphic" k1="0" k2="1" k3="1" k4="0"></feComposite> </filter> <clipPath id="genid779"> <circle r="50" cx="75" cy="137.5"></circle> </clipPath> <circle r="50" stroke="black" stroke-width="5" fill="darkgreen" filter="url(#genid778)" clip-path="url(#genid779)" cx="75" cy="137.5"></circle> <text font-size="14" text-anchor="middle" dominant-baseline="central" x="75" y="245">specularConstant= 0.775</text> </svg> <svg width="150" height="275" x="640" y="0"> <filter id="genid782"> <feGaussianBlur stdDeviation="10" result="genid780"></feGaussianBlur> <feSpecularLighting lighting-color="white" surfaceScale="15" specularExponent="4" specularConstant="1" in="genid780" result="genid781"> <fePointLight x="0" y="0" z="90"></fePointLight> </feSpecularLighting> <feComposite operator="arithmetic" in="genid781" in2="SourceGraphic" k1="0" k2="1" k3="1" k4="0"></feComposite> </filter> <clipPath id="genid783"> <circle r="50" cx="75" cy="137.5"></circle> </clipPath> <circle r="50" stroke="black" stroke-width="5" fill="darkgreen" filter="url(#genid782)" clip-path="url(#genid783)" cx="75" cy="137.5"></circle> <text font-size="14" text-anchor="middle" dominant-baseline="central" x="75" y="245">specularConstant= 1</text> </svg> </svg></p>
<div id="fespecularlighting-specularexponent" class="section level4">
<h4>feSpecularLighting: specularExponent</h4>
<pre class="r"><code>library(svgR)
WH&lt;-c(800, 300) # window rect
N=5
R&lt;-50
elevation&lt;-40 # in degrees
azimuth&lt;-270 # in degrees
WH2&lt;-c(1/N,1)*(WH-c(0,25)-c(N*10,0))
specularExponent&lt;-seq(.5,5, length.out=5)
svgR(wh=WH,
    text(&quot;Varying specularExponent for feSpecularLighting&quot;, font.size=20, cxy=c(WH[1]/2,30)),
    lapply(1:5, function(i){
      xy=(i-1)*c(WH2[1]+10,0)
      svg(  xy=xy, wh=WH2,
        circle( cxy=WH2/2, r= R,  stroke=&quot;black&quot; , stroke.width=5, 
            fill = &quot;darkgreen&quot;,
            filter=filter(
                feComposite( 
                  operator=&quot;arithmetic&quot;, k1234=c(0,1,1,0),
                  in1=feSpecularLighting( lighting.color=&quot;white&quot;,  
                      surfaceScale=15,
                      specularExponent=specularExponent[i],
                      specularConstant=.6,
                      in1=feGaussianBlur( stdDeviation=10),
                      fePointLight( xyz= c(0,0,90) ) 
                  ),
                  in2=  &quot;SourceGraphic&quot;
                )
            ),
            clip.path=clipPath(circle(cxy=WH2/2,r=R))
        ),
        text(paste(&quot;s=&quot;,specularExponent[i]), cxy=c(WH2[1]/2,WH2[2]-30),  font.size=14)
      )
    })
)-&gt;doc
cat(&quot;'&quot;,as.character(doc),&quot;'&quot;)</code></pre>
<p><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="300"> <text font-size="20" text-anchor="middle" dominant-baseline="central" x="400" y="30">Varying specularExponent for feSpecularLighting</text> <svg width="150" height="275" x="0" y="0"> <filter id="genid786"> <feGaussianBlur stdDeviation="10" result="genid784"></feGaussianBlur> <feSpecularLighting lighting-color="white" surfaceScale="15" specularExponent="0.5" specularConstant="0.6" in="genid784" result="genid785"> <fePointLight x="0" y="0" z="90"></fePointLight> </feSpecularLighting> <feComposite operator="arithmetic" in="genid785" in2="SourceGraphic" k1="0" k2="1" k3="1" k4="0"></feComposite> </filter> <clipPath id="genid787"> <circle r="50" cx="75" cy="137.5"></circle> </clipPath> <circle r="50" stroke="black" stroke-width="5" fill="darkgreen" filter="url(#genid786)" clip-path="url(#genid787)" cx="75" cy="137.5"></circle> <text font-size="14" text-anchor="middle" dominant-baseline="central" x="75" y="245">s= 0.5</text> </svg> <svg width="150" height="275" x="160" y="0"> <filter id="genid790"> <feGaussianBlur stdDeviation="10" result="genid788"></feGaussianBlur> <feSpecularLighting lighting-color="white" surfaceScale="15" specularExponent="1.625" specularConstant="0.6" in="genid788" result="genid789"> <fePointLight x="0" y="0" z="90"></fePointLight> </feSpecularLighting> <feComposite operator="arithmetic" in="genid789" in2="SourceGraphic" k1="0" k2="1" k3="1" k4="0"></feComposite> </filter> <clipPath id="genid791"> <circle r="50" cx="75" cy="137.5"></circle> </clipPath> <circle r="50" stroke="black" stroke-width="5" fill="darkgreen" filter="url(#genid790)" clip-path="url(#genid791)" cx="75" cy="137.5"></circle> <text font-size="14" text-anchor="middle" dominant-baseline="central" x="75" y="245">s= 1.625</text> </svg> <svg width="150" height="275" x="320" y="0"> <filter id="genid794"> <feGaussianBlur stdDeviation="10" result="genid792"></feGaussianBlur> <feSpecularLighting lighting-color="white" surfaceScale="15" specularExponent="2.75" specularConstant="0.6" in="genid792" result="genid793"> <fePointLight x="0" y="0" z="90"></fePointLight> </feSpecularLighting> <feComposite operator="arithmetic" in="genid793" in2="SourceGraphic" k1="0" k2="1" k3="1" k4="0"></feComposite> </filter> <clipPath id="genid795"> <circle r="50" cx="75" cy="137.5"></circle> </clipPath> <circle r="50" stroke="black" stroke-width="5" fill="darkgreen" filter="url(#genid794)" clip-path="url(#genid795)" cx="75" cy="137.5"></circle> <text font-size="14" text-anchor="middle" dominant-baseline="central" x="75" y="245">s= 2.75</text> </svg> <svg width="150" height="275" x="480" y="0"> <filter id="genid798"> <feGaussianBlur stdDeviation="10" result="genid796"></feGaussianBlur> <feSpecularLighting lighting-color="white" surfaceScale="15" specularExponent="3.875" specularConstant="0.6" in="genid796" result="genid797"> <fePointLight x="0" y="0" z="90"></fePointLight> </feSpecularLighting> <feComposite operator="arithmetic" in="genid797" in2="SourceGraphic" k1="0" k2="1" k3="1" k4="0"></feComposite> </filter> <clipPath id="genid799"> <circle r="50" cx="75" cy="137.5"></circle> </clipPath> <circle r="50" stroke="black" stroke-width="5" fill="darkgreen" filter="url(#genid798)" clip-path="url(#genid799)" cx="75" cy="137.5"></circle> <text font-size="14" text-anchor="middle" dominant-baseline="central" x="75" y="245">s= 3.875</text> </svg> <svg width="150" height="275" x="640" y="0"> <filter id="genid802"> <feGaussianBlur stdDeviation="10" result="genid800"></feGaussianBlur> <feSpecularLighting lighting-color="white" surfaceScale="15" specularExponent="5" specularConstant="0.6" in="genid800" result="genid801"> <fePointLight x="0" y="0" z="90"></fePointLight> </feSpecularLighting> <feComposite operator="arithmetic" in="genid801" in2="SourceGraphic" k1="0" k2="1" k3="1" k4="0"></feComposite> </filter> <clipPath id="genid803"> <circle r="50" cx="75" cy="137.5"></circle> </clipPath> <circle r="50" stroke="black" stroke-width="5" fill="darkgreen" filter="url(#genid802)" clip-path="url(#genid803)" cx="75" cy="137.5"></circle> <text font-size="14" text-anchor="middle" dominant-baseline="central" x="75" y="245">s= 5</text> </svg> </svg></p>
</div>
<div id="summary" class="section level4">
<h4>Summary</h4>
<p>The feDiffuseLighting and feSpecularLighting filters will often be applied together. An implementation may detect this and calculate both maps in one pass, instead of two.</p>
<ul>
<li>feDiffuseLighting and feSpecularLighting
<ul>
<li>often applied togther</li>
<li>surfaceScale is required for both to provide the depth for the image</li>
<li>both use a constant to regulate the intensity, but with different names</li>
</ul></li>
<li>feDiffuseLighting creates non-glossy effects
<ul>
<li>diffuseConstant (a single number) regulates the intensity of the diffuse light</li>
<li>produces an opaque results</li>
</ul></li>
<li>feSpecularLighting creates glossy effects
<ul>
<li>specularConstant (a single number) regulates the intensity of the specular light</li>
<li>produces an non-opaque results, where the specular light is zero, no additional coverage is added to the image and a fully white highlight will add opacity</li>
</ul></li>
</ul>
</div>
</div>
</div>
<div id="light-sources" class="section level2">
<h2>Light Sources</h2>
<p>There are 3 possible of light sources:</p>
<ul>
<li><strong>feDistantLight</strong>, which emulates a distant light source</li>
<li><strong>fePointLight</strong> which emulates a point light source</li>
<li><strong>feSpotLight</strong> which emulates a spot light.</li>
</ul>
<pre class="r"><code>library(svgR)
WH&lt;-c(800, 200) # window rect
cxy&lt;-rbind(seq(0,WH[1],length.out=2*4+1)[2*(1:4)],WH[2]/2)
txt&lt;-c(&quot;No Light&quot;,&quot;feDistantLight&quot;,&quot;fePointLight&quot;,&quot;feSpotLight&quot;)
lighting&lt;-function(lightsource){
  filter( feComposite( operator=&quot;arithmetic&quot;, k1234=c(1,0,0,0),
    in1=&quot;SourceGraphic&quot;,
    in2=feDiffuseLighting(in1=&quot;SourceGraphic&quot;, light.color=&quot;white&quot;, lightsource)
  ))
}
svgR( wh=WH,
    circle(cxy=cxy[,1], r=50, fill=&quot;green&quot;), 
    circle(cxy=cxy[,2], r=50, fill=&quot;green&quot;, 
      filter=lighting(feDistantLight(azimuth=240, elevation=20) )
    ),     
    circle(cxy=cxy[,3], r=50, fill=&quot;green&quot;, 
      filter=lighting(fePointLight( xyz=20*c(-1,-1,1)+ c(cxy[,3],0) ) )
    ),     
    circle(cxy=cxy[,4], r=50, fill=&quot;green&quot;, 
      filter=lighting( feSpotLight(  xyz=20*c(-1,-1,1) + c(cxy[,4],0), 
        limitingConeAngle=20,pointsAtXYZ=20*c(1,1,0) + c(cxy[,4],0)
      ))
    ),
    lapply(1:4, function(i)text(txt[i], cxy=c(cxy[1,i], WH[2]-20)))
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="200">
<circle r="50" fill="green" cx="100" cy="100"></circle> <filter id="genid805"> <feDiffuseLighting in="SourceGraphic" light-color="white" result="genid804"> <feDistantLight azimuth="240" elevation="20"></feDistantLight> </feDiffuseLighting> <feComposite operator="arithmetic" in="SourceGraphic" in2="genid804" k1="1" k2="0" k3="0" k4="0"></feComposite> </filter> <circle r="50" fill="green" filter="url(#genid805)" cx="300" cy="100"></circle> <filter id="genid807"> <feDiffuseLighting in="SourceGraphic" light-color="white" result="genid806"> <fePointLight x="480" y="80" z="20"></fePointLight> </feDiffuseLighting> <feComposite operator="arithmetic" in="SourceGraphic" in2="genid806" k1="1" k2="0" k3="0" k4="0"></feComposite> </filter> <circle r="50" fill="green" filter="url(#genid807)" cx="500" cy="100"></circle> <filter id="genid809"> <feDiffuseLighting in="SourceGraphic" light-color="white" result="genid808"> <feSpotLight limitingConeAngle="20" pointsAtX="720" pointsAtY="120" pointsAtZ="0" x="680" y="80" z="20"></feSpotLight> </feDiffuseLighting> <feComposite operator="arithmetic" in="SourceGraphic" in2="genid808" k1="1" k2="0" k3="0" k4="0"></feComposite> </filter> <circle r="50" fill="green" filter="url(#genid809)" cx="700" cy="100"></circle> <text text-anchor="middle" dominant-baseline="central" x="100" y="180">No Light</text> <text text-anchor="middle" dominant-baseline="central" x="300" y="180">feDistantLight</text> <text text-anchor="middle" dominant-baseline="central" x="500" y="180">fePointLight</text> <text text-anchor="middle" dominant-baseline="central" x="700" y="180">feSpotLight</text>
</svg>
</div>
<div id="fedistantlight" class="section level2">
<h2>feDistantLight</h2>
<p>A distant light is assumed to be very bright and distant, so that the light rays striking the surface are essentially parallel. In particular, it is assumed that the location of the light source spherical coordinates has a large fixed value for <span class="math inline">\(\rho\)</span>. Thus to specify the location of a distant light source only two coordinates, <span class="math inline">\(\theta\)</span>, <span class="math inline">\(\phi\)</span> are required. However, instead of standard mathematical terminology, it was decided <strong>feDistantLight</strong> to use <em>azimuth</em> (=<span class="math inline">\(\theta\)</span>) and <em>elevation</em> (=<span class="math inline">\(\pi/2 -\phi\)</span>). Also, in deference to the Babylonians, degrees are used instead of radians.</p>
<p>Thus the attributes for <strong>feDistantLight</strong> are</p>
<table>
<thead>
<tr class="header">
<th align="left">Attribute</th>
<th align="left">Value</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">elevation</td>
<td align="left">numeric</td>
<td align="left">angle in degrees from the xy-plane</td>
</tr>
<tr class="even">
<td align="left">azimuth</td>
<td align="left">numeric</td>
<td align="left">1</td>
</tr>
</tbody>
</table>
<div id="varying-distantlight-positions-diffuse" class="section level3">
<h3>Varying DistantLight Positions: Diffuse</h3>
<pre class="r"><code>library(svgR)
WH&lt;-c(800, 1100) # window rect
Gdim=c(5,5) # num cols abd cil
marg&lt;-c(10,40)# spaceing between
XY&lt;-expand.grid(
  seq(marg[1],WH[1],length.out=Gdim[1]+1)[1:Gdim[1]], 
  seq(marg[2],WH[2],length.out=Gdim[2]+1)[1:Gdim[2]] 
)
WH2&lt;-XY[Gdim[1]+2,]-XY[1,]-marg*c(1,0)
ccxy&lt;-c(.5,.4)*WH2
R&lt;-70
diffuseConstant&lt;-1
ea&lt;-expand.grid(
  seq(0,  75, length.out=Gdim[1]), #elevation
  seq( 0, 330, length.out=Gdim[2]) #azimuth
)
svgR(wh=WH,
    text(&quot;Varying feDistantLight Position with feDiffuseLighting&quot;, font.size=20, cxy=c(WH[1]/2,30)),
    lapply(1:nrow(XY), function(i){
      svg(  xy=XY[i,], wh=WH2,
        circle( cxy=ccxy, r= R,  stroke=&quot;black&quot; , stroke.width=5, 
            fill = &quot;darkgreen&quot;,
            filter=filter(
                feComposite( 
                  operator=&quot;arithmetic&quot;, k1234=c(0,.4,1,0),
                  in1=feDiffuseLighting( lighting.color=&quot;white&quot;,  surfaceScale=50, 
                      diffuseConstant=diffuseConstant,
                      in1=feGaussianBlur( stdDeviation=10),
                      feDistantLight( elevation= ea[i,1], azimuth=ea[i,2] ) 
                  ),
                  in2=  &quot;SourceGraphic&quot;
                )
            ),
            clip.path=clipPath(circle(cxy=ccxy,r=R+3))
        ),
        text(paste(&quot;elevation=&quot;, ea[i,1] ), xy=c(.1,.85)* WH2,  font.size=14),
        text(paste(&quot;azimuth=&quot;,   ea[i,2] ), xy=c(.1, .95)* WH2,  font.size=14)
      )
    })
)-&gt;doc
cat(&quot;'&quot;,as.character(doc),&quot;'&quot;)</code></pre>
<p><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="1100"> <text font-size="20" text-anchor="middle" dominant-baseline="central" x="400" y="30">Varying feDistantLight Position with feDiffuseLighting</text> <svg width="148" height="212" x="10" y="40"> <filter id="genid812"> <feGaussianBlur stdDeviation="10" result="genid810"></feGaussianBlur> <feDiffuseLighting lighting-color="white" surfaceScale="50" diffuseConstant="1" in="genid810" result="genid811"> <feDistantLight elevation="0" azimuth="0"></feDistantLight> </feDiffuseLighting> <feComposite operator="arithmetic" in="genid811" in2="SourceGraphic" k1="0" k2="0.4" k3="1" k4="0"></feComposite> </filter> <clipPath id="genid813"> <circle r="73" cx="74" cy="84.8"></circle> </clipPath> <circle r="70" stroke="black" stroke-width="5" fill="darkgreen" filter="url(#genid812)" clip-path="url(#genid813)" cx="74" cy="84.8"></circle> <text font-size="14" x="14.8" y="180.2">elevation= 0</text> <text font-size="14" x="14.8" y="201.4">azimuth= 0</text> </svg> <svg width="148" height="212" x="168" y="40"> <filter id="genid816"> <feGaussianBlur stdDeviation="10" result="genid814"></feGaussianBlur> <feDiffuseLighting lighting-color="white" surfaceScale="50" diffuseConstant="1" in="genid814" result="genid815"> <feDistantLight elevation="18.75" azimuth="0"></feDistantLight> </feDiffuseLighting> <feComposite operator="arithmetic" in="genid815" in2="SourceGraphic" k1="0" k2="0.4" k3="1" k4="0"></feComposite> </filter> <clipPath id="genid817"> <circle r="73" cx="74" cy="84.8"></circle> </clipPath> <circle r="70" stroke="black" stroke-width="5" fill="darkgreen" filter="url(#genid816)" clip-path="url(#genid817)" cx="74" cy="84.8"></circle> <text font-size="14" x="14.8" y="180.2">elevation= 18.75</text> <text font-size="14" x="14.8" y="201.4">azimuth= 0</text> </svg> <svg width="148" height="212" x="326" y="40"> <filter id="genid820"> <feGaussianBlur stdDeviation="10" result="genid818"></feGaussianBlur> <feDiffuseLighting lighting-color="white" surfaceScale="50" diffuseConstant="1" in="genid818" result="genid819"> <feDistantLight elevation="37.5" azimuth="0"></feDistantLight> </feDiffuseLighting> <feComposite operator="arithmetic" in="genid819" in2="SourceGraphic" k1="0" k2="0.4" k3="1" k4="0"></feComposite> </filter> <clipPath id="genid821"> <circle r="73" cx="74" cy="84.8"></circle> </clipPath> <circle r="70" stroke="black" stroke-width="5" fill="darkgreen" filter="url(#genid820)" clip-path="url(#genid821)" cx="74" cy="84.8"></circle> <text font-size="14" x="14.8" y="180.2">elevation= 37.5</text> <text font-size="14" x="14.8" y="201.4">azimuth= 0</text> </svg> <svg width="148" height="212" x="484" y="40"> <filter id="genid824"> <feGaussianBlur stdDeviation="10" result="genid822"></feGaussianBlur> <feDiffuseLighting lighting-color="white" surfaceScale="50" diffuseConstant="1" in="genid822" result="genid823"> <feDistantLight elevation="56.25" azimuth="0"></feDistantLight> </feDiffuseLighting> <feComposite operator="arithmetic" in="genid823" in2="SourceGraphic" k1="0" k2="0.4" k3="1" k4="0"></feComposite> </filter> <clipPath id="genid825"> <circle r="73" cx="74" cy="84.8"></circle> </clipPath> <circle r="70" stroke="black" stroke-width="5" fill="darkgreen" filter="url(#genid824)" clip-path="url(#genid825)" cx="74" cy="84.8"></circle> <text font-size="14" x="14.8" y="180.2">elevation= 56.25</text> <text font-size="14" x="14.8" y="201.4">azimuth= 0</text> </svg> <svg width="148" height="212" x="642" y="40"> <filter id="genid828"> <feGaussianBlur stdDeviation="10" result="genid826"></feGaussianBlur> <feDiffuseLighting lighting-color="white" surfaceScale="50" diffuseConstant="1" in="genid826" result="genid827"> <feDistantLight elevation="75" azimuth="0"></feDistantLight> </feDiffuseLighting> <feComposite operator="arithmetic" in="genid827" in2="SourceGraphic" k1="0" k2="0.4" k3="1" k4="0"></feComposite> </filter> <clipPath id="genid829"> <circle r="73" cx="74" cy="84.8"></circle> </clipPath> <circle r="70" stroke="black" stroke-width="5" fill="darkgreen" filter="url(#genid828)" clip-path="url(#genid829)" cx="74" cy="84.8"></circle> <text font-size="14" x="14.8" y="180.2">elevation= 75</text> <text font-size="14" x="14.8" y="201.4">azimuth= 0</text> </svg> <svg width="148" height="212" x="10" y="252"> <filter id="genid832"> <feGaussianBlur stdDeviation="10" result="genid830"></feGaussianBlur> <feDiffuseLighting lighting-color="white" surfaceScale="50" diffuseConstant="1" in="genid830" result="genid831"> <feDistantLight elevation="0" azimuth="82.5"></feDistantLight> </feDiffuseLighting> <feComposite operator="arithmetic" in="genid831" in2="SourceGraphic" k1="0" k2="0.4" k3="1" k4="0"></feComposite> </filter> <clipPath id="genid833"> <circle r="73" cx="74" cy="84.8"></circle> </clipPath> <circle r="70" stroke="black" stroke-width="5" fill="darkgreen" filter="url(#genid832)" clip-path="url(#genid833)" cx="74" cy="84.8"></circle> <text font-size="14" x="14.8" y="180.2">elevation= 0</text> <text font-size="14" x="14.8" y="201.4">azimuth= 82.5</text> </svg> <svg width="148" height="212" x="168" y="252"> <filter id="genid836"> <feGaussianBlur stdDeviation="10" result="genid834"></feGaussianBlur> <feDiffuseLighting lighting-color="white" surfaceScale="50" diffuseConstant="1" in="genid834" result="genid835"> <feDistantLight elevation="18.75" azimuth="82.5"></feDistantLight> </feDiffuseLighting> <feComposite operator="arithmetic" in="genid835" in2="SourceGraphic" k1="0" k2="0.4" k3="1" k4="0"></feComposite> </filter> <clipPath id="genid837"> <circle r="73" cx="74" cy="84.8"></circle> </clipPath> <circle r="70" stroke="black" stroke-width="5" fill="darkgreen" filter="url(#genid836)" clip-path="url(#genid837)" cx="74" cy="84.8"></circle> <text font-size="14" x="14.8" y="180.2">elevation= 18.75</text> <text font-size="14" x="14.8" y="201.4">azimuth= 82.5</text> </svg> <svg width="148" height="212" x="326" y="252"> <filter id="genid840"> <feGaussianBlur stdDeviation="10" result="genid838"></feGaussianBlur> <feDiffuseLighting lighting-color="white" surfaceScale="50" diffuseConstant="1" in="genid838" result="genid839"> <feDistantLight elevation="37.5" azimuth="82.5"></feDistantLight> </feDiffuseLighting> <feComposite operator="arithmetic" in="genid839" in2="SourceGraphic" k1="0" k2="0.4" k3="1" k4="0"></feComposite> </filter> <clipPath id="genid841"> <circle r="73" cx="74" cy="84.8"></circle> </clipPath> <circle r="70" stroke="black" stroke-width="5" fill="darkgreen" filter="url(#genid840)" clip-path="url(#genid841)" cx="74" cy="84.8"></circle> <text font-size="14" x="14.8" y="180.2">elevation= 37.5</text> <text font-size="14" x="14.8" y="201.4">azimuth= 82.5</text> </svg> <svg width="148" height="212" x="484" y="252"> <filter id="genid844"> <feGaussianBlur stdDeviation="10" result="genid842"></feGaussianBlur> <feDiffuseLighting lighting-color="white" surfaceScale="50" diffuseConstant="1" in="genid842" result="genid843"> <feDistantLight elevation="56.25" azimuth="82.5"></feDistantLight> </feDiffuseLighting> <feComposite operator="arithmetic" in="genid843" in2="SourceGraphic" k1="0" k2="0.4" k3="1" k4="0"></feComposite> </filter> <clipPath id="genid845"> <circle r="73" cx="74" cy="84.8"></circle> </clipPath> <circle r="70" stroke="black" stroke-width="5" fill="darkgreen" filter="url(#genid844)" clip-path="url(#genid845)" cx="74" cy="84.8"></circle> <text font-size="14" x="14.8" y="180.2">elevation= 56.25</text> <text font-size="14" x="14.8" y="201.4">azimuth= 82.5</text> </svg> <svg width="148" height="212" x="642" y="252"> <filter id="genid848"> <feGaussianBlur stdDeviation="10" result="genid846"></feGaussianBlur> <feDiffuseLighting lighting-color="white" surfaceScale="50" diffuseConstant="1" in="genid846" result="genid847"> <feDistantLight elevation="75" azimuth="82.5"></feDistantLight> </feDiffuseLighting> <feComposite operator="arithmetic" in="genid847" in2="SourceGraphic" k1="0" k2="0.4" k3="1" k4="0"></feComposite> </filter> <clipPath id="genid849"> <circle r="73" cx="74" cy="84.8"></circle> </clipPath> <circle r="70" stroke="black" stroke-width="5" fill="darkgreen" filter="url(#genid848)" clip-path="url(#genid849)" cx="74" cy="84.8"></circle> <text font-size="14" x="14.8" y="180.2">elevation= 75</text> <text font-size="14" x="14.8" y="201.4">azimuth= 82.5</text> </svg> <svg width="148" height="212" x="10" y="464"> <filter id="genid852"> <feGaussianBlur stdDeviation="10" result="genid850"></feGaussianBlur> <feDiffuseLighting lighting-color="white" surfaceScale="50" diffuseConstant="1" in="genid850" result="genid851"> <feDistantLight elevation="0" azimuth="165"></feDistantLight> </feDiffuseLighting> <feComposite operator="arithmetic" in="genid851" in2="SourceGraphic" k1="0" k2="0.4" k3="1" k4="0"></feComposite> </filter> <clipPath id="genid853"> <circle r="73" cx="74" cy="84.8"></circle> </clipPath> <circle r="70" stroke="black" stroke-width="5" fill="darkgreen" filter="url(#genid852)" clip-path="url(#genid853)" cx="74" cy="84.8"></circle> <text font-size="14" x="14.8" y="180.2">elevation= 0</text> <text font-size="14" x="14.8" y="201.4">azimuth= 165</text> </svg> <svg width="148" height="212" x="168" y="464"> <filter id="genid856"> <feGaussianBlur stdDeviation="10" result="genid854"></feGaussianBlur> <feDiffuseLighting lighting-color="white" surfaceScale="50" diffuseConstant="1" in="genid854" result="genid855"> <feDistantLight elevation="18.75" azimuth="165"></feDistantLight> </feDiffuseLighting> <feComposite operator="arithmetic" in="genid855" in2="SourceGraphic" k1="0" k2="0.4" k3="1" k4="0"></feComposite> </filter> <clipPath id="genid857"> <circle r="73" cx="74" cy="84.8"></circle> </clipPath> <circle r="70" stroke="black" stroke-width="5" fill="darkgreen" filter="url(#genid856)" clip-path="url(#genid857)" cx="74" cy="84.8"></circle> <text font-size="14" x="14.8" y="180.2">elevation= 18.75</text> <text font-size="14" x="14.8" y="201.4">azimuth= 165</text> </svg> <svg width="148" height="212" x="326" y="464"> <filter id="genid860"> <feGaussianBlur stdDeviation="10" result="genid858"></feGaussianBlur> <feDiffuseLighting lighting-color="white" surfaceScale="50" diffuseConstant="1" in="genid858" result="genid859"> <feDistantLight elevation="37.5" azimuth="165"></feDistantLight> </feDiffuseLighting> <feComposite operator="arithmetic" in="genid859" in2="SourceGraphic" k1="0" k2="0.4" k3="1" k4="0"></feComposite> </filter> <clipPath id="genid861"> <circle r="73" cx="74" cy="84.8"></circle> </clipPath> <circle r="70" stroke="black" stroke-width="5" fill="darkgreen" filter="url(#genid860)" clip-path="url(#genid861)" cx="74" cy="84.8"></circle> <text font-size="14" x="14.8" y="180.2">elevation= 37.5</text> <text font-size="14" x="14.8" y="201.4">azimuth= 165</text> </svg> <svg width="148" height="212" x="484" y="464"> <filter id="genid864"> <feGaussianBlur stdDeviation="10" result="genid862"></feGaussianBlur> <feDiffuseLighting lighting-color="white" surfaceScale="50" diffuseConstant="1" in="genid862" result="genid863"> <feDistantLight elevation="56.25" azimuth="165"></feDistantLight> </feDiffuseLighting> <feComposite operator="arithmetic" in="genid863" in2="SourceGraphic" k1="0" k2="0.4" k3="1" k4="0"></feComposite> </filter> <clipPath id="genid865"> <circle r="73" cx="74" cy="84.8"></circle> </clipPath> <circle r="70" stroke="black" stroke-width="5" fill="darkgreen" filter="url(#genid864)" clip-path="url(#genid865)" cx="74" cy="84.8"></circle> <text font-size="14" x="14.8" y="180.2">elevation= 56.25</text> <text font-size="14" x="14.8" y="201.4">azimuth= 165</text> </svg> <svg width="148" height="212" x="642" y="464"> <filter id="genid868"> <feGaussianBlur stdDeviation="10" result="genid866"></feGaussianBlur> <feDiffuseLighting lighting-color="white" surfaceScale="50" diffuseConstant="1" in="genid866" result="genid867"> <feDistantLight elevation="75" azimuth="165"></feDistantLight> </feDiffuseLighting> <feComposite operator="arithmetic" in="genid867" in2="SourceGraphic" k1="0" k2="0.4" k3="1" k4="0"></feComposite> </filter> <clipPath id="genid869"> <circle r="73" cx="74" cy="84.8"></circle> </clipPath> <circle r="70" stroke="black" stroke-width="5" fill="darkgreen" filter="url(#genid868)" clip-path="url(#genid869)" cx="74" cy="84.8"></circle> <text font-size="14" x="14.8" y="180.2">elevation= 75</text> <text font-size="14" x="14.8" y="201.4">azimuth= 165</text> </svg> <svg width="148" height="212" x="10" y="676"> <filter id="genid872"> <feGaussianBlur stdDeviation="10" result="genid870"></feGaussianBlur> <feDiffuseLighting lighting-color="white" surfaceScale="50" diffuseConstant="1" in="genid870" result="genid871"> <feDistantLight elevation="0" azimuth="247.5"></feDistantLight> </feDiffuseLighting> <feComposite operator="arithmetic" in="genid871" in2="SourceGraphic" k1="0" k2="0.4" k3="1" k4="0"></feComposite> </filter> <clipPath id="genid873"> <circle r="73" cx="74" cy="84.8"></circle> </clipPath> <circle r="70" stroke="black" stroke-width="5" fill="darkgreen" filter="url(#genid872)" clip-path="url(#genid873)" cx="74" cy="84.8"></circle> <text font-size="14" x="14.8" y="180.2">elevation= 0</text> <text font-size="14" x="14.8" y="201.4">azimuth= 247.5</text> </svg> <svg width="148" height="212" x="168" y="676"> <filter id="genid876"> <feGaussianBlur stdDeviation="10" result="genid874"></feGaussianBlur> <feDiffuseLighting lighting-color="white" surfaceScale="50" diffuseConstant="1" in="genid874" result="genid875"> <feDistantLight elevation="18.75" azimuth="247.5"></feDistantLight> </feDiffuseLighting> <feComposite operator="arithmetic" in="genid875" in2="SourceGraphic" k1="0" k2="0.4" k3="1" k4="0"></feComposite> </filter> <clipPath id="genid877"> <circle r="73" cx="74" cy="84.8"></circle> </clipPath> <circle r="70" stroke="black" stroke-width="5" fill="darkgreen" filter="url(#genid876)" clip-path="url(#genid877)" cx="74" cy="84.8"></circle> <text font-size="14" x="14.8" y="180.2">elevation= 18.75</text> <text font-size="14" x="14.8" y="201.4">azimuth= 247.5</text> </svg> <svg width="148" height="212" x="326" y="676"> <filter id="genid880"> <feGaussianBlur stdDeviation="10" result="genid878"></feGaussianBlur> <feDiffuseLighting lighting-color="white" surfaceScale="50" diffuseConstant="1" in="genid878" result="genid879"> <feDistantLight elevation="37.5" azimuth="247.5"></feDistantLight> </feDiffuseLighting> <feComposite operator="arithmetic" in="genid879" in2="SourceGraphic" k1="0" k2="0.4" k3="1" k4="0"></feComposite> </filter> <clipPath id="genid881"> <circle r="73" cx="74" cy="84.8"></circle> </clipPath> <circle r="70" stroke="black" stroke-width="5" fill="darkgreen" filter="url(#genid880)" clip-path="url(#genid881)" cx="74" cy="84.8"></circle> <text font-size="14" x="14.8" y="180.2">elevation= 37.5</text> <text font-size="14" x="14.8" y="201.4">azimuth= 247.5</text> </svg> <svg width="148" height="212" x="484" y="676"> <filter id="genid884"> <feGaussianBlur stdDeviation="10" result="genid882"></feGaussianBlur> <feDiffuseLighting lighting-color="white" surfaceScale="50" diffuseConstant="1" in="genid882" result="genid883"> <feDistantLight elevation="56.25" azimuth="247.5"></feDistantLight> </feDiffuseLighting> <feComposite operator="arithmetic" in="genid883" in2="SourceGraphic" k1="0" k2="0.4" k3="1" k4="0"></feComposite> </filter> <clipPath id="genid885"> <circle r="73" cx="74" cy="84.8"></circle> </clipPath> <circle r="70" stroke="black" stroke-width="5" fill="darkgreen" filter="url(#genid884)" clip-path="url(#genid885)" cx="74" cy="84.8"></circle> <text font-size="14" x="14.8" y="180.2">elevation= 56.25</text> <text font-size="14" x="14.8" y="201.4">azimuth= 247.5</text> </svg> <svg width="148" height="212" x="642" y="676"> <filter id="genid888"> <feGaussianBlur stdDeviation="10" result="genid886"></feGaussianBlur> <feDiffuseLighting lighting-color="white" surfaceScale="50" diffuseConstant="1" in="genid886" result="genid887"> <feDistantLight elevation="75" azimuth="247.5"></feDistantLight> </feDiffuseLighting> <feComposite operator="arithmetic" in="genid887" in2="SourceGraphic" k1="0" k2="0.4" k3="1" k4="0"></feComposite> </filter> <clipPath id="genid889"> <circle r="73" cx="74" cy="84.8"></circle> </clipPath> <circle r="70" stroke="black" stroke-width="5" fill="darkgreen" filter="url(#genid888)" clip-path="url(#genid889)" cx="74" cy="84.8"></circle> <text font-size="14" x="14.8" y="180.2">elevation= 75</text> <text font-size="14" x="14.8" y="201.4">azimuth= 247.5</text> </svg> <svg width="148" height="212" x="10" y="888"> <filter id="genid892"> <feGaussianBlur stdDeviation="10" result="genid890"></feGaussianBlur> <feDiffuseLighting lighting-color="white" surfaceScale="50" diffuseConstant="1" in="genid890" result="genid891"> <feDistantLight elevation="0" azimuth="330"></feDistantLight> </feDiffuseLighting> <feComposite operator="arithmetic" in="genid891" in2="SourceGraphic" k1="0" k2="0.4" k3="1" k4="0"></feComposite> </filter> <clipPath id="genid893"> <circle r="73" cx="74" cy="84.8"></circle> </clipPath> <circle r="70" stroke="black" stroke-width="5" fill="darkgreen" filter="url(#genid892)" clip-path="url(#genid893)" cx="74" cy="84.8"></circle> <text font-size="14" x="14.8" y="180.2">elevation= 0</text> <text font-size="14" x="14.8" y="201.4">azimuth= 330</text> </svg> <svg width="148" height="212" x="168" y="888"> <filter id="genid896"> <feGaussianBlur stdDeviation="10" result="genid894"></feGaussianBlur> <feDiffuseLighting lighting-color="white" surfaceScale="50" diffuseConstant="1" in="genid894" result="genid895"> <feDistantLight elevation="18.75" azimuth="330"></feDistantLight> </feDiffuseLighting> <feComposite operator="arithmetic" in="genid895" in2="SourceGraphic" k1="0" k2="0.4" k3="1" k4="0"></feComposite> </filter> <clipPath id="genid897"> <circle r="73" cx="74" cy="84.8"></circle> </clipPath> <circle r="70" stroke="black" stroke-width="5" fill="darkgreen" filter="url(#genid896)" clip-path="url(#genid897)" cx="74" cy="84.8"></circle> <text font-size="14" x="14.8" y="180.2">elevation= 18.75</text> <text font-size="14" x="14.8" y="201.4">azimuth= 330</text> </svg> <svg width="148" height="212" x="326" y="888"> <filter id="genid900"> <feGaussianBlur stdDeviation="10" result="genid898"></feGaussianBlur> <feDiffuseLighting lighting-color="white" surfaceScale="50" diffuseConstant="1" in="genid898" result="genid899"> <feDistantLight elevation="37.5" azimuth="330"></feDistantLight> </feDiffuseLighting> <feComposite operator="arithmetic" in="genid899" in2="SourceGraphic" k1="0" k2="0.4" k3="1" k4="0"></feComposite> </filter> <clipPath id="genid901"> <circle r="73" cx="74" cy="84.8"></circle> </clipPath> <circle r="70" stroke="black" stroke-width="5" fill="darkgreen" filter="url(#genid900)" clip-path="url(#genid901)" cx="74" cy="84.8"></circle> <text font-size="14" x="14.8" y="180.2">elevation= 37.5</text> <text font-size="14" x="14.8" y="201.4">azimuth= 330</text> </svg> <svg width="148" height="212" x="484" y="888"> <filter id="genid904"> <feGaussianBlur stdDeviation="10" result="genid902"></feGaussianBlur> <feDiffuseLighting lighting-color="white" surfaceScale="50" diffuseConstant="1" in="genid902" result="genid903"> <feDistantLight elevation="56.25" azimuth="330"></feDistantLight> </feDiffuseLighting> <feComposite operator="arithmetic" in="genid903" in2="SourceGraphic" k1="0" k2="0.4" k3="1" k4="0"></feComposite> </filter> <clipPath id="genid905"> <circle r="73" cx="74" cy="84.8"></circle> </clipPath> <circle r="70" stroke="black" stroke-width="5" fill="darkgreen" filter="url(#genid904)" clip-path="url(#genid905)" cx="74" cy="84.8"></circle> <text font-size="14" x="14.8" y="180.2">elevation= 56.25</text> <text font-size="14" x="14.8" y="201.4">azimuth= 330</text> </svg> <svg width="148" height="212" x="642" y="888"> <filter id="genid908"> <feGaussianBlur stdDeviation="10" result="genid906"></feGaussianBlur> <feDiffuseLighting lighting-color="white" surfaceScale="50" diffuseConstant="1" in="genid906" result="genid907"> <feDistantLight elevation="75" azimuth="330"></feDistantLight> </feDiffuseLighting> <feComposite operator="arithmetic" in="genid907" in2="SourceGraphic" k1="0" k2="0.4" k3="1" k4="0"></feComposite> </filter> <clipPath id="genid909"> <circle r="73" cx="74" cy="84.8"></circle> </clipPath> <circle r="70" stroke="black" stroke-width="5" fill="darkgreen" filter="url(#genid908)" clip-path="url(#genid909)" cx="74" cy="84.8"></circle> <text font-size="14" x="14.8" y="180.2">elevation= 75</text> <text font-size="14" x="14.8" y="201.4">azimuth= 330</text> </svg> </svg></p>
</div>
</div>
<div id="varying-distantlight-positions-specular" class="section level2">
<h2>Varying DistantLight Positions: Specular</h2>
<pre class="r"><code>library(svgR)
WH&lt;-c(800, 1100) # window rect
Gdim=c(5,5) # num cols abd cil
marg&lt;-c(10,40)# spaceing between
XY&lt;-expand.grid(
  seq(marg[1],WH[1],length.out=Gdim[1]+1)[1:Gdim[1]], 
  seq(marg[2],WH[2],length.out=Gdim[2]+1)[1:Gdim[2]] 
)
WH2&lt;-XY[Gdim[1]+2,]-XY[1,]-marg*c(1,0)
ccxy&lt;-c(.5,.4)*WH2
R&lt;-70
specularConstant&lt;-1
specularExponent&lt;-5
ea&lt;-expand.grid(
  seq(0,  55, length.out=Gdim[1]), #elevation
  seq( 0, 330, length.out=Gdim[2]) #azimuth
)
#xyz&lt;-expand.grid(-1:1, 1:0, 1:3)
svgR(wh=WH,
    text(&quot;Varying feDistantLight Position with feSpecularLighting&quot;, font.size=20, cxy=c(WH[1]/2,30)),
    lapply(1:nrow(XY), function(i){
      svg(  xy=XY[i,], wh=WH2,
        circle( cxy=ccxy, r= R,  stroke=&quot;black&quot; , stroke.width=5, 
            fill = &quot;darkgreen&quot;,
            filter=filter(
                feComposite( 
                  operator=&quot;arithmetic&quot;, k1234=c(0,.4,1,0),
                  in1=feSpecularLighting( lighting.color=&quot;white&quot;,  surfaceScale=50,
                      specularExponent=specularExponent,
                      specularConstant=specularConstant,
                      in1=feGaussianBlur( stdDeviation=10),
                      feDistantLight( elevation= ea[i,1], azimuth=ea[i,2] ) 
                  ),
                  in2=  &quot;SourceGraphic&quot;
                )
            ),
            clip.path=clipPath(circle(cxy=ccxy,r=R+3))
        ),
        text(paste(&quot;elevation=&quot;, ea[i,1] ), xy=c(.1,.85)* WH2,   font.size=14),
        text(paste(&quot;azimuth=&quot;,   ea[i,2] ), xy=c(.1, .95)* WH2,  font.size=14)
      )
    })
)-&gt;doc
cat(&quot;'&quot;,as.character(doc),&quot;'&quot;) </code></pre>
<p><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="1100"> <text font-size="20" text-anchor="middle" dominant-baseline="central" x="400" y="30">Varying feDistantLight Position with feSpecularLighting</text> <svg width="148" height="212" x="10" y="40"> <filter id="genid912"> <feGaussianBlur stdDeviation="10" result="genid910"></feGaussianBlur> <feSpecularLighting lighting-color="white" surfaceScale="50" specularExponent="5" specularConstant="1" in="genid910" result="genid911"> <feDistantLight elevation="0" azimuth="0"></feDistantLight> </feSpecularLighting> <feComposite operator="arithmetic" in="genid911" in2="SourceGraphic" k1="0" k2="0.4" k3="1" k4="0"></feComposite> </filter> <clipPath id="genid913"> <circle r="73" cx="74" cy="84.8"></circle> </clipPath> <circle r="70" stroke="black" stroke-width="5" fill="darkgreen" filter="url(#genid912)" clip-path="url(#genid913)" cx="74" cy="84.8"></circle> <text font-size="14" x="14.8" y="180.2">elevation= 0</text> <text font-size="14" x="14.8" y="201.4">azimuth= 0</text> </svg> <svg width="148" height="212" x="168" y="40"> <filter id="genid916"> <feGaussianBlur stdDeviation="10" result="genid914"></feGaussianBlur> <feSpecularLighting lighting-color="white" surfaceScale="50" specularExponent="5" specularConstant="1" in="genid914" result="genid915"> <feDistantLight elevation="13.75" azimuth="0"></feDistantLight> </feSpecularLighting> <feComposite operator="arithmetic" in="genid915" in2="SourceGraphic" k1="0" k2="0.4" k3="1" k4="0"></feComposite> </filter> <clipPath id="genid917"> <circle r="73" cx="74" cy="84.8"></circle> </clipPath> <circle r="70" stroke="black" stroke-width="5" fill="darkgreen" filter="url(#genid916)" clip-path="url(#genid917)" cx="74" cy="84.8"></circle> <text font-size="14" x="14.8" y="180.2">elevation= 13.75</text> <text font-size="14" x="14.8" y="201.4">azimuth= 0</text> </svg> <svg width="148" height="212" x="326" y="40"> <filter id="genid920"> <feGaussianBlur stdDeviation="10" result="genid918"></feGaussianBlur> <feSpecularLighting lighting-color="white" surfaceScale="50" specularExponent="5" specularConstant="1" in="genid918" result="genid919"> <feDistantLight elevation="27.5" azimuth="0"></feDistantLight> </feSpecularLighting> <feComposite operator="arithmetic" in="genid919" in2="SourceGraphic" k1="0" k2="0.4" k3="1" k4="0"></feComposite> </filter> <clipPath id="genid921"> <circle r="73" cx="74" cy="84.8"></circle> </clipPath> <circle r="70" stroke="black" stroke-width="5" fill="darkgreen" filter="url(#genid920)" clip-path="url(#genid921)" cx="74" cy="84.8"></circle> <text font-size="14" x="14.8" y="180.2">elevation= 27.5</text> <text font-size="14" x="14.8" y="201.4">azimuth= 0</text> </svg> <svg width="148" height="212" x="484" y="40"> <filter id="genid924"> <feGaussianBlur stdDeviation="10" result="genid922"></feGaussianBlur> <feSpecularLighting lighting-color="white" surfaceScale="50" specularExponent="5" specularConstant="1" in="genid922" result="genid923"> <feDistantLight elevation="41.25" azimuth="0"></feDistantLight> </feSpecularLighting> <feComposite operator="arithmetic" in="genid923" in2="SourceGraphic" k1="0" k2="0.4" k3="1" k4="0"></feComposite> </filter> <clipPath id="genid925"> <circle r="73" cx="74" cy="84.8"></circle> </clipPath> <circle r="70" stroke="black" stroke-width="5" fill="darkgreen" filter="url(#genid924)" clip-path="url(#genid925)" cx="74" cy="84.8"></circle> <text font-size="14" x="14.8" y="180.2">elevation= 41.25</text> <text font-size="14" x="14.8" y="201.4">azimuth= 0</text> </svg> <svg width="148" height="212" x="642" y="40"> <filter id="genid928"> <feGaussianBlur stdDeviation="10" result="genid926"></feGaussianBlur> <feSpecularLighting lighting-color="white" surfaceScale="50" specularExponent="5" specularConstant="1" in="genid926" result="genid927"> <feDistantLight elevation="55" azimuth="0"></feDistantLight> </feSpecularLighting> <feComposite operator="arithmetic" in="genid927" in2="SourceGraphic" k1="0" k2="0.4" k3="1" k4="0"></feComposite> </filter> <clipPath id="genid929"> <circle r="73" cx="74" cy="84.8"></circle> </clipPath> <circle r="70" stroke="black" stroke-width="5" fill="darkgreen" filter="url(#genid928)" clip-path="url(#genid929)" cx="74" cy="84.8"></circle> <text font-size="14" x="14.8" y="180.2">elevation= 55</text> <text font-size="14" x="14.8" y="201.4">azimuth= 0</text> </svg> <svg width="148" height="212" x="10" y="252"> <filter id="genid932"> <feGaussianBlur stdDeviation="10" result="genid930"></feGaussianBlur> <feSpecularLighting lighting-color="white" surfaceScale="50" specularExponent="5" specularConstant="1" in="genid930" result="genid931"> <feDistantLight elevation="0" azimuth="82.5"></feDistantLight> </feSpecularLighting> <feComposite operator="arithmetic" in="genid931" in2="SourceGraphic" k1="0" k2="0.4" k3="1" k4="0"></feComposite> </filter> <clipPath id="genid933"> <circle r="73" cx="74" cy="84.8"></circle> </clipPath> <circle r="70" stroke="black" stroke-width="5" fill="darkgreen" filter="url(#genid932)" clip-path="url(#genid933)" cx="74" cy="84.8"></circle> <text font-size="14" x="14.8" y="180.2">elevation= 0</text> <text font-size="14" x="14.8" y="201.4">azimuth= 82.5</text> </svg> <svg width="148" height="212" x="168" y="252"> <filter id="genid936"> <feGaussianBlur stdDeviation="10" result="genid934"></feGaussianBlur> <feSpecularLighting lighting-color="white" surfaceScale="50" specularExponent="5" specularConstant="1" in="genid934" result="genid935"> <feDistantLight elevation="13.75" azimuth="82.5"></feDistantLight> </feSpecularLighting> <feComposite operator="arithmetic" in="genid935" in2="SourceGraphic" k1="0" k2="0.4" k3="1" k4="0"></feComposite> </filter> <clipPath id="genid937"> <circle r="73" cx="74" cy="84.8"></circle> </clipPath> <circle r="70" stroke="black" stroke-width="5" fill="darkgreen" filter="url(#genid936)" clip-path="url(#genid937)" cx="74" cy="84.8"></circle> <text font-size="14" x="14.8" y="180.2">elevation= 13.75</text> <text font-size="14" x="14.8" y="201.4">azimuth= 82.5</text> </svg> <svg width="148" height="212" x="326" y="252"> <filter id="genid940"> <feGaussianBlur stdDeviation="10" result="genid938"></feGaussianBlur> <feSpecularLighting lighting-color="white" surfaceScale="50" specularExponent="5" specularConstant="1" in="genid938" result="genid939"> <feDistantLight elevation="27.5" azimuth="82.5"></feDistantLight> </feSpecularLighting> <feComposite operator="arithmetic" in="genid939" in2="SourceGraphic" k1="0" k2="0.4" k3="1" k4="0"></feComposite> </filter> <clipPath id="genid941"> <circle r="73" cx="74" cy="84.8"></circle> </clipPath> <circle r="70" stroke="black" stroke-width="5" fill="darkgreen" filter="url(#genid940)" clip-path="url(#genid941)" cx="74" cy="84.8"></circle> <text font-size="14" x="14.8" y="180.2">elevation= 27.5</text> <text font-size="14" x="14.8" y="201.4">azimuth= 82.5</text> </svg> <svg width="148" height="212" x="484" y="252"> <filter id="genid944"> <feGaussianBlur stdDeviation="10" result="genid942"></feGaussianBlur> <feSpecularLighting lighting-color="white" surfaceScale="50" specularExponent="5" specularConstant="1" in="genid942" result="genid943"> <feDistantLight elevation="41.25" azimuth="82.5"></feDistantLight> </feSpecularLighting> <feComposite operator="arithmetic" in="genid943" in2="SourceGraphic" k1="0" k2="0.4" k3="1" k4="0"></feComposite> </filter> <clipPath id="genid945"> <circle r="73" cx="74" cy="84.8"></circle> </clipPath> <circle r="70" stroke="black" stroke-width="5" fill="darkgreen" filter="url(#genid944)" clip-path="url(#genid945)" cx="74" cy="84.8"></circle> <text font-size="14" x="14.8" y="180.2">elevation= 41.25</text> <text font-size="14" x="14.8" y="201.4">azimuth= 82.5</text> </svg> <svg width="148" height="212" x="642" y="252"> <filter id="genid948"> <feGaussianBlur stdDeviation="10" result="genid946"></feGaussianBlur> <feSpecularLighting lighting-color="white" surfaceScale="50" specularExponent="5" specularConstant="1" in="genid946" result="genid947"> <feDistantLight elevation="55" azimuth="82.5"></feDistantLight> </feSpecularLighting> <feComposite operator="arithmetic" in="genid947" in2="SourceGraphic" k1="0" k2="0.4" k3="1" k4="0"></feComposite> </filter> <clipPath id="genid949"> <circle r="73" cx="74" cy="84.8"></circle> </clipPath> <circle r="70" stroke="black" stroke-width="5" fill="darkgreen" filter="url(#genid948)" clip-path="url(#genid949)" cx="74" cy="84.8"></circle> <text font-size="14" x="14.8" y="180.2">elevation= 55</text> <text font-size="14" x="14.8" y="201.4">azimuth= 82.5</text> </svg> <svg width="148" height="212" x="10" y="464"> <filter id="genid952"> <feGaussianBlur stdDeviation="10" result="genid950"></feGaussianBlur> <feSpecularLighting lighting-color="white" surfaceScale="50" specularExponent="5" specularConstant="1" in="genid950" result="genid951"> <feDistantLight elevation="0" azimuth="165"></feDistantLight> </feSpecularLighting> <feComposite operator="arithmetic" in="genid951" in2="SourceGraphic" k1="0" k2="0.4" k3="1" k4="0"></feComposite> </filter> <clipPath id="genid953"> <circle r="73" cx="74" cy="84.8"></circle> </clipPath> <circle r="70" stroke="black" stroke-width="5" fill="darkgreen" filter="url(#genid952)" clip-path="url(#genid953)" cx="74" cy="84.8"></circle> <text font-size="14" x="14.8" y="180.2">elevation= 0</text> <text font-size="14" x="14.8" y="201.4">azimuth= 165</text> </svg> <svg width="148" height="212" x="168" y="464"> <filter id="genid956"> <feGaussianBlur stdDeviation="10" result="genid954"></feGaussianBlur> <feSpecularLighting lighting-color="white" surfaceScale="50" specularExponent="5" specularConstant="1" in="genid954" result="genid955"> <feDistantLight elevation="13.75" azimuth="165"></feDistantLight> </feSpecularLighting> <feComposite operator="arithmetic" in="genid955" in2="SourceGraphic" k1="0" k2="0.4" k3="1" k4="0"></feComposite> </filter> <clipPath id="genid957"> <circle r="73" cx="74" cy="84.8"></circle> </clipPath> <circle r="70" stroke="black" stroke-width="5" fill="darkgreen" filter="url(#genid956)" clip-path="url(#genid957)" cx="74" cy="84.8"></circle> <text font-size="14" x="14.8" y="180.2">elevation= 13.75</text> <text font-size="14" x="14.8" y="201.4">azimuth= 165</text> </svg> <svg width="148" height="212" x="326" y="464"> <filter id="genid960"> <feGaussianBlur stdDeviation="10" result="genid958"></feGaussianBlur> <feSpecularLighting lighting-color="white" surfaceScale="50" specularExponent="5" specularConstant="1" in="genid958" result="genid959"> <feDistantLight elevation="27.5" azimuth="165"></feDistantLight> </feSpecularLighting> <feComposite operator="arithmetic" in="genid959" in2="SourceGraphic" k1="0" k2="0.4" k3="1" k4="0"></feComposite> </filter> <clipPath id="genid961"> <circle r="73" cx="74" cy="84.8"></circle> </clipPath> <circle r="70" stroke="black" stroke-width="5" fill="darkgreen" filter="url(#genid960)" clip-path="url(#genid961)" cx="74" cy="84.8"></circle> <text font-size="14" x="14.8" y="180.2">elevation= 27.5</text> <text font-size="14" x="14.8" y="201.4">azimuth= 165</text> </svg> <svg width="148" height="212" x="484" y="464"> <filter id="genid964"> <feGaussianBlur stdDeviation="10" result="genid962"></feGaussianBlur> <feSpecularLighting lighting-color="white" surfaceScale="50" specularExponent="5" specularConstant="1" in="genid962" result="genid963"> <feDistantLight elevation="41.25" azimuth="165"></feDistantLight> </feSpecularLighting> <feComposite operator="arithmetic" in="genid963" in2="SourceGraphic" k1="0" k2="0.4" k3="1" k4="0"></feComposite> </filter> <clipPath id="genid965"> <circle r="73" cx="74" cy="84.8"></circle> </clipPath> <circle r="70" stroke="black" stroke-width="5" fill="darkgreen" filter="url(#genid964)" clip-path="url(#genid965)" cx="74" cy="84.8"></circle> <text font-size="14" x="14.8" y="180.2">elevation= 41.25</text> <text font-size="14" x="14.8" y="201.4">azimuth= 165</text> </svg> <svg width="148" height="212" x="642" y="464"> <filter id="genid968"> <feGaussianBlur stdDeviation="10" result="genid966"></feGaussianBlur> <feSpecularLighting lighting-color="white" surfaceScale="50" specularExponent="5" specularConstant="1" in="genid966" result="genid967"> <feDistantLight elevation="55" azimuth="165"></feDistantLight> </feSpecularLighting> <feComposite operator="arithmetic" in="genid967" in2="SourceGraphic" k1="0" k2="0.4" k3="1" k4="0"></feComposite> </filter> <clipPath id="genid969"> <circle r="73" cx="74" cy="84.8"></circle> </clipPath> <circle r="70" stroke="black" stroke-width="5" fill="darkgreen" filter="url(#genid968)" clip-path="url(#genid969)" cx="74" cy="84.8"></circle> <text font-size="14" x="14.8" y="180.2">elevation= 55</text> <text font-size="14" x="14.8" y="201.4">azimuth= 165</text> </svg> <svg width="148" height="212" x="10" y="676"> <filter id="genid972"> <feGaussianBlur stdDeviation="10" result="genid970"></feGaussianBlur> <feSpecularLighting lighting-color="white" surfaceScale="50" specularExponent="5" specularConstant="1" in="genid970" result="genid971"> <feDistantLight elevation="0" azimuth="247.5"></feDistantLight> </feSpecularLighting> <feComposite operator="arithmetic" in="genid971" in2="SourceGraphic" k1="0" k2="0.4" k3="1" k4="0"></feComposite> </filter> <clipPath id="genid973"> <circle r="73" cx="74" cy="84.8"></circle> </clipPath> <circle r="70" stroke="black" stroke-width="5" fill="darkgreen" filter="url(#genid972)" clip-path="url(#genid973)" cx="74" cy="84.8"></circle> <text font-size="14" x="14.8" y="180.2">elevation= 0</text> <text font-size="14" x="14.8" y="201.4">azimuth= 247.5</text> </svg> <svg width="148" height="212" x="168" y="676"> <filter id="genid976"> <feGaussianBlur stdDeviation="10" result="genid974"></feGaussianBlur> <feSpecularLighting lighting-color="white" surfaceScale="50" specularExponent="5" specularConstant="1" in="genid974" result="genid975"> <feDistantLight elevation="13.75" azimuth="247.5"></feDistantLight> </feSpecularLighting> <feComposite operator="arithmetic" in="genid975" in2="SourceGraphic" k1="0" k2="0.4" k3="1" k4="0"></feComposite> </filter> <clipPath id="genid977"> <circle r="73" cx="74" cy="84.8"></circle> </clipPath> <circle r="70" stroke="black" stroke-width="5" fill="darkgreen" filter="url(#genid976)" clip-path="url(#genid977)" cx="74" cy="84.8"></circle> <text font-size="14" x="14.8" y="180.2">elevation= 13.75</text> <text font-size="14" x="14.8" y="201.4">azimuth= 247.5</text> </svg> <svg width="148" height="212" x="326" y="676"> <filter id="genid980"> <feGaussianBlur stdDeviation="10" result="genid978"></feGaussianBlur> <feSpecularLighting lighting-color="white" surfaceScale="50" specularExponent="5" specularConstant="1" in="genid978" result="genid979"> <feDistantLight elevation="27.5" azimuth="247.5"></feDistantLight> </feSpecularLighting> <feComposite operator="arithmetic" in="genid979" in2="SourceGraphic" k1="0" k2="0.4" k3="1" k4="0"></feComposite> </filter> <clipPath id="genid981"> <circle r="73" cx="74" cy="84.8"></circle> </clipPath> <circle r="70" stroke="black" stroke-width="5" fill="darkgreen" filter="url(#genid980)" clip-path="url(#genid981)" cx="74" cy="84.8"></circle> <text font-size="14" x="14.8" y="180.2">elevation= 27.5</text> <text font-size="14" x="14.8" y="201.4">azimuth= 247.5</text> </svg> <svg width="148" height="212" x="484" y="676"> <filter id="genid984"> <feGaussianBlur stdDeviation="10" result="genid982"></feGaussianBlur> <feSpecularLighting lighting-color="white" surfaceScale="50" specularExponent="5" specularConstant="1" in="genid982" result="genid983"> <feDistantLight elevation="41.25" azimuth="247.5"></feDistantLight> </feSpecularLighting> <feComposite operator="arithmetic" in="genid983" in2="SourceGraphic" k1="0" k2="0.4" k3="1" k4="0"></feComposite> </filter> <clipPath id="genid985"> <circle r="73" cx="74" cy="84.8"></circle> </clipPath> <circle r="70" stroke="black" stroke-width="5" fill="darkgreen" filter="url(#genid984)" clip-path="url(#genid985)" cx="74" cy="84.8"></circle> <text font-size="14" x="14.8" y="180.2">elevation= 41.25</text> <text font-size="14" x="14.8" y="201.4">azimuth= 247.5</text> </svg> <svg width="148" height="212" x="642" y="676"> <filter id="genid988"> <feGaussianBlur stdDeviation="10" result="genid986"></feGaussianBlur> <feSpecularLighting lighting-color="white" surfaceScale="50" specularExponent="5" specularConstant="1" in="genid986" result="genid987"> <feDistantLight elevation="55" azimuth="247.5"></feDistantLight> </feSpecularLighting> <feComposite operator="arithmetic" in="genid987" in2="SourceGraphic" k1="0" k2="0.4" k3="1" k4="0"></feComposite> </filter> <clipPath id="genid989"> <circle r="73" cx="74" cy="84.8"></circle> </clipPath> <circle r="70" stroke="black" stroke-width="5" fill="darkgreen" filter="url(#genid988)" clip-path="url(#genid989)" cx="74" cy="84.8"></circle> <text font-size="14" x="14.8" y="180.2">elevation= 55</text> <text font-size="14" x="14.8" y="201.4">azimuth= 247.5</text> </svg> <svg width="148" height="212" x="10" y="888"> <filter id="genid992"> <feGaussianBlur stdDeviation="10" result="genid990"></feGaussianBlur> <feSpecularLighting lighting-color="white" surfaceScale="50" specularExponent="5" specularConstant="1" in="genid990" result="genid991"> <feDistantLight elevation="0" azimuth="330"></feDistantLight> </feSpecularLighting> <feComposite operator="arithmetic" in="genid991" in2="SourceGraphic" k1="0" k2="0.4" k3="1" k4="0"></feComposite> </filter> <clipPath id="genid993"> <circle r="73" cx="74" cy="84.8"></circle> </clipPath> <circle r="70" stroke="black" stroke-width="5" fill="darkgreen" filter="url(#genid992)" clip-path="url(#genid993)" cx="74" cy="84.8"></circle> <text font-size="14" x="14.8" y="180.2">elevation= 0</text> <text font-size="14" x="14.8" y="201.4">azimuth= 330</text> </svg> <svg width="148" height="212" x="168" y="888"> <filter id="genid996"> <feGaussianBlur stdDeviation="10" result="genid994"></feGaussianBlur> <feSpecularLighting lighting-color="white" surfaceScale="50" specularExponent="5" specularConstant="1" in="genid994" result="genid995"> <feDistantLight elevation="13.75" azimuth="330"></feDistantLight> </feSpecularLighting> <feComposite operator="arithmetic" in="genid995" in2="SourceGraphic" k1="0" k2="0.4" k3="1" k4="0"></feComposite> </filter> <clipPath id="genid997"> <circle r="73" cx="74" cy="84.8"></circle> </clipPath> <circle r="70" stroke="black" stroke-width="5" fill="darkgreen" filter="url(#genid996)" clip-path="url(#genid997)" cx="74" cy="84.8"></circle> <text font-size="14" x="14.8" y="180.2">elevation= 13.75</text> <text font-size="14" x="14.8" y="201.4">azimuth= 330</text> </svg> <svg width="148" height="212" x="326" y="888"> <filter id="genid1000"> <feGaussianBlur stdDeviation="10" result="genid998"></feGaussianBlur> <feSpecularLighting lighting-color="white" surfaceScale="50" specularExponent="5" specularConstant="1" in="genid998" result="genid999"> <feDistantLight elevation="27.5" azimuth="330"></feDistantLight> </feSpecularLighting> <feComposite operator="arithmetic" in="genid999" in2="SourceGraphic" k1="0" k2="0.4" k3="1" k4="0"></feComposite> </filter> <clipPath id="genid1001"> <circle r="73" cx="74" cy="84.8"></circle> </clipPath> <circle r="70" stroke="black" stroke-width="5" fill="darkgreen" filter="url(#genid1000)" clip-path="url(#genid1001)" cx="74" cy="84.8"></circle> <text font-size="14" x="14.8" y="180.2">elevation= 27.5</text> <text font-size="14" x="14.8" y="201.4">azimuth= 330</text> </svg> <svg width="148" height="212" x="484" y="888"> <filter id="genid1004"> <feGaussianBlur stdDeviation="10" result="genid1002"></feGaussianBlur> <feSpecularLighting lighting-color="white" surfaceScale="50" specularExponent="5" specularConstant="1" in="genid1002" result="genid1003"> <feDistantLight elevation="41.25" azimuth="330"></feDistantLight> </feSpecularLighting> <feComposite operator="arithmetic" in="genid1003" in2="SourceGraphic" k1="0" k2="0.4" k3="1" k4="0"></feComposite> </filter> <clipPath id="genid1005"> <circle r="73" cx="74" cy="84.8"></circle> </clipPath> <circle r="70" stroke="black" stroke-width="5" fill="darkgreen" filter="url(#genid1004)" clip-path="url(#genid1005)" cx="74" cy="84.8"></circle> <text font-size="14" x="14.8" y="180.2">elevation= 41.25</text> <text font-size="14" x="14.8" y="201.4">azimuth= 330</text> </svg> <svg width="148" height="212" x="642" y="888"> <filter id="genid1008"> <feGaussianBlur stdDeviation="10" result="genid1006"></feGaussianBlur> <feSpecularLighting lighting-color="white" surfaceScale="50" specularExponent="5" specularConstant="1" in="genid1006" result="genid1007"> <feDistantLight elevation="55" azimuth="330"></feDistantLight> </feSpecularLighting> <feComposite operator="arithmetic" in="genid1007" in2="SourceGraphic" k1="0" k2="0.4" k3="1" k4="0"></feComposite> </filter> <clipPath id="genid1009"> <circle r="73" cx="74" cy="84.8"></circle> </clipPath> <circle r="70" stroke="black" stroke-width="5" fill="darkgreen" filter="url(#genid1008)" clip-path="url(#genid1009)" cx="74" cy="84.8"></circle> <text font-size="14" x="14.8" y="180.2">elevation= 55</text> <text font-size="14" x="14.8" y="201.4">azimuth= 330</text> </svg> </svg></p>
</div>
<div id="pointlight" class="section level2">
<h2>PointLight</h2>
<p>A point light is a light source located at a single point in space. As a result, the light rays are not parallel, but rather spread out. Hence, even across a flat surface, the light is not distributed uniformly.</p>
<p>Three coordinates are required to locate a point light source, x, y, z.</p>
<div id="varying-pointlight-positions-diffuse" class="section level5">
<h5>Varying PointLight Positions: Diffuse</h5>
<pre class="r"><code>library(svgR)
W&lt;-800
NXYZ&lt;-c(4,2,3)
GDIM=c(NXYZ[1], NXYZ[2]* NXYZ[3]) # = num cols , num rows
WH=c(W, 40+1.3*W*GDIM[2]/GDIM[1])  # compute WH of svg
R&lt;-.5*(W/GDIM[1])
X&lt;-seq(0, WH[1], length.out=GDIM[1]+1)
Y&lt;-seq(40,WH[2], length.out=GDIM[2]+1)
CXY&lt;-expand.grid( 
  apply(rbind(X[1:(length(X)-1)], X[2:length(X)] ), 2, mean),
  apply(rbind(Y[1:(length(Y)-1)], Y[2:length(Y)] ), 2, mean)
)
XYZ&lt;-expand.grid(
  seq(-R,R, length.out=NXYZ[1]), # X coords
  seq(-R,0, length.out=NXYZ[2]), #Y coords
  seq(1.2*R, 1.5*R, length.out=NXYZ[3]) #Z occords
)
svgR(wh=WH+c(0,60),
    text(&quot;Varying fePointLight Position with feDiffuseLighting&quot;, font.size=20, cxy=c(WH[1]/2,30)),
    text(&quot;(Coordinates of light source relative to object center)&quot;, font.size=16, cxy=c(WH[1]/2,55)),
    lapply(1:nrow(CXY), function(i){
      xyz=XYZ[i,,]
      g( transform=list(translate=CXY[i,]),
        circle( cxy=c(0,0), r= R-20,  stroke=&quot;black&quot; , stroke.width=5, 
            fill = &quot;darkgreen&quot;,
            filter=filter(
                feComposite( 
                  operator=&quot;arithmetic&quot;, k1234=c(0,.4,1,0),
                  in1=feDiffuseLighting( lighting.color=&quot;white&quot;,  surfaceScale=R, 
                      diffuseConstant=diffuseConstant,
                      in1=feGaussianBlur( stdDeviation=10),
                      fePointLight( xyz= xyz) 
                  ),
                  in2=  &quot;SourceGraphic&quot;
                )
            ),
            clip.path=clipPath(circle(cxy=c(0,0),r=R-18))
        ),
        lapply(1:3, function(i){ 
          text(sprintf(c(&quot;x= %.1f&quot;, &quot;y= %.1f&quot;, &quot;z= %.1f&quot;)[i], xyz[i]), cxy=c(0, R+i*16),  font.size=14)
        })
      )
    })
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="1660">
<text font-size="20" text-anchor="middle" dominant-baseline="central" x="400" y="30">Varying fePointLight Position with feDiffuseLighting</text> <text font-size="16" text-anchor="middle" dominant-baseline="central" x="400" y="55">(Coordinates of light source relative to object center)</text> <g transform="translate(100,170)"> <filter id="genid1012"> <feGaussianBlur stdDeviation="10" result="genid1010"></feGaussianBlur> <feDiffuseLighting lighting-color="white" surfaceScale="100" diffuseConstant="1" in="genid1010" result="genid1011"> <fePointLight x="-100" y="-100" z="120"></fePointLight> </feDiffuseLighting> <feComposite operator="arithmetic" in="genid1011" in2="SourceGraphic" k1="0" k2="0.4" k3="1" k4="0"></feComposite> </filter> <clipPath id="genid1013"> <circle r="82" cx="0" cy="0"></circle> </clipPath> <circle r="80" stroke="black" stroke-width="5" fill="darkgreen" filter="url(#genid1012)" clip-path="url(#genid1013)" cx="0" cy="0"></circle> <text font-size="14" text-anchor="middle" dominant-baseline="central" x="0" y="116">x= -100.0</text> <text font-size="14" text-anchor="middle" dominant-baseline="central" x="0" y="132">y= -100.0</text> <text font-size="14" text-anchor="middle" dominant-baseline="central" x="0" y="148">z= 120.0</text> </g> <g transform="translate(300,170)"> <filter id="genid1016"> <feGaussianBlur stdDeviation="10" result="genid1014"></feGaussianBlur> <feDiffuseLighting lighting-color="white" surfaceScale="100" diffuseConstant="1" in="genid1014" result="genid1015"> <fePointLight x="-33.3333333333333" y="-100" z="120"></fePointLight> </feDiffuseLighting> <feComposite operator="arithmetic" in="genid1015" in2="SourceGraphic" k1="0" k2="0.4" k3="1" k4="0"></feComposite> </filter> <clipPath id="genid1017"> <circle r="82" cx="0" cy="0"></circle> </clipPath> <circle r="80" stroke="black" stroke-width="5" fill="darkgreen" filter="url(#genid1016)" clip-path="url(#genid1017)" cx="0" cy="0"></circle> <text font-size="14" text-anchor="middle" dominant-baseline="central" x="0" y="116">x= -33.3</text> <text font-size="14" text-anchor="middle" dominant-baseline="central" x="0" y="132">y= -100.0</text> <text font-size="14" text-anchor="middle" dominant-baseline="central" x="0" y="148">z= 120.0</text> </g> <g transform="translate(500,170)"> <filter id="genid1020"> <feGaussianBlur stdDeviation="10" result="genid1018"></feGaussianBlur> <feDiffuseLighting lighting-color="white" surfaceScale="100" diffuseConstant="1" in="genid1018" result="genid1019"> <fePointLight x="33.3333333333333" y="-100" z="120"></fePointLight> </feDiffuseLighting> <feComposite operator="arithmetic" in="genid1019" in2="SourceGraphic" k1="0" k2="0.4" k3="1" k4="0"></feComposite> </filter> <clipPath id="genid1021"> <circle r="82" cx="0" cy="0"></circle> </clipPath> <circle r="80" stroke="black" stroke-width="5" fill="darkgreen" filter="url(#genid1020)" clip-path="url(#genid1021)" cx="0" cy="0"></circle> <text font-size="14" text-anchor="middle" dominant-baseline="central" x="0" y="116">x= 33.3</text> <text font-size="14" text-anchor="middle" dominant-baseline="central" x="0" y="132">y= -100.0</text> <text font-size="14" text-anchor="middle" dominant-baseline="central" x="0" y="148">z= 120.0</text> </g> <g transform="translate(700,170)"> <filter id="genid1024"> <feGaussianBlur stdDeviation="10" result="genid1022"></feGaussianBlur> <feDiffuseLighting lighting-color="white" surfaceScale="100" diffuseConstant="1" in="genid1022" result="genid1023"> <fePointLight x="100" y="-100" z="120"></fePointLight> </feDiffuseLighting> <feComposite operator="arithmetic" in="genid1023" in2="SourceGraphic" k1="0" k2="0.4" k3="1" k4="0"></feComposite> </filter> <clipPath id="genid1025"> <circle r="82" cx="0" cy="0"></circle> </clipPath> <circle r="80" stroke="black" stroke-width="5" fill="darkgreen" filter="url(#genid1024)" clip-path="url(#genid1025)" cx="0" cy="0"></circle> <text font-size="14" text-anchor="middle" dominant-baseline="central" x="0" y="116">x= 100.0</text> <text font-size="14" text-anchor="middle" dominant-baseline="central" x="0" y="132">y= -100.0</text> <text font-size="14" text-anchor="middle" dominant-baseline="central" x="0" y="148">z= 120.0</text> </g> <g transform="translate(100,430)"> <filter id="genid1028"> <feGaussianBlur stdDeviation="10" result="genid1026"></feGaussianBlur> <feDiffuseLighting lighting-color="white" surfaceScale="100" diffuseConstant="1" in="genid1026" result="genid1027"> <fePointLight x="-100" y="0" z="120"></fePointLight> </feDiffuseLighting> <feComposite operator="arithmetic" in="genid1027" in2="SourceGraphic" k1="0" k2="0.4" k3="1" k4="0"></feComposite> </filter> <clipPath id="genid1029"> <circle r="82" cx="0" cy="0"></circle> </clipPath> <circle r="80" stroke="black" stroke-width="5" fill="darkgreen" filter="url(#genid1028)" clip-path="url(#genid1029)" cx="0" cy="0"></circle> <text font-size="14" text-anchor="middle" dominant-baseline="central" x="0" y="116">x= -100.0</text> <text font-size="14" text-anchor="middle" dominant-baseline="central" x="0" y="132">y= 0.0</text> <text font-size="14" text-anchor="middle" dominant-baseline="central" x="0" y="148">z= 120.0</text> </g> <g transform="translate(300,430)"> <filter id="genid1032"> <feGaussianBlur stdDeviation="10" result="genid1030"></feGaussianBlur> <feDiffuseLighting lighting-color="white" surfaceScale="100" diffuseConstant="1" in="genid1030" result="genid1031"> <fePointLight x="-33.3333333333333" y="0" z="120"></fePointLight> </feDiffuseLighting> <feComposite operator="arithmetic" in="genid1031" in2="SourceGraphic" k1="0" k2="0.4" k3="1" k4="0"></feComposite> </filter> <clipPath id="genid1033"> <circle r="82" cx="0" cy="0"></circle> </clipPath> <circle r="80" stroke="black" stroke-width="5" fill="darkgreen" filter="url(#genid1032)" clip-path="url(#genid1033)" cx="0" cy="0"></circle> <text font-size="14" text-anchor="middle" dominant-baseline="central" x="0" y="116">x= -33.3</text> <text font-size="14" text-anchor="middle" dominant-baseline="central" x="0" y="132">y= 0.0</text> <text font-size="14" text-anchor="middle" dominant-baseline="central" x="0" y="148">z= 120.0</text> </g> <g transform="translate(500,430)"> <filter id="genid1036"> <feGaussianBlur stdDeviation="10" result="genid1034"></feGaussianBlur> <feDiffuseLighting lighting-color="white" surfaceScale="100" diffuseConstant="1" in="genid1034" result="genid1035"> <fePointLight x="33.3333333333333" y="0" z="120"></fePointLight> </feDiffuseLighting> <feComposite operator="arithmetic" in="genid1035" in2="SourceGraphic" k1="0" k2="0.4" k3="1" k4="0"></feComposite> </filter> <clipPath id="genid1037"> <circle r="82" cx="0" cy="0"></circle> </clipPath> <circle r="80" stroke="black" stroke-width="5" fill="darkgreen" filter="url(#genid1036)" clip-path="url(#genid1037)" cx="0" cy="0"></circle> <text font-size="14" text-anchor="middle" dominant-baseline="central" x="0" y="116">x= 33.3</text> <text font-size="14" text-anchor="middle" dominant-baseline="central" x="0" y="132">y= 0.0</text> <text font-size="14" text-anchor="middle" dominant-baseline="central" x="0" y="148">z= 120.0</text> </g> <g transform="translate(700,430)"> <filter id="genid1040"> <feGaussianBlur stdDeviation="10" result="genid1038"></feGaussianBlur> <feDiffuseLighting lighting-color="white" surfaceScale="100" diffuseConstant="1" in="genid1038" result="genid1039"> <fePointLight x="100" y="0" z="120"></fePointLight> </feDiffuseLighting> <feComposite operator="arithmetic" in="genid1039" in2="SourceGraphic" k1="0" k2="0.4" k3="1" k4="0"></feComposite> </filter> <clipPath id="genid1041"> <circle r="82" cx="0" cy="0"></circle> </clipPath> <circle r="80" stroke="black" stroke-width="5" fill="darkgreen" filter="url(#genid1040)" clip-path="url(#genid1041)" cx="0" cy="0"></circle> <text font-size="14" text-anchor="middle" dominant-baseline="central" x="0" y="116">x= 100.0</text> <text font-size="14" text-anchor="middle" dominant-baseline="central" x="0" y="132">y= 0.0</text> <text font-size="14" text-anchor="middle" dominant-baseline="central" x="0" y="148">z= 120.0</text> </g> <g transform="translate(100,690)"> <filter id="genid1044"> <feGaussianBlur stdDeviation="10" result="genid1042"></feGaussianBlur> <feDiffuseLighting lighting-color="white" surfaceScale="100" diffuseConstant="1" in="genid1042" result="genid1043"> <fePointLight x="-100" y="-100" z="135"></fePointLight> </feDiffuseLighting> <feComposite operator="arithmetic" in="genid1043" in2="SourceGraphic" k1="0" k2="0.4" k3="1" k4="0"></feComposite> </filter> <clipPath id="genid1045"> <circle r="82" cx="0" cy="0"></circle> </clipPath> <circle r="80" stroke="black" stroke-width="5" fill="darkgreen" filter="url(#genid1044)" clip-path="url(#genid1045)" cx="0" cy="0"></circle> <text font-size="14" text-anchor="middle" dominant-baseline="central" x="0" y="116">x= -100.0</text> <text font-size="14" text-anchor="middle" dominant-baseline="central" x="0" y="132">y= -100.0</text> <text font-size="14" text-anchor="middle" dominant-baseline="central" x="0" y="148">z= 135.0</text> </g> <g transform="translate(300,690)"> <filter id="genid1048"> <feGaussianBlur stdDeviation="10" result="genid1046"></feGaussianBlur> <feDiffuseLighting lighting-color="white" surfaceScale="100" diffuseConstant="1" in="genid1046" result="genid1047"> <fePointLight x="-33.3333333333333" y="-100" z="135"></fePointLight> </feDiffuseLighting> <feComposite operator="arithmetic" in="genid1047" in2="SourceGraphic" k1="0" k2="0.4" k3="1" k4="0"></feComposite> </filter> <clipPath id="genid1049"> <circle r="82" cx="0" cy="0"></circle> </clipPath> <circle r="80" stroke="black" stroke-width="5" fill="darkgreen" filter="url(#genid1048)" clip-path="url(#genid1049)" cx="0" cy="0"></circle> <text font-size="14" text-anchor="middle" dominant-baseline="central" x="0" y="116">x= -33.3</text> <text font-size="14" text-anchor="middle" dominant-baseline="central" x="0" y="132">y= -100.0</text> <text font-size="14" text-anchor="middle" dominant-baseline="central" x="0" y="148">z= 135.0</text> </g> <g transform="translate(500,690)"> <filter id="genid1052"> <feGaussianBlur stdDeviation="10" result="genid1050"></feGaussianBlur> <feDiffuseLighting lighting-color="white" surfaceScale="100" diffuseConstant="1" in="genid1050" result="genid1051"> <fePointLight x="33.3333333333333" y="-100" z="135"></fePointLight> </feDiffuseLighting> <feComposite operator="arithmetic" in="genid1051" in2="SourceGraphic" k1="0" k2="0.4" k3="1" k4="0"></feComposite> </filter> <clipPath id="genid1053"> <circle r="82" cx="0" cy="0"></circle> </clipPath> <circle r="80" stroke="black" stroke-width="5" fill="darkgreen" filter="url(#genid1052)" clip-path="url(#genid1053)" cx="0" cy="0"></circle> <text font-size="14" text-anchor="middle" dominant-baseline="central" x="0" y="116">x= 33.3</text> <text font-size="14" text-anchor="middle" dominant-baseline="central" x="0" y="132">y= -100.0</text> <text font-size="14" text-anchor="middle" dominant-baseline="central" x="0" y="148">z= 135.0</text> </g> <g transform="translate(700,690)"> <filter id="genid1056"> <feGaussianBlur stdDeviation="10" result="genid1054"></feGaussianBlur> <feDiffuseLighting lighting-color="white" surfaceScale="100" diffuseConstant="1" in="genid1054" result="genid1055"> <fePointLight x="100" y="-100" z="135"></fePointLight> </feDiffuseLighting> <feComposite operator="arithmetic" in="genid1055" in2="SourceGraphic" k1="0" k2="0.4" k3="1" k4="0"></feComposite> </filter> <clipPath id="genid1057"> <circle r="82" cx="0" cy="0"></circle> </clipPath> <circle r="80" stroke="black" stroke-width="5" fill="darkgreen" filter="url(#genid1056)" clip-path="url(#genid1057)" cx="0" cy="0"></circle> <text font-size="14" text-anchor="middle" dominant-baseline="central" x="0" y="116">x= 100.0</text> <text font-size="14" text-anchor="middle" dominant-baseline="central" x="0" y="132">y= -100.0</text> <text font-size="14" text-anchor="middle" dominant-baseline="central" x="0" y="148">z= 135.0</text> </g> <g transform="translate(100,950)"> <filter id="genid1060"> <feGaussianBlur stdDeviation="10" result="genid1058"></feGaussianBlur> <feDiffuseLighting lighting-color="white" surfaceScale="100" diffuseConstant="1" in="genid1058" result="genid1059"> <fePointLight x="-100" y="0" z="135"></fePointLight> </feDiffuseLighting> <feComposite operator="arithmetic" in="genid1059" in2="SourceGraphic" k1="0" k2="0.4" k3="1" k4="0"></feComposite> </filter> <clipPath id="genid1061"> <circle r="82" cx="0" cy="0"></circle> </clipPath> <circle r="80" stroke="black" stroke-width="5" fill="darkgreen" filter="url(#genid1060)" clip-path="url(#genid1061)" cx="0" cy="0"></circle> <text font-size="14" text-anchor="middle" dominant-baseline="central" x="0" y="116">x= -100.0</text> <text font-size="14" text-anchor="middle" dominant-baseline="central" x="0" y="132">y= 0.0</text> <text font-size="14" text-anchor="middle" dominant-baseline="central" x="0" y="148">z= 135.0</text> </g> <g transform="translate(300,950)"> <filter id="genid1064"> <feGaussianBlur stdDeviation="10" result="genid1062"></feGaussianBlur> <feDiffuseLighting lighting-color="white" surfaceScale="100" diffuseConstant="1" in="genid1062" result="genid1063"> <fePointLight x="-33.3333333333333" y="0" z="135"></fePointLight> </feDiffuseLighting> <feComposite operator="arithmetic" in="genid1063" in2="SourceGraphic" k1="0" k2="0.4" k3="1" k4="0"></feComposite> </filter> <clipPath id="genid1065"> <circle r="82" cx="0" cy="0"></circle> </clipPath> <circle r="80" stroke="black" stroke-width="5" fill="darkgreen" filter="url(#genid1064)" clip-path="url(#genid1065)" cx="0" cy="0"></circle> <text font-size="14" text-anchor="middle" dominant-baseline="central" x="0" y="116">x= -33.3</text> <text font-size="14" text-anchor="middle" dominant-baseline="central" x="0" y="132">y= 0.0</text> <text font-size="14" text-anchor="middle" dominant-baseline="central" x="0" y="148">z= 135.0</text> </g> <g transform="translate(500,950)"> <filter id="genid1068"> <feGaussianBlur stdDeviation="10" result="genid1066"></feGaussianBlur> <feDiffuseLighting lighting-color="white" surfaceScale="100" diffuseConstant="1" in="genid1066" result="genid1067"> <fePointLight x="33.3333333333333" y="0" z="135"></fePointLight> </feDiffuseLighting> <feComposite operator="arithmetic" in="genid1067" in2="SourceGraphic" k1="0" k2="0.4" k3="1" k4="0"></feComposite> </filter> <clipPath id="genid1069"> <circle r="82" cx="0" cy="0"></circle> </clipPath> <circle r="80" stroke="black" stroke-width="5" fill="darkgreen" filter="url(#genid1068)" clip-path="url(#genid1069)" cx="0" cy="0"></circle> <text font-size="14" text-anchor="middle" dominant-baseline="central" x="0" y="116">x= 33.3</text> <text font-size="14" text-anchor="middle" dominant-baseline="central" x="0" y="132">y= 0.0</text> <text font-size="14" text-anchor="middle" dominant-baseline="central" x="0" y="148">z= 135.0</text> </g> <g transform="translate(700,950)"> <filter id="genid1072"> <feGaussianBlur stdDeviation="10" result="genid1070"></feGaussianBlur> <feDiffuseLighting lighting-color="white" surfaceScale="100" diffuseConstant="1" in="genid1070" result="genid1071"> <fePointLight x="100" y="0" z="135"></fePointLight> </feDiffuseLighting> <feComposite operator="arithmetic" in="genid1071" in2="SourceGraphic" k1="0" k2="0.4" k3="1" k4="0"></feComposite> </filter> <clipPath id="genid1073"> <circle r="82" cx="0" cy="0"></circle> </clipPath> <circle r="80" stroke="black" stroke-width="5" fill="darkgreen" filter="url(#genid1072)" clip-path="url(#genid1073)" cx="0" cy="0"></circle> <text font-size="14" text-anchor="middle" dominant-baseline="central" x="0" y="116">x= 100.0</text> <text font-size="14" text-anchor="middle" dominant-baseline="central" x="0" y="132">y= 0.0</text> <text font-size="14" text-anchor="middle" dominant-baseline="central" x="0" y="148">z= 135.0</text> </g> <g transform="translate(100,1210)"> <filter id="genid1076"> <feGaussianBlur stdDeviation="10" result="genid1074"></feGaussianBlur> <feDiffuseLighting lighting-color="white" surfaceScale="100" diffuseConstant="1" in="genid1074" result="genid1075"> <fePointLight x="-100" y="-100" z="150"></fePointLight> </feDiffuseLighting> <feComposite operator="arithmetic" in="genid1075" in2="SourceGraphic" k1="0" k2="0.4" k3="1" k4="0"></feComposite> </filter> <clipPath id="genid1077"> <circle r="82" cx="0" cy="0"></circle> </clipPath> <circle r="80" stroke="black" stroke-width="5" fill="darkgreen" filter="url(#genid1076)" clip-path="url(#genid1077)" cx="0" cy="0"></circle> <text font-size="14" text-anchor="middle" dominant-baseline="central" x="0" y="116">x= -100.0</text> <text font-size="14" text-anchor="middle" dominant-baseline="central" x="0" y="132">y= -100.0</text> <text font-size="14" text-anchor="middle" dominant-baseline="central" x="0" y="148">z= 150.0</text> </g> <g transform="translate(300,1210)"> <filter id="genid1080"> <feGaussianBlur stdDeviation="10" result="genid1078"></feGaussianBlur> <feDiffuseLighting lighting-color="white" surfaceScale="100" diffuseConstant="1" in="genid1078" result="genid1079"> <fePointLight x="-33.3333333333333" y="-100" z="150"></fePointLight> </feDiffuseLighting> <feComposite operator="arithmetic" in="genid1079" in2="SourceGraphic" k1="0" k2="0.4" k3="1" k4="0"></feComposite> </filter> <clipPath id="genid1081"> <circle r="82" cx="0" cy="0"></circle> </clipPath> <circle r="80" stroke="black" stroke-width="5" fill="darkgreen" filter="url(#genid1080)" clip-path="url(#genid1081)" cx="0" cy="0"></circle> <text font-size="14" text-anchor="middle" dominant-baseline="central" x="0" y="116">x= -33.3</text> <text font-size="14" text-anchor="middle" dominant-baseline="central" x="0" y="132">y= -100.0</text> <text font-size="14" text-anchor="middle" dominant-baseline="central" x="0" y="148">z= 150.0</text> </g> <g transform="translate(500,1210)"> <filter id="genid1084"> <feGaussianBlur stdDeviation="10" result="genid1082"></feGaussianBlur> <feDiffuseLighting lighting-color="white" surfaceScale="100" diffuseConstant="1" in="genid1082" result="genid1083"> <fePointLight x="33.3333333333333" y="-100" z="150"></fePointLight> </feDiffuseLighting> <feComposite operator="arithmetic" in="genid1083" in2="SourceGraphic" k1="0" k2="0.4" k3="1" k4="0"></feComposite> </filter> <clipPath id="genid1085"> <circle r="82" cx="0" cy="0"></circle> </clipPath> <circle r="80" stroke="black" stroke-width="5" fill="darkgreen" filter="url(#genid1084)" clip-path="url(#genid1085)" cx="0" cy="0"></circle> <text font-size="14" text-anchor="middle" dominant-baseline="central" x="0" y="116">x= 33.3</text> <text font-size="14" text-anchor="middle" dominant-baseline="central" x="0" y="132">y= -100.0</text> <text font-size="14" text-anchor="middle" dominant-baseline="central" x="0" y="148">z= 150.0</text> </g> <g transform="translate(700,1210)"> <filter id="genid1088"> <feGaussianBlur stdDeviation="10" result="genid1086"></feGaussianBlur> <feDiffuseLighting lighting-color="white" surfaceScale="100" diffuseConstant="1" in="genid1086" result="genid1087"> <fePointLight x="100" y="-100" z="150"></fePointLight> </feDiffuseLighting> <feComposite operator="arithmetic" in="genid1087" in2="SourceGraphic" k1="0" k2="0.4" k3="1" k4="0"></feComposite> </filter> <clipPath id="genid1089"> <circle r="82" cx="0" cy="0"></circle> </clipPath> <circle r="80" stroke="black" stroke-width="5" fill="darkgreen" filter="url(#genid1088)" clip-path="url(#genid1089)" cx="0" cy="0"></circle> <text font-size="14" text-anchor="middle" dominant-baseline="central" x="0" y="116">x= 100.0</text> <text font-size="14" text-anchor="middle" dominant-baseline="central" x="0" y="132">y= -100.0</text> <text font-size="14" text-anchor="middle" dominant-baseline="central" x="0" y="148">z= 150.0</text> </g> <g transform="translate(100,1470)"> <filter id="genid1092"> <feGaussianBlur stdDeviation="10" result="genid1090"></feGaussianBlur> <feDiffuseLighting lighting-color="white" surfaceScale="100" diffuseConstant="1" in="genid1090" result="genid1091"> <fePointLight x="-100" y="0" z="150"></fePointLight> </feDiffuseLighting> <feComposite operator="arithmetic" in="genid1091" in2="SourceGraphic" k1="0" k2="0.4" k3="1" k4="0"></feComposite> </filter> <clipPath id="genid1093"> <circle r="82" cx="0" cy="0"></circle> </clipPath> <circle r="80" stroke="black" stroke-width="5" fill="darkgreen" filter="url(#genid1092)" clip-path="url(#genid1093)" cx="0" cy="0"></circle> <text font-size="14" text-anchor="middle" dominant-baseline="central" x="0" y="116">x= -100.0</text> <text font-size="14" text-anchor="middle" dominant-baseline="central" x="0" y="132">y= 0.0</text> <text font-size="14" text-anchor="middle" dominant-baseline="central" x="0" y="148">z= 150.0</text> </g> <g transform="translate(300,1470)"> <filter id="genid1096"> <feGaussianBlur stdDeviation="10" result="genid1094"></feGaussianBlur> <feDiffuseLighting lighting-color="white" surfaceScale="100" diffuseConstant="1" in="genid1094" result="genid1095"> <fePointLight x="-33.3333333333333" y="0" z="150"></fePointLight> </feDiffuseLighting> <feComposite operator="arithmetic" in="genid1095" in2="SourceGraphic" k1="0" k2="0.4" k3="1" k4="0"></feComposite> </filter> <clipPath id="genid1097"> <circle r="82" cx="0" cy="0"></circle> </clipPath> <circle r="80" stroke="black" stroke-width="5" fill="darkgreen" filter="url(#genid1096)" clip-path="url(#genid1097)" cx="0" cy="0"></circle> <text font-size="14" text-anchor="middle" dominant-baseline="central" x="0" y="116">x= -33.3</text> <text font-size="14" text-anchor="middle" dominant-baseline="central" x="0" y="132">y= 0.0</text> <text font-size="14" text-anchor="middle" dominant-baseline="central" x="0" y="148">z= 150.0</text> </g> <g transform="translate(500,1470)"> <filter id="genid1100"> <feGaussianBlur stdDeviation="10" result="genid1098"></feGaussianBlur> <feDiffuseLighting lighting-color="white" surfaceScale="100" diffuseConstant="1" in="genid1098" result="genid1099"> <fePointLight x="33.3333333333333" y="0" z="150"></fePointLight> </feDiffuseLighting> <feComposite operator="arithmetic" in="genid1099" in2="SourceGraphic" k1="0" k2="0.4" k3="1" k4="0"></feComposite> </filter> <clipPath id="genid1101"> <circle r="82" cx="0" cy="0"></circle> </clipPath> <circle r="80" stroke="black" stroke-width="5" fill="darkgreen" filter="url(#genid1100)" clip-path="url(#genid1101)" cx="0" cy="0"></circle> <text font-size="14" text-anchor="middle" dominant-baseline="central" x="0" y="116">x= 33.3</text> <text font-size="14" text-anchor="middle" dominant-baseline="central" x="0" y="132">y= 0.0</text> <text font-size="14" text-anchor="middle" dominant-baseline="central" x="0" y="148">z= 150.0</text> </g> <g transform="translate(700,1470)"> <filter id="genid1104"> <feGaussianBlur stdDeviation="10" result="genid1102"></feGaussianBlur> <feDiffuseLighting lighting-color="white" surfaceScale="100" diffuseConstant="1" in="genid1102" result="genid1103"> <fePointLight x="100" y="0" z="150"></fePointLight> </feDiffuseLighting> <feComposite operator="arithmetic" in="genid1103" in2="SourceGraphic" k1="0" k2="0.4" k3="1" k4="0"></feComposite> </filter> <clipPath id="genid1105"> <circle r="82" cx="0" cy="0"></circle> </clipPath> <circle r="80" stroke="black" stroke-width="5" fill="darkgreen" filter="url(#genid1104)" clip-path="url(#genid1105)" cx="0" cy="0"></circle> <text font-size="14" text-anchor="middle" dominant-baseline="central" x="0" y="116">x= 100.0</text> <text font-size="14" text-anchor="middle" dominant-baseline="central" x="0" y="132">y= 0.0</text> <text font-size="14" text-anchor="middle" dominant-baseline="central" x="0" y="148">z= 150.0</text> </g>
</svg>
</div>
<div id="varying-pointlight-positions-diffuse-constant-dist." class="section level3">
<h3>Varying PointLight Positions: Diffuse , constant dist.</h3>
<p>Here we repeat, but with a constant distance from the center</p>
</div>
<div id="varying-pointlight-positions-diffuse-1" class="section level3">
<h3>Varying PointLight Positions: Diffuse</h3>
<pre class="r"><code>library(svgR)
W&lt;-800
GDIM=c(5,3) # = num cols , num rows
vMargin&lt;-90 #spacing for Title, and spaceing at bottom
WH=c(W, 2*vMargin + 1.3*W*GDIM[2]/GDIM[1])  # compute WH of svg
R&lt;-.5*(W/GDIM[1]) 
X&lt;-seq(0, WH[1], length.out=GDIM[1]+1)
Y&lt;-seq(vMargin,WH[2]-vMargin, length.out=GDIM[2]+1)
diffuseConstant&lt;-.6
CXY&lt;-expand.grid( 
  apply(rbind(X[1:(length(X)-1)], X[2:length(X)] ), 2, mean),
  apply(rbind(Y[1:(length(Y)-1)], Y[2:length(Y)] ), 2, mean)
)
phitheta&lt;-expand.grid(
  seq( pi/6,  pi/2, length.out=GDIM[1]),  # phi
  seq( 0, -pi/2,  length.out=GDIM[2])    # theta
)
rho&lt;-2*R
svgR(wh=WH,
    text(&quot;Varying fePointLight Position with feDiffuseLighting&quot;, font.size=22, cxy=c(WH[1]/2,40)),
    text(&quot;(Spherical Coord, angles in radians, origin at object center)&quot;, font.size=16, cxy=c(WH[1]/2,65)),
    text(paste0(&quot;(diffuseConstant=&quot;,diffuseConstant, &quot;)&quot;), font.size=12, cxy=c(WH[1]/2,85)),
    lapply(1:nrow(CXY), function(i){
      xyz=rho*c(
        sin(phitheta[i,1])*cos(phitheta[i,2]), 
        sin(phitheta[i,1])*sin(phitheta[i,2]), 
        cos(phitheta[i,1])
      )
      g( transform=list(translate=CXY[i,]),
        circle( cxy=c(0,0), r= R-10,  stroke=&quot;black&quot; , stroke.width=5, 
            fill = &quot;darkgreen&quot;,
            filter=filter(
                feComposite( 
                  operator=&quot;arithmetic&quot;, k1234=c(0,1,1,0),
                  in1=feDiffuseLighting( lighting.color=&quot;white&quot;,  surfaceScale=(5/7)*R, 
                      diffuseConstant=diffuseConstant,
                      in1=feGaussianBlur( stdDeviation=10),
                      fePointLight( xyz= xyz) 
                  ),
                  in2=  &quot;SourceGraphic&quot;
                )
            ),
            clip.path=clipPath(circle(cxy=c(0,0),r=R-8))
        ),
        lapply(1:3, function(j){ 
          text(
            paste0( mathSymbol(c(&quot;\\phi&quot;, &quot;\\theta&quot;, &quot;\\rho&quot;)[j]), '= ',
            format(c(phitheta[i,], rho)[j],digits=3)), cxy=c(0, R-14+j*16),  font.size=12
          )
        })
      )
    })
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="804">
<text font-size="22" text-anchor="middle" dominant-baseline="central" x="400" y="40">Varying fePointLight Position with feDiffuseLighting</text> <text font-size="16" text-anchor="middle" dominant-baseline="central" x="400" y="65">(Spherical Coord, angles in radians, origin at object center)</text> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="400" y="85">(diffuseConstant=0.6)</text> <g transform="translate(80,194)"> <filter id="genid1108"> <feGaussianBlur stdDeviation="10" result="genid1106"></feGaussianBlur> <feDiffuseLighting lighting-color="white" surfaceScale="57.1428571428571" diffuseConstant="0.6" in="genid1106" result="genid1107"> <fePointLight x="80" y="0" z="138.56406460551"></fePointLight> </feDiffuseLighting> <feComposite operator="arithmetic" in="genid1107" in2="SourceGraphic" k1="0" k2="1" k3="1" k4="0"></feComposite> </filter> <clipPath id="genid1109"> <circle r="72" cx="0" cy="0"></circle> </clipPath> <circle r="70" stroke="black" stroke-width="5" fill="darkgreen" filter="url(#genid1108)" clip-path="url(#genid1109)" cx="0" cy="0"></circle> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="82">= 0.524</text> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="98">= 0</text> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="114">= 160</text> </g> <g transform="translate(240,194)"> <filter id="genid1112"> <feGaussianBlur stdDeviation="10" result="genid1110"></feGaussianBlur> <feDiffuseLighting lighting-color="white" surfaceScale="57.1428571428571" diffuseConstant="0.6" in="genid1110" result="genid1111"> <fePointLight x="113.137084989848" y="0" z="113.137084989848"></fePointLight> </feDiffuseLighting> <feComposite operator="arithmetic" in="genid1111" in2="SourceGraphic" k1="0" k2="1" k3="1" k4="0"></feComposite> </filter> <clipPath id="genid1113"> <circle r="72" cx="0" cy="0"></circle> </clipPath> <circle r="70" stroke="black" stroke-width="5" fill="darkgreen" filter="url(#genid1112)" clip-path="url(#genid1113)" cx="0" cy="0"></circle> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="82">= 0.785</text> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="98">= 0</text> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="114">= 160</text> </g> <g transform="translate(400,194)"> <filter id="genid1116"> <feGaussianBlur stdDeviation="10" result="genid1114"></feGaussianBlur> <feDiffuseLighting lighting-color="white" surfaceScale="57.1428571428571" diffuseConstant="0.6" in="genid1114" result="genid1115"> <fePointLight x="138.56406460551" y="0" z="80"></fePointLight> </feDiffuseLighting> <feComposite operator="arithmetic" in="genid1115" in2="SourceGraphic" k1="0" k2="1" k3="1" k4="0"></feComposite> </filter> <clipPath id="genid1117"> <circle r="72" cx="0" cy="0"></circle> </clipPath> <circle r="70" stroke="black" stroke-width="5" fill="darkgreen" filter="url(#genid1116)" clip-path="url(#genid1117)" cx="0" cy="0"></circle> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="82">= 1.05</text> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="98">= 0</text> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="114">= 160</text> </g> <g transform="translate(560,194)"> <filter id="genid1120"> <feGaussianBlur stdDeviation="10" result="genid1118"></feGaussianBlur> <feDiffuseLighting lighting-color="white" surfaceScale="57.1428571428571" diffuseConstant="0.6" in="genid1118" result="genid1119"> <fePointLight x="154.548132206251" y="0" z="41.4110472164033"></fePointLight> </feDiffuseLighting> <feComposite operator="arithmetic" in="genid1119" in2="SourceGraphic" k1="0" k2="1" k3="1" k4="0"></feComposite> </filter> <clipPath id="genid1121"> <circle r="72" cx="0" cy="0"></circle> </clipPath> <circle r="70" stroke="black" stroke-width="5" fill="darkgreen" filter="url(#genid1120)" clip-path="url(#genid1121)" cx="0" cy="0"></circle> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="82">= 1.31</text> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="98">= 0</text> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="114">= 160</text> </g> <g transform="translate(720,194)"> <filter id="genid1124"> <feGaussianBlur stdDeviation="10" result="genid1122"></feGaussianBlur> <feDiffuseLighting lighting-color="white" surfaceScale="57.1428571428571" diffuseConstant="0.6" in="genid1122" result="genid1123"> <fePointLight x="160" y="0" z="9.79717439317883e-15"></fePointLight> </feDiffuseLighting> <feComposite operator="arithmetic" in="genid1123" in2="SourceGraphic" k1="0" k2="1" k3="1" k4="0"></feComposite> </filter> <clipPath id="genid1125"> <circle r="72" cx="0" cy="0"></circle> </clipPath> <circle r="70" stroke="black" stroke-width="5" fill="darkgreen" filter="url(#genid1124)" clip-path="url(#genid1125)" cx="0" cy="0"></circle> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="82">= 1.57</text> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="98">= 0</text> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="114">= 160</text> </g> <g transform="translate(80,402)"> <filter id="genid1128"> <feGaussianBlur stdDeviation="10" result="genid1126"></feGaussianBlur> <feDiffuseLighting lighting-color="white" surfaceScale="57.1428571428571" diffuseConstant="0.6" in="genid1126" result="genid1127"> <fePointLight x="56.5685424949238" y="-56.5685424949238" z="138.56406460551"></fePointLight> </feDiffuseLighting> <feComposite operator="arithmetic" in="genid1127" in2="SourceGraphic" k1="0" k2="1" k3="1" k4="0"></feComposite> </filter> <clipPath id="genid1129"> <circle r="72" cx="0" cy="0"></circle> </clipPath> <circle r="70" stroke="black" stroke-width="5" fill="darkgreen" filter="url(#genid1128)" clip-path="url(#genid1129)" cx="0" cy="0"></circle> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="82">= 0.524</text> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="98">= -0.785</text> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="114">= 160</text> </g> <g transform="translate(240,402)"> <filter id="genid1132"> <feGaussianBlur stdDeviation="10" result="genid1130"></feGaussianBlur> <feDiffuseLighting lighting-color="white" surfaceScale="57.1428571428571" diffuseConstant="0.6" in="genid1130" result="genid1131"> <fePointLight x="80" y="-80" z="113.137084989848"></fePointLight> </feDiffuseLighting> <feComposite operator="arithmetic" in="genid1131" in2="SourceGraphic" k1="0" k2="1" k3="1" k4="0"></feComposite> </filter> <clipPath id="genid1133"> <circle r="72" cx="0" cy="0"></circle> </clipPath> <circle r="70" stroke="black" stroke-width="5" fill="darkgreen" filter="url(#genid1132)" clip-path="url(#genid1133)" cx="0" cy="0"></circle> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="82">= 0.785</text> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="98">= -0.785</text> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="114">= 160</text> </g> <g transform="translate(400,402)"> <filter id="genid1136"> <feGaussianBlur stdDeviation="10" result="genid1134"></feGaussianBlur> <feDiffuseLighting lighting-color="white" surfaceScale="57.1428571428571" diffuseConstant="0.6" in="genid1134" result="genid1135"> <fePointLight x="97.9795897113271" y="-97.9795897113271" z="80"></fePointLight> </feDiffuseLighting> <feComposite operator="arithmetic" in="genid1135" in2="SourceGraphic" k1="0" k2="1" k3="1" k4="0"></feComposite> </filter> <clipPath id="genid1137"> <circle r="72" cx="0" cy="0"></circle> </clipPath> <circle r="70" stroke="black" stroke-width="5" fill="darkgreen" filter="url(#genid1136)" clip-path="url(#genid1137)" cx="0" cy="0"></circle> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="82">= 1.05</text> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="98">= -0.785</text> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="114">= 160</text> </g> <g transform="translate(560,402)"> <filter id="genid1140"> <feGaussianBlur stdDeviation="10" result="genid1138"></feGaussianBlur> <feDiffuseLighting lighting-color="white" surfaceScale="57.1428571428571" diffuseConstant="0.6" in="genid1138" result="genid1139"> <fePointLight x="109.282032302755" y="-109.282032302755" z="41.4110472164033"></fePointLight> </feDiffuseLighting> <feComposite operator="arithmetic" in="genid1139" in2="SourceGraphic" k1="0" k2="1" k3="1" k4="0"></feComposite> </filter> <clipPath id="genid1141"> <circle r="72" cx="0" cy="0"></circle> </clipPath> <circle r="70" stroke="black" stroke-width="5" fill="darkgreen" filter="url(#genid1140)" clip-path="url(#genid1141)" cx="0" cy="0"></circle> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="82">= 1.31</text> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="98">= -0.785</text> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="114">= 160</text> </g> <g transform="translate(720,402)"> <filter id="genid1144"> <feGaussianBlur stdDeviation="10" result="genid1142"></feGaussianBlur> <feDiffuseLighting lighting-color="white" surfaceScale="57.1428571428571" diffuseConstant="0.6" in="genid1142" result="genid1143"> <fePointLight x="113.137084989848" y="-113.137084989848" z="9.79717439317883e-15"></fePointLight> </feDiffuseLighting> <feComposite operator="arithmetic" in="genid1143" in2="SourceGraphic" k1="0" k2="1" k3="1" k4="0"></feComposite> </filter> <clipPath id="genid1145"> <circle r="72" cx="0" cy="0"></circle> </clipPath> <circle r="70" stroke="black" stroke-width="5" fill="darkgreen" filter="url(#genid1144)" clip-path="url(#genid1145)" cx="0" cy="0"></circle> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="82">= 1.57</text> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="98">= -0.785</text> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="114">= 160</text> </g> <g transform="translate(80,610)"> <filter id="genid1148"> <feGaussianBlur stdDeviation="10" result="genid1146"></feGaussianBlur> <feDiffuseLighting lighting-color="white" surfaceScale="57.1428571428571" diffuseConstant="0.6" in="genid1146" result="genid1147"> <fePointLight x="4.89858719658941e-15" y="-80" z="138.56406460551"></fePointLight> </feDiffuseLighting> <feComposite operator="arithmetic" in="genid1147" in2="SourceGraphic" k1="0" k2="1" k3="1" k4="0"></feComposite> </filter> <clipPath id="genid1149"> <circle r="72" cx="0" cy="0"></circle> </clipPath> <circle r="70" stroke="black" stroke-width="5" fill="darkgreen" filter="url(#genid1148)" clip-path="url(#genid1149)" cx="0" cy="0"></circle> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="82">= 0.524</text> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="98">= -1.57</text> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="114">= 160</text> </g> <g transform="translate(240,610)"> <filter id="genid1152"> <feGaussianBlur stdDeviation="10" result="genid1150"></feGaussianBlur> <feDiffuseLighting lighting-color="white" surfaceScale="57.1428571428571" diffuseConstant="0.6" in="genid1150" result="genid1151"> <fePointLight x="6.92764844988395e-15" y="-113.137084989848" z="113.137084989848"></fePointLight> </feDiffuseLighting> <feComposite operator="arithmetic" in="genid1151" in2="SourceGraphic" k1="0" k2="1" k3="1" k4="0"></feComposite> </filter> <clipPath id="genid1153"> <circle r="72" cx="0" cy="0"></circle> </clipPath> <circle r="70" stroke="black" stroke-width="5" fill="darkgreen" filter="url(#genid1152)" clip-path="url(#genid1153)" cx="0" cy="0"></circle> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="82">= 0.785</text> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="98">= -1.57</text> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="114">= 160</text> </g> <g transform="translate(400,610)"> <filter id="genid1156"> <feGaussianBlur stdDeviation="10" result="genid1154"></feGaussianBlur> <feDiffuseLighting lighting-color="white" surfaceScale="57.1428571428571" diffuseConstant="0.6" in="genid1154" result="genid1155"> <fePointLight x="8.48460190979926e-15" y="-138.56406460551" z="80"></fePointLight> </feDiffuseLighting> <feComposite operator="arithmetic" in="genid1155" in2="SourceGraphic" k1="0" k2="1" k3="1" k4="0"></feComposite> </filter> <clipPath id="genid1157"> <circle r="72" cx="0" cy="0"></circle> </clipPath> <circle r="70" stroke="black" stroke-width="5" fill="darkgreen" filter="url(#genid1156)" clip-path="url(#genid1157)" cx="0" cy="0"></circle> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="82">= 1.05</text> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="98">= -1.57</text> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="114">= 160</text> </g> <g transform="translate(560,610)"> <filter id="genid1160"> <feGaussianBlur stdDeviation="10" result="genid1158"></feGaussianBlur> <feDiffuseLighting lighting-color="white" surfaceScale="57.1428571428571" diffuseConstant="0.6" in="genid1158" result="genid1159"> <fePointLight x="9.46334377102936e-15" y="-154.548132206251" z="41.4110472164033"></fePointLight> </feDiffuseLighting> <feComposite operator="arithmetic" in="genid1159" in2="SourceGraphic" k1="0" k2="1" k3="1" k4="0"></feComposite> </filter> <clipPath id="genid1161"> <circle r="72" cx="0" cy="0"></circle> </clipPath> <circle r="70" stroke="black" stroke-width="5" fill="darkgreen" filter="url(#genid1160)" clip-path="url(#genid1161)" cx="0" cy="0"></circle> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="82">= 1.31</text> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="98">= -1.57</text> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="114">= 160</text> </g> <g transform="translate(720,610)"> <filter id="genid1164"> <feGaussianBlur stdDeviation="10" result="genid1162"></feGaussianBlur> <feDiffuseLighting lighting-color="white" surfaceScale="57.1428571428571" diffuseConstant="0.6" in="genid1162" result="genid1163"> <fePointLight x="9.79717439317883e-15" y="-160" z="9.79717439317883e-15"></fePointLight> </feDiffuseLighting> <feComposite operator="arithmetic" in="genid1163" in2="SourceGraphic" k1="0" k2="1" k3="1" k4="0"></feComposite> </filter> <clipPath id="genid1165"> <circle r="72" cx="0" cy="0"></circle> </clipPath> <circle r="70" stroke="black" stroke-width="5" fill="darkgreen" filter="url(#genid1164)" clip-path="url(#genid1165)" cx="0" cy="0"></circle> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="82">= 1.57</text> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="98">= -1.57</text> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="114">= 160</text> </g>
</svg>
<div id="varying-pointlight-positions-specular" class="section level5">
<h5>Varying PointLight Positions: Specular</h5>
<pre class="r"><code>library(svgR)
W&lt;-800
GDIM=c(5,3) # = num cols , num rows
vMargin&lt;-90 #spacing for Title, and spaceing at bottom
WH=c(W, 2*vMargin + 1.3*W*GDIM[2]/GDIM[1])  # compute WH of svg
R&lt;-.5*(W/GDIM[1]) 
X&lt;-seq(0, WH[1], length.out=GDIM[1]+1)
Y&lt;-seq(vMargin,WH[2]-vMargin, length.out=GDIM[2]+1)
specularConstant&lt;-.6
specularExponent&lt;-10
CXY&lt;-expand.grid( 
  apply(rbind(X[1:(length(X)-1)], X[2:length(X)] ), 2, mean),
  apply(rbind(Y[1:(length(Y)-1)], Y[2:length(Y)] ), 2, mean)
)
phitheta&lt;-expand.grid(
  seq( pi/6,  pi/2, length.out=GDIM[1]),  # phi
  seq( 0, -pi/2,  length.out=GDIM[2])    # theta
)
rho&lt;-2*R
svgR(wh=WH,
    text(&quot;Varying fePointLight Position with feSpecularLighting&quot;, font.size=22, cxy=c(WH[1]/2,40)),
    text(&quot;(Spherical Coord, angles in radians, origin at object center)&quot;, font.size=16, cxy=c(WH[1]/2,65)),
    text(paste0(&quot;(specularConstant=&quot;,specularConstant,&quot;, specularExponent=&quot;,specularExponent), font.size=12, cxy=c(WH[1]/2,85)),
    lapply(1:nrow(CXY), function(i){
      xyz=rho*c(
        sin(phitheta[i,1])*cos(phitheta[i,2]), 
        sin(phitheta[i,1])*sin(phitheta[i,2]), 
        cos(phitheta[i,1])
      )
      g( transform=list(translate=CXY[i,]),
        circle( cxy=c(0,0), r= R-10,  stroke=&quot;black&quot; , stroke.width=5, 
            fill = &quot;darkgreen&quot;,
            filter=filter(
                feComposite( 
                  operator=&quot;arithmetic&quot;, k1234=c(0,1,1,0),
                  in1=feSpecularLighting( lighting.color=&quot;white&quot;,  surfaceScale=(5/7)*R, 
                      specularExponent=specularExponent,
                      specularConstant=specularConstant,
                      in1=feGaussianBlur( stdDeviation=10),
                      fePointLight( xyz= xyz) 
                  ),
                  in2=  &quot;SourceGraphic&quot;
                )
            ),
            clip.path=clipPath(circle(cxy=c(0,0),r=R-8))
        ),
        lapply(1:3, function(j){ 
          text(
            paste0( mathSymbol(c(&quot;\\phi&quot;, &quot;\\theta&quot;, &quot;\\rho&quot;)[j]), '= ',
            format(c(phitheta[i,], rho)[j],digits=3)), cxy=c(0, R-14+j*16),  font.size=12
          )
        })
      )
    })
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="804">
<text font-size="22" text-anchor="middle" dominant-baseline="central" x="400" y="40">Varying fePointLight Position with feSpecularLighting</text> <text font-size="16" text-anchor="middle" dominant-baseline="central" x="400" y="65">(Spherical Coord, angles in radians, origin at object center)</text> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="400" y="85">(specularConstant=0.6, specularExponent=10</text> <g transform="translate(80,194)"> <filter id="genid1168"> <feGaussianBlur stdDeviation="10" result="genid1166"></feGaussianBlur> <feSpecularLighting lighting-color="white" surfaceScale="57.1428571428571" specularExponent="10" specularConstant="0.6" in="genid1166" result="genid1167"> <fePointLight x="80" y="0" z="138.56406460551"></fePointLight> </feSpecularLighting> <feComposite operator="arithmetic" in="genid1167" in2="SourceGraphic" k1="0" k2="1" k3="1" k4="0"></feComposite> </filter> <clipPath id="genid1169"> <circle r="72" cx="0" cy="0"></circle> </clipPath> <circle r="70" stroke="black" stroke-width="5" fill="darkgreen" filter="url(#genid1168)" clip-path="url(#genid1169)" cx="0" cy="0"></circle> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="82">= 0.524</text> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="98">= 0</text> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="114">= 160</text> </g> <g transform="translate(240,194)"> <filter id="genid1172"> <feGaussianBlur stdDeviation="10" result="genid1170"></feGaussianBlur> <feSpecularLighting lighting-color="white" surfaceScale="57.1428571428571" specularExponent="10" specularConstant="0.6" in="genid1170" result="genid1171"> <fePointLight x="113.137084989848" y="0" z="113.137084989848"></fePointLight> </feSpecularLighting> <feComposite operator="arithmetic" in="genid1171" in2="SourceGraphic" k1="0" k2="1" k3="1" k4="0"></feComposite> </filter> <clipPath id="genid1173"> <circle r="72" cx="0" cy="0"></circle> </clipPath> <circle r="70" stroke="black" stroke-width="5" fill="darkgreen" filter="url(#genid1172)" clip-path="url(#genid1173)" cx="0" cy="0"></circle> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="82">= 0.785</text> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="98">= 0</text> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="114">= 160</text> </g> <g transform="translate(400,194)"> <filter id="genid1176"> <feGaussianBlur stdDeviation="10" result="genid1174"></feGaussianBlur> <feSpecularLighting lighting-color="white" surfaceScale="57.1428571428571" specularExponent="10" specularConstant="0.6" in="genid1174" result="genid1175"> <fePointLight x="138.56406460551" y="0" z="80"></fePointLight> </feSpecularLighting> <feComposite operator="arithmetic" in="genid1175" in2="SourceGraphic" k1="0" k2="1" k3="1" k4="0"></feComposite> </filter> <clipPath id="genid1177"> <circle r="72" cx="0" cy="0"></circle> </clipPath> <circle r="70" stroke="black" stroke-width="5" fill="darkgreen" filter="url(#genid1176)" clip-path="url(#genid1177)" cx="0" cy="0"></circle> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="82">= 1.05</text> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="98">= 0</text> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="114">= 160</text> </g> <g transform="translate(560,194)"> <filter id="genid1180"> <feGaussianBlur stdDeviation="10" result="genid1178"></feGaussianBlur> <feSpecularLighting lighting-color="white" surfaceScale="57.1428571428571" specularExponent="10" specularConstant="0.6" in="genid1178" result="genid1179"> <fePointLight x="154.548132206251" y="0" z="41.4110472164033"></fePointLight> </feSpecularLighting> <feComposite operator="arithmetic" in="genid1179" in2="SourceGraphic" k1="0" k2="1" k3="1" k4="0"></feComposite> </filter> <clipPath id="genid1181"> <circle r="72" cx="0" cy="0"></circle> </clipPath> <circle r="70" stroke="black" stroke-width="5" fill="darkgreen" filter="url(#genid1180)" clip-path="url(#genid1181)" cx="0" cy="0"></circle> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="82">= 1.31</text> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="98">= 0</text> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="114">= 160</text> </g> <g transform="translate(720,194)"> <filter id="genid1184"> <feGaussianBlur stdDeviation="10" result="genid1182"></feGaussianBlur> <feSpecularLighting lighting-color="white" surfaceScale="57.1428571428571" specularExponent="10" specularConstant="0.6" in="genid1182" result="genid1183"> <fePointLight x="160" y="0" z="9.79717439317883e-15"></fePointLight> </feSpecularLighting> <feComposite operator="arithmetic" in="genid1183" in2="SourceGraphic" k1="0" k2="1" k3="1" k4="0"></feComposite> </filter> <clipPath id="genid1185"> <circle r="72" cx="0" cy="0"></circle> </clipPath> <circle r="70" stroke="black" stroke-width="5" fill="darkgreen" filter="url(#genid1184)" clip-path="url(#genid1185)" cx="0" cy="0"></circle> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="82">= 1.57</text> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="98">= 0</text> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="114">= 160</text> </g> <g transform="translate(80,402)"> <filter id="genid1188"> <feGaussianBlur stdDeviation="10" result="genid1186"></feGaussianBlur> <feSpecularLighting lighting-color="white" surfaceScale="57.1428571428571" specularExponent="10" specularConstant="0.6" in="genid1186" result="genid1187"> <fePointLight x="56.5685424949238" y="-56.5685424949238" z="138.56406460551"></fePointLight> </feSpecularLighting> <feComposite operator="arithmetic" in="genid1187" in2="SourceGraphic" k1="0" k2="1" k3="1" k4="0"></feComposite> </filter> <clipPath id="genid1189"> <circle r="72" cx="0" cy="0"></circle> </clipPath> <circle r="70" stroke="black" stroke-width="5" fill="darkgreen" filter="url(#genid1188)" clip-path="url(#genid1189)" cx="0" cy="0"></circle> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="82">= 0.524</text> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="98">= -0.785</text> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="114">= 160</text> </g> <g transform="translate(240,402)"> <filter id="genid1192"> <feGaussianBlur stdDeviation="10" result="genid1190"></feGaussianBlur> <feSpecularLighting lighting-color="white" surfaceScale="57.1428571428571" specularExponent="10" specularConstant="0.6" in="genid1190" result="genid1191"> <fePointLight x="80" y="-80" z="113.137084989848"></fePointLight> </feSpecularLighting> <feComposite operator="arithmetic" in="genid1191" in2="SourceGraphic" k1="0" k2="1" k3="1" k4="0"></feComposite> </filter> <clipPath id="genid1193"> <circle r="72" cx="0" cy="0"></circle> </clipPath> <circle r="70" stroke="black" stroke-width="5" fill="darkgreen" filter="url(#genid1192)" clip-path="url(#genid1193)" cx="0" cy="0"></circle> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="82">= 0.785</text> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="98">= -0.785</text> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="114">= 160</text> </g> <g transform="translate(400,402)"> <filter id="genid1196"> <feGaussianBlur stdDeviation="10" result="genid1194"></feGaussianBlur> <feSpecularLighting lighting-color="white" surfaceScale="57.1428571428571" specularExponent="10" specularConstant="0.6" in="genid1194" result="genid1195"> <fePointLight x="97.9795897113271" y="-97.9795897113271" z="80"></fePointLight> </feSpecularLighting> <feComposite operator="arithmetic" in="genid1195" in2="SourceGraphic" k1="0" k2="1" k3="1" k4="0"></feComposite> </filter> <clipPath id="genid1197"> <circle r="72" cx="0" cy="0"></circle> </clipPath> <circle r="70" stroke="black" stroke-width="5" fill="darkgreen" filter="url(#genid1196)" clip-path="url(#genid1197)" cx="0" cy="0"></circle> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="82">= 1.05</text> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="98">= -0.785</text> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="114">= 160</text> </g> <g transform="translate(560,402)"> <filter id="genid1200"> <feGaussianBlur stdDeviation="10" result="genid1198"></feGaussianBlur> <feSpecularLighting lighting-color="white" surfaceScale="57.1428571428571" specularExponent="10" specularConstant="0.6" in="genid1198" result="genid1199"> <fePointLight x="109.282032302755" y="-109.282032302755" z="41.4110472164033"></fePointLight> </feSpecularLighting> <feComposite operator="arithmetic" in="genid1199" in2="SourceGraphic" k1="0" k2="1" k3="1" k4="0"></feComposite> </filter> <clipPath id="genid1201"> <circle r="72" cx="0" cy="0"></circle> </clipPath> <circle r="70" stroke="black" stroke-width="5" fill="darkgreen" filter="url(#genid1200)" clip-path="url(#genid1201)" cx="0" cy="0"></circle> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="82">= 1.31</text> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="98">= -0.785</text> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="114">= 160</text> </g> <g transform="translate(720,402)"> <filter id="genid1204"> <feGaussianBlur stdDeviation="10" result="genid1202"></feGaussianBlur> <feSpecularLighting lighting-color="white" surfaceScale="57.1428571428571" specularExponent="10" specularConstant="0.6" in="genid1202" result="genid1203"> <fePointLight x="113.137084989848" y="-113.137084989848" z="9.79717439317883e-15"></fePointLight> </feSpecularLighting> <feComposite operator="arithmetic" in="genid1203" in2="SourceGraphic" k1="0" k2="1" k3="1" k4="0"></feComposite> </filter> <clipPath id="genid1205"> <circle r="72" cx="0" cy="0"></circle> </clipPath> <circle r="70" stroke="black" stroke-width="5" fill="darkgreen" filter="url(#genid1204)" clip-path="url(#genid1205)" cx="0" cy="0"></circle> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="82">= 1.57</text> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="98">= -0.785</text> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="114">= 160</text> </g> <g transform="translate(80,610)"> <filter id="genid1208"> <feGaussianBlur stdDeviation="10" result="genid1206"></feGaussianBlur> <feSpecularLighting lighting-color="white" surfaceScale="57.1428571428571" specularExponent="10" specularConstant="0.6" in="genid1206" result="genid1207"> <fePointLight x="4.89858719658941e-15" y="-80" z="138.56406460551"></fePointLight> </feSpecularLighting> <feComposite operator="arithmetic" in="genid1207" in2="SourceGraphic" k1="0" k2="1" k3="1" k4="0"></feComposite> </filter> <clipPath id="genid1209"> <circle r="72" cx="0" cy="0"></circle> </clipPath> <circle r="70" stroke="black" stroke-width="5" fill="darkgreen" filter="url(#genid1208)" clip-path="url(#genid1209)" cx="0" cy="0"></circle> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="82">= 0.524</text> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="98">= -1.57</text> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="114">= 160</text> </g> <g transform="translate(240,610)"> <filter id="genid1212"> <feGaussianBlur stdDeviation="10" result="genid1210"></feGaussianBlur> <feSpecularLighting lighting-color="white" surfaceScale="57.1428571428571" specularExponent="10" specularConstant="0.6" in="genid1210" result="genid1211"> <fePointLight x="6.92764844988395e-15" y="-113.137084989848" z="113.137084989848"></fePointLight> </feSpecularLighting> <feComposite operator="arithmetic" in="genid1211" in2="SourceGraphic" k1="0" k2="1" k3="1" k4="0"></feComposite> </filter> <clipPath id="genid1213"> <circle r="72" cx="0" cy="0"></circle> </clipPath> <circle r="70" stroke="black" stroke-width="5" fill="darkgreen" filter="url(#genid1212)" clip-path="url(#genid1213)" cx="0" cy="0"></circle> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="82">= 0.785</text> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="98">= -1.57</text> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="114">= 160</text> </g> <g transform="translate(400,610)"> <filter id="genid1216"> <feGaussianBlur stdDeviation="10" result="genid1214"></feGaussianBlur> <feSpecularLighting lighting-color="white" surfaceScale="57.1428571428571" specularExponent="10" specularConstant="0.6" in="genid1214" result="genid1215"> <fePointLight x="8.48460190979926e-15" y="-138.56406460551" z="80"></fePointLight> </feSpecularLighting> <feComposite operator="arithmetic" in="genid1215" in2="SourceGraphic" k1="0" k2="1" k3="1" k4="0"></feComposite> </filter> <clipPath id="genid1217"> <circle r="72" cx="0" cy="0"></circle> </clipPath> <circle r="70" stroke="black" stroke-width="5" fill="darkgreen" filter="url(#genid1216)" clip-path="url(#genid1217)" cx="0" cy="0"></circle> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="82">= 1.05</text> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="98">= -1.57</text> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="114">= 160</text> </g> <g transform="translate(560,610)"> <filter id="genid1220"> <feGaussianBlur stdDeviation="10" result="genid1218"></feGaussianBlur> <feSpecularLighting lighting-color="white" surfaceScale="57.1428571428571" specularExponent="10" specularConstant="0.6" in="genid1218" result="genid1219"> <fePointLight x="9.46334377102936e-15" y="-154.548132206251" z="41.4110472164033"></fePointLight> </feSpecularLighting> <feComposite operator="arithmetic" in="genid1219" in2="SourceGraphic" k1="0" k2="1" k3="1" k4="0"></feComposite> </filter> <clipPath id="genid1221"> <circle r="72" cx="0" cy="0"></circle> </clipPath> <circle r="70" stroke="black" stroke-width="5" fill="darkgreen" filter="url(#genid1220)" clip-path="url(#genid1221)" cx="0" cy="0"></circle> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="82">= 1.31</text> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="98">= -1.57</text> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="114">= 160</text> </g> <g transform="translate(720,610)"> <filter id="genid1224"> <feGaussianBlur stdDeviation="10" result="genid1222"></feGaussianBlur> <feSpecularLighting lighting-color="white" surfaceScale="57.1428571428571" specularExponent="10" specularConstant="0.6" in="genid1222" result="genid1223"> <fePointLight x="9.79717439317883e-15" y="-160" z="9.79717439317883e-15"></fePointLight> </feSpecularLighting> <feComposite operator="arithmetic" in="genid1223" in2="SourceGraphic" k1="0" k2="1" k3="1" k4="0"></feComposite> </filter> <clipPath id="genid1225"> <circle r="72" cx="0" cy="0"></circle> </clipPath> <circle r="70" stroke="black" stroke-width="5" fill="darkgreen" filter="url(#genid1224)" clip-path="url(#genid1225)" cx="0" cy="0"></circle> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="82">= 1.57</text> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="98">= -1.57</text> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="114">= 160</text> </g>
</svg>
</div>
</div>
</div>
<div id="fespotlight" class="section level2">
<h2>feSpotLight</h2>
<table>
<tr>
<td width="300">
<p>A spot light is a directed light source. It is modeled as a point light source whose rays a restricted to a cone. Thus light resulting on a surface will be either an elliptic or a parabola.</p>
<p>The feSpotLight consists of a source position, a a target position, and an a limiting cone.</p>
</td>
<td width="40">
</td>
<td>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="400" height="200">
<g> <rect fill="grey" stroke="black" width="400" height="200" x="0" y="0"></rect> <line stroke="black" stroke-width="2" stroke-dasharray="6" x1="0" y1="150" x2="400" y2="150"></line> <line stroke="black" stroke-width="2" stroke-dasharray="6" x1="200" y1="150" x2="200" y2="0"></line> <line stroke="black" stroke-width="2" stroke-dasharray="6" x1="200" y1="150" x2="150" y2="200"></line> <text x="380" y="145">X</text> <text x="180" y="190">Y</text> <text x="210" y="20">Z</text> <line stroke="black" stroke-width="1" x1="360" y1="150" x2="360" y2="30"></line> <circle r="3" fill="white" cx="360" cy="30"></circle> <line stroke="white" stroke-width="3" x1="200" y1="150" x2="360" y2="30"></line> <polygon points="360 30 265.8061311958 150 61.0368511866682 150" fill="white" opacity="0.3"></polygon> <g transform="translate(163.421491191234,150)"> <ellipse fill="white" opacity="0.5" cx="0" cy="0" rx="94.1938688042004" ry="9.41938688042004"></ellipse> </g> </g>
</svg>
</td>
</tr>
</table>
<p>The revelant attributes for feSpotLight are:</p>
<table>
<thead>
<tr class="header">
<th align="left">Attribute</th>
<th align="left">Value</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">xyz</td>
<td align="left">numeric</td>
<td align="left">x, y, z postions of light source</td>
</tr>
<tr class="even">
<td align="left">pointsAtXYZ</td>
<td align="left">numeric</td>
<td align="left">position of where the light source is pointing</td>
</tr>
<tr class="odd">
<td align="left">limitingConeAngle</td>
<td align="left">numeric</td>
<td align="left">value in degrees describing the limiting cone</td>
</tr>
</tbody>
</table>
<p>The spotlight is best understood by observing its behaviour on a flat surface.</p>
<div id="diffuse-spotlight-on-flat-surface-rotated-about-boundry-pointing-at-center" class="section level3">
<h3>Diffuse SpotLight on Flat surface Rotated About Boundry, Pointing at Center</h3>
<p>Here we move a spot light about a circle while keeping the the spotlight pointed at the circles center.</p>
<pre class="r"><code>library(svgR)
WH=c(800, 300) # window rect
N=4
sp&lt;-20
X=seq(sp, WH[1], length.out=N+1)
SWH&lt;-c(X[2]-X[1]-sp, WH[2]-30)
R&lt;-.4*SWH[1]
theta&lt;-seq(-pi,0, length.out=N)
phi&lt;-seq(.2*pi,.4*pi, length.out=N)
lightPos&lt;-.8*R*cbind( sin(phi)*cos(theta), sin(phi)*sin(theta), cos(phi) )

svgR(wh=WH, 
  lapply(1:4, function(i){
    svg( wh=SWH, x=X[i], y=0,
      circle( cxy=SWH/2, r= R, fill=&quot;green&quot;, stroke=&quot;black&quot;,  stroke.width=5,
        filter=filter(
          feComposite( 
            operator=&quot;arithmetic&quot;, k1234=c(0,1,1,0),
            in1=&quot;SourceGraphic&quot;,
            in2= feDiffuseLighting( lighting.color=&quot;white&quot;, diffuseConstant=1.2,
                in1=&quot;SourceGraphic&quot;,
                feSpotLight( limitingConeAngle=20, #this is in degrees
                             xyz=lightPos[i,]+.5*c(SWH,0), #spotLightPos,
                             pointsAtXYZ=.5*c(SWH,0) #ptAtPos[[i]]
                             ) 
            )
           )
        )
      ),
      text(paste(mathSymbol(&quot;\\phi&quot;), '=',format(phi[i], digits=3)), xy=c(10,SWH[2]-80), fill='white'),
      text(paste(mathSymbol(&quot;\\theta&quot;), '=',format(theta[i], digits=3)), xy=c(10,SWH[2]-60), fill=&quot;white&quot;)
    )
  }),
  text('Diffuse: SpotLight point at c(0,0,0)', cxy=c(400,250), font.size=20)
)-&gt;doc
cat(&quot;'&quot;,as.character(doc),&quot;'&quot;)</code></pre>
<p><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="300"> <svg x="20" y="0" width="175" height="270"> <filter id="genid1227"> <feDiffuseLighting lighting-color="white" diffuseConstant="1.2" in="SourceGraphic" result="genid1226"> <feSpotLight limitingConeAngle="20" pointsAtX="87.5" pointsAtY="135" pointsAtZ="0" x="54.5840258716215" y="135" z="45.3049516849971"></feSpotLight> </feDiffuseLighting> <feComposite operator="arithmetic" in="SourceGraphic" in2="genid1226" k1="0" k2="1" k3="1" k4="0"></feComposite> </filter> <circle r="70" fill="green" stroke="black" stroke-width="5" filter="url(#genid1227)" cx="87.5" cy="135"></circle> <text fill="white" x="10" y="190"> = 0.628</text> <text fill="white" x="10" y="210"> = -3.14</text> </svg> <svg x="215" y="0" width="175" height="270"> <filter id="genid1229"> <feDiffuseLighting lighting-color="white" diffuseConstant="1.2" in="SourceGraphic" result="genid1228"> <feSpotLight limitingConeAngle="20" pointsAtX="87.5" pointsAtY="135" pointsAtZ="0" x="66.691944886633" y="98.9593913369549" z="37.4713139560961"></feSpotLight> </feDiffuseLighting> <feComposite operator="arithmetic" in="SourceGraphic" in2="genid1228" k1="0" k2="1" k3="1" k4="0"></feComposite> </filter> <circle r="70" fill="green" stroke="black" stroke-width="5" filter="url(#genid1229)" cx="87.5" cy="135"></circle> <text fill="white" x="10" y="190"> = 0.838</text> <text fill="white" x="10" y="210"> = -2.09</text> </svg> <svg x="410" y="0" width="175" height="270"> <filter id="genid1231"> <feDiffuseLighting lighting-color="white" diffuseConstant="1.2" in="SourceGraphic" result="genid1230"> <feSpotLight limitingConeAngle="20" pointsAtX="87.5" pointsAtY="135" pointsAtZ="0" x="111.748711305964" y="93" z="28"></feSpotLight> </feDiffuseLighting> <feComposite operator="arithmetic" in="SourceGraphic" in2="genid1230" k1="0" k2="1" k3="1" k4="0"></feComposite> </filter> <circle r="70" fill="green" stroke="black" stroke-width="5" filter="url(#genid1231)" cx="87.5" cy="135"></circle> <text fill="white" x="10" y="190"> = 1.05</text> <text fill="white" x="10" y="210"> = -1.05</text> </svg> <svg x="605" y="0" width="175" height="270"> <filter id="genid1233"> <feDiffuseLighting lighting-color="white" diffuseConstant="1.2" in="SourceGraphic" result="genid1232"> <feSpotLight limitingConeAngle="20" pointsAtX="87.5" pointsAtY="135" pointsAtZ="0" x="140.759164912529" y="135" z="17.3049516849971"></feSpotLight> </feDiffuseLighting> <feComposite operator="arithmetic" in="SourceGraphic" in2="genid1232" k1="0" k2="1" k3="1" k4="0"></feComposite> </filter> <circle r="70" fill="green" stroke="black" stroke-width="5" filter="url(#genid1233)" cx="87.5" cy="135"></circle> <text fill="white" x="10" y="190"> = 1.26</text> <text fill="white" x="10" y="210"> = 0</text> </svg> <text font-size="20" text-anchor="middle" dominant-baseline="central" x="400" y="250">Diffuse: SpotLight point at c(0,0,0)</text> </svg></p>
</div>
</div>
<div id="diffuse-spot-light-located-above-center-point-along-boundry" class="section level2">
<h2>Diffuse Spot Light Located Above Center, Point Along Boundry</h2>
<p>Here we the light source as spot light centered at c(0,0,R) and move the focus (where it points to)</p>
<pre class="r"><code>library(svgR)
WH=c(800, 300) # window rect
N=4
sp&lt;-20
X=seq(sp, WH[1]+sp, length.out=N+1)
SWH&lt;-c(X[2]-X[1]-sp, WH[2]-30)
R&lt;-.4*SWH[1]
theta&lt;-seq(-pi,0, length.out=N)
lightPos&lt;-.5*c(SWH,20)
pointsAt&lt;-R*cbind(cos(theta), sin(theta))
svgR(wh=WH, 
  lapply(1:4, function(i){
    svg( wh=SWH, x=X[i], y=0,
      circle( cxy=SWH/2, r= R, fill=&quot;green&quot;, stroke=&quot;black&quot;,  stroke.width=5,
        filter=filter(
          feComposite( 
            operator=&quot;arithmetic&quot;, k1234=c(0,1,1,0),
            in1=&quot;SourceGraphic&quot;,
            in2= feDiffuseLighting( lighting.color=&quot;white&quot;, diffuseConstant=1.2,
                in1=&quot;SourceGraphic&quot;,
                feSpotLight( limitingConeAngle=20, #this is in degrees
                             xyz=lightPos, #spotLightPos,
                             pointsAtXYZ=c(pointsAt[i,]+SWH/2, 0) #ptAtPos[[i]]
                             ) 
            )
           )
        )
      ),
      text(paste(&quot;x&quot;, '=',format(pointsAt[i,1], digits=3)), xy=c(10,SWH[2]-80), fill='white'),
      text(paste(&quot;y&quot;, '=',format(pointsAt[i,2], digits=3)), xy=c(10,SWH[2]-60), fill=&quot;white&quot;)
    )
  }),
  text('Diffuse: SpotLight point at c(0,0,0)', cxy=c(400,280), font.size=20)
)-&gt;doc
cat(&quot;'&quot;,as.character(doc),&quot;'&quot;)</code></pre>
<p><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="300"> <svg x="20" y="0" width="180" height="270"> <filter id="genid1235"> <feDiffuseLighting lighting-color="white" diffuseConstant="1.2" in="SourceGraphic" result="genid1234"> <feSpotLight limitingConeAngle="20" pointsAtX="18" pointsAtY="135" pointsAtZ="0" x="90" y="135" z="10"></feSpotLight> </feDiffuseLighting> <feComposite operator="arithmetic" in="SourceGraphic" in2="genid1234" k1="0" k2="1" k3="1" k4="0"></feComposite> </filter> <circle r="72" fill="green" stroke="black" stroke-width="5" filter="url(#genid1235)" cx="90" cy="135"></circle> <text fill="white" x="10" y="190">x = -72</text> <text fill="white" x="10" y="210">y = -8.82e-15</text> </svg> <svg x="220" y="0" width="180" height="270"> <filter id="genid1237"> <feDiffuseLighting lighting-color="white" diffuseConstant="1.2" in="SourceGraphic" result="genid1236"> <feSpotLight limitingConeAngle="20" pointsAtX="54" pointsAtY="72.6461709275204" pointsAtZ="0" x="90" y="135" z="10"></feSpotLight> </feDiffuseLighting> <feComposite operator="arithmetic" in="SourceGraphic" in2="genid1236" k1="0" k2="1" k3="1" k4="0"></feComposite> </filter> <circle r="72" fill="green" stroke="black" stroke-width="5" filter="url(#genid1237)" cx="90" cy="135"></circle> <text fill="white" x="10" y="190">x = -36</text> <text fill="white" x="10" y="210">y = -62.4</text> </svg> <svg x="420" y="0" width="180" height="270"> <filter id="genid1239"> <feDiffuseLighting lighting-color="white" diffuseConstant="1.2" in="SourceGraphic" result="genid1238"> <feSpotLight limitingConeAngle="20" pointsAtX="126" pointsAtY="72.6461709275204" pointsAtZ="0" x="90" y="135" z="10"></feSpotLight> </feDiffuseLighting> <feComposite operator="arithmetic" in="SourceGraphic" in2="genid1238" k1="0" k2="1" k3="1" k4="0"></feComposite> </filter> <circle r="72" fill="green" stroke="black" stroke-width="5" filter="url(#genid1239)" cx="90" cy="135"></circle> <text fill="white" x="10" y="190">x = 36</text> <text fill="white" x="10" y="210">y = -62.4</text> </svg> <svg x="620" y="0" width="180" height="270"> <filter id="genid1241"> <feDiffuseLighting lighting-color="white" diffuseConstant="1.2" in="SourceGraphic" result="genid1240"> <feSpotLight limitingConeAngle="20" pointsAtX="162" pointsAtY="135" pointsAtZ="0" x="90" y="135" z="10"></feSpotLight> </feDiffuseLighting> <feComposite operator="arithmetic" in="SourceGraphic" in2="genid1240" k1="0" k2="1" k3="1" k4="0"></feComposite> </filter> <circle r="72" fill="green" stroke="black" stroke-width="5" filter="url(#genid1241)" cx="90" cy="135"></circle> <text fill="white" x="10" y="190">x = 72</text> <text fill="white" x="10" y="210">y = 0</text> </svg> <text font-size="20" text-anchor="middle" dominant-baseline="central" x="400" y="280">Diffuse: SpotLight point at c(0,0,0)</text> </svg></p>
<div id="varying-fespotlight-positions-diffuse" class="section level3">
<h3>Varying feSpotLight Positions: Diffuse</h3>
<pre class="r"><code>library(svgR)
W&lt;-800
GDIM=c(5,3) # = num cols , num rows
vMargin&lt;-90 #spacing for Title, and spaceing at bottom
WH=c(W, 2*vMargin + 1.3*W*GDIM[2]/GDIM[1])  # compute WH of svg
R&lt;-.5*(W/GDIM[1]) 
X&lt;-seq(0, WH[1], length.out=GDIM[1]+1)
Y&lt;-seq(vMargin,WH[2]-vMargin, length.out=GDIM[2]+1)
diffuseConstant&lt;-.6
CXY&lt;-expand.grid( 
  apply(rbind(X[1:(length(X)-1)], X[2:length(X)] ), 2, mean),
  apply(rbind(Y[1:(length(Y)-1)], Y[2:length(Y)] ), 2, mean)
)
phitheta&lt;-expand.grid(
  seq( pi/6,  pi/4, length.out=GDIM[1]),  # phi
  seq( 0, -pi/2,  length.out=GDIM[2])    # theta
)
rho&lt;-2*R
surfaceScale&lt;-(5/7)*R
svgR(wh=WH,
    text(&quot;Varying feSpotLight Position with feDiffuseLighting&quot;, font.size=22, cxy=c(WH[1]/2,40)),
    text(&quot;(Spherical Coord, angles in radians, origin at object center)&quot;, font.size=16, cxy=c(WH[1]/2,65)),
    text(paste0(&quot;(diffuseConstant=&quot;,diffuseConstant, &quot;) pointing at center&quot;), font.size=12, cxy=c(WH[1]/2,85)),
    lapply(1:nrow(CXY), function(i){
      xyz=rho*c(
        sin(phitheta[i,1])*cos(phitheta[i,2]), 
        sin(phitheta[i,1])*sin(phitheta[i,2]), 
        cos(phitheta[i,1])
      )
      g( transform=list(translate=CXY[i,]),
        circle( cxy=c(0,0), r= R-10,  stroke=&quot;black&quot; , stroke.width=5, 
            fill = &quot;darkgreen&quot;,
            filter=filter(
                feComposite( 
                  operator=&quot;arithmetic&quot;, k1234=c(0,1,1,0),
                  in1=feDiffuseLighting( lighting.color=&quot;white&quot;,  surfaceScale=surfaceScale, 
                      diffuseConstant=diffuseConstant,
                      in1=feGaussianBlur( stdDeviation=10),
                      feSpotLight( xyz= xyz, pointsAtXYZ= -c(1,1,0)*xyz, #+
                      #c(0,0,surfaceScale), 
                      limitingConeAngle=15 ) 
                  ),
                  in2=  &quot;SourceGraphic&quot;
                )
            ),
            clip.path=clipPath(circle(cxy=c(0,0),r=R-8))
        ),
        lapply(1:3, function(j){ 
          text(
            paste0( mathSymbol(c(&quot;\\phi&quot;, &quot;\\theta&quot;, &quot;\\rho&quot;)[j]), '= ',
            format(c(phitheta[i,], rho)[j],digits=3)), cxy=c(0, R-14+j*16),  font.size=12
          )
        })
      )
    })
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="804">
<text font-size="22" text-anchor="middle" dominant-baseline="central" x="400" y="40">Varying feSpotLight Position with feDiffuseLighting</text> <text font-size="16" text-anchor="middle" dominant-baseline="central" x="400" y="65">(Spherical Coord, angles in radians, origin at object center)</text> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="400" y="85">(diffuseConstant=0.6) pointing at center</text> <g transform="translate(80,194)"> <filter id="genid1244"> <feGaussianBlur stdDeviation="10" result="genid1242"></feGaussianBlur> <feDiffuseLighting lighting-color="white" surfaceScale="57.1428571428571" diffuseConstant="0.6" in="genid1242" result="genid1243"> <feSpotLight limitingConeAngle="15" pointsAtX="-80" pointsAtY="0" pointsAtZ="0" x="80" y="0" z="138.56406460551"></feSpotLight> </feDiffuseLighting> <feComposite operator="arithmetic" in="genid1243" in2="SourceGraphic" k1="0" k2="1" k3="1" k4="0"></feComposite> </filter> <clipPath id="genid1245"> <circle r="72" cx="0" cy="0"></circle> </clipPath> <circle r="70" stroke="black" stroke-width="5" fill="darkgreen" filter="url(#genid1244)" clip-path="url(#genid1245)" cx="0" cy="0"></circle> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="82">= 0.524</text> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="98">= 0</text> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="114">= 160</text> </g> <g transform="translate(240,194)"> <filter id="genid1248"> <feGaussianBlur stdDeviation="10" result="genid1246"></feGaussianBlur> <feDiffuseLighting lighting-color="white" surfaceScale="57.1428571428571" diffuseConstant="0.6" in="genid1246" result="genid1247"> <feSpotLight limitingConeAngle="15" pointsAtX="-88.8912372831363" pointsAtY="0" pointsAtZ="0" x="88.8912372831363" y="0" z="133.035137968407"></feSpotLight> </feDiffuseLighting> <feComposite operator="arithmetic" in="genid1247" in2="SourceGraphic" k1="0" k2="1" k3="1" k4="0"></feComposite> </filter> <clipPath id="genid1249"> <circle r="72" cx="0" cy="0"></circle> </clipPath> <circle r="70" stroke="black" stroke-width="5" fill="darkgreen" filter="url(#genid1248)" clip-path="url(#genid1249)" cx="0" cy="0"></circle> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="82">= 0.589</text> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="98">= 0</text> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="114">= 160</text> </g> <g transform="translate(400,194)"> <filter id="genid1252"> <feGaussianBlur stdDeviation="10" result="genid1250"></feGaussianBlur> <feDiffuseLighting lighting-color="white" surfaceScale="57.1428571428571" diffuseConstant="0.6" in="genid1250" result="genid1251"> <feSpotLight limitingConeAngle="15" pointsAtX="-97.4018286413953" pointsAtY="0" pointsAtZ="0" x="97.4018286413953" y="0" z="126.936534446598"></feSpotLight> </feDiffuseLighting> <feComposite operator="arithmetic" in="genid1251" in2="SourceGraphic" k1="0" k2="1" k3="1" k4="0"></feComposite> </filter> <clipPath id="genid1253"> <circle r="72" cx="0" cy="0"></circle> </clipPath> <circle r="70" stroke="black" stroke-width="5" fill="darkgreen" filter="url(#genid1252)" clip-path="url(#genid1253)" cx="0" cy="0"></circle> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="82">= 0.654</text> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="98">= 0</text> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="114">= 160</text> </g> <g transform="translate(560,194)"> <filter id="genid1256"> <feGaussianBlur stdDeviation="10" result="genid1254"></feGaussianBlur> <feDiffuseLighting lighting-color="white" surfaceScale="57.1428571428571" diffuseConstant="0.6" in="genid1254" result="genid1255"> <feSpotLight limitingConeAngle="15" pointsAtX="-105.495330416011" pointsAtY="0" pointsAtZ="0" x="105.495330416011" y="0" z="120.294369196636"></feSpotLight> </feDiffuseLighting> <feComposite operator="arithmetic" in="genid1255" in2="SourceGraphic" k1="0" k2="1" k3="1" k4="0"></feComposite> </filter> <clipPath id="genid1257"> <circle r="72" cx="0" cy="0"></circle> </clipPath> <circle r="70" stroke="black" stroke-width="5" fill="darkgreen" filter="url(#genid1256)" clip-path="url(#genid1257)" cx="0" cy="0"></circle> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="82">= 0.72</text> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="98">= 0</text> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="114">= 160</text> </g> <g transform="translate(720,194)"> <filter id="genid1260"> <feGaussianBlur stdDeviation="10" result="genid1258"></feGaussianBlur> <feDiffuseLighting lighting-color="white" surfaceScale="57.1428571428571" diffuseConstant="0.6" in="genid1258" result="genid1259"> <feSpotLight limitingConeAngle="15" pointsAtX="-113.137084989848" pointsAtY="0" pointsAtZ="0" x="113.137084989848" y="0" z="113.137084989848"></feSpotLight> </feDiffuseLighting> <feComposite operator="arithmetic" in="genid1259" in2="SourceGraphic" k1="0" k2="1" k3="1" k4="0"></feComposite> </filter> <clipPath id="genid1261"> <circle r="72" cx="0" cy="0"></circle> </clipPath> <circle r="70" stroke="black" stroke-width="5" fill="darkgreen" filter="url(#genid1260)" clip-path="url(#genid1261)" cx="0" cy="0"></circle> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="82">= 0.785</text> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="98">= 0</text> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="114">= 160</text> </g> <g transform="translate(80,402)"> <filter id="genid1264"> <feGaussianBlur stdDeviation="10" result="genid1262"></feGaussianBlur> <feDiffuseLighting lighting-color="white" surfaceScale="57.1428571428571" diffuseConstant="0.6" in="genid1262" result="genid1263"> <feSpotLight limitingConeAngle="15" pointsAtX="-56.5685424949238" pointsAtY="56.5685424949238" pointsAtZ="0" x="56.5685424949238" y="-56.5685424949238" z="138.56406460551"></feSpotLight> </feDiffuseLighting> <feComposite operator="arithmetic" in="genid1263" in2="SourceGraphic" k1="0" k2="1" k3="1" k4="0"></feComposite> </filter> <clipPath id="genid1265"> <circle r="72" cx="0" cy="0"></circle> </clipPath> <circle r="70" stroke="black" stroke-width="5" fill="darkgreen" filter="url(#genid1264)" clip-path="url(#genid1265)" cx="0" cy="0"></circle> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="82">= 0.524</text> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="98">= -0.785</text> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="114">= 160</text> </g> <g transform="translate(240,402)"> <filter id="genid1268"> <feGaussianBlur stdDeviation="10" result="genid1266"></feGaussianBlur> <feDiffuseLighting lighting-color="white" surfaceScale="57.1428571428571" diffuseConstant="0.6" in="genid1266" result="genid1267"> <feSpotLight limitingConeAngle="15" pointsAtX="-62.8555966709682" pointsAtY="62.8555966709682" pointsAtZ="0" x="62.8555966709682" y="-62.8555966709682" z="133.035137968407"></feSpotLight> </feDiffuseLighting> <feComposite operator="arithmetic" in="genid1267" in2="SourceGraphic" k1="0" k2="1" k3="1" k4="0"></feComposite> </filter> <clipPath id="genid1269"> <circle r="72" cx="0" cy="0"></circle> </clipPath> <circle r="70" stroke="black" stroke-width="5" fill="darkgreen" filter="url(#genid1268)" clip-path="url(#genid1269)" cx="0" cy="0"></circle> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="82">= 0.589</text> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="98">= -0.785</text> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="114">= 160</text> </g> <g transform="translate(400,402)"> <filter id="genid1272"> <feGaussianBlur stdDeviation="10" result="genid1270"></feGaussianBlur> <feDiffuseLighting lighting-color="white" surfaceScale="57.1428571428571" diffuseConstant="0.6" in="genid1270" result="genid1271"> <feSpotLight limitingConeAngle="15" pointsAtX="-68.8734935323007" pointsAtY="68.8734935323007" pointsAtZ="0" x="68.8734935323007" y="-68.8734935323007" z="126.936534446598"></feSpotLight> </feDiffuseLighting> <feComposite operator="arithmetic" in="genid1271" in2="SourceGraphic" k1="0" k2="1" k3="1" k4="0"></feComposite> </filter> <clipPath id="genid1273"> <circle r="72" cx="0" cy="0"></circle> </clipPath> <circle r="70" stroke="black" stroke-width="5" fill="darkgreen" filter="url(#genid1272)" clip-path="url(#genid1273)" cx="0" cy="0"></circle> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="82">= 0.654</text> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="98">= -0.785</text> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="114">= 160</text> </g> <g transform="translate(560,402)"> <filter id="genid1276"> <feGaussianBlur stdDeviation="10" result="genid1274"></feGaussianBlur> <feDiffuseLighting lighting-color="white" surfaceScale="57.1428571428571" diffuseConstant="0.6" in="genid1274" result="genid1275"> <feSpotLight limitingConeAngle="15" pointsAtX="-74.5964635206768" pointsAtY="74.5964635206768" pointsAtZ="0" x="74.5964635206768" y="-74.5964635206768" z="120.294369196636"></feSpotLight> </feDiffuseLighting> <feComposite operator="arithmetic" in="genid1275" in2="SourceGraphic" k1="0" k2="1" k3="1" k4="0"></feComposite> </filter> <clipPath id="genid1277"> <circle r="72" cx="0" cy="0"></circle> </clipPath> <circle r="70" stroke="black" stroke-width="5" fill="darkgreen" filter="url(#genid1276)" clip-path="url(#genid1277)" cx="0" cy="0"></circle> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="82">= 0.72</text> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="98">= -0.785</text> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="114">= 160</text> </g> <g transform="translate(720,402)"> <filter id="genid1280"> <feGaussianBlur stdDeviation="10" result="genid1278"></feGaussianBlur> <feDiffuseLighting lighting-color="white" surfaceScale="57.1428571428571" diffuseConstant="0.6" in="genid1278" result="genid1279"> <feSpotLight limitingConeAngle="15" pointsAtX="-80" pointsAtY="80" pointsAtZ="0" x="80" y="-80" z="113.137084989848"></feSpotLight> </feDiffuseLighting> <feComposite operator="arithmetic" in="genid1279" in2="SourceGraphic" k1="0" k2="1" k3="1" k4="0"></feComposite> </filter> <clipPath id="genid1281"> <circle r="72" cx="0" cy="0"></circle> </clipPath> <circle r="70" stroke="black" stroke-width="5" fill="darkgreen" filter="url(#genid1280)" clip-path="url(#genid1281)" cx="0" cy="0"></circle> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="82">= 0.785</text> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="98">= -0.785</text> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="114">= 160</text> </g> <g transform="translate(80,610)"> <filter id="genid1284"> <feGaussianBlur stdDeviation="10" result="genid1282"></feGaussianBlur> <feDiffuseLighting lighting-color="white" surfaceScale="57.1428571428571" diffuseConstant="0.6" in="genid1282" result="genid1283"> <feSpotLight limitingConeAngle="15" pointsAtX="-4.89858719658941e-15" pointsAtY="80" pointsAtZ="0" x="4.89858719658941e-15" y="-80" z="138.56406460551"></feSpotLight> </feDiffuseLighting> <feComposite operator="arithmetic" in="genid1283" in2="SourceGraphic" k1="0" k2="1" k3="1" k4="0"></feComposite> </filter> <clipPath id="genid1285"> <circle r="72" cx="0" cy="0"></circle> </clipPath> <circle r="70" stroke="black" stroke-width="5" fill="darkgreen" filter="url(#genid1284)" clip-path="url(#genid1285)" cx="0" cy="0"></circle> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="82">= 0.524</text> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="98">= -1.57</text> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="114">= 160</text> </g> <g transform="translate(240,610)"> <filter id="genid1288"> <feGaussianBlur stdDeviation="10" result="genid1286"></feGaussianBlur> <feDiffuseLighting lighting-color="white" surfaceScale="57.1428571428571" diffuseConstant="0.6" in="genid1286" result="genid1287"> <feSpotLight limitingConeAngle="15" pointsAtX="-5.44301846055204e-15" pointsAtY="88.8912372831363" pointsAtZ="0" x="5.44301846055204e-15" y="-88.8912372831363" z="133.035137968407"></feSpotLight> </feDiffuseLighting> <feComposite operator="arithmetic" in="genid1287" in2="SourceGraphic" k1="0" k2="1" k3="1" k4="0"></feComposite> </filter> <clipPath id="genid1289"> <circle r="72" cx="0" cy="0"></circle> </clipPath> <circle r="70" stroke="black" stroke-width="5" fill="darkgreen" filter="url(#genid1288)" clip-path="url(#genid1289)" cx="0" cy="0"></circle> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="82">= 0.589</text> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="98">= -1.57</text> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="114">= 160</text> </g> <g transform="translate(400,610)"> <filter id="genid1292"> <feGaussianBlur stdDeviation="10" result="genid1290"></feGaussianBlur> <feDiffuseLighting lighting-color="white" surfaceScale="57.1428571428571" diffuseConstant="0.6" in="genid1290" result="genid1291"> <feSpotLight limitingConeAngle="15" pointsAtX="-5.96414188383919e-15" pointsAtY="97.4018286413953" pointsAtZ="0" x="5.96414188383919e-15" y="-97.4018286413953" z="126.936534446598"></feSpotLight> </feDiffuseLighting> <feComposite operator="arithmetic" in="genid1291" in2="SourceGraphic" k1="0" k2="1" k3="1" k4="0"></feComposite> </filter> <clipPath id="genid1293"> <circle r="72" cx="0" cy="0"></circle> </clipPath> <circle r="70" stroke="black" stroke-width="5" fill="darkgreen" filter="url(#genid1292)" clip-path="url(#genid1293)" cx="0" cy="0"></circle> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="82">= 0.654</text> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="98">= -1.57</text> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="114">= 160</text> </g> <g transform="translate(560,610)"> <filter id="genid1296"> <feGaussianBlur stdDeviation="10" result="genid1294"></feGaussianBlur> <feDiffuseLighting lighting-color="white" surfaceScale="57.1428571428571" diffuseConstant="0.6" in="genid1294" result="genid1295"> <feSpotLight limitingConeAngle="15" pointsAtX="-6.45972593594801e-15" pointsAtY="105.495330416011" pointsAtZ="0" x="6.45972593594801e-15" y="-105.495330416011" z="120.294369196636"></feSpotLight> </feDiffuseLighting> <feComposite operator="arithmetic" in="genid1295" in2="SourceGraphic" k1="0" k2="1" k3="1" k4="0"></feComposite> </filter> <clipPath id="genid1297"> <circle r="72" cx="0" cy="0"></circle> </clipPath> <circle r="70" stroke="black" stroke-width="5" fill="darkgreen" filter="url(#genid1296)" clip-path="url(#genid1297)" cx="0" cy="0"></circle> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="82">= 0.72</text> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="98">= -1.57</text> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="114">= 160</text> </g> <g transform="translate(720,610)"> <filter id="genid1300"> <feGaussianBlur stdDeviation="10" result="genid1298"></feGaussianBlur> <feDiffuseLighting lighting-color="white" surfaceScale="57.1428571428571" diffuseConstant="0.6" in="genid1298" result="genid1299"> <feSpotLight limitingConeAngle="15" pointsAtX="-6.92764844988395e-15" pointsAtY="113.137084989848" pointsAtZ="0" x="6.92764844988395e-15" y="-113.137084989848" z="113.137084989848"></feSpotLight> </feDiffuseLighting> <feComposite operator="arithmetic" in="genid1299" in2="SourceGraphic" k1="0" k2="1" k3="1" k4="0"></feComposite> </filter> <clipPath id="genid1301"> <circle r="72" cx="0" cy="0"></circle> </clipPath> <circle r="70" stroke="black" stroke-width="5" fill="darkgreen" filter="url(#genid1300)" clip-path="url(#genid1301)" cx="0" cy="0"></circle> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="82">= 0.785</text> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="98">= -1.57</text> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="114">= 160</text> </g>
</svg>
<div id="varying-fespotlight-positions-specular" class="section level5">
<h5>Varying feSpotLight Positions: Specular</h5>
<pre class="r"><code>library(svgR)
W&lt;-800
GDIM=c(5,3) # = num cols , num rows
vMargin&lt;-90 #spacing for Title, and spaceing at bottom
WH=c(W, 2*vMargin + 1.3*W*GDIM[2]/GDIM[1])  # compute WH of svg
R&lt;-.5*(W/GDIM[1]) 
X&lt;-seq(0, WH[1], length.out=GDIM[1]+1)
Y&lt;-seq(vMargin,WH[2]-vMargin, length.out=GDIM[2]+1)
specularConstant&lt;-.6
specularExponent&lt;-10
CXY&lt;-expand.grid( 
  apply(rbind(X[1:(length(X)-1)], X[2:length(X)] ), 2, mean),
  apply(rbind(Y[1:(length(Y)-1)], Y[2:length(Y)] ), 2, mean)
)
phitheta&lt;-expand.grid(
  seq( pi/6,  pi/4, length.out=GDIM[1]),  # phi
  seq( 0, -pi/2,  length.out=GDIM[2])    # theta
)
rho&lt;-2*R
surfaceScale&lt;-(5/7)*R
svgR(wh=WH,
    text(&quot;Varying feSpotLight Position with feSpecularLighting&quot;, font.size=22, cxy=c(WH[1]/2,40)),
    text(&quot;(Spherical Coord, angles in radians, origin at object center)&quot;, font.size=16, cxy=c(WH[1]/2,65)),
    text(paste0(&quot;(specularConstant=&quot;,specularConstant,&quot;, specularExponent=&quot;,specularExponent), font.size=12, cxy=c(WH[1]/2,85)),
    lapply(1:nrow(CXY), function(i){
      xyz=rho*c(
        sin(phitheta[i,1])*cos(phitheta[i,2]), 
        sin(phitheta[i,1])*sin(phitheta[i,2]), 
        cos(phitheta[i,1])
      )
      g( transform=list(translate=CXY[i,]),
        circle( cxy=c(0,0), r= R-10,  stroke=&quot;black&quot; , stroke.width=5, 
            fill = &quot;darkgreen&quot;,
            filter=filter(
                feComposite( 
                  operator=&quot;arithmetic&quot;, k1234=c(0,1,1,0),
                  in1=feSpecularLighting( lighting.color=&quot;white&quot;,  surfaceScale=surfaceScale, 
                      specularExponent=specularExponent,
                      specularConstant=specularConstant,
                      in1=feGaussianBlur( stdDeviation=10),
                      feSpotLight( xyz= xyz, pointsAtXYZ= -c(1,1,0)*xyz, limitingConeAngle=15) 
                  ),
                  in2=  &quot;SourceGraphic&quot;
                )
            ),
            clip.path=clipPath(circle(cxy=c(0,0),r=R-8))
        ),
        lapply(1:3, function(j){ 
          text(
            paste0( mathSymbol(c(&quot;\\phi&quot;, &quot;\\theta&quot;, &quot;\\rho&quot;)[j]), '= ',
            format(c(phitheta[i,], rho)[j],digits=3)), cxy=c(0, R-14+j*16),  font.size=12
          )
        })
      )
    })
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="804">
<text font-size="22" text-anchor="middle" dominant-baseline="central" x="400" y="40">Varying feSpotLight Position with feSpecularLighting</text> <text font-size="16" text-anchor="middle" dominant-baseline="central" x="400" y="65">(Spherical Coord, angles in radians, origin at object center)</text> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="400" y="85">(specularConstant=0.6, specularExponent=10</text> <g transform="translate(80,194)"> <filter id="genid1304"> <feGaussianBlur stdDeviation="10" result="genid1302"></feGaussianBlur> <feSpecularLighting lighting-color="white" surfaceScale="57.1428571428571" specularExponent="10" specularConstant="0.6" in="genid1302" result="genid1303"> <feSpotLight limitingConeAngle="15" pointsAtX="-80" pointsAtY="0" pointsAtZ="0" x="80" y="0" z="138.56406460551"></feSpotLight> </feSpecularLighting> <feComposite operator="arithmetic" in="genid1303" in2="SourceGraphic" k1="0" k2="1" k3="1" k4="0"></feComposite> </filter> <clipPath id="genid1305"> <circle r="72" cx="0" cy="0"></circle> </clipPath> <circle r="70" stroke="black" stroke-width="5" fill="darkgreen" filter="url(#genid1304)" clip-path="url(#genid1305)" cx="0" cy="0"></circle> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="82">= 0.524</text> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="98">= 0</text> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="114">= 160</text> </g> <g transform="translate(240,194)"> <filter id="genid1308"> <feGaussianBlur stdDeviation="10" result="genid1306"></feGaussianBlur> <feSpecularLighting lighting-color="white" surfaceScale="57.1428571428571" specularExponent="10" specularConstant="0.6" in="genid1306" result="genid1307"> <feSpotLight limitingConeAngle="15" pointsAtX="-88.8912372831363" pointsAtY="0" pointsAtZ="0" x="88.8912372831363" y="0" z="133.035137968407"></feSpotLight> </feSpecularLighting> <feComposite operator="arithmetic" in="genid1307" in2="SourceGraphic" k1="0" k2="1" k3="1" k4="0"></feComposite> </filter> <clipPath id="genid1309"> <circle r="72" cx="0" cy="0"></circle> </clipPath> <circle r="70" stroke="black" stroke-width="5" fill="darkgreen" filter="url(#genid1308)" clip-path="url(#genid1309)" cx="0" cy="0"></circle> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="82">= 0.589</text> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="98">= 0</text> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="114">= 160</text> </g> <g transform="translate(400,194)"> <filter id="genid1312"> <feGaussianBlur stdDeviation="10" result="genid1310"></feGaussianBlur> <feSpecularLighting lighting-color="white" surfaceScale="57.1428571428571" specularExponent="10" specularConstant="0.6" in="genid1310" result="genid1311"> <feSpotLight limitingConeAngle="15" pointsAtX="-97.4018286413953" pointsAtY="0" pointsAtZ="0" x="97.4018286413953" y="0" z="126.936534446598"></feSpotLight> </feSpecularLighting> <feComposite operator="arithmetic" in="genid1311" in2="SourceGraphic" k1="0" k2="1" k3="1" k4="0"></feComposite> </filter> <clipPath id="genid1313"> <circle r="72" cx="0" cy="0"></circle> </clipPath> <circle r="70" stroke="black" stroke-width="5" fill="darkgreen" filter="url(#genid1312)" clip-path="url(#genid1313)" cx="0" cy="0"></circle> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="82">= 0.654</text> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="98">= 0</text> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="114">= 160</text> </g> <g transform="translate(560,194)"> <filter id="genid1316"> <feGaussianBlur stdDeviation="10" result="genid1314"></feGaussianBlur> <feSpecularLighting lighting-color="white" surfaceScale="57.1428571428571" specularExponent="10" specularConstant="0.6" in="genid1314" result="genid1315"> <feSpotLight limitingConeAngle="15" pointsAtX="-105.495330416011" pointsAtY="0" pointsAtZ="0" x="105.495330416011" y="0" z="120.294369196636"></feSpotLight> </feSpecularLighting> <feComposite operator="arithmetic" in="genid1315" in2="SourceGraphic" k1="0" k2="1" k3="1" k4="0"></feComposite> </filter> <clipPath id="genid1317"> <circle r="72" cx="0" cy="0"></circle> </clipPath> <circle r="70" stroke="black" stroke-width="5" fill="darkgreen" filter="url(#genid1316)" clip-path="url(#genid1317)" cx="0" cy="0"></circle> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="82">= 0.72</text> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="98">= 0</text> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="114">= 160</text> </g> <g transform="translate(720,194)"> <filter id="genid1320"> <feGaussianBlur stdDeviation="10" result="genid1318"></feGaussianBlur> <feSpecularLighting lighting-color="white" surfaceScale="57.1428571428571" specularExponent="10" specularConstant="0.6" in="genid1318" result="genid1319"> <feSpotLight limitingConeAngle="15" pointsAtX="-113.137084989848" pointsAtY="0" pointsAtZ="0" x="113.137084989848" y="0" z="113.137084989848"></feSpotLight> </feSpecularLighting> <feComposite operator="arithmetic" in="genid1319" in2="SourceGraphic" k1="0" k2="1" k3="1" k4="0"></feComposite> </filter> <clipPath id="genid1321"> <circle r="72" cx="0" cy="0"></circle> </clipPath> <circle r="70" stroke="black" stroke-width="5" fill="darkgreen" filter="url(#genid1320)" clip-path="url(#genid1321)" cx="0" cy="0"></circle> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="82">= 0.785</text> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="98">= 0</text> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="114">= 160</text> </g> <g transform="translate(80,402)"> <filter id="genid1324"> <feGaussianBlur stdDeviation="10" result="genid1322"></feGaussianBlur> <feSpecularLighting lighting-color="white" surfaceScale="57.1428571428571" specularExponent="10" specularConstant="0.6" in="genid1322" result="genid1323"> <feSpotLight limitingConeAngle="15" pointsAtX="-56.5685424949238" pointsAtY="56.5685424949238" pointsAtZ="0" x="56.5685424949238" y="-56.5685424949238" z="138.56406460551"></feSpotLight> </feSpecularLighting> <feComposite operator="arithmetic" in="genid1323" in2="SourceGraphic" k1="0" k2="1" k3="1" k4="0"></feComposite> </filter> <clipPath id="genid1325"> <circle r="72" cx="0" cy="0"></circle> </clipPath> <circle r="70" stroke="black" stroke-width="5" fill="darkgreen" filter="url(#genid1324)" clip-path="url(#genid1325)" cx="0" cy="0"></circle> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="82">= 0.524</text> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="98">= -0.785</text> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="114">= 160</text> </g> <g transform="translate(240,402)"> <filter id="genid1328"> <feGaussianBlur stdDeviation="10" result="genid1326"></feGaussianBlur> <feSpecularLighting lighting-color="white" surfaceScale="57.1428571428571" specularExponent="10" specularConstant="0.6" in="genid1326" result="genid1327"> <feSpotLight limitingConeAngle="15" pointsAtX="-62.8555966709682" pointsAtY="62.8555966709682" pointsAtZ="0" x="62.8555966709682" y="-62.8555966709682" z="133.035137968407"></feSpotLight> </feSpecularLighting> <feComposite operator="arithmetic" in="genid1327" in2="SourceGraphic" k1="0" k2="1" k3="1" k4="0"></feComposite> </filter> <clipPath id="genid1329"> <circle r="72" cx="0" cy="0"></circle> </clipPath> <circle r="70" stroke="black" stroke-width="5" fill="darkgreen" filter="url(#genid1328)" clip-path="url(#genid1329)" cx="0" cy="0"></circle> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="82">= 0.589</text> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="98">= -0.785</text> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="114">= 160</text> </g> <g transform="translate(400,402)"> <filter id="genid1332"> <feGaussianBlur stdDeviation="10" result="genid1330"></feGaussianBlur> <feSpecularLighting lighting-color="white" surfaceScale="57.1428571428571" specularExponent="10" specularConstant="0.6" in="genid1330" result="genid1331"> <feSpotLight limitingConeAngle="15" pointsAtX="-68.8734935323007" pointsAtY="68.8734935323007" pointsAtZ="0" x="68.8734935323007" y="-68.8734935323007" z="126.936534446598"></feSpotLight> </feSpecularLighting> <feComposite operator="arithmetic" in="genid1331" in2="SourceGraphic" k1="0" k2="1" k3="1" k4="0"></feComposite> </filter> <clipPath id="genid1333"> <circle r="72" cx="0" cy="0"></circle> </clipPath> <circle r="70" stroke="black" stroke-width="5" fill="darkgreen" filter="url(#genid1332)" clip-path="url(#genid1333)" cx="0" cy="0"></circle> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="82">= 0.654</text> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="98">= -0.785</text> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="114">= 160</text> </g> <g transform="translate(560,402)"> <filter id="genid1336"> <feGaussianBlur stdDeviation="10" result="genid1334"></feGaussianBlur> <feSpecularLighting lighting-color="white" surfaceScale="57.1428571428571" specularExponent="10" specularConstant="0.6" in="genid1334" result="genid1335"> <feSpotLight limitingConeAngle="15" pointsAtX="-74.5964635206768" pointsAtY="74.5964635206768" pointsAtZ="0" x="74.5964635206768" y="-74.5964635206768" z="120.294369196636"></feSpotLight> </feSpecularLighting> <feComposite operator="arithmetic" in="genid1335" in2="SourceGraphic" k1="0" k2="1" k3="1" k4="0"></feComposite> </filter> <clipPath id="genid1337"> <circle r="72" cx="0" cy="0"></circle> </clipPath> <circle r="70" stroke="black" stroke-width="5" fill="darkgreen" filter="url(#genid1336)" clip-path="url(#genid1337)" cx="0" cy="0"></circle> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="82">= 0.72</text> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="98">= -0.785</text> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="114">= 160</text> </g> <g transform="translate(720,402)"> <filter id="genid1340"> <feGaussianBlur stdDeviation="10" result="genid1338"></feGaussianBlur> <feSpecularLighting lighting-color="white" surfaceScale="57.1428571428571" specularExponent="10" specularConstant="0.6" in="genid1338" result="genid1339"> <feSpotLight limitingConeAngle="15" pointsAtX="-80" pointsAtY="80" pointsAtZ="0" x="80" y="-80" z="113.137084989848"></feSpotLight> </feSpecularLighting> <feComposite operator="arithmetic" in="genid1339" in2="SourceGraphic" k1="0" k2="1" k3="1" k4="0"></feComposite> </filter> <clipPath id="genid1341"> <circle r="72" cx="0" cy="0"></circle> </clipPath> <circle r="70" stroke="black" stroke-width="5" fill="darkgreen" filter="url(#genid1340)" clip-path="url(#genid1341)" cx="0" cy="0"></circle> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="82">= 0.785</text> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="98">= -0.785</text> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="114">= 160</text> </g> <g transform="translate(80,610)"> <filter id="genid1344"> <feGaussianBlur stdDeviation="10" result="genid1342"></feGaussianBlur> <feSpecularLighting lighting-color="white" surfaceScale="57.1428571428571" specularExponent="10" specularConstant="0.6" in="genid1342" result="genid1343"> <feSpotLight limitingConeAngle="15" pointsAtX="-4.89858719658941e-15" pointsAtY="80" pointsAtZ="0" x="4.89858719658941e-15" y="-80" z="138.56406460551"></feSpotLight> </feSpecularLighting> <feComposite operator="arithmetic" in="genid1343" in2="SourceGraphic" k1="0" k2="1" k3="1" k4="0"></feComposite> </filter> <clipPath id="genid1345"> <circle r="72" cx="0" cy="0"></circle> </clipPath> <circle r="70" stroke="black" stroke-width="5" fill="darkgreen" filter="url(#genid1344)" clip-path="url(#genid1345)" cx="0" cy="0"></circle> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="82">= 0.524</text> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="98">= -1.57</text> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="114">= 160</text> </g> <g transform="translate(240,610)"> <filter id="genid1348"> <feGaussianBlur stdDeviation="10" result="genid1346"></feGaussianBlur> <feSpecularLighting lighting-color="white" surfaceScale="57.1428571428571" specularExponent="10" specularConstant="0.6" in="genid1346" result="genid1347"> <feSpotLight limitingConeAngle="15" pointsAtX="-5.44301846055204e-15" pointsAtY="88.8912372831363" pointsAtZ="0" x="5.44301846055204e-15" y="-88.8912372831363" z="133.035137968407"></feSpotLight> </feSpecularLighting> <feComposite operator="arithmetic" in="genid1347" in2="SourceGraphic" k1="0" k2="1" k3="1" k4="0"></feComposite> </filter> <clipPath id="genid1349"> <circle r="72" cx="0" cy="0"></circle> </clipPath> <circle r="70" stroke="black" stroke-width="5" fill="darkgreen" filter="url(#genid1348)" clip-path="url(#genid1349)" cx="0" cy="0"></circle> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="82">= 0.589</text> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="98">= -1.57</text> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="114">= 160</text> </g> <g transform="translate(400,610)"> <filter id="genid1352"> <feGaussianBlur stdDeviation="10" result="genid1350"></feGaussianBlur> <feSpecularLighting lighting-color="white" surfaceScale="57.1428571428571" specularExponent="10" specularConstant="0.6" in="genid1350" result="genid1351"> <feSpotLight limitingConeAngle="15" pointsAtX="-5.96414188383919e-15" pointsAtY="97.4018286413953" pointsAtZ="0" x="5.96414188383919e-15" y="-97.4018286413953" z="126.936534446598"></feSpotLight> </feSpecularLighting> <feComposite operator="arithmetic" in="genid1351" in2="SourceGraphic" k1="0" k2="1" k3="1" k4="0"></feComposite> </filter> <clipPath id="genid1353"> <circle r="72" cx="0" cy="0"></circle> </clipPath> <circle r="70" stroke="black" stroke-width="5" fill="darkgreen" filter="url(#genid1352)" clip-path="url(#genid1353)" cx="0" cy="0"></circle> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="82">= 0.654</text> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="98">= -1.57</text> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="114">= 160</text> </g> <g transform="translate(560,610)"> <filter id="genid1356"> <feGaussianBlur stdDeviation="10" result="genid1354"></feGaussianBlur> <feSpecularLighting lighting-color="white" surfaceScale="57.1428571428571" specularExponent="10" specularConstant="0.6" in="genid1354" result="genid1355"> <feSpotLight limitingConeAngle="15" pointsAtX="-6.45972593594801e-15" pointsAtY="105.495330416011" pointsAtZ="0" x="6.45972593594801e-15" y="-105.495330416011" z="120.294369196636"></feSpotLight> </feSpecularLighting> <feComposite operator="arithmetic" in="genid1355" in2="SourceGraphic" k1="0" k2="1" k3="1" k4="0"></feComposite> </filter> <clipPath id="genid1357"> <circle r="72" cx="0" cy="0"></circle> </clipPath> <circle r="70" stroke="black" stroke-width="5" fill="darkgreen" filter="url(#genid1356)" clip-path="url(#genid1357)" cx="0" cy="0"></circle> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="82">= 0.72</text> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="98">= -1.57</text> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="114">= 160</text> </g> <g transform="translate(720,610)"> <filter id="genid1360"> <feGaussianBlur stdDeviation="10" result="genid1358"></feGaussianBlur> <feSpecularLighting lighting-color="white" surfaceScale="57.1428571428571" specularExponent="10" specularConstant="0.6" in="genid1358" result="genid1359"> <feSpotLight limitingConeAngle="15" pointsAtX="-6.92764844988395e-15" pointsAtY="113.137084989848" pointsAtZ="0" x="6.92764844988395e-15" y="-113.137084989848" z="113.137084989848"></feSpotLight> </feSpecularLighting> <feComposite operator="arithmetic" in="genid1359" in2="SourceGraphic" k1="0" k2="1" k3="1" k4="0"></feComposite> </filter> <clipPath id="genid1361"> <circle r="72" cx="0" cy="0"></circle> </clipPath> <circle r="70" stroke="black" stroke-width="5" fill="darkgreen" filter="url(#genid1360)" clip-path="url(#genid1361)" cx="0" cy="0"></circle> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="82">= 0.785</text> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="98">= -1.57</text> <text font-size="12" text-anchor="middle" dominant-baseline="central" x="0" y="114">= 160</text> </g>
</svg>
</div>
</div>
<div id="a-case-study-in-combining-light-sources" class="section level3">
<h3>A case study in combining Light Sources</h3>
<div id="step-1" class="section level4">
<h4>Step 1</h4>
<p>Gaussian blur to create depth</p>
<pre class="r"><code>library(svgR)
WH=c(800,400)
R&lt;-.4*WH[2]
svgR(wh=WH+c(0,30),
    circle( cxy=WH/2, r= R,
      filter=filter(
        feGaussianBlur( in1=&quot;SourceAlpha&quot;, stdDeviation=R/2)
      )
    ),
    text(&quot;Step 1: A Gaussian blur&quot;, cxy=c(.5,1)*WH-c(0,15), stroke='black')
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="430">
<filter id="genid1362"> <feGaussianBlur in="SourceAlpha" stdDeviation="80"></feGaussianBlur> </filter> <circle r="160" filter="url(#genid1362)" cx="400" cy="200"></circle> <text stroke="black" text-anchor="middle" dominant-baseline="central" x="400" y="385">Step 1: A Gaussian blur</text>
</svg>
</div>
</div>
<div id="step-2" class="section level3">
<h3>Step 2</h3>
<p>Clip to circle</p>
<pre class="r"><code>library(svgR)
WH=c(800,400)
R&lt;-.4*WH[2]
svgR(wh=WH+c(0,30),
    circle( cxy=WH/2, r= R,
      filter=filter(
        feGaussianBlur( in1=&quot;SourceAlpha&quot;, stdDeviation=R/2)
      ),
      clip.path=clipPath(circle(cxy=WH/2, r=R))
    ),
    text(&quot;Step 2: Add clip path&quot;, cxy=c(.5,1)*WH-c(0,15), stroke='black')
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="430">
<filter id="genid1363"> <feGaussianBlur in="SourceAlpha" stdDeviation="80"></feGaussianBlur> </filter> <clipPath id="genid1364"> <circle r="160" cx="400" cy="200"></circle> </clipPath> <circle r="160" filter="url(#genid1363)" clip-path="url(#genid1364)" cx="400" cy="200"></circle> <text stroke="black" text-anchor="middle" dominant-baseline="central" x="400" y="385">Step 2: Add clip path</text>
</svg>
<div id="step-3-add-diffuse-colored-light." class="section level4">
<h4>Step 3 Add diffuse colored light.</h4>
<pre class="r"><code>library(svgR)
WH=c(800,400)
R&lt;-.4*WH[2]
svgR(wh=WH,
    circle( cxy=WH/2, r= R,  
      filter=filter( 
        feDiffuseLighting( lighting.color=&quot;#44BBFF&quot;,  
          diffuseConstant=1,
          surfaceScale=R,
          in1=feGaussianBlur(in1=&quot;SourceAlpha&quot;, stdDeviation=.5*R),
          feDistantLight( elevation= 60, azimuth=90 )
        )
      ),
      clip.path=clipPath(circle(cxy=WH/2,r=R))
    ),
    text(&quot;Step 3: Add diffuse colored light&quot;, cxy=c(.5,1)*WH-c(0,15), stroke='black')
  )</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="400">
<filter id="genid1366"> <feGaussianBlur in="SourceAlpha" stdDeviation="80" result="genid1365"></feGaussianBlur> <feDiffuseLighting lighting-color="#44BBFF" diffuseConstant="1" surfaceScale="160" in="genid1365"> <feDistantLight elevation="60" azimuth="90"></feDistantLight> </feDiffuseLighting> </filter> <clipPath id="genid1367"> <circle r="160" cx="400" cy="200"></circle> </clipPath> <circle r="160" filter="url(#genid1366)" clip-path="url(#genid1367)" cx="400" cy="200"></circle> <text stroke="black" text-anchor="middle" dominant-baseline="central" x="400" y="385">Step 3: Add diffuse colored light</text>
</svg>
</div>
<div id="step-4-reset-filter-viewport" class="section level4">
<h4>Step 4 Reset filter viewPort</h4>
<pre class="r"><code>library(svgR)
WH=c(800,400)
R&lt;-.4*WH[2]
svgR(wh=WH,
    circle( cxy=WH/2, r= R,  
      filter=filter( 
        xy=-.4*c(1,1), wh=1.8*c(1,1), #in percentage
        feDiffuseLighting( lighting.color=&quot;#44BBFF&quot;,  
          diffuseConstant=1,
          surfaceScale=R,
          in1=feGaussianBlur(in1=&quot;SourceAlpha&quot;, stdDeviation=.5*R),
          feDistantLight( elevation= 60, azimuth=90 )
        )
      ),
      clip.path=clipPath(circle(cxy=WH/2,r=R))
    ),
    text(&quot;Step 4: Add diffuse colored light&quot;, cxy=c(.5,1)*WH-c(0,15), stroke='black')
  )</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="400">
<filter width="1.8" height="1.8" x="-0.4" y="-0.4" id="genid1369"> <feGaussianBlur in="SourceAlpha" stdDeviation="80" result="genid1368"></feGaussianBlur> <feDiffuseLighting lighting-color="#44BBFF" diffuseConstant="1" surfaceScale="160" in="genid1368"> <feDistantLight elevation="60" azimuth="90"></feDistantLight> </feDiffuseLighting> </filter> <clipPath id="genid1370"> <circle r="160" cx="400" cy="200"></circle> </clipPath> <circle r="160" filter="url(#genid1369)" clip-path="url(#genid1370)" cx="400" cy="200"></circle> <text stroke="black" text-anchor="middle" dominant-baseline="central" x="400" y="385">Step 4: Add diffuse colored light</text>
</svg>
</div>
<div id="step-4" class="section level4">
<h4>Step 4</h4>
<p>But this is too grainy! so lets smooth it a little :)</p>
<pre class="r"><code>library(svgR)
WH=c(800,400)
R&lt;-.4*WH[2]
svgR(wh=WH,
    circle( cxy=WH/2, r= R,  
      filter=filter( 
        xy=-.4*c(1,1), wh=1.8*c(1,1), #in percentage
        feGaussianBlur(
          stdDeviation=5,
          in1=feDiffuseLighting( lighting.color=&quot;#44BBFF&quot;,  
            diffuseConstant=1,
            surfaceScale=R,
            in1=feGaussianBlur(in1=&quot;SourceAlpha&quot;, stdDeviation=.5*R),
            feDistantLight( elevation= 60, azimuth=90 )
          )        
        )
      ),
      clip.path=clipPath(circle(cxy=WH/2,r=R))
    ),
    text(&quot;Step 4: Smooth with Gaussian Blur&quot;, cxy=c(.5,1)*WH-c(0,15), stroke='black')
  )</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="400">
<filter width="1.8" height="1.8" x="-0.4" y="-0.4" id="genid1373"> <feGaussianBlur in="SourceAlpha" stdDeviation="80" result="genid1371"></feGaussianBlur> <feDiffuseLighting lighting-color="#44BBFF" diffuseConstant="1" surfaceScale="160" in="genid1371" result="genid1372"> <feDistantLight elevation="60" azimuth="90"></feDistantLight> </feDiffuseLighting> <feGaussianBlur stdDeviation="5" in="genid1372"></feGaussianBlur> </filter> <clipPath id="genid1374"> <circle r="160" cx="400" cy="200"></circle> </clipPath> <circle r="160" filter="url(#genid1373)" clip-path="url(#genid1374)" cx="400" cy="200"></circle> <text stroke="black" text-anchor="middle" dominant-baseline="central" x="400" y="385">Step 4: Smooth with Gaussian Blur</text>
</svg>
</div>
<div id="step-5" class="section level4">
<h4>Step 5</h4>
<p>Add a spot light with white light and combine with feComposite</p>
<pre class="r"><code>library(svgR)
WH=c(800,400)
R&lt;-.4*WH[2]
phi&lt;-pi/4
spot.xyz&lt;- c(WH/2,0)+ 2*R*c(0,-sin(phi),cos(phi))
spot.ptsAt&lt;-c(WH/2,0)+ R*c(0,-sin(phi),cos(phi))
svgR(wh=WH,
    circle( cxy=WH/2, r= R,  stroke=&quot;none&quot;,  fill = &quot;#000068&quot;,
      filter=filter( 
        xy=-.4*c(1,1), wh=1.8*c(1,1), #in percentage
        feGaussianBlur(
          stdDeviation=5,
          in1=feComposite( operator=&quot;arithmetic&quot;, k1234=c(0,1,1,0),
            in1=feDiffuseLighting( lighting.color=&quot;#44BBFF&quot;,  
                diffuseConstant=1,
                surfaceScale=R,
                in1=feGaussianBlur(in1=&quot;SourceAlpha&quot;, stdDeviation=.5*R),
                feDistantLight( elevation= 60, azimuth=90 )
            ),
            in2= feDiffuseLighting( lighting.color=&quot;#white&quot;,  
                diffuseConstant=.8,
                surfaceScale=R,
                in1=feGaussianBlur(in1=&quot;SourceAlpha&quot;, stdDeviation=.5*R),
                feSpotLight( xyz=spot.xyz, pointsAtXYZ=spot.ptsAt, limitingConeAngle=30 )
            )
          )
        ) 
      ),
      clip.path=clipPath(circle(cxy=WH/2,r=R))
    ),
    text(&quot;Step 5: A Spot Light&quot;, cxy=c(.5,1)*WH-c(0,15), stroke='black')
  )</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="400">
<filter width="1.8" height="1.8" x="-0.4" y="-0.4" id="genid1380"> <feGaussianBlur in="SourceAlpha" stdDeviation="80" result="genid1375"></feGaussianBlur> <feDiffuseLighting lighting-color="#44BBFF" diffuseConstant="1" surfaceScale="160" in="genid1375" result="genid1377"> <feDistantLight elevation="60" azimuth="90"></feDistantLight> </feDiffuseLighting> <feGaussianBlur in="SourceAlpha" stdDeviation="80" result="genid1376"></feGaussianBlur> <feDiffuseLighting lighting-color="#white" diffuseConstant="0.8" surfaceScale="160" in="genid1376" result="genid1378"> <feSpotLight limitingConeAngle="30" pointsAtX="400" pointsAtY="86.8629150101524" pointsAtZ="113.137084989848" x="400" y="-26.2741699796952" z="226.274169979695"></feSpotLight> </feDiffuseLighting> <feComposite operator="arithmetic" in="genid1377" in2="genid1378" k1="0" k2="1" k3="1" k4="0" result="genid1379"></feComposite> <feGaussianBlur stdDeviation="5" in="genid1379"></feGaussianBlur> </filter> <clipPath id="genid1381"> <circle r="160" cx="400" cy="200"></circle> </clipPath> <circle r="160" stroke="none" fill="#000068" filter="url(#genid1380)" clip-path="url(#genid1381)" cx="400" cy="200"></circle> <text stroke="black" text-anchor="middle" dominant-baseline="central" x="400" y="385">Step 5: A Spot Light</text>
</svg>
</div>
<div id="step-6-add-a-shadow" class="section level4">
<h4>Step 6 Add a shadow</h4>
<pre class="r"><code>library(svgR)
WH=c(800,400)
R&lt;-.4*WH[2]
phi&lt;-pi/4
spot.xyz&lt;- c(WH/2,0)+ 2*R*c(0,-sin(phi),cos(phi))
spot.ptsAt&lt;-c(WH/2,0)+ R*c(0,-sin(phi),cos(phi))
RXY&lt;-c(1,.2)*R
svgR(wh=WH,
    ellipse(cxy=WH/2+c(0,R), rxy=RXY, opacity=.5,
      filter=filter( feGaussianBlur(in1=&quot;SourceAlpha&quot;, stdDeviation=5))
    ),
    circle( cxy=WH/2, r= R,  stroke=&quot;none&quot;,  fill = &quot;#000068&quot;,
      filter=filter( 
        xy=-.4*c(1,1), wh=1.8*c(1,1), #in percentage
        feGaussianBlur(
          stdDeviation=5,
          in1=feComposite( operator=&quot;arithmetic&quot;, k1234=c(0,1,1,0),
            in1=feDiffuseLighting( lighting.color=&quot;#44BBFF&quot;,  
                diffuseConstant=1,
                surfaceScale=R,
                in1=feGaussianBlur(in1=&quot;SourceAlpha&quot;, stdDeviation=.5*R),
                feDistantLight( elevation= 60, azimuth=90 )
            ),
            in2= feDiffuseLighting( lighting.color=&quot;#white&quot;,  
                diffuseConstant=.8,
                surfaceScale=R,
                in1=feGaussianBlur(in1=&quot;SourceAlpha&quot;, stdDeviation=.5*R),
                feSpotLight( xyz=spot.xyz, pointsAtXYZ=spot.ptsAt, limitingConeAngle=30 )
            )
          )
        ) 
      ),
      clip.path=clipPath(circle(cxy=WH/2,r=R))
    ),
    text(&quot;Step 6: Shadow&quot;, cxy=c(.5,1)*WH-c(0,15), stroke='black')
  )</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="400">
<filter id="genid1382"> <feGaussianBlur in="SourceAlpha" stdDeviation="5"></feGaussianBlur> </filter> <ellipse opacity="0.5" filter="url(#genid1382)" cx="400" cy="360" rx="160" ry="32"></ellipse> <filter width="1.8" height="1.8" x="-0.4" y="-0.4" id="genid1388"> <feGaussianBlur in="SourceAlpha" stdDeviation="80" result="genid1383"></feGaussianBlur> <feDiffuseLighting lighting-color="#44BBFF" diffuseConstant="1" surfaceScale="160" in="genid1383" result="genid1385"> <feDistantLight elevation="60" azimuth="90"></feDistantLight> </feDiffuseLighting> <feGaussianBlur in="SourceAlpha" stdDeviation="80" result="genid1384"></feGaussianBlur> <feDiffuseLighting lighting-color="#white" diffuseConstant="0.8" surfaceScale="160" in="genid1384" result="genid1386"> <feSpotLight limitingConeAngle="30" pointsAtX="400" pointsAtY="86.8629150101524" pointsAtZ="113.137084989848" x="400" y="-26.2741699796952" z="226.274169979695"></feSpotLight> </feDiffuseLighting> <feComposite operator="arithmetic" in="genid1385" in2="genid1386" k1="0" k2="1" k3="1" k4="0" result="genid1387"></feComposite> <feGaussianBlur stdDeviation="5" in="genid1387"></feGaussianBlur> </filter> <clipPath id="genid1389"> <circle r="160" cx="400" cy="200"></circle> </clipPath> <circle r="160" stroke="none" fill="#000068" filter="url(#genid1388)" clip-path="url(#genid1389)" cx="400" cy="200"></circle> <text stroke="black" text-anchor="middle" dominant-baseline="central" x="400" y="385">Step 6: Shadow</text>
</svg>
</div>
<div id="step-7-add-a-final-touch" class="section level4">
<h4>Step 7 Add a Final Touch</h4>
<pre class="r"><code>library(svgR)
WH=c(800,400)
R&lt;-.4*WH[2]
phi&lt;-pi/4
spot.xyz&lt;- c(WH/2,0)+ 2*R*c(0,-sin(phi),cos(phi))
spot.ptsAt&lt;-c(WH/2,0)+ R*c(0,-sin(phi),cos(phi))
RXY&lt;-c(1,.2)*R
svgR(wh=WH,
    ellipse(cxy=WH/2+c(0,R), rxy=RXY, fill=&quot;#888888&quot;, 
      filter=filter( feGaussianBlur(in1=&quot;SourceGraphic&quot;, stdDeviation=5))
    ),
    circle( cxy=WH/2, r= R,  stroke=&quot;none&quot;,  fill = &quot;#000068&quot;,
      filter=filter( 
        xy=-.4*c(1,1), wh=1.8*c(1,1), #in percentage
        feGaussianBlur(
          stdDeviation=5,
          in1=feComposite( operator=&quot;arithmetic&quot;, k1234=c(0,1,1,0),
            in1=feDiffuseLighting( lighting.color=&quot;#44BBFF&quot;,  
                diffuseConstant=1,
                surfaceScale=R,
                in1=feGaussianBlur(in1=&quot;SourceAlpha&quot;, stdDeviation=.5*R),
                feDistantLight( elevation= 60, azimuth=90 )
            ),
            in2= feDiffuseLighting( lighting.color=&quot;#white&quot;,  
                diffuseConstant=.8,
                surfaceScale=R,
                in1=feGaussianBlur(in1=&quot;SourceAlpha&quot;, stdDeviation=.5*R),
                feSpotLight( xyz=spot.xyz, pointsAtXYZ=spot.ptsAt, limitingConeAngle=30 )
            )
          )
        ) 
      ),
      clip.path=clipPath(circle(cxy=WH/2,r=R))
    ),
    text(&quot;R&quot;,cxy=WH/2, stroke=&quot;white&quot;, font.size=200, fill=&quot;white&quot;)
  )</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="400">
<filter id="genid1390"> <feGaussianBlur in="SourceGraphic" stdDeviation="5"></feGaussianBlur> </filter> <ellipse fill="#888888" filter="url(#genid1390)" cx="400" cy="360" rx="160" ry="32"></ellipse> <filter width="1.8" height="1.8" x="-0.4" y="-0.4" id="genid1396"> <feGaussianBlur in="SourceAlpha" stdDeviation="80" result="genid1391"></feGaussianBlur> <feDiffuseLighting lighting-color="#44BBFF" diffuseConstant="1" surfaceScale="160" in="genid1391" result="genid1393"> <feDistantLight elevation="60" azimuth="90"></feDistantLight> </feDiffuseLighting> <feGaussianBlur in="SourceAlpha" stdDeviation="80" result="genid1392"></feGaussianBlur> <feDiffuseLighting lighting-color="#white" diffuseConstant="0.8" surfaceScale="160" in="genid1392" result="genid1394"> <feSpotLight limitingConeAngle="30" pointsAtX="400" pointsAtY="86.8629150101524" pointsAtZ="113.137084989848" x="400" y="-26.2741699796952" z="226.274169979695"></feSpotLight> </feDiffuseLighting> <feComposite operator="arithmetic" in="genid1393" in2="genid1394" k1="0" k2="1" k3="1" k4="0" result="genid1395"></feComposite> <feGaussianBlur stdDeviation="5" in="genid1395"></feGaussianBlur> </filter> <clipPath id="genid1397"> <circle r="160" cx="400" cy="200"></circle> </clipPath> <circle r="160" stroke="none" fill="#000068" filter="url(#genid1396)" clip-path="url(#genid1397)" cx="400" cy="200"></circle> <text stroke="white" font-size="200" fill="white" text-anchor="middle" dominant-baseline="central" x="400" y="200">R</text>
</svg>
</div>
<div id="an-alternate-approach" class="section level4">
<h4>An Alternate Approach</h4>
<p>One thing you might notice in the proceding sections was that we only used light filtering. The original shape was not even filled!</p>
<p>In practice, we get better results by first filling the shape. In this we</p>
<ul>
<li>first combine the SourceImage with the distantlight</li>
<li>then combine that result with the spotlight.</li>
</ul>
<p>The following an example, where the shape is filled with a darkblue, the spotlight is white, and the distant light is lightgreen.</p>
<pre class="r"><code>library(svgR)
WH=c(800,300)
R&lt;-.4*WH[2]
phi&lt;-pi/4
spot.xyz&lt;- c(WH/2,0)+ 2*R*c(0,-sin(phi),cos(phi))
spot.ptsAt&lt;-c(WH/2,0)+ R*c(0,-sin(phi),cos(phi))
svgR(wh=WH,
    ellipse(cxy=WH/2+c(0,R), rxy=RXY, fill=&quot;#888888&quot;, 
      filter=filter( feGaussianBlur(in1=&quot;SourceGraphic&quot;, stdDeviation=5))
    ),
    circle( cxy=WH/2, r= R,  stroke=&quot;none&quot;,  fill = &quot;darkblue&quot;,
      filter=filter(
        xy=-.4*c(1,1), wh=1.8*c(1,1), #in percentage
        feComposite( operator=&quot;arithmetic&quot;, k1234=c(0,1,1,0),
          in1=feGaussianBlur(stdDeviation=2,
                in1=feDiffuseLighting( lighting.color=&quot;white&quot;,  
                  diffuseConstant=.75,
                  surfaceScale=R,
                  in1=feGaussianBlur( stdDeviation=.5*R),
                  feSpotLight( 
                    xyz=spot.xyz, 
                    pointsAtXYZ=spot.ptsAt, 
                    limitingConeAngle=30 
                  )
                )
          ),
          in2=feComposite( operator=&quot;arithmetic&quot;, k1234=c(0,1,1,0),
            in2=feGaussianBlur(stdDeviation=10,
              in1=feDiffuseLighting( lighting.color=&quot;lightgreen&quot;,  
                diffuseConstant=1,
                surfaceScale=R,
                in1=feGaussianBlur( stdDeviation=.5*R),
                feDistantLight( elevation= 20, azimuth=90 )
              )
            ),
            in2=&quot;SourceGraphic&quot;
          )
        )
      ),
    clip.path=clipPath(circle(cxy=WH/2,r=R))
    ),
    text(&quot;R&quot;,cxy=WH/2, stroke=&quot;white&quot;, font.size=R, fill=&quot;white&quot;)
  )</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="300">
<filter id="genid1398"> <feGaussianBlur in="SourceGraphic" stdDeviation="5"></feGaussianBlur> </filter> <ellipse fill="#888888" filter="url(#genid1398)" cx="400" cy="270" rx="160" ry="32"></ellipse> <filter width="1.8" height="1.8" x="-0.4" y="-0.4" id="genid1406"> <feGaussianBlur stdDeviation="60" result="genid1399"></feGaussianBlur> <feDiffuseLighting lighting-color="white" diffuseConstant="0.75" surfaceScale="120" in="genid1399" result="genid1400"> <feSpotLight limitingConeAngle="30" pointsAtX="400" pointsAtY="65.1471862576143" pointsAtZ="84.8528137423857" x="400" y="-19.7056274847714" z="169.705627484771"></feSpotLight> </feDiffuseLighting> <feGaussianBlur stdDeviation="2" in="genid1400" result="genid1404"></feGaussianBlur> <feGaussianBlur stdDeviation="60" result="genid1401"></feGaussianBlur> <feDiffuseLighting lighting-color="lightgreen" diffuseConstant="1" surfaceScale="120" in="genid1401" result="genid1402"> <feDistantLight elevation="20" azimuth="90"></feDistantLight> </feDiffuseLighting> <feGaussianBlur stdDeviation="10" in="genid1402" result="genid1403"></feGaussianBlur> <feComposite operator="arithmetic" in2="SourceGraphic" k1="0" k2="1" k3="1" k4="0" result="genid1405"></feComposite> <feComposite operator="arithmetic" in="genid1404" in2="genid1405" k1="0" k2="1" k3="1" k4="0"></feComposite> </filter> <clipPath id="genid1407"> <circle r="120" cx="400" cy="150"></circle> </clipPath> <circle r="120" stroke="none" fill="darkblue" filter="url(#genid1406)" clip-path="url(#genid1407)" cx="400" cy="150"></circle> <text stroke="white" font-size="120" fill="white" text-anchor="middle" dominant-baseline="central" x="400" y="150">R</text>
</svg>
</div>
</div>
</div>
</div>
<div id="a-shiny-bevel" class="section level1">
<h1>A Shiny Bevel</h1>
<p>We can shiny bevel</p>
<pre class="r"><code>WH=c(800, 200) # window rect
svgR( wh=WH,
  text( &quot;R Rocks!&quot;, cxy=c(400,100), fill=&quot;darkblue&quot;, font.size=190, font.face='bold',
    filter = filter(
      feMerge( 
         feMergeNode(in1=&quot;SourceGraphic&quot;),
         feMergeNode(
           in1=feComposite( operator='in',
                in1=feSpecularLighting( surfaceScale=6,
                                        specularConstant=1,
                                        specularExponent=30,
                                        lighting.color=&quot;white&quot;,
                                        in1=feGaussianBlur(
                                          stdDeviation=5,
                                          in1=&quot;SourceAlpha&quot;),
                                        fePointLight(xyz=c(40,-30,200))
                                        ),
                in2=&quot;SourceAlpha&quot;
                )
           )
         )
    )
  )
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="200">
<filter id="genid1411"> <feGaussianBlur stdDeviation="5" in="SourceAlpha" result="genid1408"></feGaussianBlur> <feSpecularLighting surfaceScale="6" specularConstant="1" specularExponent="30" lighting-color="white" in="genid1408" result="genid1409"> <fePointLight x="40" y="-30" z="200"></fePointLight> </feSpecularLighting> <feComposite operator="in" in="genid1409" in2="SourceAlpha" result="genid1410"></feComposite> <feMerge> <feMergeNode in="SourceGraphic"></feMergeNode> <feMergeNode in="genid1410"></feMergeNode> </feMerge> </filter> <text fill="darkblue" font-size="190" font-face="bold" filter="url(#genid1411)" text-anchor="middle" dominant-baseline="central" x="400" y="100">R Rocks!</text>
</svg>
<p>shiny bevel</p>
<pre class="r"><code>WH=c(800, 250) # window rect
svgR( wh=WH,
  g(
    text( &quot;S&quot;, cxy=WH/2, fill=&quot;black&quot;, font.size=100, 
          font.family=&quot;serif&quot;, stroke.width=3),
    circle(cxy=WH/2, r=39, stroke.width=10, fill='none'  ),
     stroke='black',
    filter = filter(
      feMerge( 
         feMergeNode(in1=&quot;SourceGraphic&quot;),
         feMergeNode(
           in1=feComposite( operator='in',
                in1=feSpecularLighting( surfaceScale=6,
                                        specularConstant=1,
                                        specularExponent=30,
                                        lighting.color=&quot;white&quot;,
                                        in1=feGaussianBlur(
                                          stdDeviation=5,
                                          in1=&quot;SourceAlpha&quot;),
                                        fePointLight(xyz=c(40,-30,200))
                                        ),
                in2=&quot;SourceAlpha&quot;
                )
           )
         )
    )
  )
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="250">
<filter id="genid1415"> <feGaussianBlur stdDeviation="5" in="SourceAlpha" result="genid1412"></feGaussianBlur> <feSpecularLighting surfaceScale="6" specularConstant="1" specularExponent="30" lighting-color="white" in="genid1412" result="genid1413"> <fePointLight x="40" y="-30" z="200"></fePointLight> </feSpecularLighting> <feComposite operator="in" in="genid1413" in2="SourceAlpha" result="genid1414"></feComposite> <feMerge> <feMergeNode in="SourceGraphic"></feMergeNode> <feMergeNode in="genid1414"></feMergeNode> </feMerge> </filter> <g stroke="black" filter="url(#genid1415)"> <text fill="black" font-size="100" font-family="serif" stroke-width="3" text-anchor="middle" dominant-baseline="central" x="400" y="125">S</text> <circle r="39" stroke-width="10" fill="none" cx="400" cy="125"></circle> </g>
</svg>
<p>shiny bevel</p>
<pre class="r"><code>WH=c(800, 250) # window rect
svgR( wh=WH,
  g(
    text( &quot;svgR&quot;, cxy=WH/2, fill=&quot;black&quot;, font.size=100, 
          font.family=&quot;san serif&quot;, stroke.width=3),
    circle(cxy=WH/2, r=99, stroke.width=10, fill='none'  ),
     stroke='black',
    filter = filter(
      feMerge( 
         feMergeNode(in1=&quot;SourceGraphic&quot;),
         feMergeNode(
           in1=feComposite( operator='in',
                in1=feSpecularLighting( surfaceScale=6,
                                        specularConstant=1,
                                        specularExponent=30,
                                        lighting.color=&quot;white&quot;,
                                        in1=feGaussianBlur(
                                          stdDeviation=5,
                                          in1=&quot;SourceAlpha&quot;),
                                        fePointLight(xyz=c(40,-30,200))
                                        ),
                in2=&quot;SourceAlpha&quot;
                )
           )
         )
    )
  )
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="250">
<filter id="genid1419"> <feGaussianBlur stdDeviation="5" in="SourceAlpha" result="genid1416"></feGaussianBlur> <feSpecularLighting surfaceScale="6" specularConstant="1" specularExponent="30" lighting-color="white" in="genid1416" result="genid1417"> <fePointLight x="40" y="-30" z="200"></fePointLight> </feSpecularLighting> <feComposite operator="in" in="genid1417" in2="SourceAlpha" result="genid1418"></feComposite> <feMerge> <feMergeNode in="SourceGraphic"></feMergeNode> <feMergeNode in="genid1418"></feMergeNode> </feMerge> </filter> <g stroke="black" filter="url(#genid1419)"> <text fill="black" font-size="100" font-family="san serif" stroke-width="3" text-anchor="middle" dominant-baseline="central" x="400" y="125">svgR</text> <circle r="99" stroke-width="10" fill="none" cx="400" cy="125"></circle> </g>
</svg>
<p>shiny bevel</p>
<pre class="r"><code>WH=c(800, 250) # window rect
svgR( wh=WH,
  g(
    text( &quot;svgR&quot;, cxy=WH/2, fill=&quot;darkred&quot;, font.size=100, 
          font.family=&quot;san serif&quot;, stroke.width=3),
    circle(cxy=WH/2, r=99, stroke.width=10, fill='none'  ),
     stroke='black',
    filter = filter(
      feMerge( 
         feMergeNode(in1=&quot;SourceGraphic&quot;),
         feMergeNode(
           in1=feComposite( operator='in',
                in1=feSpecularLighting( surfaceScale=6,
                                        specularConstant=1,
                                        specularExponent=30,
                                        lighting.color=&quot;white&quot;,
                                        in1=feGaussianBlur(
                                          stdDeviation=5,
                                          in1=&quot;SourceAlpha&quot;),
                                        fePointLight(xyz=c(40,-30,200))
                                        ),
                in2=&quot;SourceAlpha&quot;
                )
           )
         )
    )
  )
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="250">
<filter id="genid1423"> <feGaussianBlur stdDeviation="5" in="SourceAlpha" result="genid1420"></feGaussianBlur> <feSpecularLighting surfaceScale="6" specularConstant="1" specularExponent="30" lighting-color="white" in="genid1420" result="genid1421"> <fePointLight x="40" y="-30" z="200"></fePointLight> </feSpecularLighting> <feComposite operator="in" in="genid1421" in2="SourceAlpha" result="genid1422"></feComposite> <feMerge> <feMergeNode in="SourceGraphic"></feMergeNode> <feMergeNode in="genid1422"></feMergeNode> </feMerge> </filter> <g stroke="black" filter="url(#genid1423)"> <text fill="darkred" font-size="100" font-family="san serif" stroke-width="3" text-anchor="middle" dominant-baseline="central" x="400" y="125">svgR</text> <circle r="99" stroke-width="10" fill="none" cx="400" cy="125"></circle> </g>
</svg>
<p>shiny bevel</p>
<pre class="r"><code>WH=c(800, 250) # window rect
svgR( wh=WH,     
  g(
    text( &quot;svgR&quot;, cxy=WH*c(.25,.5), fill=&quot;darkblue&quot;, font.size=100, 
          font.family=&quot;san serif&quot;, stroke.width=3),
    text( &quot;Users Guide&quot;, cxy=WH*c(.7,.25), fill=&quot;darkblue&quot;, font.size=60, 
          font.family=&quot;fantasy&quot;, stroke.width=3),
    circle(cxy=WH*c(.25,.5), r=99, stroke.width=10, fill='none'  ),
     stroke='black',
    filter = filter(
      feMerge( 
         feMergeNode(in1=&quot;SourceGraphic&quot;),
         feMergeNode(
           in1=feComposite( operator='in',
                in1=feSpecularLighting( surfaceScale=6,
                                        specularConstant=1,
                                        specularExponent=30,
                                        lighting.color=&quot;yellow&quot;,
                                        in1=feGaussianBlur(
                                          stdDeviation=5,
                                          in1=&quot;SourceAlpha&quot;),
                                        fePointLight(xyz=c(40,-30,200))
                                        ),
                in2=&quot;SourceAlpha&quot;
                )
           )
         )
    )
  )
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="250">
<filter id="genid1427"> <feGaussianBlur stdDeviation="5" in="SourceAlpha" result="genid1424"></feGaussianBlur> <feSpecularLighting surfaceScale="6" specularConstant="1" specularExponent="30" lighting-color="yellow" in="genid1424" result="genid1425"> <fePointLight x="40" y="-30" z="200"></fePointLight> </feSpecularLighting> <feComposite operator="in" in="genid1425" in2="SourceAlpha" result="genid1426"></feComposite> <feMerge> <feMergeNode in="SourceGraphic"></feMergeNode> <feMergeNode in="genid1426"></feMergeNode> </feMerge> </filter> <g stroke="black" filter="url(#genid1427)"> <text fill="darkblue" font-size="100" font-family="san serif" stroke-width="3" text-anchor="middle" dominant-baseline="central" x="200" y="125">svgR</text> <text fill="darkblue" font-size="60" font-family="fantasy" stroke-width="3" text-anchor="middle" dominant-baseline="central" x="560" y="62.5">Users Guide</text> <circle r="99" stroke-width="10" fill="none" cx="200" cy="125"></circle> </g>
</svg>
<hr>
<p><br /><br /> <br /><br /></p>
<!-- shapes modification: mask and markers -->
</div>
<div id="shape-shifting" class="section level1">
<h1>Shape Shifting</h1>
<div id="clipping" class="section level2">
<h2>Clipping</h2>
<p>With a defs clipPath works seamlessly, but</p>
<pre class="r"><code>#```{r, echo=T}
WH=c(600, 100) # window rect
svgR( wh=WH,
    defs(
    clipPath(
      id=&quot;clip0&quot;,
      rect(cxy=c(0,50), wh=c(600,50))
    )    
    ),
    g(  clip.path=&quot;url(#clip0)&quot;,
      circle( cxy=c(50,50), r=30, fill='darkblue'),
      circle( cxy=c(150,50), r=50, fill='red'  )
    )
    
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="600" height="100">
<defs> <clipPath id="clip0"> <rect width="600" height="50" x="-300" y="25"></rect> </clipPath> </defs> <g clip-path="url(#clip0)"> <circle r="30" fill="darkblue" cx="50" cy="50"></circle> <circle r="50" fill="red" cx="150" cy="50"></circle> </g>
</svg>
<pre class="r"><code>#```{r, echo=T}
WH=c(600, 100) # window rect
svgR( wh=WH,
    g(
      clip.path=clipPath( rect(cxy=c(0,50), wh=c(600,50))),
      circle( cxy=c(50,50), r=30, fill='darkblue'),
      circle( cxy=c(150,50), r=50, fill='red'  )
    )
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="600" height="100">
<clipPath id="genid1428"> <rect width="600" height="50" x="-300" y="25"></rect> </clipPath> <g clip-path="url(#genid1428)"> <circle r="30" fill="darkblue" cx="50" cy="50"></circle> <circle r="50" fill="red" cx="150" cy="50"></circle> </g>
</svg>
<p><strong>Note</strong> removing the defs, we see that it works in firefox, chromium, but not in the RStudio browser on Ubuntu.</p>
<pre class="r"><code>#```{r, echo=T}
WH=c(600, 100) # window rect
svgR( wh=WH,
    #defs(
    clipPath(
      id=&quot;clip1&quot;,
      rect(cxy=c(0,50), wh=c(600,50))
    #)    
    ),
    g(  clip.path=&quot;url(#clip1)&quot;,
      circle( cxy=c(50,50), r=30, fill='green'),
      circle( cxy=c(150,50), r=50, fill='orange')
    )
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="600" height="100">
<clipPath id="clip1"> <rect width="600" height="50" x="-300" y="25"></rect> </clipPath> <g clip-path="url(#clip1)"> <circle r="30" fill="green" cx="50" cy="50"></circle> <circle r="50" fill="orange" cx="150" cy="50"></circle> </g>
</svg>
</div>
<div id="masking" class="section level2">
<h2>Masking</h2>
<p>Using explicit defs</p>
<pre class="r"><code>WH=c(600, 100) # window rect
svgR( wh=WH,
  defs(
    mask(
      id=&quot;mask0&quot;,
      rect(cxy= WH/2, wh=c(600,40), fill='white'),
      rect(cxy= WH/2, wh=c(600,10), fill='black')
    )
  ),
  g(
    circle( cxy=c(50,50), r=30, fill='darkblue'),
    circle( cxy=c(150,50), r=30, fill='red'),
    mask=&quot;url(#mask0)&quot;
  )
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="600" height="100">
<defs> <mask id="mask0"> <rect fill="white" width="600" height="40" x="0" y="30"></rect> <rect fill="black" width="600" height="10" x="0" y="45"></rect> </mask> </defs> <g mask="url(#mask0)"> <circle r="30" fill="darkblue" cx="50" cy="50"></circle> <circle r="30" fill="red" cx="150" cy="50"></circle> </g>
</svg>
<p>Using implied defs</p>
<pre class="r"><code>WH=c(600, 100) # window rect
svgR( wh=WH,
    g( 
      circle( cxy=c(50,50), r=30, fill='darkblue'),
      circle( cxy=c(150,50), r=30, fill='red'),
      mask=mask(
        rect(cxy= WH/2, wh=c(600,40), fill='white'),
        rect(cxy= WH/2, wh=c(600,10), fill='black')
        )
    )
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="600" height="100">
<mask id="genid1429"> <rect fill="white" width="600" height="40" x="0" y="30"></rect> <rect fill="black" width="600" height="10" x="0" y="45"></rect> </mask> <g mask="url(#genid1429)"> <circle r="30" fill="darkblue" cx="50" cy="50"></circle> <circle r="30" fill="red" cx="150" cy="50"></circle> </g>
</svg>
<pre class="r"><code>#```{r, echo=T}
WH=c(600, 100) # window rect
svgR( wh=WH,
    defs(
        mask(
        id=&quot;mask1&quot;, 
        xy=c(0,0), wh=c(100,100),
        text(xy=c(0,50),'hello all you brilliant data scientists', 
             stroke='white',fill='black')
        )
    ),
    #rect(xy=c(0,0), wh=WH, fill='yellow'),
    circle( cxy=c(50,50), r=30, fill='darkblue', mask=&quot;url(#mask1)&quot;),
    circle( cxy=c(150,50), r=30, fill='red',     mask=&quot;url(#mask1)&quot;)
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="600" height="100">
<defs> <mask id="mask1" width="100" height="100" x="0" y="0"> <text stroke="white" fill="black" x="0" y="50">hello all you brilliant data scientists</text> </mask> </defs> <circle r="30" fill="darkblue" mask="url(#mask1)" cx="50" cy="50"></circle> <circle r="30" fill="red" mask="url(#mask1)" cx="150" cy="50"></circle>
</svg>
<pre class="r"><code>#```{r, echo=T}
WH=c(600, 100) # window rect
svgR( wh=WH,
    defs(
        mask(
        id=&quot;mask2&quot;, xy=c(0,0), wh=c(100,100),
        rect( xy=c(0,0),  wh=c(50,100), fill='white', stroke='none'),
        rect( xy=c(50,0), wh=c(50,100), fill='grey', stroke='none')
        )
    ),
    #rect(xy=c(0,0), wh=WH, fill='yellow'),
    text(xy=c(0,50),'hello all you brilliant data scientists', stroke='red',fill='white'),
    circle( cxy=c(50,50), r=39, fill='darkblue', mask=&quot;url(#mask2)&quot;
             )
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="600" height="100">
<defs> <mask id="mask2" width="100" height="100" x="0" y="0"> <rect fill="white" stroke="none" width="50" height="100" x="0" y="0"></rect> <rect fill="grey" stroke="none" width="50" height="100" x="50" y="0"></rect> </mask> </defs> <text stroke="red" fill="white" x="0" y="50">hello all you brilliant data scientists</text> <circle r="39" fill="darkblue" mask="url(#mask2)" cx="50" cy="50"></circle>
</svg>
<pre class="r"><code>#```{r, echo=T}
WH=c(600, 100) # window rect
svgR( wh=WH,   
    mask(
    id=&quot;mask2-5&quot;, xy=c(0,0), wh=c(100,100),
    rect( xy=c(0,0),  wh=c(50,100), fill='white', stroke='none'),
    rect( xy=c(50,0), wh=c(50,100), fill='grey', stroke='none')
    ),
    #rect(xy=c(0,0), wh=WH, fill='yellow'),
    text(xy=c(0,50),'hello all you brilliant data scientists', stroke='red',fill='white'),
    circle( cxy=c(50,50), r=39, fill='darkblue', mask=&quot;url(#mask2-5)&quot;
             )
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="600" height="100">
<mask id="mask2-5" width="100" height="100" x="0" y="0"> <rect fill="white" stroke="none" width="50" height="100" x="0" y="0"></rect> <rect fill="grey" stroke="none" width="50" height="100" x="50" y="0"></rect> </mask> <text stroke="red" fill="white" x="0" y="50">hello all you brilliant data scientists</text> <circle r="39" fill="darkblue" mask="url(#mask2-5)" cx="50" cy="50"></circle>
</svg>
<pre class="r"><code>#```{r, echo=T}
WH=c(600, 100) # window rect
svgR( wh=WH,
    defs(
        mask(
        id=&quot;mask3&quot;, xy=c(0,0), wh=c(100,100),
        rect( xy=c(0,0),  wh=c(50,100), fill='rgb(190,190,130)', stroke='none'),
        rect( xy=c(50,0), wh=c(50,100), fill='grey', stroke='none')
        )
    ),
    #rect(xy=c(0,0), wh=WH, fill='yellow'),
    text(xy=c(0,50),'hello all you brilliant data scientists', stroke='red',fill='white'),
    circle( cxy=c(50,50), r=39, fill='darkblue', mask=&quot;url(#mask3)&quot;
             )
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="600" height="100">
<defs> <mask id="mask3" width="100" height="100" x="0" y="0"> <rect fill="rgb(190,190,130)" stroke="none" width="50" height="100" x="0" y="0"></rect> <rect fill="grey" stroke="none" width="50" height="100" x="50" y="0"></rect> </mask> </defs> <text stroke="red" fill="white" x="0" y="50">hello all you brilliant data scientists</text> <circle r="39" fill="darkblue" mask="url(#mask3)" cx="50" cy="50"></circle>
</svg>
<pre class="r"><code>#```{r, echo=T}
WH=c(600, 100) # window rect
svgR( wh=WH,
  mask(
    id=&quot;mask4&quot;, xy=c(0,0), wh=c(100,100),
    rect( xy=c(0,0),  wh=c(50,100), fill='rgb(190,190,130)', stroke='none'),
    rect( xy=c(50,0), wh=c(50,100), fill='grey', stroke='none')
  ),
  #rect(xy=c(0,0), wh=WH, fill='yellow'),
  text(xy=c(0,50),'hello all you brilliant data scientists', stroke='red',fill='white'),
  circle( cxy=c(50,50), r=39, fill='darkblue', mask=&quot;url(#mask4)&quot;
           )
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="600" height="100">
<mask id="mask4" width="100" height="100" x="0" y="0"> <rect fill="rgb(190,190,130)" stroke="none" width="50" height="100" x="0" y="0"></rect> <rect fill="grey" stroke="none" width="50" height="100" x="50" y="0"></rect> </mask> <text stroke="red" fill="white" x="0" y="50">hello all you brilliant data scientists</text> <circle r="39" fill="darkblue" mask="url(#mask4)" cx="50" cy="50"></circle>
</svg>
<pre class="r"><code>#```{r, echo=T}
WH=c(600, 100) # window rect
svgR( wh=WH,
  pattern(
    id=&quot;pattern2&quot;, xy=c(5,5), wh=c(10,10), patternUnits=&quot;userSpaceOnUse&quot; ,
    circle(cxy=c(5,5), r=5, fill='white')
  ),  
  mask( id=&quot;mask5&quot;, xy=c(0,0), wh=WH,
    rect(xy=c(0,0), wh=WH, fill=&quot;black&quot;),
    rect(xy=c(0,0), wh=WH, fill=&quot;url(#pattern2)&quot;)
  ),
  text(xy=c(0,50),'hello all you brilliant data scientists', stroke='black',font.size=30,
        mask=&quot;url(#mask5)&quot;
       )
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="600" height="100">
<pattern id="pattern2" patternUnits="userSpaceOnUse" width="10" height="10" x="5" y="5"> <circle r="5" fill="white" cx="5" cy="5"></circle> </pattern> <mask id="mask5" width="600" height="100" x="0" y="0"> <rect fill="black" width="600" height="100" x="0" y="0"></rect> <rect fill="url(#pattern2)" width="600" height="100" x="0" y="0"></rect> </mask> <text stroke="black" font-size="30" mask="url(#mask5)" x="0" y="50">hello all you brilliant data scientists</text>
</svg>
<pre class="r"><code>#```{r, echo=T}
WH=c(600, 100) # window rect
svgR( wh=WH,
  mask( id=&quot;mask5&quot;, xy=c(0,0), wh=WH,
    rect(xy=c(0,0), wh=WH, fill=&quot;black&quot;),
    lapply(seq(1,90,5), function(i){rect(xy=c(0,i), wh=c(600,3), fill='white')})
  ),
  text(xy=c(0,50),'hello all you brilliant data scientists', stroke='black',font.size=30,
        mask=&quot;url(#mask5)&quot;
       )
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="600" height="100">
<mask id="mask5" width="600" height="100" x="0" y="0"> <rect fill="black" width="600" height="100" x="0" y="0"></rect> <rect fill="white" width="600" height="3" x="0" y="1"></rect> <rect fill="white" width="600" height="3" x="0" y="6"></rect> <rect fill="white" width="600" height="3" x="0" y="11"></rect> <rect fill="white" width="600" height="3" x="0" y="16"></rect> <rect fill="white" width="600" height="3" x="0" y="21"></rect> <rect fill="white" width="600" height="3" x="0" y="26"></rect> <rect fill="white" width="600" height="3" x="0" y="31"></rect> <rect fill="white" width="600" height="3" x="0" y="36"></rect> <rect fill="white" width="600" height="3" x="0" y="41"></rect> <rect fill="white" width="600" height="3" x="0" y="46"></rect> <rect fill="white" width="600" height="3" x="0" y="51"></rect> <rect fill="white" width="600" height="3" x="0" y="56"></rect> <rect fill="white" width="600" height="3" x="0" y="61"></rect> <rect fill="white" width="600" height="3" x="0" y="66"></rect> <rect fill="white" width="600" height="3" x="0" y="71"></rect> <rect fill="white" width="600" height="3" x="0" y="76"></rect> <rect fill="white" width="600" height="3" x="0" y="81"></rect> <rect fill="white" width="600" height="3" x="0" y="86"></rect> </mask> <text stroke="black" font-size="30" mask="url(#mask5)" x="0" y="50">hello all you brilliant data scientists</text>
</svg>
<pre class="r"><code>#```{r, echo=T}
WH=c(600, 200) # window rect
svgR( wh=WH,
  pattern(
      id=&quot;pattern3&quot;, xy=c(10,10), wh=c(20,20), patternUnits=&quot;userSpaceOnUse&quot; ,
      circle(cxy=c(10,10), r=10, fill='green')
  ),
  g(
    rect(xy=c(0,0), wh=WH, fill='orange'),
    ellipse( cxy=c(55,60), rxy=c(55,25), fill=&quot;url(#pattern3)&quot;)
    )
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="600" height="200">
<pattern id="pattern3" patternUnits="userSpaceOnUse" width="20" height="20" x="10" y="10"> <circle r="10" fill="green" cx="10" cy="10"></circle> </pattern> <g> <rect fill="orange" width="600" height="200" x="0" y="0"></rect> <ellipse fill="url(#pattern3)" cx="55" cy="60" rx="55" ry="25"></ellipse> </g>
</svg>
</div>
<div id="morpolgy" class="section level2">
<h2>Morpolgy</h2>
</div>
<div id="dilation" class="section level2">
<h2>Dilation</h2>
<p>feMorphology allows thickening and thinning of graphics. To thicken we use the dilate attribute, to thin we use the erode attribute. The radius specifies the amount, which can be different for x and y, ie. dilate=c(3,1) will dilate in the x direction, but not in the y. Also, dilate=3 is equivalent to dilate=c(3,3)</p>
<pre class="r"><code>WH=c(800, 220) # window rect
svgR( wh=WH,
  graphPaper(WH, dxy=c(40,40), labels=TRUE), 
  text( 'svgR without feMorphology', xy=c(20,80), font.size=60, stroke=&quot;red&quot;, fill=&quot;none&quot;), 
  text( 'svgR feMorphology dilate=3', xy=c(20,160), font.size=60, stroke=&quot;red&quot;, fill=&quot;none&quot;, 
        filter=filter(
          feMorphology(radius=3, operator='dilate')
        )
  )
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="220">
<g stroke-width="1" font-size="10" stroke="lightgrey"> <line x1="0" y1="0" x2="0" y2="220"></line> <line x1="40" y1="0" x2="40" y2="220"></line> <line x1="80" y1="0" x2="80" y2="220"></line> <line x1="120" y1="0" x2="120" y2="220"></line> <line x1="160" y1="0" x2="160" y2="220"></line> <line x1="200" y1="0" x2="200" y2="220"></line> <line x1="240" y1="0" x2="240" y2="220"></line> <line x1="280" y1="0" x2="280" y2="220"></line> <line x1="320" y1="0" x2="320" y2="220"></line> <line x1="360" y1="0" x2="360" y2="220"></line> <line x1="400" y1="0" x2="400" y2="220"></line> <line x1="440" y1="0" x2="440" y2="220"></line> <line x1="480" y1="0" x2="480" y2="220"></line> <line x1="520" y1="0" x2="520" y2="220"></line> <line x1="560" y1="0" x2="560" y2="220"></line> <line x1="600" y1="0" x2="600" y2="220"></line> <line x1="640" y1="0" x2="640" y2="220"></line> <line x1="680" y1="0" x2="680" y2="220"></line> <line x1="720" y1="0" x2="720" y2="220"></line> <line x1="760" y1="0" x2="760" y2="220"></line> <line x1="800" y1="0" x2="800" y2="220"></line> <line x1="0" y1="0" x2="800" y2="0"></line> <line x1="0" y1="40" x2="800" y2="40"></line> <line x1="0" y1="80" x2="800" y2="80"></line> <line x1="0" y1="120" x2="800" y2="120"></line> <line x1="0" y1="160" x2="800" y2="160"></line> <line x1="0" y1="200" x2="800" y2="200"></line> <text x="2" y="10">0</text> <text x="42" y="10">40</text> <text x="82" y="10">80</text> <text x="122" y="10">120</text> <text x="162" y="10">160</text> <text x="202" y="10">200</text> <text x="242" y="10">240</text> <text x="282" y="10">280</text> <text x="322" y="10">320</text> <text x="362" y="10">360</text> <text x="402" y="10">400</text> <text x="442" y="10">440</text> <text x="482" y="10">480</text> <text x="522" y="10">520</text> <text x="562" y="10">560</text> <text x="602" y="10">600</text> <text x="642" y="10">640</text> <text x="682" y="10">680</text> <text x="722" y="10">720</text> <text x="762" y="10">760</text> <text x="802" y="10">800</text> <text x="2" y="0">0</text> <text x="2" y="40">40</text> <text x="2" y="80">80</text> <text x="2" y="120">120</text> <text x="2" y="160">160</text> <text x="2" y="200">200</text> </g> <text font-size="60" stroke="red" fill="none" x="20" y="80">svgR without feMorphology</text> <filter id="genid1430"> <feMorphology radius="3" operator="dilate"></feMorphology> </filter> <text font-size="60" stroke="red" fill="none" filter="url(#genid1430)" x="20" y="160">svgR feMorphology dilate=3</text>
</svg>
<p>feMorphology is does not simply change the stroke-width, rather it smears the source graphics. This is exibited by changing the fill from none to blue.</p>
<pre class="r"><code>WH=c(800, 220) # window rect
svgR( wh=WH,
  graphPaper(WH, dxy=c(40,40), labels=TRUE), 
  text( 'svgR without feMorphology', xy=c(20,80), font.size=60, stroke=&quot;red&quot;, fill=&quot;blue&quot;), 
  text( 'svgR feMorphology dilate=3', xy=c(20,160), font.size=60, stroke=&quot;red&quot;, fill=&quot;blue&quot;, 
        filter=filter(
          feMorphology(radius=2, operator='dilate')
        )
  )
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="220">
<g stroke-width="1" font-size="10" stroke="lightgrey"> <line x1="0" y1="0" x2="0" y2="220"></line> <line x1="40" y1="0" x2="40" y2="220"></line> <line x1="80" y1="0" x2="80" y2="220"></line> <line x1="120" y1="0" x2="120" y2="220"></line> <line x1="160" y1="0" x2="160" y2="220"></line> <line x1="200" y1="0" x2="200" y2="220"></line> <line x1="240" y1="0" x2="240" y2="220"></line> <line x1="280" y1="0" x2="280" y2="220"></line> <line x1="320" y1="0" x2="320" y2="220"></line> <line x1="360" y1="0" x2="360" y2="220"></line> <line x1="400" y1="0" x2="400" y2="220"></line> <line x1="440" y1="0" x2="440" y2="220"></line> <line x1="480" y1="0" x2="480" y2="220"></line> <line x1="520" y1="0" x2="520" y2="220"></line> <line x1="560" y1="0" x2="560" y2="220"></line> <line x1="600" y1="0" x2="600" y2="220"></line> <line x1="640" y1="0" x2="640" y2="220"></line> <line x1="680" y1="0" x2="680" y2="220"></line> <line x1="720" y1="0" x2="720" y2="220"></line> <line x1="760" y1="0" x2="760" y2="220"></line> <line x1="800" y1="0" x2="800" y2="220"></line> <line x1="0" y1="0" x2="800" y2="0"></line> <line x1="0" y1="40" x2="800" y2="40"></line> <line x1="0" y1="80" x2="800" y2="80"></line> <line x1="0" y1="120" x2="800" y2="120"></line> <line x1="0" y1="160" x2="800" y2="160"></line> <line x1="0" y1="200" x2="800" y2="200"></line> <text x="2" y="10">0</text> <text x="42" y="10">40</text> <text x="82" y="10">80</text> <text x="122" y="10">120</text> <text x="162" y="10">160</text> <text x="202" y="10">200</text> <text x="242" y="10">240</text> <text x="282" y="10">280</text> <text x="322" y="10">320</text> <text x="362" y="10">360</text> <text x="402" y="10">400</text> <text x="442" y="10">440</text> <text x="482" y="10">480</text> <text x="522" y="10">520</text> <text x="562" y="10">560</text> <text x="602" y="10">600</text> <text x="642" y="10">640</text> <text x="682" y="10">680</text> <text x="722" y="10">720</text> <text x="762" y="10">760</text> <text x="802" y="10">800</text> <text x="2" y="0">0</text> <text x="2" y="40">40</text> <text x="2" y="80">80</text> <text x="2" y="120">120</text> <text x="2" y="160">160</text> <text x="2" y="200">200</text> </g> <text font-size="60" stroke="red" fill="blue" x="20" y="80">svgR without feMorphology</text> <filter id="genid1431"> <feMorphology radius="2" operator="dilate"></feMorphology> </filter> <text font-size="60" stroke="red" fill="blue" filter="url(#genid1431)" x="20" y="160">svgR feMorphology dilate=3</text>
</svg>
</div>
<div id="erosion" class="section level2">
<h2>Erosion</h2>
<p>Erosion is the opposite of dilation:</p>
<pre class="r"><code>WH=c(800, 220) # window rect
svgR( wh=WH,
  graphPaper(WH, dxy=c(40,40), labels=TRUE), 
  text( 'svgR without feMorphology', xy=c(20,80), font.size=60, stroke=&quot;red&quot;, fill=&quot;blue&quot;), 
  text( 'svgR feMorphology erode=3', xy=c(20,160), font.size=60, stroke=&quot;red&quot;, fill=&quot;blue&quot;, 
        filter=filter(
          feMorphology(radius=2, operator='erode')
        )
  )
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="220">
<g stroke-width="1" font-size="10" stroke="lightgrey"> <line x1="0" y1="0" x2="0" y2="220"></line> <line x1="40" y1="0" x2="40" y2="220"></line> <line x1="80" y1="0" x2="80" y2="220"></line> <line x1="120" y1="0" x2="120" y2="220"></line> <line x1="160" y1="0" x2="160" y2="220"></line> <line x1="200" y1="0" x2="200" y2="220"></line> <line x1="240" y1="0" x2="240" y2="220"></line> <line x1="280" y1="0" x2="280" y2="220"></line> <line x1="320" y1="0" x2="320" y2="220"></line> <line x1="360" y1="0" x2="360" y2="220"></line> <line x1="400" y1="0" x2="400" y2="220"></line> <line x1="440" y1="0" x2="440" y2="220"></line> <line x1="480" y1="0" x2="480" y2="220"></line> <line x1="520" y1="0" x2="520" y2="220"></line> <line x1="560" y1="0" x2="560" y2="220"></line> <line x1="600" y1="0" x2="600" y2="220"></line> <line x1="640" y1="0" x2="640" y2="220"></line> <line x1="680" y1="0" x2="680" y2="220"></line> <line x1="720" y1="0" x2="720" y2="220"></line> <line x1="760" y1="0" x2="760" y2="220"></line> <line x1="800" y1="0" x2="800" y2="220"></line> <line x1="0" y1="0" x2="800" y2="0"></line> <line x1="0" y1="40" x2="800" y2="40"></line> <line x1="0" y1="80" x2="800" y2="80"></line> <line x1="0" y1="120" x2="800" y2="120"></line> <line x1="0" y1="160" x2="800" y2="160"></line> <line x1="0" y1="200" x2="800" y2="200"></line> <text x="2" y="10">0</text> <text x="42" y="10">40</text> <text x="82" y="10">80</text> <text x="122" y="10">120</text> <text x="162" y="10">160</text> <text x="202" y="10">200</text> <text x="242" y="10">240</text> <text x="282" y="10">280</text> <text x="322" y="10">320</text> <text x="362" y="10">360</text> <text x="402" y="10">400</text> <text x="442" y="10">440</text> <text x="482" y="10">480</text> <text x="522" y="10">520</text> <text x="562" y="10">560</text> <text x="602" y="10">600</text> <text x="642" y="10">640</text> <text x="682" y="10">680</text> <text x="722" y="10">720</text> <text x="762" y="10">760</text> <text x="802" y="10">800</text> <text x="2" y="0">0</text> <text x="2" y="40">40</text> <text x="2" y="80">80</text> <text x="2" y="120">120</text> <text x="2" y="160">160</text> <text x="2" y="200">200</text> </g> <text font-size="60" stroke="red" fill="blue" x="20" y="80">svgR without feMorphology</text> <filter id="genid1432"> <feMorphology radius="2" operator="erode"></feMorphology> </filter> <text font-size="60" stroke="red" fill="blue" filter="url(#genid1432)" x="20" y="160">svgR feMorphology erode=3</text>
</svg>
</div>
<div id="displacing-aka.-warping" class="section level2">
<h2>Displacing (aka. Warping)</h2>
<p>title: ChangingShapes output: html_document: toc: true theme: united </p>
<p>Another approach to shape modification is to perform some kind of <strong><em>warping</em></strong> of a image shape. <strong>feDisplacementMap</strong> allows for this displacing an image according to the colors of a second image.</p>
<p>Here we illustrate using a linear gradient for the second image.</p>
<pre class="r"><code>library(svgR)
WH=c(800, 200) # window rect
svgR( wh=WH, 
      symbol(
        rect( id=&quot;spec&quot;, xy=c(0,0), wh=WH, 
          fill=linearGradient( 
            xy1=c(&quot;40%&quot;,0), xy2=c(&quot;60%&quot;,&quot;0%&quot;),
            colors=rep(c(&quot;red&quot;,&quot;green&quot;),5) 
          )
        )
      ),
      use(xlink.href=&quot;#spec&quot;),
      text(&quot;feDisplacementMap: linear gradient&quot;, xy=c(20,20), stroke='white', fill='white', font.size=20),
      line(xy1=c(100,WH[2]/2),xy2=c(700,WH[2]/2), 
           stroke='yellow', stroke.width=20,
           filter=
             filter( xy=c(0,0), filterUnits='userSpaceOnUse',
                feDisplacementMap(
                  in1=&quot;SourceGraphic&quot;,
                  in2=feImage(xlink.href='#spec'),
                  scale=50,
                  yChannelSelector=&quot;R&quot;
                )
          )
      )
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="200">
<symbol> <linearGradient x1="40%" y1="0" x2="60%" y2="0%" id="genid1433"> <stop offset="0%" stop-color="red"></stop> <stop offset="11%" stop-color="green"></stop> <stop offset="22%" stop-color="red"></stop> <stop offset="33%" stop-color="green"></stop> <stop offset="44%" stop-color="red"></stop> <stop offset="55%" stop-color="green"></stop> <stop offset="66%" stop-color="red"></stop> <stop offset="77%" stop-color="green"></stop> <stop offset="88%" stop-color="red"></stop> <stop offset="100%" stop-color="green"></stop> </linearGradient> <rect id="spec" fill="url(#genid1433)" width="800" height="200" x="0" y="0"></rect> </symbol> <use xlink:href="#spec"></use> <text stroke="white" fill="white" font-size="20" x="20" y="20">feDisplacementMap: linear gradient</text> <filter filterUnits="userSpaceOnUse" x="0" y="0" id="genid1435"> <feImage xlink:href="#spec" result="genid1434"></feImage> <feDisplacementMap in="SourceGraphic" in2="genid1434" scale="50" yChannelSelector="R"></feDisplacementMap> </filter> <line stroke="yellow" stroke-width="20" filter="url(#genid1435)" x1="100" y1="100" x2="700" y2="100"></line>
</svg>
<p>Our second example uses a radial gradient as the second image</p>
<pre class="r"><code>library(svgR)
WH=c(400, 400) # window rect
svgR( wh=WH, 
      symbol(
        rect( id=&quot;radDispl&quot;, xy=c(0,0), wh=WH, 
          fill=radialGradient( 
            xy1=c(0,0), xy2=c(1,1), 
            colors=rep(c(&quot;red&quot;,&quot;blue&quot;),5) 
          )
        )
      ),
      use(xlink.href=&quot;#radDispl&quot;),
       text(&quot;feDisplacementMap: radial gradient&quot;, xy=c(20,20), stroke='white', fill='white', font.size=20),
      line(xy1=c(0,150),xy2=c(400,150), 
           stroke='yellow', stroke.width=20,
           filter=
             filter( xy=c(0,0), filterUnits='userSpaceOnUse',
                feDisplacementMap(
                  in1=&quot;SourceGraphic&quot;,
                  in2=feImage(xlink.href='#radDispl'),
                  scale=50,
                  xChannelSelector=&quot;R&quot;,
                  yChannelSelector=&quot;R&quot;
                )
          )
        ),
        line(xy1=c(0,260),xy2=c(800,260), 
         stroke='yellow', stroke.width=20,
         filter=
           filter( xy=c(0,0), filterUnits='userSpaceOnUse',
              feDisplacementMap(
                in1=&quot;SourceGraphic&quot;,
                in2=feImage(xlink.href='#radDispl'),
                scale=50,
                xChannelSelector=&quot;B&quot;,
                yChannelSelector=&quot;B&quot;
              )
            )
        )
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="400" height="400">
<symbol> <radialGradient xy1="c(0, 0)" xy2="c(1, 1)" id="genid1436"> <stop offset="0%" stop-color="red"></stop> <stop offset="11%" stop-color="blue"></stop> <stop offset="22%" stop-color="red"></stop> <stop offset="33%" stop-color="blue"></stop> <stop offset="44%" stop-color="red"></stop> <stop offset="55%" stop-color="blue"></stop> <stop offset="66%" stop-color="red"></stop> <stop offset="77%" stop-color="blue"></stop> <stop offset="88%" stop-color="red"></stop> <stop offset="100%" stop-color="blue"></stop> </radialGradient> <rect id="radDispl" fill="url(#genid1436)" width="400" height="400" x="0" y="0"></rect> </symbol> <use xlink:href="#radDispl"></use> <text stroke="white" fill="white" font-size="20" x="20" y="20">feDisplacementMap: radial gradient</text> <filter filterUnits="userSpaceOnUse" x="0" y="0" id="genid1438"> <feImage xlink:href="#radDispl" result="genid1437"></feImage> <feDisplacementMap in="SourceGraphic" in2="genid1437" scale="50" xChannelSelector="R" yChannelSelector="R"></feDisplacementMap> </filter> <line stroke="yellow" stroke-width="20" filter="url(#genid1438)" x1="0" y1="150" x2="400" y2="150"></line> <filter filterUnits="userSpaceOnUse" x="0" y="0" id="genid1440"> <feImage xlink:href="#radDispl" result="genid1439"></feImage> <feDisplacementMap in="SourceGraphic" in2="genid1439" scale="50" xChannelSelector="B" yChannelSelector="B"></feDisplacementMap> </filter> <line stroke="yellow" stroke-width="20" filter="url(#genid1440)" x1="0" y1="260" x2="800" y2="260"></line>
</svg>
<p><br><br></p>
<p>Next we try a different approach: use the text as the displacement template and the image is a simple radial gradient</p>
<pre class="r"><code>library(svgR)
WH=c(800, 600) # window rect
svgR( wh=WH, 
      symbol(
        g( id=&quot;radDisp2&quot;,  
           text(&quot;svgR&quot;, fill='red', cxy=c(.65,.45)*WH, font.size=200),
            text(&quot;in Action&quot;, fill='red', cxy=c(.65,.75)*WH, font.size=100)
        )
      ),
      rect(cxy=WH/2, wh=WH, 
           fill=radialGradient( colors=c(&quot;white&quot;,&quot;black&quot;) ),
           filter=filter(
                feDisplacementMap(
                  in1=&quot;SourceGraphic&quot;,
                  in2=feImage(xlink.href='#radDisp2'),
                  scale=50,
                  xChannelSelector=&quot;B&quot;,
                  yChannelSelector=&quot;R&quot;
                )
           )
      )
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="600">
<symbol> <g id="radDisp2"> <text fill="red" font-size="200" text-anchor="middle" dominant-baseline="central" x="520" y="270">svgR</text> <text fill="red" font-size="100" text-anchor="middle" dominant-baseline="central" x="520" y="450">in Action</text> </g> </symbol> <filter id="genid1442"> <feImage xlink:href="#radDisp2" result="genid1441"></feImage> <feDisplacementMap in="SourceGraphic" in2="genid1441" scale="50" xChannelSelector="B" yChannelSelector="R"></feDisplacementMap> </filter> <radialGradient id="genid1443"> <stop offset="0%" stop-color="white"></stop> <stop offset="100%" stop-color="black"></stop> </radialGradient> <rect fill="url(#genid1443)" filter="url(#genid1442)" width="800" height="600" x="0" y="0"></rect>
</svg>
<p>Next we try a different approach: use the text as the displacement template and the image is a simple radial gradient</p>
<pre class="r"><code>library(svgR)
WH=c(800, 600) # window rect
svgR( wh=WH, 
      symbol(
        g( id=&quot;radDisp2&quot;,  
           text(&quot;svgR&quot;, fill='red', cxy=c(.65,.45)*WH, font.size=200),
            text(&quot;in Action&quot;, fill='red', cxy=c(.65,.75)*WH, font.size=100)
        )
      ),
      rect(cxy=WH/2, wh=WH, 
           fill=radialGradient( colors=c(&quot;grey&quot;,&quot;white&quot;,&quot;grey&quot;,&quot;black&quot;) ),
           filter=filter(
                feDisplacementMap(
                  in1=&quot;SourceGraphic&quot;,
                  in2=feImage(xlink.href=&quot;./IMG_4703.JPG&quot;),
                  scale=50,
                  xChannelSelector=&quot;B&quot;,
                  yChannelSelector=&quot;R&quot;
                )
           )
      )
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="600">
<symbol> <g id="radDisp2"> <text fill="red" font-size="200" text-anchor="middle" dominant-baseline="central" x="520" y="270">svgR</text> <text fill="red" font-size="100" text-anchor="middle" dominant-baseline="central" x="520" y="450">in Action</text> </g> </symbol> <filter id="genid1445"> <feImage xlink:href="./IMG_4703.JPG" result="genid1444"></feImage> <feDisplacementMap in="SourceGraphic" in2="genid1444" scale="50" xChannelSelector="B" yChannelSelector="R"></feDisplacementMap> </filter> <radialGradient id="genid1446"> <stop offset="0%" stop-color="grey"></stop> <stop offset="33%" stop-color="white"></stop> <stop offset="66%" stop-color="grey"></stop> <stop offset="100%" stop-color="black"></stop> </radialGradient> <rect fill="url(#genid1446)" filter="url(#genid1445)" width="800" height="600" x="0" y="0"></rect>
</svg>
<p>Finally we apply a displayment to an image.</p>
<pre class="r"><code>library(svgR)
WH=c(800, 600) # window rect
svgR( wh=WH, 
      symbol(
        g( id=&quot;radDisp3&quot;,  
           text(&quot;Seville&quot;, fill='red', cxy=c(.8,.5)*WH, font.size=100)
        )
      ),
      image(cxy=WH/2, wh=WH, xlink.href=&quot;./IMG_4703.JPG&quot;,
           filter=filter(
                feDisplacementMap(
                  in1=&quot;SourceGraphic&quot;,
                  in2=feImage(xlink.href='#radDisp3'),
                  scale=150,
                  yChannelSelector=&quot;R&quot;
                )
           )
      )
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="600">
<symbol> <g id="radDisp3"> <text fill="red" font-size="100" text-anchor="middle" dominant-baseline="central" x="640" y="300">Seville</text> </g> </symbol> <filter id="genid1448"> <feImage xlink:href="#radDisp3" result="genid1447"></feImage> <feDisplacementMap in="SourceGraphic" in2="genid1447" scale="150" yChannelSelector="R"></feDisplacementMap> </filter> <image xlink:href="./IMG_4703.JPG" filter="url(#genid1448)" width="800" height="600" x="0" y="0"></image>
</svg>
<p>Finally, we use a filter as the second image.</p>
<pre class="r"><code>library(svgR)
WH=c(800, 600) # window rect
svgR( wh=WH, 
      symbol(
        rect( id=&quot;symFunkyRect1&quot;, xy=c(0,0), wh=WH, 
          filter=funkyFilter('funky4Dispacement1')
        )
      ),
      #use(xlink.href=&quot;#symFunkyRect1&quot;),
      text(&quot;feDisplacementMap: linear gradient&quot;, xy=c(20,20), stroke='white', fill='white', font.size=20),
#      text('Data Denier 4 Pres'
rect( cxy=WH/2, wh=c(600,20), fill='lightblue', 
           stroke='blue', stroke.width=2,
           filter=
             filter( xy=c(0,0), filterUnits='userSpaceOnUse',
                feDisplacementMap(
                  in1=&quot;SourceGraphic&quot;,
                  in2=feImage(xlink.href='#symFunkyRect1'),
                  scale=50,
                  yChannelSelector=&quot;R&quot;,
                  yChannelSelector=&quot;B&quot;
                )
          )
      )
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="600">
<symbol> <filter id="funky4Dispacement1"> <feTurbulence baseFrequency="0.01" numOctaves="3" seed="100"></feTurbulence> <feComponentTransfer> <feFuncR type="linear" slope="4" intercept="-1"></feFuncR> <feFuncG type="linear" slope="4" intercept="-1"></feFuncG> <feFuncB type="linear" slope="4" intercept="-1"></feFuncB> <feFuncA type="linear" slope="0" intercept="1"></feFuncA> </feComponentTransfer> <feColorMatrix type="saturate"></feColorMatrix> </filter> <rect id="symFunkyRect1" filter="url(#funky4Dispacement1)" width="800" height="600" x="0" y="0"></rect> </symbol> <text stroke="white" fill="white" font-size="20" x="20" y="20">feDisplacementMap: linear gradient</text> <filter filterUnits="userSpaceOnUse" x="0" y="0" id="genid1450"> <feImage xlink:href="#symFunkyRect1" result="genid1449"></feImage> <feDisplacementMap in="SourceGraphic" in2="genid1449" scale="50" yChannelSelector="B"></feDisplacementMap> </filter> <rect fill="lightblue" stroke="blue" stroke-width="2" filter="url(#genid1450)" width="600" height="20" x="100" y="290"></rect>
</svg>
</div>
<div id="data-corruption" class="section level2">
<h2>Data Corruption</h2>
<pre class="r"><code>library(svgR)
WH=c(800, 400) # window rect
svgR( wh=WH, 
      symbol( 
        rect( id=&quot;dispy&quot;, xy=c(0,0)*WH,  wh=WH, fill='blue',
                filter = funkyFilter(&quot;funky2&quot;, baseFrequency = .005)
        )
      ),
      g(  lapply(1:50, function(i)text(&quot;Data&quot;, cxy=runif(2)*.8*WH, 
                          fill=rrgb(),  font.size=sample(10:30,1))),
          filter=filter( xy=c(0,0), filterUnits='userSpaceOnUse',
              feDisplacementMap(
                in1=&quot;SourceGraphic&quot;,
                in2=feImage( xlink.href='#dispy'),
                scale=50,
                yChannelSelector=&quot;R&quot;,
                xChannelSelector=&quot;B&quot;
              )
          )
      ),
      text(&quot;Data corruption&quot;, xy=c(20,30), font.size=26)
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="400">
<symbol> <filter id="funky2"> <feTurbulence baseFrequency="0.005" numOctaves="3" seed="100"></feTurbulence> <feComponentTransfer> <feFuncR type="linear" slope="4" intercept="-1"></feFuncR> <feFuncG type="linear" slope="4" intercept="-1"></feFuncG> <feFuncB type="linear" slope="4" intercept="-1"></feFuncB> <feFuncA type="linear" slope="0" intercept="1"></feFuncA> </feComponentTransfer> <feColorMatrix type="saturate"></feColorMatrix> </filter> <rect id="dispy" fill="blue" filter="url(#funky2)" width="800" height="400" x="0" y="0"></rect> </symbol> <filter filterUnits="userSpaceOnUse" x="0" y="0" id="genid1452"> <feImage xlink:href="#dispy" result="genid1451"></feImage> <feDisplacementMap in="SourceGraphic" in2="genid1451" scale="50" yChannelSelector="R" xChannelSelector="B"></feDisplacementMap> </filter> <g filter="url(#genid1452)"> <text fill="rgb(169,218,243)" font-size="16" text-anchor="middle" dominant-baseline="central" x="255.506580024958" y="86.361500620842">Data</text> <text fill="rgb(156,242,72)" font-size="29" text-anchor="middle" dominant-baseline="central" x="250.958739221096" y="64.1318637132645">Data</text> <text fill="rgb(59,73,133)" font-size="17" text-anchor="middle" dominant-baseline="central" x="580.693567544222" y="268.074239417911">Data</text> <text fill="rgb(213,180,153)" font-size="29" text-anchor="middle" dominant-baseline="central" x="207.20173984766" y="317.674476876855">Data</text> <text fill="rgb(30,217,156)" font-size="29" text-anchor="middle" dominant-baseline="central" x="606.790892779827" y="282.054378241301">Data</text> <text fill="rgb(217,5,177)" font-size="26" text-anchor="middle" dominant-baseline="central" x="91.3158017396927" y="37.8305246680975">Data</text> <text fill="rgb(44,155,23)" font-size="22" text-anchor="middle" dominant-baseline="central" x="393.787401020527" y="147.986917570233">Data</text> <text fill="rgb(204,22,76)" font-size="20" text-anchor="middle" dominant-baseline="central" x="568.981164544821" y="304.039936885238">Data</text> <text fill="rgb(173,201,5)" font-size="16" text-anchor="middle" dominant-baseline="central" x="318.982571214437" y="287.693027704954">Data</text> <text fill="rgb(55,28,236)" font-size="20" text-anchor="middle" dominant-baseline="central" x="222.828476577997" y="224.227112680674">Data</text> <text fill="rgb(37,82,64)" font-size="20" text-anchor="middle" dominant-baseline="central" x="36.5902525186539" y="296.819786205888">Data</text> <text fill="rgb(204,149,63)" font-size="27" text-anchor="middle" dominant-baseline="central" x="394.352221041918" y="37.7589143812656">Data</text> <text fill="rgb(6,253,170)" font-size="24" text-anchor="middle" dominant-baseline="central" x="464.55910384655" y="225.839496031404">Data</text> <text fill="rgb(61,84,241)" font-size="22" text-anchor="middle" dominant-baseline="central" x="477.694568485022" y="41.0650829225779">Data</text> <text fill="rgb(138,6,229)" font-size="10" text-anchor="middle" dominant-baseline="central" x="183.93249809742" y="81.8434381484985">Data</text> <text fill="rgb(179,90,214)" font-size="17" text-anchor="middle" dominant-baseline="central" x="270.233471244574" y="276.023124232888">Data</text> <text fill="rgb(109,5,143)" font-size="17" text-anchor="middle" dominant-baseline="central" x="332.287559211254" y="36.0418575257063">Data</text> <text fill="rgb(140,238,147)" font-size="15" text-anchor="middle" dominant-baseline="central" x="500.981235057116" y="121.499894857407">Data</text> <text fill="rgb(98,119,252)" font-size="26" text-anchor="middle" dominant-baseline="central" x="101.030597537756" y="145.500193536282">Data</text> <text fill="rgb(45,88,206)" font-size="23" text-anchor="middle" dominant-baseline="central" x="494.304910749197" y="237.227227389812">Data</text> <text fill="rgb(142,181,13)" font-size="20" text-anchor="middle" dominant-baseline="central" x="255.721345543861" y="313.38933840394">Data</text> <text fill="rgb(230,234,25)" font-size="21" text-anchor="middle" dominant-baseline="central" x="180.291568338871" y="87.5436675548553">Data</text> <text fill="rgb(219,22,26)" font-size="26" text-anchor="middle" dominant-baseline="central" x="542.461387962103" y="106.57829798758">Data</text> <text fill="rgb(140,21,29)" font-size="15" text-anchor="middle" dominant-baseline="central" x="75.7489867508411" y="214.152398332953">Data</text> <text fill="rgb(71,134,193)" font-size="26" text-anchor="middle" dominant-baseline="central" x="230.712402015924" y="257.26744890213">Data</text> <text fill="rgb(164,39,202)" font-size="30" text-anchor="middle" dominant-baseline="central" x="543.558397889137" y="216.504752486944">Data</text> <text fill="rgb(218,128,46)" font-size="19" text-anchor="middle" dominant-baseline="central" x="245.157795697451" y="71.453055664897">Data</text> <text fill="rgb(251,22,94)" font-size="10" text-anchor="middle" dominant-baseline="central" x="497.273687720299" y="114.307910650969">Data</text> <text fill="rgb(70,245,135)" font-size="19" text-anchor="middle" dominant-baseline="central" x="191.662286072969" y="170.735944509506">Data</text> <text fill="rgb(235,44,242)" font-size="29" text-anchor="middle" dominant-baseline="central" x="335.521308630705" y="215.267989113927">Data</text> <text fill="rgb(225,74,235)" font-size="27" text-anchor="middle" dominant-baseline="central" x="599.520736336708" y="312.502053454518">Data</text> <text fill="rgb(250,142,41)" font-size="28" text-anchor="middle" dominant-baseline="central" x="173.014662563801" y="278.816321417689">Data</text> <text fill="rgb(150,4,148)" font-size="28" text-anchor="middle" dominant-baseline="central" x="150.427912473679" y="11.3384146988392">Data</text> <text fill="rgb(211,246,178)" font-size="16" text-anchor="middle" dominant-baseline="central" x="488.415210545063" y="283.089891672134">Data</text> <text fill="rgb(16,24,225)" font-size="14" text-anchor="middle" dominant-baseline="central" x="274.77447077632" y="159.179578796029">Data</text> <text fill="rgb(93,130,2)" font-size="25" text-anchor="middle" dominant-baseline="central" x="566.435662358999" y="170.983642414212">Data</text> <text fill="rgb(96,247,216)" font-size="29" text-anchor="middle" dominant-baseline="central" x="127.38346144557" y="140.446569472551">Data</text> <text fill="rgb(216,68,66)" font-size="17" text-anchor="middle" dominant-baseline="central" x="296.414220184088" y="255.043179765344">Data</text> <text fill="rgb(139,57,192)" font-size="26" text-anchor="middle" dominant-baseline="central" x="49.7764797508717" y="142.437076792121">Data</text> <text fill="rgb(91,31,234)" font-size="19" text-anchor="middle" dominant-baseline="central" x="24.3758457899094" y="11.5952171385288">Data</text> <text fill="rgb(139,217,162)" font-size="14" text-anchor="middle" dominant-baseline="central" x="451.839048117399" y="107.547236457467">Data</text> <text fill="rgb(124,216,110)" font-size="24" text-anchor="middle" dominant-baseline="central" x="124.400627464056" y="249.711871743202">Data</text> <text fill="rgb(238,75,7)" font-size="12" text-anchor="middle" dominant-baseline="central" x="233.935549110174" y="6.09025306999683">Data</text> <text fill="rgb(145,11,156)" font-size="18" text-anchor="middle" dominant-baseline="central" x="390.005792230368" y="48.1065226346254">Data</text> <text fill="rgb(239,180,65)" font-size="20" text-anchor="middle" dominant-baseline="central" x="1.74724042415619" y="302.195240110159">Data</text> <text fill="rgb(26,135,222)" font-size="16" text-anchor="middle" dominant-baseline="central" x="207.180214524269" y="104.275675043464">Data</text> <text fill="rgb(233,92,46)" font-size="30" text-anchor="middle" dominant-baseline="central" x="206.399530768394" y="169.432730749249">Data</text> <text fill="rgb(224,202,31)" font-size="20" text-anchor="middle" dominant-baseline="central" x="7.23438411951065" y="295.229071602225">Data</text> <text fill="rgb(126,83,133)" font-size="16" text-anchor="middle" dominant-baseline="central" x="303.825948834419" y="83.9834310859442">Data</text> <text fill="rgb(107,100,202)" font-size="10" text-anchor="middle" dominant-baseline="central" x="542.919862121344" y="283.770032823086">Data</text> </g> <text font-size="26" x="20" y="30">Data corruption</text>
</svg>
</div>
</div>
<div id="animating" class="section level1">
<h1>Animating</h1>
<div id="animation-technique-overview" class="section level2">
<h2>Animation Technique Overview</h2>
<p>In this chapter we discuss animation using the following:</p>
<ul>
<li><a href="#setAnimation"><strong>set</strong></a>: an animation element providing a simple way for setting a single attribute value for a specified duration.</li>
<li><a href="#animateAnimation"><strong>animate</strong></a>: an animation element used to animate over time a single attribute or a single CSS property</li>
<li><a href="#animateMotion"><strong>animateMotion</strong></a>: an animation element used to move an element along a path.</li>
<li><strong>animateColor</strong>: specifies a color transformation over time. This is a deprecated element, since animate does the same. Do not use it !</li>
<li><a href="#animateTransform"><strong>animateTransform</strong></a>: an animation element used to animate the transformation attribute on a target element, thereby allowing animations to control translation, scaling, rotation and / or inclination.</li>
</ul>
<p>However each animation must be triggered by some event. For ease of presentation, most of the examples in this document are triggered by some canned functions. However, in practice one may want to employ custom trigges. Thus the first topic we will explore is <a href="#animatonEvents">Animation Events</a></p>
<p>Animation Events. In that section only set elements will be used.</p>
<p><a name="animatonEvents"></a></p>
</div>
<div id="animation-events" class="section level2">
<h2>Animation Events</h2>
<p>Except for the examples contained in this section and the teasers section , all animations are triggered using a button at the bottom right hand corner of the svg. That button and the frame containing it are constructed by invocating either the toggle or playBar function. The code for both functions are provided in the utilities section.</p>
<p>This section explains triggering animation events. By examining this section, one can discover how to create custom event triggers.</p>
<div id="onload" class="section level3">
<h3>Onload</h3>
<p><a name="Onload"></a></p>
<p>The simplest animation triggering is to trigger the animation upon loading the document (web page). This was illustrated in the short teasers section, however I repeat the code here.</p>
<pre><code># not run
svgR( wh=c(600, 100), 
  line( xy1=c(0,50), xy2=c(600,50), 
    stroke.width=20, stroke.dasharray=8, stroke.dashoffset=16, stroke=&quot;lightblue&quot;,   
    animate(attributeName=&quot;stroke.dashoffset&quot;, from=16, to=0 , dur=0.5,   repeatCount=&quot;indefinite&quot;)
  )
)</code></pre>
<p>As second illustration, consider the problem of filling a circle with an orange color 10 seconds after loading,. We do this by simply setting the <strong>begin</strong> attribute to 10. For the circle to revert back to green, we can provide <strong><em>either</em></strong></p>
<ul>
<li>a <strong>dur</strong> attribute to indicate the duration (how long the orange is to remain)</li>
<li>a <strong>stop</strong> attribute to indicate when to stop ( when the orange is to terminate)</li>
</ul>
<p>This is an examle of the <strong>set</strong> animation which is discussed in the <a href="#setAnimation">Set Animation Section</a></p>
<p>setAnimation</p>
<pre class="r"><code>WH&lt;-c(800,300)
txt&lt;-c(
  &quot;All circles will turn orange after 10 seconds&quot;,
  &quot;The first will go back to green after 1 second&quot;,
  &quot;The second will go back to green after 2 seconds&quot;,
  &quot;The third will remain orange&quot;
)
labs&lt;-c(&quot;orange 1 sec&quot;,&quot;orange 2 sec&quot;,&quot;forever orange&quot;)
cxy&lt;-rbind(WH[1]*c(.3,.5,.7), WH[2]*c(.7,.7,.7))
svgR( wh=WH,
      text(&quot;RELOAD BROWSER:&quot;, xy=c(0,40), font.size=25),
      lapply(1:4, function(i){ text(txt[i], xy=c(250,i*20+20), font.size=16)}),
      circle(id=&quot;setCir1e1&quot;, r=70, fill='lightgreen', cxy=cxy[,1],
          set( attributeName=&quot;fill&quot;, to=&quot;orange&quot;, begin=10, dur=1 )),
      circle(id=&quot;setCir1e1&quot;, r=70, fill='lightgreen', cxy=cxy[,2],
          set( attributeName=&quot;fill&quot;, to=&quot;orange&quot;, begin=10, end=12 )),
      circle(id=&quot;setCir1e1&quot;, r=70, fill='lightgreen', cxy=cxy[,3],
          set( attributeName=&quot;fill&quot;, to=&quot;orange&quot;, begin=10 )),
      lapply(1:3, function(i)text( labs[i], cxy=cxy[,i], font.size=16 ))
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="300">
<text font-size="25" x="0" y="40">RELOAD BROWSER:</text> <text font-size="16" x="250" y="40">All circles will turn orange after 10 seconds</text> <text font-size="16" x="250" y="60">The first will go back to green after 1 second</text> <text font-size="16" x="250" y="80">The second will go back to green after 2 seconds</text> <text font-size="16" x="250" y="100">The third will remain orange</text> <circle id="setCir1e1" r="70" fill="lightgreen" cx="240" cy="210"> <set attributeName="fill" to="orange" begin="10" dur="1"></set> </circle> <circle id="setCir1e1" r="70" fill="lightgreen" cx="400" cy="210"> <set attributeName="fill" to="orange" begin="10" end="12"></set> </circle> <circle id="setCir1e1" r="70" fill="lightgreen" cx="560" cy="210"> <set attributeName="fill" to="orange" begin="10"></set> </circle> <text font-size="16" text-anchor="middle" dominant-baseline="central" x="240" y="210">orange 1 sec</text> <text font-size="16" text-anchor="middle" dominant-baseline="central" x="400" y="210">orange 2 sec</text> <text font-size="16" text-anchor="middle" dominant-baseline="central" x="560" y="210">forever orange</text>
</svg>
<p>However, for performance reasons, it is unwise to have too many animations are running concurrently. For that reason, all animations in this section are initiated using the mouse or chaining.</p>
</div>
<div id="mouseover" class="section level3">
<h3>MouseOver</h3>
<pre class="r"><code>WH&lt;-c(800,200)
svgR( wh=WH,
    text(&quot;Circle turns orange on mouse over&quot;, xy=c(20,20), font.size=20),
    circle( cxy=WH/2, r=70, stroke=&quot;black&quot;, fill=&quot;lightgreen&quot;,
      set( attributeName=&quot;fill&quot;, 
           to=&quot;orange&quot;, begin=&quot;mouseover&quot;, end=&quot;mouseout&quot;) 
    )
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="200">
<text font-size="20" x="20" y="20">Circle turns orange on mouse over</text> <circle r="70" stroke="black" fill="lightgreen" cx="400" cy="100"> <set attributeName="fill" to="orange" begin="mouseover" end="mouseout"></set> </circle>
</svg>
</div>
<div id="mouseout" class="section level3">
<h3>MouseOut</h3>
<pre class="r"><code>WH&lt;-c(800,200)
svgR( wh=WH,
    text(&quot;Circle turns orange on mouse out&quot;, xy=c(20,20), font.size=20),
         circle( cxy=WH/2, r=70, stroke=&quot;black&quot;, fill=&quot;lightgreen&quot;,
      set( attributeName=&quot;fill&quot;, 
           to=&quot;orange&quot;, begin=&quot;mouseout&quot;, end=&quot;mouseover&quot;) 
    )
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="200">
<text font-size="20" x="20" y="20">Circle turns orange on mouse out</text> <circle r="70" stroke="black" fill="lightgreen" cx="400" cy="100"> <set attributeName="fill" to="orange" begin="mouseout" end="mouseover"></set> </circle>
</svg>
</div>
<div id="mouseclick" class="section level3">
<h3>MouseClick</h3>
<pre class="r"><code>WH&lt;-c(800,200)
svgR( wh=WH,
    text(&quot;Circle turns orange for 1 second on mouse click&quot;, xy=c(20,20), font.size=20),
    circle( cxy=WH/2, r=70, stroke=&quot;black&quot;, fill=&quot;lightgreen&quot;,
      set( attributeName=&quot;fill&quot;, 
           to=&quot;orange&quot;, begin=&quot;click&quot;, dur=1) 
    )
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="200">
<text font-size="20" x="20" y="20">Circle turns orange for 1 second on mouse click</text> <circle r="70" stroke="black" fill="lightgreen" cx="400" cy="100"> <set attributeName="fill" to="orange" begin="click" dur="1"></set> </circle>
</svg>
</div>
<div id="a-simple-mouse-button" class="section level3">
<h3>A Simple Mouse Button</h3>
<pre class="r"><code>WH&lt;-c(800,200)
svgR( wh=WH,
  text(&quot;Circle turns orange for 1 second on button press&quot;, xy=c(20,20), font.size=20),
  g( id='greenButton',
    rect( cxy=c(60,WH[2]/2), wh=c(100,20) , stroke=&quot;black&quot;, fill=&quot;green&quot;, 
    set(  attributeName=&quot;fill&quot;, 
           to=&quot;lightgreen&quot;, begin=&quot;greenButton.click&quot;, dur=.25) 
    ),
    text('Press Me', cxy=c(60,WH[2]/2), stroke=&quot;white&quot;)
  ),
    #
    circle( cxy=WH/2, r=70, stroke=&quot;black&quot;, fill=&quot;lightgreen&quot;,
      set( attributeName=&quot;fill&quot;, 
           to=&quot;orange&quot;, begin=&quot;greenButton.click&quot;, dur=1) 
    )
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="200">
<text font-size="20" x="20" y="20">Circle turns orange for 1 second on button press</text> <g id="greenButton"> <rect stroke="black" fill="green" width="100" height="20" x="10" y="90"> <set attributeName="fill" to="lightgreen" begin="greenButton.click" dur="0.25"></set> </rect> <text stroke="white" text-anchor="middle" dominant-baseline="central" x="60" y="100">Press Me</text> </g> <circle r="70" stroke="black" fill="lightgreen" cx="400" cy="100"> <set attributeName="fill" to="orange" begin="greenButton.click" dur="1"></set> </circle>
</svg>
<p><a name="chainingEvents"></a></p>
</div>
<div id="chaining-events" class="section level3">
<h3>Chaining Events</h3>
<pre class="r"><code>WH&lt;-c(800,200)
svgR( wh=WH,
   circle( cxy=c(.1,.5)*WH, r=20, stroke=&quot;black&quot;, fill=&quot;lightgreen&quot;,
      set( id = 'circEvent0', attributeName=&quot;fill&quot;, 
           to=&quot;orange&quot;, begin=&quot;click&quot;, dur=.1) 
    ),
   circle( cxy=c(.3,.5)*WH, r=20, stroke=&quot;black&quot;, fill=&quot;lightgreen&quot;,
      set( id = 'circEvent1', attributeName=&quot;r&quot;, 
           to=&quot;50&quot;, begin=&quot;circEvent0.end&quot;, dur=.1) 
    ),
   circle( cxy=c(.5,.5)*WH, r=20, stroke=&quot;black&quot;, fill=&quot;lightgreen&quot;,
      set( id = 'circEvent2', attributeName=&quot;r&quot;, 
           to=&quot;50&quot;, begin=&quot;circEvent1.end&quot;, dur=.1) 
    ),
   circle( cxy=c(.7,.5)*WH, r=20, stroke=&quot;black&quot;, fill=&quot;lightgreen&quot;,
      set( id = 'circEvent3', attributeName=&quot;r&quot;, 
           to=&quot;50&quot;, begin=&quot;circEvent2.end&quot;, dur=.1) 
    ),
    text(&quot;Click left most circle to start chain reaction&quot;, xy=c(20,20), font.size=20
    )
     

)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="200">
<circle r="20" stroke="black" fill="lightgreen" cx="80" cy="100"> <set id="circEvent0" attributeName="fill" to="orange" begin="click" dur="0.1"></set> </circle> <circle r="20" stroke="black" fill="lightgreen" cx="240" cy="100"> <set id="circEvent1" attributeName="r" to="50" begin="circEvent0.end" dur="0.1"></set> </circle> <circle r="20" stroke="black" fill="lightgreen" cx="400" cy="100"> <set id="circEvent2" attributeName="r" to="50" begin="circEvent1.end" dur="0.1"></set> </circle> <circle r="20" stroke="black" fill="lightgreen" cx="560" cy="100"> <set id="circEvent3" attributeName="r" to="50" begin="circEvent2.end" dur="0.1"></set> </circle> <text font-size="20" x="20" y="20">Click left most circle to start chain reaction</text>
</svg>
<pre class="r"><code>WH&lt;-c(800,200)
svgR( wh=WH,
    text(&quot;Click circle to start chain reaction&quot;, xy=c(20,20), font.size=20),
    circle( cxy=c(.1,.5)*WH, r=20, stroke=&quot;black&quot;, fill=&quot;lightgreen&quot;,
      set( id = 'eventchain0', attributeName=&quot;fill&quot;, 
           to=&quot;orange&quot;, begin=&quot;click&quot;, dur=.05) 
    ),
    lapply( 1:20, function(i){
    polygon(
      points=c(0,20, 20,0, 0,-20),
      transform=paste0(&quot;translate(&quot;, 80+i*30,&quot;,100)&quot;),
      fill=&quot;lightblue&quot;,stroke=&quot;black&quot;,
      set( id=paste0(&quot;eventchain&quot;,i),attributeName=&quot;fill&quot;, 
           to=&quot;red&quot;,  dur=.05,
           begin=paste0(&quot;eventchain&quot;,i-1,&quot;.end&quot;)
      )      
    )})

)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="200">
<text font-size="20" x="20" y="20">Click circle to start chain reaction</text> <circle r="20" stroke="black" fill="lightgreen" cx="80" cy="100"> <set id="eventchain0" attributeName="fill" to="orange" begin="click" dur="0.05"></set> </circle> <polygon points="0 20 20 0 0 -20" transform="translate(110,100)" fill="lightblue" stroke="black"> <set id="eventchain1" attributeName="fill" to="red" dur="0.05" begin="eventchain0.end"></set> </polygon> <polygon points="0 20 20 0 0 -20" transform="translate(140,100)" fill="lightblue" stroke="black"> <set id="eventchain2" attributeName="fill" to="red" dur="0.05" begin="eventchain1.end"></set> </polygon> <polygon points="0 20 20 0 0 -20" transform="translate(170,100)" fill="lightblue" stroke="black"> <set id="eventchain3" attributeName="fill" to="red" dur="0.05" begin="eventchain2.end"></set> </polygon> <polygon points="0 20 20 0 0 -20" transform="translate(200,100)" fill="lightblue" stroke="black"> <set id="eventchain4" attributeName="fill" to="red" dur="0.05" begin="eventchain3.end"></set> </polygon> <polygon points="0 20 20 0 0 -20" transform="translate(230,100)" fill="lightblue" stroke="black"> <set id="eventchain5" attributeName="fill" to="red" dur="0.05" begin="eventchain4.end"></set> </polygon> <polygon points="0 20 20 0 0 -20" transform="translate(260,100)" fill="lightblue" stroke="black"> <set id="eventchain6" attributeName="fill" to="red" dur="0.05" begin="eventchain5.end"></set> </polygon> <polygon points="0 20 20 0 0 -20" transform="translate(290,100)" fill="lightblue" stroke="black"> <set id="eventchain7" attributeName="fill" to="red" dur="0.05" begin="eventchain6.end"></set> </polygon> <polygon points="0 20 20 0 0 -20" transform="translate(320,100)" fill="lightblue" stroke="black"> <set id="eventchain8" attributeName="fill" to="red" dur="0.05" begin="eventchain7.end"></set> </polygon> <polygon points="0 20 20 0 0 -20" transform="translate(350,100)" fill="lightblue" stroke="black"> <set id="eventchain9" attributeName="fill" to="red" dur="0.05" begin="eventchain8.end"></set> </polygon> <polygon points="0 20 20 0 0 -20" transform="translate(380,100)" fill="lightblue" stroke="black"> <set id="eventchain10" attributeName="fill" to="red" dur="0.05" begin="eventchain9.end"></set> </polygon> <polygon points="0 20 20 0 0 -20" transform="translate(410,100)" fill="lightblue" stroke="black"> <set id="eventchain11" attributeName="fill" to="red" dur="0.05" begin="eventchain10.end"></set> </polygon> <polygon points="0 20 20 0 0 -20" transform="translate(440,100)" fill="lightblue" stroke="black"> <set id="eventchain12" attributeName="fill" to="red" dur="0.05" begin="eventchain11.end"></set> </polygon> <polygon points="0 20 20 0 0 -20" transform="translate(470,100)" fill="lightblue" stroke="black"> <set id="eventchain13" attributeName="fill" to="red" dur="0.05" begin="eventchain12.end"></set> </polygon> <polygon points="0 20 20 0 0 -20" transform="translate(500,100)" fill="lightblue" stroke="black"> <set id="eventchain14" attributeName="fill" to="red" dur="0.05" begin="eventchain13.end"></set> </polygon> <polygon points="0 20 20 0 0 -20" transform="translate(530,100)" fill="lightblue" stroke="black"> <set id="eventchain15" attributeName="fill" to="red" dur="0.05" begin="eventchain14.end"></set> </polygon> <polygon points="0 20 20 0 0 -20" transform="translate(560,100)" fill="lightblue" stroke="black"> <set id="eventchain16" attributeName="fill" to="red" dur="0.05" begin="eventchain15.end"></set> </polygon> <polygon points="0 20 20 0 0 -20" transform="translate(590,100)" fill="lightblue" stroke="black"> <set id="eventchain17" attributeName="fill" to="red" dur="0.05" begin="eventchain16.end"></set> </polygon> <polygon points="0 20 20 0 0 -20" transform="translate(620,100)" fill="lightblue" stroke="black"> <set id="eventchain18" attributeName="fill" to="red" dur="0.05" begin="eventchain17.end"></set> </polygon> <polygon points="0 20 20 0 0 -20" transform="translate(650,100)" fill="lightblue" stroke="black"> <set id="eventchain19" attributeName="fill" to="red" dur="0.05" begin="eventchain18.end"></set> </polygon> <polygon points="0 20 20 0 0 -20" transform="translate(680,100)" fill="lightblue" stroke="black"> <set id="eventchain20" attributeName="fill" to="red" dur="0.05" begin="eventchain19.end"></set> </polygon>
</svg>
</div>
<div id="java-script" class="section level3">
<h3>Java Script</h3>
<div id="alert-on-button-press" class="section level4">
<h4>Alert on Button Press</h4>
<pre class="r"><code>WH&lt;-c(800,200)
rectid&lt;-newId()
svgR( wh=WH,
  script(
paste0(
'function showColor() {
                  alert(&quot;Color of the Rectangle is: &quot;+
                  document.getElementById(&quot;',rectid,'&quot;).getAttributeNS(null,&quot;fill&quot;));
               }
'      
)),
  text(&quot;Alert on button press&quot;, xy=c(20,20), font.size=20),
  g( 
    circle(id=rectid, cxy=c(60,WH[2]/2), r=60 , stroke=&quot;black&quot;, fill=&quot;brown&quot;),
    text('Press Me', cxy=c(60,WH[2]/2), stroke=&quot;white&quot;, fill='white', font.size=20),
    onClick=&quot;showColor()&quot;
  )
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="200">
<script type="text/JavaScript"><![CDATA[function showColor() {
                  alert("Color of the Rectangle is: "+
                  document.getElementById("docId11").getAttributeNS(null,"fill"));
               }
]]></script>
<text font-size="20" x="20" y="20">Alert on button press</text> <g onClick="showColor()"> <circle id="docId11" r="60" stroke="black" fill="brown" cx="60" cy="100"></circle> <text stroke="white" fill="white" font-size="20" text-anchor="middle" dominant-baseline="central" x="60" y="100">Press Me</text> </g>
</svg>
</div>
<div id="animation-start-stop-on-button-press" class="section level4">
<h4>Animation Start-Stop on Button Press</h4>
<pre class="r"><code>WH&lt;-c(800,200)
goStopCirAni&lt;-newId()
goStopButton&lt;-newId()
textStart&lt;-newId()
textStop&lt;-newId()
scriptGS&lt;-paste0(
'var gsOn=false; ',
'function goStop() {
  var animation=document.getElementById(&quot;',goStopCirAni,'&quot;);
  var button=document.getElementById(&quot;',goStopButton,'&quot;);
  var textStart=document.getElementById(&quot;',textStart,'&quot;);
  var textStop=document.getElementById(&quot;',textStop,'&quot;);
  if(gsOn){
    gsOn=false;
    animation.endElement();
    button.setAttribute(&quot;fill&quot;,&quot;green&quot;);
    textStart.setAttribute(&quot;visibility&quot;,&quot;visible&quot;);
    textStop.setAttribute(&quot;visibility&quot;,&quot;hidden&quot;);
  } else{
    gsOn=true;
    animation.beginElement();
    button.setAttribute(&quot;fill&quot;,&quot;red&quot;)
    textStart.setAttribute(&quot;visibility&quot;,&quot;hidden&quot;);
    textStop.setAttribute(&quot;visibility&quot;,&quot;visible&quot;);
  }
};
')
svgR( wh=WH,
  script(scriptGS),
  text(&quot;Controling Animation by a Single Button Press&quot;, xy=c(20,20), font.size=20),
  g( # button
    rect( id=goStopButton, cxy=c(.2,.5)*WH, wh=c(140,60), rxy=c(30,30), 
          stroke=&quot;black&quot;, fill=&quot;green&quot;),
    rect(  cxy=c(.2,.5)*WH, wh=c(130,50), rxy=c(30,30), 
          stroke=&quot;black&quot;, fill=&quot;white&quot;, opacity=.3),
    text('Start', id=textStart,
         cxy=c(.2,.5)*WH, fill=&quot;white&quot;, font.size=24, visibility='visible'),
    text('Stop',  id=textStop,
         cxy=c(.2,.5)*WH, fill=&quot;white&quot;, font.size=24, visibility='hidden'),
    onClick=&quot;goStop()&quot;
  ),
  g(
      rect(cxy=WH/2, wh=WH/6, fill='lightblue', stroke='blue', stroke.width=3),
      animateTransform( id=goStopCirAni, attributeName=&quot;transform&quot;, 
                        type=&quot;rotate&quot;, from=c(0,WH/2), to=c(360,WH/2), 
                        dur=1, begin='indefinite', repeatCount=&quot;indefinite&quot;) 
  )
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="200">
<script type="text/JavaScript"><![CDATA[var gsOn=false; function goStop() {
  var animation=document.getElementById("docId12");
  var button=document.getElementById("docId13");
  var textStart=document.getElementById("docId14");
  var textStop=document.getElementById("docId15");
  if(gsOn){
    gsOn=false;
    animation.endElement();
    button.setAttribute("fill","green");
    textStart.setAttribute("visibility","visible");
    textStop.setAttribute("visibility","hidden");
  } else{
    gsOn=true;
    animation.beginElement();
    button.setAttribute("fill","red")
    textStart.setAttribute("visibility","hidden");
    textStop.setAttribute("visibility","visible");
  }
};
]]></script>
<text font-size="20" x="20" y="20">Controling Animation by a Single Button Press</text> <g onClick="goStop()"> <rect id="docId13" stroke="black" fill="green" rx="30" ry="30" width="140" height="60" x="90" y="70"></rect> <rect stroke="black" fill="white" opacity="0.3" rx="30" ry="30" width="130" height="50" x="95" y="75"></rect> <text id="docId14" fill="white" font-size="24" visibility="visible" text-anchor="middle" dominant-baseline="central" x="160" y="100">Start</text> <text id="docId15" fill="white" font-size="24" visibility="hidden" text-anchor="middle" dominant-baseline="central" x="160" y="100">Stop</text> </g> <g> <rect fill="lightblue" stroke="blue" stroke-width="3" width="133.333333333333" height="33.3333333333333" x="333.333333333333" y="83.3333333333333"></rect> <animateTransform id="docId12" attributeName="transform" type="rotate" from="0,400,100" to="360,400,100" dur="1" begin="indefinite" repeatCount="indefinite"></animateTransform> </g>
</svg>
</div>
<div id="animation-start-stop-on-button-press-1" class="section level4">
<h4>Animation Start-Stop on Button Press</h4>
<pre class="r"><code>WH&lt;-c(800,200)
startButton&lt;-newId()
stopButton&lt;-newId()

button&lt;-function( ...){
  args&lt;-list(...)
  stopifnot(&quot;id&quot; %in% names(args) &amp; &quot;text&quot; %in% names(args))
  defaults&lt;-list( cxy=c(100,100), wh=c(140,60), rxy=c(30,30), font.size=24, text.fill='white', fill='green')
  args&lt;-c(args, defaults[sapply(args[names(defaults)], is.null)])
  indx&lt;-c(&quot;id&quot;,&quot;wh&quot;,&quot;cxy&quot;, &quot;rxy&quot;, &quot;font.size&quot;,&quot;fill&quot;,&quot;text&quot;, &quot;text.fill&quot;) 
  sargs&lt;-args[indx]
  args[indx]&lt;-NULL
  g( id=sargs$id,
    rect(  cxy=sargs$cxy, wh=sargs$wh, rxy=sargs$rxy, 
          stroke=&quot;black&quot;, fill=sargs$fill),
    rect(  cxy=sargs$cxy, wh=sargs$wh-c(10,10), rxy=sargs$rxy,
          stroke=&quot;black&quot;, fill=&quot;white&quot;, opacity=.3),
    text(sargs$text,
         cxy=sargs$cxy, fill=sargs$text.fill, font.size=sargs$font.size),
    args
  )
}

svgR( wh=WH,
  script(scriptGS),
  text(&quot;Controling Animation by a Single Button Press&quot;, xy=c(20,20), font.size=20),
  button(id=startButton, text='start', fill='green',
      set(attributeName=&quot;visibility&quot;, to=&quot;hidden&quot;,  
          begin=paste0(startButton,&quot;.click&quot;),
          end  =paste0(stopButton,&quot;.click&quot; ))
  ),
  button(id=stopButton, text='stop', fill='red', visibility='hidden',
       set(attributeName=&quot;visibility&quot;, to=&quot;visible&quot;, 
           begin=paste0(startButton,&quot;.click&quot; ),
           end  =paste0(stopButton,&quot;.click&quot; ))
  ),
  rect(cxy=WH/2, wh=WH/6, fill='lightblue', stroke='blue', stroke.width=3,
      animateTransform( attributeName=&quot;transform&quot;, 
                        type=&quot;rotate&quot;, from=c(0,WH/2), to=c(360,WH/2), 
                        dur=1, 
                        begin=paste0(startButton,&quot;.click&quot; ),
                        end  =paste0(stopButton,&quot;.click&quot; ),
                        repeatCount=&quot;indefinite&quot;
                        )
  )
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="200">
<script type="text/JavaScript"><![CDATA[var gsOn=false; function goStop() {
  var animation=document.getElementById("docId12");
  var button=document.getElementById("docId13");
  var textStart=document.getElementById("docId14");
  var textStop=document.getElementById("docId15");
  if(gsOn){
    gsOn=false;
    animation.endElement();
    button.setAttribute("fill","green");
    textStart.setAttribute("visibility","visible");
    textStop.setAttribute("visibility","hidden");
  } else{
    gsOn=true;
    animation.beginElement();
    button.setAttribute("fill","red")
    textStart.setAttribute("visibility","hidden");
    textStop.setAttribute("visibility","visible");
  }
};
]]></script>
<text font-size="20" x="20" y="20">Controling Animation by a Single Button Press</text> <g id="docId16"> <rect stroke="black" fill="green" rx="30" ry="30" width="140" height="60" x="30" y="70"></rect> <rect stroke="black" fill="white" opacity="0.3" rx="30" ry="30" width="130" height="50" x="35" y="75"></rect> <text fill="white" font-size="24" text-anchor="middle" dominant-baseline="central" x="100" y="100">start</text> <set attributeName="visibility" to="hidden" begin="docId16.click" end="docId17.click"></set> </g> <g id="docId17" visibility="hidden"> <rect stroke="black" fill="red" rx="30" ry="30" width="140" height="60" x="30" y="70"></rect> <rect stroke="black" fill="white" opacity="0.3" rx="30" ry="30" width="130" height="50" x="35" y="75"></rect> <text fill="white" font-size="24" text-anchor="middle" dominant-baseline="central" x="100" y="100">stop</text> <set attributeName="visibility" to="visible" begin="docId16.click" end="docId17.click"></set> </g> <rect fill="lightblue" stroke="blue" stroke-width="3" width="133.333333333333" height="33.3333333333333" x="333.333333333333" y="83.3333333333333"> <animateTransform attributeName="transform" type="rotate" from="0,400,100" to="360,400,100" dur="1" begin="docId16.click" end="docId17.click" repeatCount="indefinite"></animateTransform> </rect>
</svg>
<p><a name="setAnimation"></a></p>
</div>
</div>
</div>
<div id="set-animation" class="section level2">
<h2>Set Animation</h2>
<div id="overview-2" class="section level3">
<h3>Overview</h3>
<p>The examples in the <a href="#chainingEvents">Chaining Events section</a> use the set command to achieve animation. The set command can change a graphics attribute, but that change is instaneous. The set command is discrete, not continous.</p>
<p>Attributes that are to be changed are specified by <strong>attributeName</strong>, and the value to change to is given by <strong>values</strong> Each <strong>set</strong> element can have only one attribute value specification. Thus for multiple attributes, multiple <strong>set</strong> elements are required, although they can still use the same event to begin, and hence can run concurrently. A <a href="#onload">see Animate Onload</a></p>
<p>Specifying a duration (<strong>dur</strong> attribute) within a <strong>set</strong> element, determines how long the new value persists. Specifying an <strong>end</strong> attribute within a <strong>set</strong> element determines a time when the new value expires.</p>
<p>If a <strong>dur</strong> or <strong>end</strong> is not specified, then the new attribute value persists indefinitely. In all examples in this section, an <strong>end</strong> or a <strong>dur</strong> will be specified.</p>
<div id="set-color" class="section level4">
<h4>Set Color</h4>
<pre class="r"><code>WH&lt;-c(800,200)
svgR( wh=WH,
    toggleBar(WH),
   text( 'svgR', xy=c(40,120),  font.size=100, stroke=&quot;black&quot;, fill=&quot;lightgreen&quot;,
      set(attributeName=&quot;fill&quot;, to=&quot;green&quot;,
          begin=toggleButton.click['left'], 
          end=toggleButton.click['right']
          )
    )
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="200">
<linearGradient x1="0" y1="0" x2="0" y2="1" id="genid1453"> <stop offset="0%" stop-color="lightblue"></stop> <stop offset="50%" stop-color="white"></stop> <stop offset="100%" stop-color="lightblue"></stop> </linearGradient> <rect fill="url(#genid1453)" width="800" height="40" x="0" y="160"></rect> <g> <rect fill="none" stroke="grey" rx="5" ry="5" width="72" height="32" x="724" y="164"></rect> <circle r="12" stroke="grey" fill="none" cx="778" cy="180"></circle> <circle r="12" stroke="grey" fill="none" cx="742" cy="180"></circle> <circle r="7" stroke="grey" fill="green" id="toggleButton1" cx="742" cy="180"> <set attributeName="fill" to="red" begin="toggleButton1.click" end="toggleButton2.click"></set> </circle> <circle r="7" stroke="grey" fill="green" id="toggleButton2" cx="778" cy="180"> <set attributeName="fill" to="red" begin="0;toggleButton2.click" end="toggleButton1.click"></set> </circle> </g> <rect fill="none" stroke="blue" stroke-width="3" width="800" height="200" x="0" y="0"></rect> <text font-size="100" stroke="black" fill="lightgreen" x="40" y="120">svgR<set attributeName="fill" to="green" begin="toggleButton1.click" end="toggleButton2.click"></set></text>
</svg>
</div>
<div id="set-font-family" class="section level4">
<h4>Set Font Family</h4>
<pre class="r"><code>WH&lt;-c(800,200)
svgR( wh=WH,
    toggleBar(WH),
   text( 'svgR', xy=c(40,100),  font.size=100,  fill=&quot;lightgreen&quot;, stroke='black',
      set(attributeName=&quot;font.family&quot;, to=&quot;fantasy&quot;,
          begin=toggleButton.click['left'], 
          end=toggleButton.click['right']
          )
    )
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="200">
<linearGradient x1="0" y1="0" x2="0" y2="1" id="genid1454"> <stop offset="0%" stop-color="lightblue"></stop> <stop offset="50%" stop-color="white"></stop> <stop offset="100%" stop-color="lightblue"></stop> </linearGradient> <rect fill="url(#genid1454)" width="800" height="40" x="0" y="160"></rect> <g> <rect fill="none" stroke="grey" rx="5" ry="5" width="72" height="32" x="724" y="164"></rect> <circle r="12" stroke="grey" fill="none" cx="778" cy="180"></circle> <circle r="12" stroke="grey" fill="none" cx="742" cy="180"></circle> <circle r="7" stroke="grey" fill="green" id="toggleButton3" cx="742" cy="180"> <set attributeName="fill" to="red" begin="toggleButton3.click" end="toggleButton4.click"></set> </circle> <circle r="7" stroke="grey" fill="green" id="toggleButton4" cx="778" cy="180"> <set attributeName="fill" to="red" begin="0;toggleButton4.click" end="toggleButton3.click"></set> </circle> </g> <rect fill="none" stroke="blue" stroke-width="3" width="800" height="200" x="0" y="0"></rect> <text font-size="100" fill="lightgreen" stroke="black" x="40" y="100">svgR<set attributeName="font-family" to="fantasy" begin="toggleButton3.click" end="toggleButton4.click"></set></text>
</svg>
</div>
<div id="set-visibility" class="section level4">
<h4>Set Visibility</h4>
<pre class="r"><code>WH&lt;-c(800,200)
svgR( wh=WH,
    toggleBar(WH),
   text( 'svgR', xy=c(40,120),  font.size=100, stroke=&quot;black&quot;, fill=&quot;lightgreen&quot;,
      set(attributeName=&quot;visibility&quot;, to=&quot;hidden&quot;,
          begin=toggleButton.click['left'], 
          end=toggleButton.click['right']
          )
    )
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="200">
<linearGradient x1="0" y1="0" x2="0" y2="1" id="genid1455"> <stop offset="0%" stop-color="lightblue"></stop> <stop offset="50%" stop-color="white"></stop> <stop offset="100%" stop-color="lightblue"></stop> </linearGradient> <rect fill="url(#genid1455)" width="800" height="40" x="0" y="160"></rect> <g> <rect fill="none" stroke="grey" rx="5" ry="5" width="72" height="32" x="724" y="164"></rect> <circle r="12" stroke="grey" fill="none" cx="778" cy="180"></circle> <circle r="12" stroke="grey" fill="none" cx="742" cy="180"></circle> <circle r="7" stroke="grey" fill="green" id="toggleButton5" cx="742" cy="180"> <set attributeName="fill" to="red" begin="toggleButton5.click" end="toggleButton6.click"></set> </circle> <circle r="7" stroke="grey" fill="green" id="toggleButton6" cx="778" cy="180"> <set attributeName="fill" to="red" begin="0;toggleButton6.click" end="toggleButton5.click"></set> </circle> </g> <rect fill="none" stroke="blue" stroke-width="3" width="800" height="200" x="0" y="0"></rect> <text font-size="100" stroke="black" fill="lightgreen" x="40" y="120">svgR<set attributeName="visibility" to="hidden" begin="toggleButton5.click" end="toggleButton6.click"></set></text>
</svg>
</div>
<div id="set-opacity" class="section level4">
<h4>Set Opacity</h4>
<pre class="r"><code>WH&lt;-c(800,200)
svgR( wh=WH,
    toggleBar(WH),
   text( dataScience, cxy=WH/2-c(0,10),  font.size=100, stroke=&quot;black&quot;, fill=&quot;lightgreen&quot;),
   ellipse(cxy=WH/2-c(0,30), rxy=WH/2-c(0,40), fill='lightblue',
           stroke='blue',
      set(attributeName=&quot;opacity&quot;, to=.5,
          begin=toggleButton.click['left'], 
          end=toggleButton.click['right']
          )
    )
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="200">
<linearGradient x1="0" y1="0" x2="0" y2="1" id="genid1456"> <stop offset="0%" stop-color="lightblue"></stop> <stop offset="50%" stop-color="white"></stop> <stop offset="100%" stop-color="lightblue"></stop> </linearGradient> <rect fill="url(#genid1456)" width="800" height="40" x="0" y="160"></rect> <g> <rect fill="none" stroke="grey" rx="5" ry="5" width="72" height="32" x="724" y="164"></rect> <circle r="12" stroke="grey" fill="none" cx="778" cy="180"></circle> <circle r="12" stroke="grey" fill="none" cx="742" cy="180"></circle> <circle r="7" stroke="grey" fill="green" id="toggleButton7" cx="742" cy="180"> <set attributeName="fill" to="red" begin="toggleButton7.click" end="toggleButton8.click"></set> </circle> <circle r="7" stroke="grey" fill="green" id="toggleButton8" cx="778" cy="180"> <set attributeName="fill" to="red" begin="0;toggleButton8.click" end="toggleButton7.click"></set> </circle> </g> <rect fill="none" stroke="blue" stroke-width="3" width="800" height="200" x="0" y="0"></rect> <text font-size="100" stroke="black" fill="lightgreen" text-anchor="middle" dominant-baseline="central" x="400" y="90"></text> <ellipse fill="lightblue" stroke="blue" cx="400" cy="70" rx="400" ry="60"> <set attributeName="opacity" to="0.5" begin="toggleButton7.click" end="toggleButton8.click"></set> </ellipse>
</svg>
</div>
<div id="set-position-x" class="section level4">
<h4>Set Position x</h4>
<pre class="r"><code>WH&lt;-c(800,200)
svgR( wh=WH,
    toggleBar(WH),
   text( 'svgR', xy=c(50,120),  font.size=100, stroke=&quot;black&quot;, fill=&quot;lightgreen&quot;,
      set(attributeName=&quot;x&quot;, to=&quot;550&quot;,
          begin=toggleButton.click['left'], 
          end=toggleButton.click['right']
          )
    )
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="200">
<linearGradient x1="0" y1="0" x2="0" y2="1" id="genid1457"> <stop offset="0%" stop-color="lightblue"></stop> <stop offset="50%" stop-color="white"></stop> <stop offset="100%" stop-color="lightblue"></stop> </linearGradient> <rect fill="url(#genid1457)" width="800" height="40" x="0" y="160"></rect> <g> <rect fill="none" stroke="grey" rx="5" ry="5" width="72" height="32" x="724" y="164"></rect> <circle r="12" stroke="grey" fill="none" cx="778" cy="180"></circle> <circle r="12" stroke="grey" fill="none" cx="742" cy="180"></circle> <circle r="7" stroke="grey" fill="green" id="toggleButton9" cx="742" cy="180"> <set attributeName="fill" to="red" begin="toggleButton9.click" end="toggleButton10.click"></set> </circle> <circle r="7" stroke="grey" fill="green" id="toggleButton10" cx="778" cy="180"> <set attributeName="fill" to="red" begin="0;toggleButton10.click" end="toggleButton9.click"></set> </circle> </g> <rect fill="none" stroke="blue" stroke-width="3" width="800" height="200" x="0" y="0"></rect> <text font-size="100" stroke="black" fill="lightgreen" x="50" y="120">svgR<set attributeName="x" to="550" begin="toggleButton9.click" end="toggleButton10.click"></set></text>
</svg>
</div>
<div id="set-position-xy" class="section level4">
<h4>Set Position xy</h4>
<pre class="r"><code>WH&lt;-c(800,200)
svgR( wh=WH,
    toggleBar(WH),
   text( 'svgR', xy=c(50,120),  font.size=50, stroke=&quot;black&quot;, fill=&quot;lightgreen&quot;,
      set(attributeName=&quot;xy&quot;, to=c(200,50),
          begin=toggleButton.click['left'], 
          end=toggleButton.click['right']
          )
    )
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="200">
<linearGradient x1="0" y1="0" x2="0" y2="1" id="genid1458"> <stop offset="0%" stop-color="lightblue"></stop> <stop offset="50%" stop-color="white"></stop> <stop offset="100%" stop-color="lightblue"></stop> </linearGradient> <rect fill="url(#genid1458)" width="800" height="40" x="0" y="160"></rect> <g> <rect fill="none" stroke="grey" rx="5" ry="5" width="72" height="32" x="724" y="164"></rect> <circle r="12" stroke="grey" fill="none" cx="778" cy="180"></circle> <circle r="12" stroke="grey" fill="none" cx="742" cy="180"></circle> <circle r="7" stroke="grey" fill="green" id="toggleButton11" cx="742" cy="180"> <set attributeName="fill" to="red" begin="toggleButton11.click" end="toggleButton12.click"></set> </circle> <circle r="7" stroke="grey" fill="green" id="toggleButton12" cx="778" cy="180"> <set attributeName="fill" to="red" begin="0;toggleButton12.click" end="toggleButton11.click"></set> </circle> </g> <rect fill="none" stroke="blue" stroke-width="3" width="800" height="200" x="0" y="0"></rect> <text font-size="50" stroke="black" fill="lightgreen" x="50" y="120">svgR<set attributeName="x" to="200" begin="toggleButton11.click" end="toggleButton12.click"></set><set attributeName="y" to="50" begin="toggleButton11.click" end="toggleButton12.click"></set></text>
</svg>
</div>
<div id="set-dimensions-wh" class="section level4">
<h4>Set Dimensions wh</h4>
<pre class="r"><code>WH&lt;-c(800,200)
svgR( wh=WH,
    toggleBar(WH),
   rect(  xy=c(50,50),  wh=c(600,50), stroke=&quot;black&quot;, fill=&quot;lightgreen&quot;,
      set(attributeName=&quot;wh&quot;, to=c(200,100),
          begin=toggleButton.click['left'], 
          end=toggleButton.click['right']
          )
    )
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="200">
<linearGradient x1="0" y1="0" x2="0" y2="1" id="genid1459"> <stop offset="0%" stop-color="lightblue"></stop> <stop offset="50%" stop-color="white"></stop> <stop offset="100%" stop-color="lightblue"></stop> </linearGradient> <rect fill="url(#genid1459)" width="800" height="40" x="0" y="160"></rect> <g> <rect fill="none" stroke="grey" rx="5" ry="5" width="72" height="32" x="724" y="164"></rect> <circle r="12" stroke="grey" fill="none" cx="778" cy="180"></circle> <circle r="12" stroke="grey" fill="none" cx="742" cy="180"></circle> <circle r="7" stroke="grey" fill="green" id="toggleButton13" cx="742" cy="180"> <set attributeName="fill" to="red" begin="toggleButton13.click" end="toggleButton14.click"></set> </circle> <circle r="7" stroke="grey" fill="green" id="toggleButton14" cx="778" cy="180"> <set attributeName="fill" to="red" begin="0;toggleButton14.click" end="toggleButton13.click"></set> </circle> </g> <rect fill="none" stroke="blue" stroke-width="3" width="800" height="200" x="0" y="0"></rect> <rect stroke="black" fill="lightgreen" width="600" height="50" x="50" y="50"> <set attributeName="width" to="200" begin="toggleButton13.click" end="toggleButton14.click"></set> <set attributeName="height" to="100" begin="toggleButton13.click" end="toggleButton14.click"></set> </rect>
</svg>
</div>
<div id="set-stroke" class="section level4">
<h4>Set Stroke</h4>
<pre class="r"><code>WH&lt;-c(800,200)
svgR( wh=WH,
    toggleBar(WH),
   line(  xy1=c(40,120), xy2=c(700,20), stroke.width=10 ,
         stroke=&quot;black&quot;, fill=&quot;lightgreen&quot;,
      set(attributeName=&quot;stroke&quot;, to=&quot;red&quot;,
          begin=toggleButton.click['left'], 
          end=toggleButton.click['right']
          )
    )
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="200">
<linearGradient x1="0" y1="0" x2="0" y2="1" id="genid1460"> <stop offset="0%" stop-color="lightblue"></stop> <stop offset="50%" stop-color="white"></stop> <stop offset="100%" stop-color="lightblue"></stop> </linearGradient> <rect fill="url(#genid1460)" width="800" height="40" x="0" y="160"></rect> <g> <rect fill="none" stroke="grey" rx="5" ry="5" width="72" height="32" x="724" y="164"></rect> <circle r="12" stroke="grey" fill="none" cx="778" cy="180"></circle> <circle r="12" stroke="grey" fill="none" cx="742" cy="180"></circle> <circle r="7" stroke="grey" fill="green" id="toggleButton15" cx="742" cy="180"> <set attributeName="fill" to="red" begin="toggleButton15.click" end="toggleButton16.click"></set> </circle> <circle r="7" stroke="grey" fill="green" id="toggleButton16" cx="778" cy="180"> <set attributeName="fill" to="red" begin="0;toggleButton16.click" end="toggleButton15.click"></set> </circle> </g> <rect fill="none" stroke="blue" stroke-width="3" width="800" height="200" x="0" y="0"></rect> <line stroke-width="10" stroke="black" fill="lightgreen" x1="40" y1="120" x2="700" y2="20"> <set attributeName="stroke" to="red" begin="toggleButton15.click" end="toggleButton16.click"></set> </line>
</svg>
<pre class="r"><code>WH&lt;-c(800,200)
attr&lt;-c(&quot;stroke&quot;,&quot;stroke.width&quot;,&quot;stroke.dasharray&quot;, &quot;stroke.linecap&quot;)
val&lt;-c(&quot;red&quot;,20,50,&quot;round&quot;)
svgR( wh=WH,
    toggleBar(WH),
   line(  xy1=c(40,120), xy2=c(700,20), stroke.width=10 ,
         stroke=&quot;black&quot;, stroke.dasharray=100,
      lapply(1:4, function(i){
        set(attributeName=attr[i], to=val[i],
            begin=toggleButton.click['left'], 
            end=toggleButton.click['right']
            )
      })
   )
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="200">
<linearGradient x1="0" y1="0" x2="0" y2="1" id="genid1461"> <stop offset="0%" stop-color="lightblue"></stop> <stop offset="50%" stop-color="white"></stop> <stop offset="100%" stop-color="lightblue"></stop> </linearGradient> <rect fill="url(#genid1461)" width="800" height="40" x="0" y="160"></rect> <g> <rect fill="none" stroke="grey" rx="5" ry="5" width="72" height="32" x="724" y="164"></rect> <circle r="12" stroke="grey" fill="none" cx="778" cy="180"></circle> <circle r="12" stroke="grey" fill="none" cx="742" cy="180"></circle> <circle r="7" stroke="grey" fill="green" id="toggleButton17" cx="742" cy="180"> <set attributeName="fill" to="red" begin="toggleButton17.click" end="toggleButton18.click"></set> </circle> <circle r="7" stroke="grey" fill="green" id="toggleButton18" cx="778" cy="180"> <set attributeName="fill" to="red" begin="0;toggleButton18.click" end="toggleButton17.click"></set> </circle> </g> <rect fill="none" stroke="blue" stroke-width="3" width="800" height="200" x="0" y="0"></rect> <line stroke-width="10" stroke="black" stroke-dasharray="100" x1="40" y1="120" x2="700" y2="20"> <set attributeName="stroke" to="red" begin="toggleButton17.click" end="toggleButton18.click"></set> <set attributeName="stroke-width" to="20" begin="toggleButton17.click" end="toggleButton18.click"></set> <set attributeName="stroke-dasharray" to="50" begin="toggleButton17.click" end="toggleButton18.click"></set> <set attributeName="stroke-linecap" to="round" begin="toggleButton17.click" end="toggleButton18.click"></set> </line>
</svg>
</div>
</div>
<div id="set-viewbox-zooming" class="section level3">
<h3>Set ViewBox (Zooming)</h3>
<pre class="r"><code>WH&lt;-c(800,300)
svgR( wh=WH,
    toggleBar(WH),
    svg(xy=c(0,0),wh=c(200,200), viewBox=c(0,0,40,40),
      fill='lightgreen',
      rect(xy=c(1,1), wh=c(2,2), fill='red', stroke='black'),
      set(attributeName=&quot;viewBox&quot;, to=paste(0,0,4,4),
            begin=toggleButton.click['left'], 
            end=toggleButton.click['right']
      )
    )
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="300">
<linearGradient x1="0" y1="0" x2="0" y2="1" id="genid1462"> <stop offset="0%" stop-color="lightblue"></stop> <stop offset="50%" stop-color="white"></stop> <stop offset="100%" stop-color="lightblue"></stop> </linearGradient> <rect fill="url(#genid1462)" width="800" height="40" x="0" y="260"></rect> <g> <rect fill="none" stroke="grey" rx="5" ry="5" width="72" height="32" x="724" y="264"></rect> <circle r="12" stroke="grey" fill="none" cx="778" cy="280"></circle> <circle r="12" stroke="grey" fill="none" cx="742" cy="280"></circle> <circle r="7" stroke="grey" fill="green" id="toggleButton19" cx="742" cy="280"> <set attributeName="fill" to="red" begin="toggleButton19.click" end="toggleButton20.click"></set> </circle> <circle r="7" stroke="grey" fill="green" id="toggleButton20" cx="778" cy="280"> <set attributeName="fill" to="red" begin="0;toggleButton20.click" end="toggleButton19.click"></set> </circle> </g> <rect fill="none" stroke="blue" stroke-width="3" width="800" height="300" x="0" y="0"></rect> <svg viewBox="0,0,40,40" fill="lightgreen" width="200" height="200" x="0" y="0"> <rect fill="red" stroke="black" width="2" height="2" x="1" y="1"></rect> <set attributeName="viewBox" to="0 0 4 4" begin="toggleButton19.click" end="toggleButton20.click"></set>
</svg>
</svg>
</div>
<div id="set-stroke-size" class="section level3">
<h3>Set Stroke Size</h3>
<p>In this example letters change size sequentially. This effect is achieved by using set on each tspan element and triggering them using an offset to the button click.</p>
<pre class="r"><code>WH&lt;-c(800,160)
svgR( playBar(wh=WH),
      text( xy=c(40,100), lapply(1:26, function(i){
        tspan( LETTERS[i] , font.size=30, fill=rrgb(),
            set(attributeName='font.size', from=20,to=50,
                dur=.1, begin=paste0(playButton.click,' + ',.1*i))
        )}
      ))
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="200">
<linearGradient x1="0" y1="0" x2="0" y2="1" id="genid1463"> <stop offset="0%" stop-color="lightblue"></stop> <stop offset="50%" stop-color="white"></stop> <stop offset="100%" stop-color="lightblue"></stop> </linearGradient> <rect fill="url(#genid1463)" width="800" height="40" x="0" y="160"></rect> <g id="playButton1"> <circle r="12" stroke="grey" fill="grey" cx="780" cy="180"></circle> <circle r="10" stroke="grey" fill="#404040" cx="780" cy="180"></circle> <polygon points="790,180 777,184 777,176" fill="lime"></polygon> </g> <rect fill="none" stroke="blue" stroke-width="3" width="800" height="160" x="0" y="0"></rect> <text x="40" y="100"> <tspan font-size="30" fill="rgb(243,182,230)">A<set attributeName="font-size" from="20" to="50" dur="0.1" begin="playButton1.click + 0.1"></set></tspan> <tspan font-size="30" fill="rgb(41,11,135)">B<set attributeName="font-size" from="20" to="50" dur="0.1" begin="playButton1.click + 0.2"></set></tspan> <tspan font-size="30" fill="rgb(76,162,87)">C<set attributeName="font-size" from="20" to="50" dur="0.1" begin="playButton1.click + 0.3"></set></tspan> <tspan font-size="30" fill="rgb(178,84,246)">D<set attributeName="font-size" from="20" to="50" dur="0.1" begin="playButton1.click + 0.4"></set></tspan> <tspan font-size="30" fill="rgb(169,163,9)">E<set attributeName="font-size" from="20" to="50" dur="0.1" begin="playButton1.click + 0.5"></set></tspan> <tspan font-size="30" fill="rgb(184,135,149)">F<set attributeName="font-size" from="20" to="50" dur="0.1" begin="playButton1.click + 0.6"></set></tspan> <tspan font-size="30" fill="rgb(117,95,184)">G<set attributeName="font-size" from="20" to="50" dur="0.1" begin="playButton1.click + 0.7"></set></tspan> <tspan font-size="30" fill="rgb(230,80,35)">H<set attributeName="font-size" from="20" to="50" dur="0.1" begin="playButton1.click + 0.8"></set></tspan> <tspan font-size="30" fill="rgb(162,130,200)">I<set attributeName="font-size" from="20" to="50" dur="0.1" begin="playButton1.click + 0.9"></set></tspan> <tspan font-size="30" fill="rgb(106,41,231)">J<set attributeName="font-size" from="20" to="50" dur="0.1" begin="playButton1.click + 1"></set></tspan> <tspan font-size="30" fill="rgb(110,17,156)">K<set attributeName="font-size" from="20" to="50" dur="0.1" begin="playButton1.click + 1.1"></set></tspan> <tspan font-size="30" fill="rgb(127,241,116)">L<set attributeName="font-size" from="20" to="50" dur="0.1" begin="playButton1.click + 1.2"></set></tspan> <tspan font-size="30" fill="rgb(183,112,179)">M<set attributeName="font-size" from="20" to="50" dur="0.1" begin="playButton1.click + 1.3"></set></tspan> <tspan font-size="30" fill="rgb(126,247,169)">N<set attributeName="font-size" from="20" to="50" dur="0.1" begin="playButton1.click + 1.4"></set></tspan> <tspan font-size="30" fill="rgb(222,35,247)">O<set attributeName="font-size" from="20" to="50" dur="0.1" begin="playButton1.click + 1.5"></set></tspan> <tspan font-size="30" fill="rgb(196,255,69)">P<set attributeName="font-size" from="20" to="50" dur="0.1" begin="playButton1.click + 1.6"></set></tspan> <tspan font-size="30" fill="rgb(222,5,134)">Q<set attributeName="font-size" from="20" to="50" dur="0.1" begin="playButton1.click + 1.7"></set></tspan> <tspan font-size="30" fill="rgb(183,24,172)">R<set attributeName="font-size" from="20" to="50" dur="0.1" begin="playButton1.click + 1.8"></set></tspan> <tspan font-size="30" fill="rgb(187,143,165)">S<set attributeName="font-size" from="20" to="50" dur="0.1" begin="playButton1.click + 1.9"></set></tspan> <tspan font-size="30" fill="rgb(125,68,85)">T<set attributeName="font-size" from="20" to="50" dur="0.1" begin="playButton1.click + 2"></set></tspan> <tspan font-size="30" fill="rgb(13,187,90)">U<set attributeName="font-size" from="20" to="50" dur="0.1" begin="playButton1.click + 2.1"></set></tspan> <tspan font-size="30" fill="rgb(79,86,215)">V<set attributeName="font-size" from="20" to="50" dur="0.1" begin="playButton1.click + 2.2"></set></tspan> <tspan font-size="30" fill="rgb(34,23,205)">W<set attributeName="font-size" from="20" to="50" dur="0.1" begin="playButton1.click + 2.3"></set></tspan> <tspan font-size="30" fill="rgb(114,119,233)">X<set attributeName="font-size" from="20" to="50" dur="0.1" begin="playButton1.click + 2.4"></set></tspan> <tspan font-size="30" fill="rgb(128,28,210)">Y<set attributeName="font-size" from="20" to="50" dur="0.1" begin="playButton1.click + 2.5"></set></tspan> <tspan font-size="30" fill="rgb(213,233,100)">Z<set attributeName="font-size" from="20" to="50" dur="0.1" begin="playButton1.click + 2.6"></set></tspan> </text>
</svg>
<p><a name="animateAnimation"></a></p>
</div>
</div>
<div id="animate-element" class="section level2">
<h2>Animate Element</h2>
<p>While set changes an attribute value instaneously, animate changes the attribute by moving from the start value to the end value in continous fashion. This makes Animate an essential work horse for animations in SVG.</p>
<div id="stroke-width" class="section level3">
<h3>Stroke Width</h3>
<pre class="r"><code>WH&lt;-c(800,200)
svgR( 
    playBar(wh=WH),
    circle( cxy=WH/2, r=40, stroke=&quot;black&quot;, fill=&quot;yellow&quot;,
      animate(attributeName='stroke.width', from=0, to=40, 
                    begin=playButton.click, dur=2, fill=&quot;remove&quot;) 
    )
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="240">
<linearGradient x1="0" y1="0" x2="0" y2="1" id="genid1464"> <stop offset="0%" stop-color="lightblue"></stop> <stop offset="50%" stop-color="white"></stop> <stop offset="100%" stop-color="lightblue"></stop> </linearGradient> <rect fill="url(#genid1464)" width="800" height="40" x="0" y="200"></rect> <g id="playButton2"> <circle r="12" stroke="grey" fill="grey" cx="780" cy="220"></circle> <circle r="10" stroke="grey" fill="#404040" cx="780" cy="220"></circle> <polygon points="790,220 777,224 777,216" fill="lime"></polygon> </g> <rect fill="none" stroke="blue" stroke-width="3" width="800" height="200" x="0" y="0"></rect> <circle r="40" stroke="black" fill="yellow" cx="400" cy="100"> <animate attributeName="stroke-width" from="0" to="40" begin="playButton2.click" dur="2" fill="remove"></animate> </circle>
</svg>
</div>
<div id="radius" class="section level3">
<h3>Radius</h3>
<pre class="r"><code>WH&lt;-c(800,200)
svgR( 
    playBar(wh=WH),
    ellipse( cxy=WH/2, rxy=c(40,40), stroke=&quot;black&quot;, fill=&quot;blue&quot;,
      animate(attributeName='rx', from=10, to=300, 
                    begin=playButton.click, dur=2, fill=&quot;remove&quot;) 
    )
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="240">
<linearGradient x1="0" y1="0" x2="0" y2="1" id="genid1465"> <stop offset="0%" stop-color="lightblue"></stop> <stop offset="50%" stop-color="white"></stop> <stop offset="100%" stop-color="lightblue"></stop> </linearGradient> <rect fill="url(#genid1465)" width="800" height="40" x="0" y="200"></rect> <g id="playButton3"> <circle r="12" stroke="grey" fill="grey" cx="780" cy="220"></circle> <circle r="10" stroke="grey" fill="#404040" cx="780" cy="220"></circle> <polygon points="790,220 777,224 777,216" fill="lime"></polygon> </g> <rect fill="none" stroke="blue" stroke-width="3" width="800" height="200" x="0" y="0"></rect> <ellipse stroke="black" fill="blue" cx="400" cy="100" rx="40" ry="40"> <animate attributeName="rx" from="10" to="300" begin="playButton3.click" dur="2" fill="remove"></animate> </ellipse>
</svg>
</div>
<div id="fill-color" class="section level3">
<h3>Fill color</h3>
<pre class="r"><code>WH&lt;-c(800,200)
svgR( 
    playBar(wh=WH),
    ellipse( cxy=WH/2, rxy=c(40,40), stroke=&quot;black&quot;, fill=&quot;red&quot;,
      animate(attributeName='fill', from='red', to='yellow', 
                    begin=playButton.click, dur=2, fill=&quot;remove&quot;) 
    )
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="240">
<linearGradient x1="0" y1="0" x2="0" y2="1" id="genid1466"> <stop offset="0%" stop-color="lightblue"></stop> <stop offset="50%" stop-color="white"></stop> <stop offset="100%" stop-color="lightblue"></stop> </linearGradient> <rect fill="url(#genid1466)" width="800" height="40" x="0" y="200"></rect> <g id="playButton4"> <circle r="12" stroke="grey" fill="grey" cx="780" cy="220"></circle> <circle r="10" stroke="grey" fill="#404040" cx="780" cy="220"></circle> <polygon points="790,220 777,224 777,216" fill="lime"></polygon> </g> <rect fill="none" stroke="blue" stroke-width="3" width="800" height="200" x="0" y="0"></rect> <ellipse stroke="black" fill="red" cx="400" cy="100" rx="40" ry="40"> <animate attributeName="fill" from="red" to="yellow" begin="playButton4.click" dur="2" fill="remove"></animate> </ellipse>
</svg>
</div>
<div id="stroke-dashoffset" class="section level3">
<h3>Stroke dashoffset</h3>
<pre class="r"><code>WH&lt;-c(800,200)
soffset&lt;-40*7
svgR( 
    playBar(wh=WH),
    ellipse( cxy=WH/2, rxy=c(40,40), stroke=&quot;blue&quot;, fill=&quot;none&quot;,
             stroke.width=10, stroke.dasharray=soffset,
             stroke.dashoffset=soffset,
      animate(attributeName='stroke.dashoffset', from=soffset, to=0, 
                    begin=playButton.click, dur=.5, fill=&quot;remove&quot;) 
    )
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="240">
<linearGradient x1="0" y1="0" x2="0" y2="1" id="genid1467"> <stop offset="0%" stop-color="lightblue"></stop> <stop offset="50%" stop-color="white"></stop> <stop offset="100%" stop-color="lightblue"></stop> </linearGradient> <rect fill="url(#genid1467)" width="800" height="40" x="0" y="200"></rect> <g id="playButton5"> <circle r="12" stroke="grey" fill="grey" cx="780" cy="220"></circle> <circle r="10" stroke="grey" fill="#404040" cx="780" cy="220"></circle> <polygon points="790,220 777,224 777,216" fill="lime"></polygon> </g> <rect fill="none" stroke="blue" stroke-width="3" width="800" height="200" x="0" y="0"></rect> <ellipse stroke="blue" fill="none" stroke-width="10" stroke-dasharray="280" stroke-dashoffset="280" cx="400" cy="100" rx="40" ry="40"> <animate attributeName="stroke-dashoffset" from="280" to="0" begin="playButton5.click" dur="0.5" fill="remove"></animate> </ellipse>
</svg>
</div>
<div id="coordinate-cx" class="section level3">
<h3>Coordinate: cx</h3>
<pre class="r"><code>WH&lt;-c(800,200)
svgR( 
    playBar(wh=WH),
    circle( cxy=c(40,100), r=30, stroke=&quot;black&quot;, fill=&quot;lightgreen&quot;,
      animate(attributeName='cx', from='40', to='760', 
                    begin=playButton.click, dur=1, fill=&quot;remove&quot;) 
    )
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="240">
<linearGradient x1="0" y1="0" x2="0" y2="1" id="genid1468"> <stop offset="0%" stop-color="lightblue"></stop> <stop offset="50%" stop-color="white"></stop> <stop offset="100%" stop-color="lightblue"></stop> </linearGradient> <rect fill="url(#genid1468)" width="800" height="40" x="0" y="200"></rect> <g id="playButton6"> <circle r="12" stroke="grey" fill="grey" cx="780" cy="220"></circle> <circle r="10" stroke="grey" fill="#404040" cx="780" cy="220"></circle> <polygon points="790,220 777,224 777,216" fill="lime"></polygon> </g> <rect fill="none" stroke="blue" stroke-width="3" width="800" height="200" x="0" y="0"></rect> <circle r="30" stroke="black" fill="lightgreen" cx="40" cy="100"> <animate attributeName="cx" from="40" to="760" begin="playButton6.click" dur="1" fill="remove"></animate> </circle>
</svg>
</div>
<div id="coordinates-cxy" class="section level3">
<h3>Coordinates: cxy</h3>
<pre class="r"><code>WH&lt;-c(800,300)
 pt&lt;-c(30,30)
svgR( 
    playBar(wh=WH),
    circle( cxy=pt, r=20, stroke=&quot;black&quot;, fill=&quot;lightgreen&quot;,
      animate(attributeName='cxy', from=pt, to=WH-pt, 
                    begin=playButton.click, dur=2, fill=&quot;remove&quot;) 
    )
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="340">
<linearGradient x1="0" y1="0" x2="0" y2="1" id="genid1469"> <stop offset="0%" stop-color="lightblue"></stop> <stop offset="50%" stop-color="white"></stop> <stop offset="100%" stop-color="lightblue"></stop> </linearGradient> <rect fill="url(#genid1469)" width="800" height="40" x="0" y="300"></rect> <g id="playButton7"> <circle r="12" stroke="grey" fill="grey" cx="780" cy="320"></circle> <circle r="10" stroke="grey" fill="#404040" cx="780" cy="320"></circle> <polygon points="790,320 777,324 777,316" fill="lime"></polygon> </g> <rect fill="none" stroke="blue" stroke-width="3" width="800" height="300" x="0" y="0"></rect> <circle r="20" stroke="black" fill="lightgreen" cx="30" cy="30"> <animate attributeName="cx" from="30" to="770" begin="playButton7.click" dur="2" fill="remove"></animate> <animate attributeName="cy" from="30" to="270" begin="playButton7.click" dur="2" fill="remove"></animate> </circle>
</svg>
</div>
<div id="circle-changing-size-fill-color-and-location" class="section level3">
<h3>Circle changing size, fill color and location</h3>
<pre class="r"><code>WH&lt;-c(800,200)
svgR( 
    playBar(wh=WH),
    circle( cxy=c(40,100), r=30, stroke=&quot;black&quot;, fill=&quot;lightgreen&quot;,
      animate(attributeName='cx', from='40', to='760', 
                    begin=playButton.click, dur=1, fill=&quot;freeze&quot;), 
      animate(attributeName='r', from='30', to='1', 
                    begin=playButton.click, dur=1, fill=&quot;freeze&quot;), 
      animate(attributeName='fill', from='red', to='red', 
                    begin=playButton.click, dur=1, fill=&quot;freeze&quot;) 
    )
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="240">
<linearGradient x1="0" y1="0" x2="0" y2="1" id="genid1470"> <stop offset="0%" stop-color="lightblue"></stop> <stop offset="50%" stop-color="white"></stop> <stop offset="100%" stop-color="lightblue"></stop> </linearGradient> <rect fill="url(#genid1470)" width="800" height="40" x="0" y="200"></rect> <g id="playButton8"> <circle r="12" stroke="grey" fill="grey" cx="780" cy="220"></circle> <circle r="10" stroke="grey" fill="#404040" cx="780" cy="220"></circle> <polygon points="790,220 777,224 777,216" fill="lime"></polygon> </g> <rect fill="none" stroke="blue" stroke-width="3" width="800" height="200" x="0" y="0"></rect> <circle r="30" stroke="black" fill="lightgreen" cx="40" cy="100"> <animate attributeName="cx" from="40" to="760" begin="playButton8.click" dur="1" fill="freeze"></animate> <animate attributeName="r" from="30" to="1" begin="playButton8.click" dur="1" fill="freeze"></animate> <animate attributeName="fill" from="red" to="red" begin="playButton8.click" dur="1" fill="freeze"></animate> </circle>
</svg>
</div>
<div id="vertically-scrolling-text" class="section level3">
<h3>Vertically Scrolling Text</h3>
<pre class="r"><code>WH&lt;-c(800,200)
txt&lt;-c(
'An ounce of algebra is worth of a ton of verbal argument.',' -JBS Haldane',
'Data sets do not give up their secrets easily.', 'They must be tortured to confess.', '-Jeff Hopper, Bell Labs',
'79.48% of all statistics are made up on the spot.','-John Paulos, Prof of Math',
'All models are wrong','but some are useful.', '-George E. P. Box','In God we trust.', 'All others must bring data.',
'-W. Edwards Deming','I guess I think of lotteries as a tax', 'on the mathematically challenged',
' Roger Jones','Statisticians are like artists','they have a bad habit',' of falling in love with their models.',
'-- George Box')
dx&lt;-30
WH2&lt;- c(WH[1]-2*dx, dx)
svgR( 
    playBar(wh=WH),
    text(&quot;Stat Quotes&quot;, xy=c(30,30), font.size=30, stroke='blue'),
    svg(xy=c(dx,60), wh=WH2, viewBox=c(0,0, WH2),
      lapply(1:length(txt), function(i){
        text(txt[i], xy=c(0,i*dx-3), stroke='purple', stroke.width=2, font.size=dx-5)
      }),
      animate(attributeName='viewBox', from=c(0,0, WH2), to=c(0,dx*length(txt), WH2), 
          begin=playButton.click, dur=1*length(txt), fill=&quot;remove&quot;)
    )
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="240">
<linearGradient x1="0" y1="0" x2="0" y2="1" id="genid1471"> <stop offset="0%" stop-color="lightblue"></stop> <stop offset="50%" stop-color="white"></stop> <stop offset="100%" stop-color="lightblue"></stop> </linearGradient> <rect fill="url(#genid1471)" width="800" height="40" x="0" y="200"></rect> <g id="playButton9"> <circle r="12" stroke="grey" fill="grey" cx="780" cy="220"></circle> <circle r="10" stroke="grey" fill="#404040" cx="780" cy="220"></circle> <polygon points="790,220 777,224 777,216" fill="lime"></polygon> </g> <rect fill="none" stroke="blue" stroke-width="3" width="800" height="200" x="0" y="0"></rect> <text font-size="30" stroke="blue" x="30" y="30">Stat Quotes</text> <svg viewBox="0,0,740,30" width="740" height="30" x="30" y="60"> <text stroke="purple" stroke-width="2" font-size="25" x="0" y="27">An ounce of algebra is worth of a ton of verbal argument.</text> <text stroke="purple" stroke-width="2" font-size="25" x="0" y="57"> -JBS Haldane</text> <text stroke="purple" stroke-width="2" font-size="25" x="0" y="87">Data sets do not give up their secrets easily.</text> <text stroke="purple" stroke-width="2" font-size="25" x="0" y="117">They must be tortured to confess.</text> <text stroke="purple" stroke-width="2" font-size="25" x="0" y="147">-Jeff Hopper, Bell Labs</text> <text stroke="purple" stroke-width="2" font-size="25" x="0" y="177">79.48% of all statistics are made up on the spot.</text> <text stroke="purple" stroke-width="2" font-size="25" x="0" y="207">-John Paulos, Prof of Math</text> <text stroke="purple" stroke-width="2" font-size="25" x="0" y="237">All models are wrong</text> <text stroke="purple" stroke-width="2" font-size="25" x="0" y="267">but some are useful.</text> <text stroke="purple" stroke-width="2" font-size="25" x="0" y="297">-George E. P. Box</text> <text stroke="purple" stroke-width="2" font-size="25" x="0" y="327">In God we trust.</text> <text stroke="purple" stroke-width="2" font-size="25" x="0" y="357">All others must bring data.</text> <text stroke="purple" stroke-width="2" font-size="25" x="0" y="387">-W. Edwards Deming</text> <text stroke="purple" stroke-width="2" font-size="25" x="0" y="417">I guess I think of lotteries as a tax</text> <text stroke="purple" stroke-width="2" font-size="25" x="0" y="447">on the mathematically challenged</text> <text stroke="purple" stroke-width="2" font-size="25" x="0" y="477"> Roger Jones</text> <text stroke="purple" stroke-width="2" font-size="25" x="0" y="507">Statisticians are like artists</text> <text stroke="purple" stroke-width="2" font-size="25" x="0" y="537">they have a bad habit</text> <text stroke="purple" stroke-width="2" font-size="25" x="0" y="567"> of falling in love with their models.</text> <text stroke="purple" stroke-width="2" font-size="25" x="0" y="597"> George Box</text> <animate attributeName="viewBox" from="0,0,740,30" to="0,600,740,30" begin="playButton9.click" dur="20" fill="remove"></animate>
</svg>
</svg>
</div>
<div id="horizontally-scrolling-text" class="section level3">
<h3>Horizontally Scrolling Text</h3>
<pre class="r"><code>WH&lt;-c(800,200)
txt&lt;-c(
'Pure mathematics is, in its way, the poetry of logical ideas.  ~Albert Einstein',
'Mathematics is no more computation than typing is literature.John Allen Paulos',
'A mathematician is a device for turning coffee into theorems. ~Paul Erdos', 
#'Anyone who cannot cope with mathematics is not fully human.',' At best he is a tolerable subhuman who has learned to wear shoes, bathe,',' and not make messes in the house. ~Robert Heinlein, Time Enough for Love',
&quot;If there is a God, he's a great mathematician.  ~Paul Dirac&quot;,
'The laws of nature are but the mathematical thoughts of God.  ~Euclid', 
'The purpose of computing is insight, not numbers!R. W. Hamming',
'Truth is ever to be found in the simplicity, and not in the multiplicity and confusion of things.Newton')
dx&lt;-30
WH2&lt;- c(WH[1]-2*dx, dx)
svgR( 
    playBar(wh=WH),
    text(&quot;Math Quotes&quot;, xy=c(30,30), font.size=30, stroke='blue'),
    svg(xy=c(dx,60), wh=WH2, viewBox=c(0,0, WH2),
      lapply(1:length(txt), function(i){
        text(txt[i], xy=c(1.0*(i-1)*WH2[1],25), stroke='purple', stroke.width=2, font.size=dx/2)
      }),
      animate(attributeName='viewBox', from=c(0,0, WH2), to=c(WH2[1]*length(txt), 0, WH2), 
          begin=playButton.click, dur=4*length(txt), fill=&quot;remove&quot;)
    )
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="240">
<linearGradient x1="0" y1="0" x2="0" y2="1" id="genid1472"> <stop offset="0%" stop-color="lightblue"></stop> <stop offset="50%" stop-color="white"></stop> <stop offset="100%" stop-color="lightblue"></stop> </linearGradient> <rect fill="url(#genid1472)" width="800" height="40" x="0" y="200"></rect> <g id="playButton10"> <circle r="12" stroke="grey" fill="grey" cx="780" cy="220"></circle> <circle r="10" stroke="grey" fill="#404040" cx="780" cy="220"></circle> <polygon points="790,220 777,224 777,216" fill="lime"></polygon> </g> <rect fill="none" stroke="blue" stroke-width="3" width="800" height="200" x="0" y="0"></rect> <text font-size="30" stroke="blue" x="30" y="30">Math Quotes</text> <svg viewBox="0,0,740,30" width="740" height="30" x="30" y="60"> <text stroke="purple" stroke-width="2" font-size="15" x="0" y="25">Pure mathematics is, in its way, the poetry of logical ideas. ~Albert Einstein</text> <text stroke="purple" stroke-width="2" font-size="15" x="740" y="25">Mathematics is no more computation than typing is literature.John Allen Paulos</text> <text stroke="purple" stroke-width="2" font-size="15" x="1480" y="25">A mathematician is a device for turning coffee into theorems. ~Paul Erdos</text> <text stroke="purple" stroke-width="2" font-size="15" x="2220" y="25">If there is a God, hes a great mathematician. ~Paul Dirac</text> <text stroke="purple" stroke-width="2" font-size="15" x="2960" y="25">The laws of nature are but the mathematical thoughts of God. ~Euclid</text> <text stroke="purple" stroke-width="2" font-size="15" x="3700" y="25">The purpose of computing is insight, not numbers!R. W. Hamming</text> <text stroke="purple" stroke-width="2" font-size="15" x="4440" y="25">Truth is ever to be found in the simplicity, and not in the multiplicity and confusion of things.Newton</text> <animate attributeName="viewBox" from="0,0,740,30" to="5180,0,740,30" begin="playButton10.click" dur="28" fill="remove"></animate>
</svg>
</svg>
<p><br><br></p>
</div>
<div id="linear-gradient-1" class="section level3">
<h3>Linear Gradient 1</h3>
<pre class="r"><code>WH=c(450,300)
svgR(
    playBar(wh=WH),
    defs(
      linearGradient(id=&quot;myLinGradAnimate1&quot;,
        xy1=c(.1,.1), xy2=c(.9,.9),             
       stop(offset=0,stop.color='green'), #stop is the stop element
       stop(offset=0.1,stop.color='black',
            animate( attributeName='stop.color',
              from='black',to='yellow',
              begin=playButton.click, dur=3) 
       ),
       stop(offset=0.9,stop.color='red')
      )
    ),
    rect( cxy=c(200,150), 
          fill= &quot;url(#myLinGradAnimate1)&quot;, stroke=&quot;blue&quot;,
          wh=c(200,200)
    )
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="450" height="340">
<linearGradient x1="0" y1="0" x2="0" y2="1" id="genid1473"> <stop offset="0%" stop-color="lightblue"></stop> <stop offset="50%" stop-color="white"></stop> <stop offset="100%" stop-color="lightblue"></stop> </linearGradient> <rect fill="url(#genid1473)" width="450" height="40" x="0" y="300"></rect> <g id="playButton11"> <circle r="12" stroke="grey" fill="grey" cx="430" cy="320"></circle> <circle r="10" stroke="grey" fill="#404040" cx="430" cy="320"></circle> <polygon points="440,320 427,324 427,316" fill="lime"></polygon> </g> <rect fill="none" stroke="blue" stroke-width="3" width="450" height="300" x="0" y="0"></rect> <defs> <linearGradient id="myLinGradAnimate1" x1="0.1" y1="0.1" x2="0.9" y2="0.9"> <stop offset="0" stop-color="green"></stop> <stop offset="0.1" stop-color="black"> <animate attributeName="stop-color" from="black" to="yellow" begin="playButton11.click" dur="3"></animate> </stop> <stop offset="0.9" stop-color="red"></stop> </linearGradient> </defs> <rect fill="url(#myLinGradAnimate1)" stroke="blue" width="200" height="200" x="100" y="50"></rect>
</svg>
</div>
<div id="linear-gradient-2" class="section level3">
<h3>Linear Gradient 2</h3>
<pre class="r"><code>WH=c(800,300)
svgR(
    playBar(wh=WH),
    defs(
      linearGradient(id=&quot;myLinGradAnimate2&quot;,
        xy1=c(0,0), xy2=c(1,0),             
       stop(offset=0,stop.color='green'), #stop is the stop element
       stop(offset=0,stop.color='white',
            animate( attributeName='offset',
              from=0,to=1,
              begin=playButton.click, dur=3) 
       ),
       stop(offset=0.9,stop.color='red')
      )
    ),
    rect( xy=c(20,20), wh=WH-c(40,80), 
          fill= &quot;url(#myLinGradAnimate2)&quot;, stroke=&quot;blue&quot;
    )
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="340">
<linearGradient x1="0" y1="0" x2="0" y2="1" id="genid1474"> <stop offset="0%" stop-color="lightblue"></stop> <stop offset="50%" stop-color="white"></stop> <stop offset="100%" stop-color="lightblue"></stop> </linearGradient> <rect fill="url(#genid1474)" width="800" height="40" x="0" y="300"></rect> <g id="playButton12"> <circle r="12" stroke="grey" fill="grey" cx="780" cy="320"></circle> <circle r="10" stroke="grey" fill="#404040" cx="780" cy="320"></circle> <polygon points="790,320 777,324 777,316" fill="lime"></polygon> </g> <rect fill="none" stroke="blue" stroke-width="3" width="800" height="300" x="0" y="0"></rect> <defs> <linearGradient id="myLinGradAnimate2" x1="0" y1="0" x2="1" y2="0"> <stop offset="0" stop-color="green"></stop> <stop offset="0" stop-color="white"> <animate attributeName="offset" from="0" to="1" begin="playButton12.click" dur="3"></animate> </stop> <stop offset="0.9" stop-color="red"></stop> </linearGradient> </defs> <rect fill="url(#myLinGradAnimate2)" stroke="blue" width="760" height="220" x="20" y="20"></rect>
</svg>
</div>
<div id="linear-gradient-3" class="section level3">
<h3>Linear Gradient 3</h3>
<pre class="r"><code>WH=c(800,300)
colors=c('blue','white','red')
svgR(
    playBar(wh=WH),
    defs(
      linearGradient(id=&quot;myLinGradAnimate3&quot;,
        xy1=c(0,0), xy2=c(1,0),   
        lapply( 1:3, function(i){
          stop(offset=0, stop.color=colors[i], #stop is the stop element
            animate(attributeName='offset',
              from=.1*(i),to=.7+.1*(i), dur=3,
              begin=playButton.click)        
          )
        })
      )
    ),
    rect( xy=c(20,20), wh=WH-c(40,80), 
          fill= &quot;url(#myLinGradAnimate3)&quot;, stroke=&quot;blue&quot;
    )
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="340">
<linearGradient x1="0" y1="0" x2="0" y2="1" id="genid1475"> <stop offset="0%" stop-color="lightblue"></stop> <stop offset="50%" stop-color="white"></stop> <stop offset="100%" stop-color="lightblue"></stop> </linearGradient> <rect fill="url(#genid1475)" width="800" height="40" x="0" y="300"></rect> <g id="playButton13"> <circle r="12" stroke="grey" fill="grey" cx="780" cy="320"></circle> <circle r="10" stroke="grey" fill="#404040" cx="780" cy="320"></circle> <polygon points="790,320 777,324 777,316" fill="lime"></polygon> </g> <rect fill="none" stroke="blue" stroke-width="3" width="800" height="300" x="0" y="0"></rect> <defs> <linearGradient id="myLinGradAnimate3" x1="0" y1="0" x2="1" y2="0"> <stop offset="0" stop-color="blue"> <animate attributeName="offset" from="0.1" to="0.8" dur="3" begin="playButton13.click"></animate> </stop> <stop offset="0" stop-color="white"> <animate attributeName="offset" from="0.2" to="0.9" dur="3" begin="playButton13.click"></animate> </stop> <stop offset="0" stop-color="red"> <animate attributeName="offset" from="0.3" to="1" dur="3" begin="playButton13.click"></animate> </stop> </linearGradient> </defs> <rect fill="url(#myLinGradAnimate3)" stroke="blue" width="760" height="220" x="20" y="20"></rect>
</svg>
</div>
<div id="linear-gradient-4" class="section level3">
<h3>Linear Gradient 4</h3>
<pre class="r"><code>WH=c(800,300)
colors=c('darkblue','white','black')
svgR(
    playBar(wh=WH),
    defs(
      linearGradient(id=&quot;myLinGradAnimate4&quot;,
        xy1=c(0,0), xy2=c(1,0),   
        lapply( 1:3, function(i){
          stop(offset=0, stop.color=colors[i], #stop is the stop element
            animate(attributeName='offset',
              from=.1*(i),to=.7+.1*(i), dur=.4, repeatCount=5,
              begin=playButton.click)        
          )
        })
      )
    ),
    text( &quot;svgR&quot;,  cxy=c(.5,.4)*(WH-c(0,40)), font.size=150, 
          fill= &quot;url(#myLinGradAnimate4)&quot;, stroke=&quot;blue&quot;
    )
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="340">
<linearGradient x1="0" y1="0" x2="0" y2="1" id="genid1476"> <stop offset="0%" stop-color="lightblue"></stop> <stop offset="50%" stop-color="white"></stop> <stop offset="100%" stop-color="lightblue"></stop> </linearGradient> <rect fill="url(#genid1476)" width="800" height="40" x="0" y="300"></rect> <g id="playButton14"> <circle r="12" stroke="grey" fill="grey" cx="780" cy="320"></circle> <circle r="10" stroke="grey" fill="#404040" cx="780" cy="320"></circle> <polygon points="790,320 777,324 777,316" fill="lime"></polygon> </g> <rect fill="none" stroke="blue" stroke-width="3" width="800" height="300" x="0" y="0"></rect> <defs> <linearGradient id="myLinGradAnimate4" x1="0" y1="0" x2="1" y2="0"> <stop offset="0" stop-color="darkblue"> <animate attributeName="offset" from="0.1" to="0.8" dur="0.4" repeatCount="5" begin="playButton14.click"></animate> </stop> <stop offset="0" stop-color="white"> <animate attributeName="offset" from="0.2" to="0.9" dur="0.4" repeatCount="5" begin="playButton14.click"></animate> </stop> <stop offset="0" stop-color="black"> <animate attributeName="offset" from="0.3" to="1" dur="0.4" repeatCount="5" begin="playButton14.click"></animate> </stop> </linearGradient> </defs> <text font-size="150" fill="url(#myLinGradAnimate4)" stroke="blue" text-anchor="middle" dominant-baseline="central" x="400" y="104">svgR</text>
</svg>
</div>
<div id="radial-gradient-1" class="section level3">
<h3>Radial Gradient 1</h3>
<pre class="r"><code>WH=c(800,300)
svgR(
    playBar(wh=WH),
    defs(
      radialGradient(id=&quot;myRadGradAnimate1&quot;,
        xy1=c(0,0), xy2=c(1,0),             
       stop(offset=0,stop.color='red'), #stop is the stop element
       stop(offset=0,stop.color='white',
            animate( attributeName='offset',
              from=0,to=1,
              begin=playButton.click, dur=3) 
       ),
       stop(offset=0.9,stop.color='green')
      )
    ),
    rect( xy=c(20,20), wh=WH-c(40,80), 
          fill= &quot;url(#myRadGradAnimate1)&quot;, stroke=&quot;blue&quot;,
          wh=c(200,200)
    )
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="340">
<linearGradient x1="0" y1="0" x2="0" y2="1" id="genid1477"> <stop offset="0%" stop-color="lightblue"></stop> <stop offset="50%" stop-color="white"></stop> <stop offset="100%" stop-color="lightblue"></stop> </linearGradient> <rect fill="url(#genid1477)" width="800" height="40" x="0" y="300"></rect> <g id="playButton15"> <circle r="12" stroke="grey" fill="grey" cx="780" cy="320"></circle> <circle r="10" stroke="grey" fill="#404040" cx="780" cy="320"></circle> <polygon points="790,320 777,324 777,316" fill="lime"></polygon> </g> <rect fill="none" stroke="blue" stroke-width="3" width="800" height="300" x="0" y="0"></rect> <defs> <radialGradient id="myRadGradAnimate1" xy1="c(0, 0)" xy2="c(1, 0)"> <stop offset="0" stop-color="red"></stop> <stop offset="0" stop-color="white"> <animate attributeName="offset" from="0" to="1" begin="playButton15.click" dur="3"></animate> </stop> <stop offset="0.9" stop-color="green"></stop> </radialGradient> </defs> <rect fill="url(#myRadGradAnimate1)" stroke="blue" wh="c(200, 200)" width="760" height="220" x="20" y="20"></rect>
</svg>
</div>
<div id="radial-gradient-2" class="section level3">
<h3>Radial Gradient 2</h3>
<pre class="r"><code>WH=c(800,300)
colors=c('red','white','green')
svgR(
    playBar(wh=WH),
    defs(
      radialGradient(id=&quot;myRadGradAnimate2&quot;,
        xy1=c(0,0), xy2=c(1,0),             
        lapply( 1:3, function(i){
          stop(offset=0, stop.color=colors[i], #stop is the stop element
            animate(attributeName='offset',
              from=.1*(i),to=.7+.1*(i), dur=3,
              begin=playButton.click)        
          )
        })
    )),
    rect( xy=c(20,20), wh=WH-c(40,80), 
          fill= &quot;url(#myRadGradAnimate2)&quot;, stroke=&quot;blue&quot;,
          wh=c(200,200)
    )
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="340">
<linearGradient x1="0" y1="0" x2="0" y2="1" id="genid1478"> <stop offset="0%" stop-color="lightblue"></stop> <stop offset="50%" stop-color="white"></stop> <stop offset="100%" stop-color="lightblue"></stop> </linearGradient> <rect fill="url(#genid1478)" width="800" height="40" x="0" y="300"></rect> <g id="playButton16"> <circle r="12" stroke="grey" fill="grey" cx="780" cy="320"></circle> <circle r="10" stroke="grey" fill="#404040" cx="780" cy="320"></circle> <polygon points="790,320 777,324 777,316" fill="lime"></polygon> </g> <rect fill="none" stroke="blue" stroke-width="3" width="800" height="300" x="0" y="0"></rect> <defs> <radialGradient id="myRadGradAnimate2" xy1="c(0, 0)" xy2="c(1, 0)"> <stop offset="0" stop-color="red"> <animate attributeName="offset" from="0.1" to="0.8" dur="3" begin="playButton16.click"></animate> </stop> <stop offset="0" stop-color="white"> <animate attributeName="offset" from="0.2" to="0.9" dur="3" begin="playButton16.click"></animate> </stop> <stop offset="0" stop-color="green"> <animate attributeName="offset" from="0.3" to="1" dur="3" begin="playButton16.click"></animate> </stop> </radialGradient> </defs> <rect fill="url(#myRadGradAnimate2)" stroke="blue" wh="c(200, 200)" width="760" height="220" x="20" y="20"></rect>
</svg>
</div>
<div id="gaussian-blur" class="section level3">
<h3>Gaussian Blur</h3>
<p>This example illustrates a simple Gaussian Blur on the alpha channel where the standard deviation (in both the x and y directions) is the attribute being animated.</p>
<pre class="r"><code>WH=c(800, 200) # window rect
svgR( 
  playBar(wh=WH),
  text('Animating Simple Gaussing Blur', xy=c(20,30), font.size=20),
  text( 'svgR', cxy=c(.5,.4)*WH, font.size=100, fill=&quot;blue&quot;,
    filter=filter( y=-5, height=100,
        feGaussianBlur(in1=&quot;SourceAlpha&quot;, stdDeviation=0, y=&quot;-&quot;,
          animate(attributeName='stdDeviation',
        from=0,to=20, dur=1, 
        begin=playButton.click)      
    ))
  )
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="240">
<linearGradient x1="0" y1="0" x2="0" y2="1" id="genid1479"> <stop offset="0%" stop-color="lightblue"></stop> <stop offset="50%" stop-color="white"></stop> <stop offset="100%" stop-color="lightblue"></stop> </linearGradient> <rect fill="url(#genid1479)" width="800" height="40" x="0" y="200"></rect> <g id="playButton17"> <circle r="12" stroke="grey" fill="grey" cx="780" cy="220"></circle> <circle r="10" stroke="grey" fill="#404040" cx="780" cy="220"></circle> <polygon points="790,220 777,224 777,216" fill="lime"></polygon> </g> <rect fill="none" stroke="blue" stroke-width="3" width="800" height="200" x="0" y="0"></rect> <text font-size="20" x="20" y="30">Animating Simple Gaussing Blur</text> <filter y="-5" height="100" id="genid1480"> <feGaussianBlur in="SourceAlpha" stdDeviation="0" y="-"> <animate attributeName="stdDeviation" from="0" to="20" dur="1" begin="playButton17.click"></animate> </feGaussianBlur> </filter> <text font-size="100" fill="blue" filter="url(#genid1480)" text-anchor="middle" dominant-baseline="central" x="400" y="80">svgR</text>
</svg>
</div>
<div id="gaussian-blur-sigma_x" class="section level3">
<h3>Gaussian Blur <span class="math inline">\(sigma_x\)</span></h3>
<p>This example illustrates a simple Gaussian Blur on the alpha channel where the standard deviation in the x direction is the attribute being animated.</p>
<pre class="r"><code>WH=c(800, 200) # window rect
svgR( 
  playBar(wh=WH),
  text('horizontal blurring repeated twice', xy=c(20,30), font.size=20),
  text( 'svgR', cxy=c(.5,.3)*WH, font.size=100, fill=&quot;blue&quot;,
       filter=filter( y=-5, height=100,
          feGaussianBlur(in1=&quot;SourceGraphic&quot;, stdDeviation=c(0,0), y=&quot;-&quot;,
            animate(attributeName='stdDeviation',
          from=c(0,0),to=c(20,0), dur=1, repeatCount=2,
          begin=playButton.click )      
      ))
  )
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="240">
<linearGradient x1="0" y1="0" x2="0" y2="1" id="genid1481"> <stop offset="0%" stop-color="lightblue"></stop> <stop offset="50%" stop-color="white"></stop> <stop offset="100%" stop-color="lightblue"></stop> </linearGradient> <rect fill="url(#genid1481)" width="800" height="40" x="0" y="200"></rect> <g id="playButton18"> <circle r="12" stroke="grey" fill="grey" cx="780" cy="220"></circle> <circle r="10" stroke="grey" fill="#404040" cx="780" cy="220"></circle> <polygon points="790,220 777,224 777,216" fill="lime"></polygon> </g> <rect fill="none" stroke="blue" stroke-width="3" width="800" height="200" x="0" y="0"></rect> <text font-size="20" x="20" y="30">horizontal blurring repeated twice</text> <filter y="-5" height="100" id="genid1482"> <feGaussianBlur in="SourceGraphic" stdDeviation="0,0" y="-"> <animate attributeName="stdDeviation" from="0,0" to="20,0" dur="1" repeatCount="2" begin="playButton18.click"></animate> </feGaussianBlur> </filter> <text font-size="100" fill="blue" filter="url(#genid1482)" text-anchor="middle" dominant-baseline="central" x="400" y="60">svgR</text>
</svg>
</div>
<div id="depth-illusion" class="section level3">
<h3>Depth Illusion</h3>
<p>This example illustrates the illusion of depth, by animating both the x-position of the text and the x postion of the Guaussian blur is animated. The back and forth motion is achieved by chaining the animations.</p>
<pre class="r"><code>WH=c(800, 240) # window rect
dur=.5
svgR(
  playBar(wh=WH),
  text(&quot;animate with chaining both text and shadow&quot;, xy=c(20,30), font.size=20),
  text( 'svgR', xy=c(200,150), font.size=150,  fill=&quot;lightblue&quot;, stroke=&quot;darkblue&quot;,
    filter = filter( xy=c(-10,-10), wh=c(800,120),
      feBlend( x=-10, width=800, 
        in1=&quot;SourceGraphic&quot;, 
        in2=feGaussianBlur( stdDeviation=3, 
          in1=feOffset( dxy=c(10,10), in1=&quot;SourceAlpha&quot;,
            animate(id='animateShadow1', attributeName='dx', from=10, to=-10, dur=dur,
              begin=playButton.click, fill='freeze'
            ),
            animate(attributeName='dx', from=-10, to=10, dur=dur,
              begin=&quot;animateShadow1.end+0.5&quot;, fill='freeze'
            )
          ) 
        )
      )
    ),
    animate( attributeName=&quot;x&quot;, from=200, to=200+10, dur=dur,
               begin=playButton.click, fill='freeze'
            ),
    animate(attributeName=&quot;x&quot;, from=200+10, to=200, dur=dur,
               begin=&quot;animateShadow1.end+0.5&quot;, fill='freeze'
            )
    )
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="280">
<linearGradient x1="0" y1="0" x2="0" y2="1" id="genid1483"> <stop offset="0%" stop-color="lightblue"></stop> <stop offset="50%" stop-color="white"></stop> <stop offset="100%" stop-color="lightblue"></stop> </linearGradient> <rect fill="url(#genid1483)" width="800" height="40" x="0" y="240"></rect> <g id="playButton19"> <circle r="12" stroke="grey" fill="grey" cx="780" cy="260"></circle> <circle r="10" stroke="grey" fill="#404040" cx="780" cy="260"></circle> <polygon points="790,260 777,264 777,256" fill="lime"></polygon> </g> <rect fill="none" stroke="blue" stroke-width="3" width="800" height="240" x="0" y="0"></rect> <text font-size="20" x="20" y="30">animate with chaining both text and shadow</text> <filter width="800" height="120" x="-10" y="-10" id="genid1486"> <feOffset in="SourceAlpha" dx="10" dy="10" result="genid1484"> <animate id="animateShadow1" attributeName="dx" from="10" to="-10" dur="0.5" begin="playButton19.click" fill="freeze"></animate> <animate attributeName="dx" from="-10" to="10" dur="0.5" begin="animateShadow1.end+0.5" fill="freeze"></animate> </feOffset> <feGaussianBlur stdDeviation="3" in="genid1484" result="genid1485"></feGaussianBlur> <feBlend x="-10" width="800" in="SourceGraphic" in2="genid1485"></feBlend> </filter> <text font-size="150" fill="lightblue" stroke="darkblue" filter="url(#genid1486)" x="200" y="150">svgR<animate attributeName="x" from="200" to="210" dur="0.5" begin="playButton19.click" fill="freeze"></animate><animate attributeName="x" from="210" to="200" dur="0.5" begin="animateShadow1.end+0.5" fill="freeze"></animate></text>
</svg>
</div>
<div id="pattern" class="section level3">
<h3>Pattern</h3>
<pre class="r"><code>WH=c(600, 600) # window rect
svgR( 
  playBar(wh=WH),
  circle( cxy=WH/2, r=.3*WH[2], fill=
      pattern( xy=c(0,0), wh=c(40,40), patternUnits=&quot;userSpaceOnUse&quot;,
        rect(cxy=c(20,20), wh=c(30,30), fill='blue',
          animate( attributeName=&quot;fill&quot;, from='red', to='green', dur=.5,
               begin=playButton.click, repeatCount=3
            )                  
          )
         )
  )
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="600" height="640">
<linearGradient x1="0" y1="0" x2="0" y2="1" id="genid1487"> <stop offset="0%" stop-color="lightblue"></stop> <stop offset="50%" stop-color="white"></stop> <stop offset="100%" stop-color="lightblue"></stop> </linearGradient> <rect fill="url(#genid1487)" width="600" height="40" x="0" y="600"></rect> <g id="playButton20"> <circle r="12" stroke="grey" fill="grey" cx="580" cy="620"></circle> <circle r="10" stroke="grey" fill="#404040" cx="580" cy="620"></circle> <polygon points="590,620 577,624 577,616" fill="lime"></polygon> </g> <rect fill="none" stroke="blue" stroke-width="3" width="600" height="600" x="0" y="0"></rect> <pattern patternUnits="userSpaceOnUse" width="40" height="40" x="0" y="0" id="genid1488"> <rect fill="blue" width="30" height="30" x="5" y="5"> <animate attributeName="fill" from="red" to="green" dur="0.5" begin="playButton20.click" repeatCount="3"></animate> </rect> </pattern> <circle r="180" fill="url(#genid1488)" cx="300" cy="300"></circle>
</svg>
</div>
<div id="radius-1" class="section level3">
<h3>Radius</h3>
<pre class="r"><code>WH=c(600, 600) # window rect
svgR( 
  playBar(wh=WH),
  circle( cxy=WH/2, r=.3*WH[2], stroke='red', stroke.width=5,
      fill=
      pattern( xy=c(10,10), wh=c(40,40), patternUnits=&quot;userSpaceOnUse&quot;,
        circle(cxy=c(10,10), r=5, fill='blue',
          animate( attributeName=&quot;r&quot;, from=5, to=20, dur=.5,
               begin=playButton.click, repeatCount=8
            )                  
          )
         )
  )
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="600" height="640">
<linearGradient x1="0" y1="0" x2="0" y2="1" id="genid1489"> <stop offset="0%" stop-color="lightblue"></stop> <stop offset="50%" stop-color="white"></stop> <stop offset="100%" stop-color="lightblue"></stop> </linearGradient> <rect fill="url(#genid1489)" width="600" height="40" x="0" y="600"></rect> <g id="playButton21"> <circle r="12" stroke="grey" fill="grey" cx="580" cy="620"></circle> <circle r="10" stroke="grey" fill="#404040" cx="580" cy="620"></circle> <polygon points="590,620 577,624 577,616" fill="lime"></polygon> </g> <rect fill="none" stroke="blue" stroke-width="3" width="600" height="600" x="0" y="0"></rect> <pattern patternUnits="userSpaceOnUse" width="40" height="40" x="10" y="10" id="genid1490"> <circle r="5" fill="blue" cx="10" cy="10"> <animate attributeName="r" from="5" to="20" dur="0.5" begin="playButton21.click" repeatCount="8"></animate> </circle> </pattern> <circle r="180" stroke="red" stroke-width="5" fill="url(#genid1490)" cx="300" cy="300"></circle>
</svg>
</div>
<div id="radius-2" class="section level3">
<h3>Radius</h3>
<pre class="r"><code>WH=c(800, 400) # window rect
svgR( 
  playBar(wh=WH),
  text('svgR', cxy=WH/2, font.size=250, stroke.width=2, stroke='blue', fill=
      pattern( xy=c(10,10), wh=c(40,40), patternUnits=&quot;userSpaceOnUse&quot;,
        circle(cxy=c(10,10), r=5, fill='blue',
          animate( attributeName=&quot;r&quot;, from=5, to=30, dur=.5,
               begin=playButton.click, repeatCount=8
            )                  
          )
         )
  )
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="440">
<linearGradient x1="0" y1="0" x2="0" y2="1" id="genid1491"> <stop offset="0%" stop-color="lightblue"></stop> <stop offset="50%" stop-color="white"></stop> <stop offset="100%" stop-color="lightblue"></stop> </linearGradient> <rect fill="url(#genid1491)" width="800" height="40" x="0" y="400"></rect> <g id="playButton22"> <circle r="12" stroke="grey" fill="grey" cx="780" cy="420"></circle> <circle r="10" stroke="grey" fill="#404040" cx="780" cy="420"></circle> <polygon points="790,420 777,424 777,416" fill="lime"></polygon> </g> <rect fill="none" stroke="blue" stroke-width="3" width="800" height="400" x="0" y="0"></rect> <pattern patternUnits="userSpaceOnUse" width="40" height="40" x="10" y="10" id="genid1492"> <circle r="5" fill="blue" cx="10" cy="10"> <animate attributeName="r" from="5" to="30" dur="0.5" begin="playButton22.click" repeatCount="8"></animate> </circle> </pattern> <text font-size="250" stroke-width="2" stroke="blue" fill="url(#genid1492)" text-anchor="middle" dominant-baseline="central" x="400" y="200">svgR</text>
</svg>
</div>
<div id="huerotate-1" class="section level3">
<h3>hueRotate 1</h3>
<pre class="r"><code>WH=c(800, 400) # window rect
svgR( 
  playBar(wh=WH),
  rect(cxy=WH/2-c(0,15), wh=WH-c(40,100), 
    fill=linearGradient( xy1=c(0,0), xy2=c(1,1),
      colors= c('red','yellow','darkblue','brown','orange','green','pink','blue')),
      filter= filter( 
      feColorMatrix(type=&quot;hueRotate&quot;, values=0,
          animate( attributeName=&quot;values&quot;, from=0, to=360, dur=1,
              begin=playButton.click, repeatCount=5
          )                  
      )  
    )
  )
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="440">
<linearGradient x1="0" y1="0" x2="0" y2="1" id="genid1493"> <stop offset="0%" stop-color="lightblue"></stop> <stop offset="50%" stop-color="white"></stop> <stop offset="100%" stop-color="lightblue"></stop> </linearGradient> <rect fill="url(#genid1493)" width="800" height="40" x="0" y="400"></rect> <g id="playButton23"> <circle r="12" stroke="grey" fill="grey" cx="780" cy="420"></circle> <circle r="10" stroke="grey" fill="#404040" cx="780" cy="420"></circle> <polygon points="790,420 777,424 777,416" fill="lime"></polygon> </g> <rect fill="none" stroke="blue" stroke-width="3" width="800" height="400" x="0" y="0"></rect> <filter id="genid1494"> <feColorMatrix type="hueRotate" values="0"> <animate attributeName="values" from="0" to="360" dur="1" begin="playButton23.click" repeatCount="5"></animate> </feColorMatrix> </filter> <linearGradient x1="0" y1="0" x2="1" y2="1" id="genid1495"> <stop offset="0%" stop-color="red"></stop> <stop offset="14%" stop-color="yellow"></stop> <stop offset="28%" stop-color="darkblue"></stop> <stop offset="42%" stop-color="brown"></stop> <stop offset="57%" stop-color="orange"></stop> <stop offset="71%" stop-color="green"></stop> <stop offset="85%" stop-color="pink"></stop> <stop offset="100%" stop-color="blue"></stop> </linearGradient> <rect fill="url(#genid1495)" filter="url(#genid1494)" width="760" height="300" x="20" y="35"></rect>
</svg>
</div>
<div id="huerotate-2" class="section level3">
<h3>hueRotate 2</h3>
<pre class="r"><code>WH&lt;-c(800, 400) # window rect
colors&lt;-c('red','yellow','darkblue','orange','green','blue')
svgR( 
  playBar(wh=WH),
  rect(cxy=WH/2-c(0,15), wh=WH-c(40,100), 
    fill=radialGradient( xy1=c(0,0), xy2=c(1,1),
      colors= colors),
      filter= filter( 
      feColorMatrix(type=&quot;hueRotate&quot;, values=0,
          animate( attributeName=&quot;values&quot;, from=0, to=360, dur=1,
              begin=playButton.click, repeatCount=5
          )                  
      )  
    )
  )
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="440">
<linearGradient x1="0" y1="0" x2="0" y2="1" id="genid1496"> <stop offset="0%" stop-color="lightblue"></stop> <stop offset="50%" stop-color="white"></stop> <stop offset="100%" stop-color="lightblue"></stop> </linearGradient> <rect fill="url(#genid1496)" width="800" height="40" x="0" y="400"></rect> <g id="playButton24"> <circle r="12" stroke="grey" fill="grey" cx="780" cy="420"></circle> <circle r="10" stroke="grey" fill="#404040" cx="780" cy="420"></circle> <polygon points="790,420 777,424 777,416" fill="lime"></polygon> </g> <rect fill="none" stroke="blue" stroke-width="3" width="800" height="400" x="0" y="0"></rect> <filter id="genid1497"> <feColorMatrix type="hueRotate" values="0"> <animate attributeName="values" from="0" to="360" dur="1" begin="playButton24.click" repeatCount="5"></animate> </feColorMatrix> </filter> <radialGradient xy1="c(0, 0)" xy2="c(1, 1)" id="genid1498"> <stop offset="0%" stop-color="red"></stop> <stop offset="20%" stop-color="yellow"></stop> <stop offset="40%" stop-color="darkblue"></stop> <stop offset="60%" stop-color="orange"></stop> <stop offset="80%" stop-color="green"></stop> <stop offset="100%" stop-color="blue"></stop> </radialGradient> <rect fill="url(#genid1498)" filter="url(#genid1497)" width="760" height="300" x="20" y="35"></rect>
</svg>
</div>
</div>
<div id="animating-shapes" class="section level2">
<h2>Animating Shapes</h2>
<div id="morphology" class="section level3">
<h3>Morphology</h3>
<p>Here we animate using feMorphology.</p>
<pre class="r"><code>WH=c(800, 220) # window rect
svgR( 
  playBar(wh=WH), 
  text( 'feMorphology', cxy=WH/2-c(0,15), font.size=100, stroke=&quot;red&quot;, fill=&quot;none&quot;,
        filter=filter(
          feMorphology(radius=1, operator='dilate',
             animate( attributeName=&quot;radius&quot;, from=1, to=10, dur=2,
              begin=playButton.click, repeatCount=5
             )
          )
        )
  )
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="260">
<linearGradient x1="0" y1="0" x2="0" y2="1" id="genid1499"> <stop offset="0%" stop-color="lightblue"></stop> <stop offset="50%" stop-color="white"></stop> <stop offset="100%" stop-color="lightblue"></stop> </linearGradient> <rect fill="url(#genid1499)" width="800" height="40" x="0" y="220"></rect> <g id="playButton25"> <circle r="12" stroke="grey" fill="grey" cx="780" cy="240"></circle> <circle r="10" stroke="grey" fill="#404040" cx="780" cy="240"></circle> <polygon points="790,240 777,244 777,236" fill="lime"></polygon> </g> <rect fill="none" stroke="blue" stroke-width="3" width="800" height="220" x="0" y="0"></rect> <filter id="genid1500"> <feMorphology radius="1" operator="dilate"> <animate attributeName="radius" from="1" to="10" dur="2" begin="playButton25.click" repeatCount="5"></animate> </feMorphology> </filter> <text font-size="100" stroke="red" fill="none" filter="url(#genid1500)" text-anchor="middle" dominant-baseline="central" x="400" y="95">feMorphology</text>
</svg>
<p>This illustration uses both feTurbulence and feDisplacementMap to create a dissolve effect.</p>
</div>
<div id="feturbulence-and-fedisplacementmap" class="section level3">
<h3>feTurbulence and feDisplacementMap</h3>
<p>This illustration uses both feTurbulence and feDisplacementMap to create a dissolve effect.</p>
<pre class="r"><code>library(svgR)
WH=c(800, 400) # window rect
svgR( 
      rect(xy=c(0,0), wh=WH, fill='lightblue'),
      playBar(wh=WH), 
      symbol(
        rect( id=&quot;feTurbulence2&quot;, xy=c(0,0), wh=WH, 
          filter=filter( 
            feMerge(
              feMergeNode(in1=feTurbulence(baseFrequency=0.005, numOctaves=1 )),
              feMergeNode(in1=feTurbulence(baseFrequency=c(.001,.01), numOctaves=2 )),              
              feMergeNode(in1=feTurbulence(baseFrequency=0.1, numOctaves=2 ))
          )
        )
      )),
      g(
      text(&quot;svgR&quot;, cxy=WH/2-c(0,40), stroke='black', font.size=180, stroke.width=2, fill='none'),
      text(&quot;feDisplacementMap&quot;, cxy=WH/2+c(0,80), stroke='red', font.size=50, stroke.width=2, fill='none'),
           filter=
             filter( xy=c(0,0), filterUnits='userSpaceOnUse',
                feDisplacementMap(
                  in1=&quot;SourceGraphic&quot;,
                  in2=feImage(xlink.href='#feTurbulence2'),
                  scale=150,
                  yChannelSelector=&quot;R&quot;,
                  xChannelSelector=&quot;B&quot;,
                  animate(id='animateFilter2', attributeName='scale', from=150, to=1,
                    begin=playButton.click, dur=3, fill='freeze'),
                  animate(id='animateFilter2', attributeName='scale', from=1, to=150,
                    begin='animateFilter2.end + 1', dur=2, fill='freeze')
                )
          )
      )
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="440">
<rect fill="lightblue" width="800" height="400" x="0" y="0"></rect> <linearGradient x1="0" y1="0" x2="0" y2="1" id="genid1501"> <stop offset="0%" stop-color="lightblue"></stop> <stop offset="50%" stop-color="white"></stop> <stop offset="100%" stop-color="lightblue"></stop> </linearGradient> <rect fill="url(#genid1501)" width="800" height="40" x="0" y="400"></rect> <g id="playButton26"> <circle r="12" stroke="grey" fill="grey" cx="780" cy="420"></circle> <circle r="10" stroke="grey" fill="#404040" cx="780" cy="420"></circle> <polygon points="790,420 777,424 777,416" fill="lime"></polygon> </g> <rect fill="none" stroke="blue" stroke-width="3" width="800" height="400" x="0" y="0"></rect> <symbol> <filter id="genid1505"> <feTurbulence baseFrequency="0.005" numOctaves="1" result="genid1502"></feTurbulence> <feTurbulence baseFrequency="0.001,0.01" numOctaves="2" result="genid1503"></feTurbulence> <feTurbulence baseFrequency="0.1" numOctaves="2" result="genid1504"></feTurbulence> <feMerge> <feMergeNode in="genid1502"></feMergeNode> <feMergeNode in="genid1503"></feMergeNode> <feMergeNode in="genid1504"></feMergeNode> </feMerge> </filter> <rect id="feTurbulence2" filter="url(#genid1505)" width="800" height="400" x="0" y="0"></rect> </symbol> <filter filterUnits="userSpaceOnUse" x="0" y="0" id="genid1507"> <feImage xlink:href="#feTurbulence2" result="genid1506"></feImage> <feDisplacementMap in="SourceGraphic" in2="genid1506" scale="150" yChannelSelector="R" xChannelSelector="B"> <animate id="animateFilter2" attributeName="scale" from="150" to="1" begin="playButton26.click" dur="3" fill="freeze"></animate> <animate id="animateFilter2" attributeName="scale" from="1" to="150" begin="animateFilter2.end + 1" dur="2" fill="freeze"></animate> </feDisplacementMap> </filter> <g filter="url(#genid1507)"> <text stroke="black" font-size="180" stroke-width="2" fill="none" text-anchor="middle" dominant-baseline="central" x="400" y="160">svgR</text> <text stroke="red" font-size="50" stroke-width="2" fill="none" text-anchor="middle" dominant-baseline="central" x="400" y="280">feDisplacementMap</text> </g>
</svg>
</div>
<div id="warping-text" class="section level3">
<h3>Warping Text</h3>
<pre class="r"><code>library(svgR)
WH=c(800, 400) # window rect
x&lt;-c(.3,.4,.5,.6)
dx&lt;-.1
y&lt;-.3
sc&lt;-50
col=c(&quot;black&quot;,&quot;gold&quot;,&quot;red&quot;)
XWH&lt;-WH-c(0,100)
svgR( 
      playBar(wh=WH), 
      symbol(
        rect( id=&quot;dispGradAni36&quot;, xy=c(0,0)*WH,  wh=XWH, fill='blue',
                filter=filter(
                  feTurbulence(baseFrequency=.005, numOctaves=3, seed=100),
                  feComponentTransfer(
                    feFuncR(type=&quot;linear&quot;, slope=3, intercept=-1),
                    feFuncG(type=&quot;linear&quot;, slope=2, intercept=-1),
                    feFuncB(type=&quot;linear&quot;, slope=4, intercept=-1),
                    feFuncA(type=&quot;linear&quot;, slope=0, intercept=1)
                  ),
                  feColorMatrix(type=&quot;saturate&quot;)
                )
        )
      ),
      text(&quot;A Data Flow&quot;, xy=c(30,30), font.size=25, fill=&quot;blue&quot;, font='black'),
      g(
        lapply(1:30, function(i)text(cxy=runif(2)*.7*WH+c(50,50), 
                                     fill=rrgb(), &quot;Flowing Data&quot;, font.size=sample(10:30,1)
        )),
      filter=
        filter( xy=c(0,0), filterUnits='userSpaceOnUse',
          feDisplacementMap(
            in1=&quot;SourceGraphic&quot;,
            in2=feImage(xlink.href='#dispGradAni36'),
            scale=50,
            yChannelSelector=&quot;R&quot;,
            xChannelSelector=&quot;B&quot;,
            animate(id='animateFilter5', attributeName='scale', from=sc, to=1,
              begin=playButton.click, dur=4, fill='freeze'),
            animate(id='animateFilter6', attributeName='scale', from=1, to=sc,
              begin='animateFilter5.end + 3', dur=4, fill='freeze')
          )
        )
      )
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="440">
<linearGradient x1="0" y1="0" x2="0" y2="1" id="genid1508"> <stop offset="0%" stop-color="lightblue"></stop> <stop offset="50%" stop-color="white"></stop> <stop offset="100%" stop-color="lightblue"></stop> </linearGradient> <rect fill="url(#genid1508)" width="800" height="40" x="0" y="400"></rect> <g id="playButton27"> <circle r="12" stroke="grey" fill="grey" cx="780" cy="420"></circle> <circle r="10" stroke="grey" fill="#404040" cx="780" cy="420"></circle> <polygon points="790,420 777,424 777,416" fill="lime"></polygon> </g> <rect fill="none" stroke="blue" stroke-width="3" width="800" height="400" x="0" y="0"></rect> <symbol> <filter id="genid1509"> <feTurbulence baseFrequency="0.005" numOctaves="3" seed="100"></feTurbulence> <feComponentTransfer> <feFuncR type="linear" slope="3" intercept="-1"></feFuncR> <feFuncG type="linear" slope="2" intercept="-1"></feFuncG> <feFuncB type="linear" slope="4" intercept="-1"></feFuncB> <feFuncA type="linear" slope="0" intercept="1"></feFuncA> </feComponentTransfer> <feColorMatrix type="saturate"></feColorMatrix> </filter> <rect id="dispGradAni36" fill="blue" filter="url(#genid1509)" width="800" height="300" x="0" y="0"></rect> </symbol> <text font-size="25" fill="blue" font="black" x="30" y="30">A Data Flow</text> <filter filterUnits="userSpaceOnUse" x="0" y="0" id="genid1511"> <feImage xlink:href="#dispGradAni36" result="genid1510"></feImage> <feDisplacementMap in="SourceGraphic" in2="genid1510" scale="50" yChannelSelector="R" xChannelSelector="B"> <animate id="animateFilter5" attributeName="scale" from="50" to="1" begin="playButton27.click" dur="4" fill="freeze"></animate> <animate id="animateFilter6" attributeName="scale" from="1" to="50" begin="animateFilter5.end + 3" dur="4" fill="freeze"></animate> </feDisplacementMap> </filter> <g filter="url(#genid1511)"> <text fill="rgb(34,178,111)" font-size="17" text-anchor="middle" dominant-baseline="central" x="164.081811327487" y="137.66326601617">Flowing Data</text> <text fill="rgb(46,39,220)" font-size="27" text-anchor="middle" dominant-baseline="central" x="518.763905670494" y="186.62154186517">Flowing Data</text> <text fill="rgb(204,35,236)" font-size="27" text-anchor="middle" dominant-baseline="central" x="365.05252096802" y="161.688183080405">Flowing Data</text> <text fill="rgb(134,248,32)" font-size="26" text-anchor="middle" dominant-baseline="central" x="487.888288181275" y="107.164738643914">Flowing Data</text> <text fill="rgb(134,76,186)" font-size="30" text-anchor="middle" dominant-baseline="central" x="178.99223074317" y="303.927379036322">Flowing Data</text> <text fill="rgb(106,204,120)" font-size="17" text-anchor="middle" dominant-baseline="central" x="56.1228235065937" y="145.274876635522">Flowing Data</text> <text fill="rgb(47,51,130)" font-size="19" text-anchor="middle" dominant-baseline="central" x="107.763307057321" y="84.734600353986">Flowing Data</text> <text fill="rgb(234,200,89)" font-size="15" text-anchor="middle" dominant-baseline="central" x="607.444824278355" y="264.100881041959">Flowing Data</text> <text fill="rgb(123,82,207)" font-size="19" text-anchor="middle" dominant-baseline="central" x="543.014279603958" y="80.3398254234344">Flowing Data</text> <text fill="rgb(165,97,90)" font-size="22" text-anchor="middle" dominant-baseline="central" x="53.6542789451778" y="74.0044939890504">Flowing Data</text> <text fill="rgb(136,4,103)" font-size="22" text-anchor="middle" dominant-baseline="central" x="261.6943612881" y="259.316941155121">Flowing Data</text> <text fill="rgb(177,21,181)" font-size="14" text-anchor="middle" dominant-baseline="central" x="318.035740591586" y="318.446435462683">Flowing Data</text> <text fill="rgb(114,205,198)" font-size="28" text-anchor="middle" dominant-baseline="central" x="469.394316989928" y="124.881691336632">Flowing Data</text> <text fill="rgb(49,106,70)" font-size="19" text-anchor="middle" dominant-baseline="central" x="216.27626882866" y="241.216312786564">Flowing Data</text> <text fill="rgb(247,89,156)" font-size="12" text-anchor="middle" dominant-baseline="central" x="502.792016752064" y="94.8267214372754">Flowing Data</text> <text fill="rgb(81,49,226)" font-size="10" text-anchor="middle" dominant-baseline="central" x="427.843069490045" y="119.630091432482">Flowing Data</text> <text fill="rgb(194,185,141)" font-size="22" text-anchor="middle" dominant-baseline="central" x="463.963800873607" y="77.628774177283">Flowing Data</text> <text fill="rgb(92,251,209)" font-size="12" text-anchor="middle" dominant-baseline="central" x="569.18987583369" y="50.3944508358836">Flowing Data</text> <text fill="rgb(214,157,194)" font-size="29" text-anchor="middle" dominant-baseline="central" x="148.63424886018" y="70.2257664501667">Flowing Data</text> <text fill="rgb(139,243,194)" font-size="10" text-anchor="middle" dominant-baseline="central" x="155.627730228007" y="244.191462108865">Flowing Data</text> <text fill="rgb(211,89,236)" font-size="23" text-anchor="middle" dominant-baseline="central" x="299.604012016207" y="245.572386011481">Flowing Data</text> <text fill="rgb(192,227,19)" font-size="22" text-anchor="middle" dominant-baseline="central" x="370.397605858743" y="290.367768071592">Flowing Data</text> <text fill="rgb(106,57,81)" font-size="27" text-anchor="middle" dominant-baseline="central" x="314.475856069475" y="296.194955287501">Flowing Data</text> <text fill="rgb(139,191,96)" font-size="22" text-anchor="middle" dominant-baseline="central" x="526.702199894935" y="276.903367675841">Flowing Data</text> <text fill="rgb(221,130,73)" font-size="12" text-anchor="middle" dominant-baseline="central" x="398.815202694386" y="161.760608777404">Flowing Data</text> <text fill="rgb(186,216,56)" font-size="26" text-anchor="middle" dominant-baseline="central" x="402.127463631332" y="309.264299403876">Flowing Data</text> <text fill="rgb(25,118,129)" font-size="11" text-anchor="middle" dominant-baseline="central" x="56.5546659380198" y="248.163357349113">Flowing Data</text> <text fill="rgb(38,39,134)" font-size="29" text-anchor="middle" dominant-baseline="central" x="205.115148108453" y="109.483825499192">Flowing Data</text> <text fill="rgb(188,115,88)" font-size="10" text-anchor="middle" dominant-baseline="central" x="247.279249019921" y="230.731051368639">Flowing Data</text> <text fill="rgb(134,143,246)" font-size="26" text-anchor="middle" dominant-baseline="central" x="306.138247121125" y="72.8449894487858">Flowing Data</text> </g>
</svg>
</div>
</div>
<div id="variable-rates-with-animate" class="section level2">
<h2>Variable Rates with Animate</h2>
<div id="using-keytimes-and-a-linear-calcmode" class="section level3">
<h3>Using keyTimes and a Linear calcMode</h3>
<p><em>KeyTimes</em> is a vector of strictly increasing numeric values starting with 0 and ending with 1. Each <em>keyTime</em> value represents a point in time scaled by the duration, <em>dur</em>.</p>
<p><em>Values</em> is vector (or list) describing the value of the attribute at each keyTime. With <em>calcMode</em> = linear, the values between each keyTime interval is interpolated linearly.</p>
<p>In the example below, the values are the x coordinate of the center of the circle, <em>cx</em>, so the circle appears to move at a constant velocity as the <em>cx</em> varies linearly within both intervals (The keyTime intervals are <span class="math inline">\([0 , 0.95]\)</span> and <span class="math inline">\([ 0.95, 1]\)</span>, and represent in seconds the <span class="math inline">\([0, 2.85]\)</span> and <span class="math inline">\([ 2.85, 3]\)</span> )</p>
<pre class="r"><code>WH&lt;-c(800,150)
d&lt;-c(&quot;m&quot;, WH*c(0,.0), &quot;l&quot;, WH*c(1,0))
aniMotion&lt;-newId()
svgR( 
    playBar(wh=WH),
    rect(xy=c(0,0),wh=WH, fill=&quot;#AAFFAA&quot;),
    rect(xy=c(0,0),wh=WH*c(0.2,1), fill=&quot;#FFAAAA&quot;),  
    text(&quot;Using animate for attribute='cx' with calcMode='linear'&quot;, xy=c(30,30), font.size=25, fill=&quot;blue&quot;, font='black'),
    text(&quot;Slow&quot;, xy=c(30,WH[2]-30), font.size=20, fill=&quot;red&quot;, font='black'),
    text(&quot;Fast&quot;, xy=c(WH[1]/2,WH[2]-30), font.size=20, fill=&quot;green&quot;, font='black'),
        
    circle( cxy=c(0,.5)*WH, r=10, stroke=&quot;black&quot;, fill=&quot;yellow&quot;,
      animate( attributeName='cx', values=c(40, 144, 760),
                    keyTimes=c(0,0.95,1),  
                    begin=playButton.click, dur=5)
    )
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="190">
<linearGradient x1="0" y1="0" x2="0" y2="1" id="genid1512"> <stop offset="0%" stop-color="lightblue"></stop> <stop offset="50%" stop-color="white"></stop> <stop offset="100%" stop-color="lightblue"></stop> </linearGradient> <rect fill="url(#genid1512)" width="800" height="40" x="0" y="150"></rect> <g id="playButton28"> <circle r="12" stroke="grey" fill="grey" cx="780" cy="170"></circle> <circle r="10" stroke="grey" fill="#404040" cx="780" cy="170"></circle> <polygon points="790,170 777,174 777,166" fill="lime"></polygon> </g> <rect fill="none" stroke="blue" stroke-width="3" width="800" height="150" x="0" y="0"></rect> <rect fill="#AAFFAA" width="800" height="150" x="0" y="0"></rect> <rect fill="#FFAAAA" width="160" height="150" x="0" y="0"></rect> <text font-size="25" fill="blue" font="black" x="30" y="30">Using animate for attribute=cx with calcMode=linear</text> <text font-size="20" fill="red" font="black" x="30" y="120">Slow</text> <text font-size="20" fill="green" font="black" x="400" y="120">Fast</text> <circle r="10" stroke="black" fill="yellow" cx="0" cy="75"> <animate attributeName="cx" values="40;144;760" keyTimes="0;0.95;1" begin="playButton28.click" dur="5"></animate> </circle>
</svg>
<p>The rate changes for calcMode Linear are step functions.</p>
<p><strong>Note:</strong> The default <em>calcMode</em> for <strong>animate</strong> is <em>linear</em> so we can omit it. (Unlike <strong>animateMotion</strong>, where the default <em>calcMode</em> is <em>paced</em> )</p>
</div>
<div id="using-keysplines-with-animate-for-a-gradual-rate-change" class="section level3">
<h3>Using keySplines with animate for a Gradual Rate Change</h3>
<div id="fast-at-the-beginning-and-slow-at-the-end" class="section level4">
<h4>Fast at the beginning and Slow at the end</h4>
<pre class="r"><code>  WH&lt;-c(800,200)
  svgR( 
      playBar(wh=WH),
      rect(xy=c(0,0),wh=WH, fill=linearGradient(x12=c(0,1),colors=c(&quot;lightgreen&quot;,&quot;pink&quot;))),
      text(&quot;Using animate for attribute='cx' with calcMode='spline'&quot;, xy=c(30,30), font.size=25, fill=&quot;blue&quot;, font='black'),
      circle( cxy=c(40,100), r=30, stroke=&quot;black&quot;, fill=&quot;yellow&quot;,
        animate(attributeName='cx', values=c(40,760), calcMode=&quot;spline&quot;,
              keyTimes=c(0,1), keySplines=&quot;0 0.75 0.25 1&quot;,
                      begin=playButton.click, dur=5, fill=&quot;remove&quot;) 
      )
  )</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="240">
<linearGradient x1="0" y1="0" x2="0" y2="1" id="genid1513"> <stop offset="0%" stop-color="lightblue"></stop> <stop offset="50%" stop-color="white"></stop> <stop offset="100%" stop-color="lightblue"></stop> </linearGradient> <rect fill="url(#genid1513)" width="800" height="40" x="0" y="200"></rect> <g id="playButton29"> <circle r="12" stroke="grey" fill="grey" cx="780" cy="220"></circle> <circle r="10" stroke="grey" fill="#404040" cx="780" cy="220"></circle> <polygon points="790,220 777,224 777,216" fill="lime"></polygon> </g> <rect fill="none" stroke="blue" stroke-width="3" width="800" height="200" x="0" y="0"></rect> <linearGradient x1="0" x2="1" id="genid1514"> <stop offset="0%" stop-color="lightgreen"></stop> <stop offset="100%" stop-color="pink"></stop> </linearGradient> <rect fill="url(#genid1514)" width="800" height="200" x="0" y="0"></rect> <text font-size="25" fill="blue" font="black" x="30" y="30">Using animate for attribute=cx with calcMode=spline</text> <circle r="30" stroke="black" fill="yellow" cx="40" cy="100"> <animate attributeName="cx" values="40;760" calcMode="spline" keyTimes="0;1" keySplines="0 0.75 0.25 1" begin="playButton29.click" dur="5" fill="remove"></animate> </circle>
</svg>
</div>
<div id="slow-at-the-beginning-and-fast-at-the-end" class="section level4">
<h4>Slow at the beginning and Fast at the end</h4>
<pre class="r"><code>  WH&lt;-c(800,200)
  svgR( 
      playBar(wh=WH),
      rect(xy=c(0,0),wh=WH, fill=linearGradient(x12=c(0,1),colors=c(&quot;pink&quot;,&quot;lightgreen&quot;))),
      text(&quot;Using animate for attribute='cx' with calcMode='spline'&quot;, xy=c(30,30), font.size=25, fill=&quot;blue&quot;, font='black'),
      circle( cxy=c(40,100), r=30, stroke=&quot;black&quot;, fill=&quot;yellow&quot;,
        animate(attributeName='cx', values=c(40,760), calcMode=&quot;spline&quot;,
              keyTimes=c(0, 1), keySplines=&quot;.75 0 1 .25&quot;,
                      begin=playButton.click, dur=5, fill=&quot;remove&quot;) 
      )
  )</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="240">
<linearGradient x1="0" y1="0" x2="0" y2="1" id="genid1515"> <stop offset="0%" stop-color="lightblue"></stop> <stop offset="50%" stop-color="white"></stop> <stop offset="100%" stop-color="lightblue"></stop> </linearGradient> <rect fill="url(#genid1515)" width="800" height="40" x="0" y="200"></rect> <g id="playButton30"> <circle r="12" stroke="grey" fill="grey" cx="780" cy="220"></circle> <circle r="10" stroke="grey" fill="#404040" cx="780" cy="220"></circle> <polygon points="790,220 777,224 777,216" fill="lime"></polygon> </g> <rect fill="none" stroke="blue" stroke-width="3" width="800" height="200" x="0" y="0"></rect> <linearGradient x1="0" x2="1" id="genid1516"> <stop offset="0%" stop-color="pink"></stop> <stop offset="100%" stop-color="lightgreen"></stop> </linearGradient> <rect fill="url(#genid1516)" width="800" height="200" x="0" y="0"></rect> <text font-size="25" fill="blue" font="black" x="30" y="30">Using animate for attribute=cx with calcMode=spline</text> <circle r="30" stroke="black" fill="yellow" cx="40" cy="100"> <animate attributeName="cx" values="40;760" calcMode="spline" keyTimes="0;1" keySplines=".75 0 1 .25" begin="playButton30.click" dur="5" fill="remove"></animate> </circle>
</svg>
</div>
<div id="slow-at-the-beginning-and-at-the-end" class="section level4">
<h4>Slow at the beginning and at the end</h4>
<pre class="r"><code>  WH&lt;-c(800,200)
  svgR( 
      playBar(wh=WH),
      rect(xy=c(0,0),wh=WH, fill=linearGradient(x12=c(0,1),colors=c(&quot;pink&quot;,&quot;lightgreen&quot;,&quot;pink&quot;))),
      text(&quot;Using animate for attribute='cx' with calcMode='spline'&quot;, xy=c(30,30), font.size=25, fill=&quot;blue&quot;, font='black'),
      circle( cxy=c(40,100), r=30, stroke=&quot;black&quot;, fill=&quot;yellow&quot;,
        animate(attributeName='cx', values=c(40,760), calcMode=&quot;spline&quot;,
              keyTimes=c(0, 1), keySplines=&quot;0 0.5 0.5 1&quot;,
                      begin=playButton.click, dur=5, fill=&quot;remove&quot;) 
      )
  )</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="240">
<linearGradient x1="0" y1="0" x2="0" y2="1" id="genid1517"> <stop offset="0%" stop-color="lightblue"></stop> <stop offset="50%" stop-color="white"></stop> <stop offset="100%" stop-color="lightblue"></stop> </linearGradient> <rect fill="url(#genid1517)" width="800" height="40" x="0" y="200"></rect> <g id="playButton31"> <circle r="12" stroke="grey" fill="grey" cx="780" cy="220"></circle> <circle r="10" stroke="grey" fill="#404040" cx="780" cy="220"></circle> <polygon points="790,220 777,224 777,216" fill="lime"></polygon> </g> <rect fill="none" stroke="blue" stroke-width="3" width="800" height="200" x="0" y="0"></rect> <linearGradient x1="0" x2="1" id="genid1518"> <stop offset="0%" stop-color="pink"></stop> <stop offset="50%" stop-color="lightgreen"></stop> <stop offset="100%" stop-color="pink"></stop> </linearGradient> <rect fill="url(#genid1518)" width="800" height="200" x="0" y="0"></rect> <text font-size="25" fill="blue" font="black" x="30" y="30">Using animate for attribute=cx with calcMode=spline</text> <circle r="30" stroke="black" fill="yellow" cx="40" cy="100"> <animate attributeName="cx" values="40;760" calcMode="spline" keyTimes="0;1" keySplines="0 0.5 0.5 1" begin="playButton31.click" dur="5" fill="remove"></animate> </circle>
</svg>
</div>
<div id="fast-at-the-beginning-and-at-the-end" class="section level4">
<h4>Fast at the beginning and at the end</h4>
<pre class="r"><code>  WH&lt;-c(800,200)
  svgR( 
      playBar(wh=WH),
      rect(xy=c(0,0),wh=WH, fill=linearGradient(x12=c(0,1),colors=c(&quot;lightgreen&quot;,&quot;pink&quot;,&quot;lightgreen&quot;))),
      text(&quot;Using animate for attribute='cx' with calcMode='spline'&quot;, xy=c(30,30), font.size=25, fill=&quot;blue&quot;, font='black'),
      circle( cxy=c(40,100), r=30, stroke=&quot;black&quot;, fill=&quot;yellow&quot;,
        animate(attributeName='cx', values=c(40,760), calcMode=&quot;spline&quot;,
              keyTimes=c(0, 1), 
              keySplines=c(0,.5,1,.5),
                      begin=playButton.click, dur=5, fill=&quot;remove&quot;) 
      )
  )</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="240">
<linearGradient x1="0" y1="0" x2="0" y2="1" id="genid1519"> <stop offset="0%" stop-color="lightblue"></stop> <stop offset="50%" stop-color="white"></stop> <stop offset="100%" stop-color="lightblue"></stop> </linearGradient> <rect fill="url(#genid1519)" width="800" height="40" x="0" y="200"></rect> <g id="playButton32"> <circle r="12" stroke="grey" fill="grey" cx="780" cy="220"></circle> <circle r="10" stroke="grey" fill="#404040" cx="780" cy="220"></circle> <polygon points="790,220 777,224 777,216" fill="lime"></polygon> </g> <rect fill="none" stroke="blue" stroke-width="3" width="800" height="200" x="0" y="0"></rect> <linearGradient x1="0" x2="1" id="genid1520"> <stop offset="0%" stop-color="lightgreen"></stop> <stop offset="50%" stop-color="pink"></stop> <stop offset="100%" stop-color="lightgreen"></stop> </linearGradient> <rect fill="url(#genid1520)" width="800" height="200" x="0" y="0"></rect> <text font-size="25" fill="blue" font="black" x="30" y="30">Using animate for attribute=cx with calcMode=spline</text> <circle r="30" stroke="black" fill="yellow" cx="40" cy="100"> <animate attributeName="cx" values="40;760" calcMode="spline" keyTimes="0;1" keySplines="0 0.5 1 0.5" begin="playButton32.click" dur="5" fill="remove"></animate> </circle>
</svg>
</div>
<div id="two-slow-downs" class="section level4">
<h4>Two slow downs</h4>
<pre class="r"><code>  WH&lt;-c(800,200)
  svgR( 
      playBar(wh=WH),
      rect(xy=c(0,0),wh=WH, fill=linearGradient(x12=c(0,1),colors=c(&quot;lightgreen&quot;,&quot;pink&quot;,&quot;lightgreen&quot;, &quot;pink&quot;,&quot;lightgreen&quot;))),
      text(&quot;Using animate for attribute='cx' with calcMode='spline'&quot;, xy=c(30,30), font.size=25, fill=&quot;blue&quot;, font='black'),
      circle( cxy=c(40,100), r=30, stroke=&quot;black&quot;, fill=&quot;yellow&quot;,
        animate(attributeName='cx', values=c(40,(40+760)/2, 760), calcMode=&quot;spline&quot;,
              keyTimes=c(0, .5, 1), 
              keySplines=rep(c(0,.5,1,.5),2),
                      begin=playButton.click, dur=5, fill=&quot;remove&quot;) 
      )
  )</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="240">
<linearGradient x1="0" y1="0" x2="0" y2="1" id="genid1521"> <stop offset="0%" stop-color="lightblue"></stop> <stop offset="50%" stop-color="white"></stop> <stop offset="100%" stop-color="lightblue"></stop> </linearGradient> <rect fill="url(#genid1521)" width="800" height="40" x="0" y="200"></rect> <g id="playButton33"> <circle r="12" stroke="grey" fill="grey" cx="780" cy="220"></circle> <circle r="10" stroke="grey" fill="#404040" cx="780" cy="220"></circle> <polygon points="790,220 777,224 777,216" fill="lime"></polygon> </g> <rect fill="none" stroke="blue" stroke-width="3" width="800" height="200" x="0" y="0"></rect> <linearGradient x1="0" x2="1" id="genid1522"> <stop offset="0%" stop-color="lightgreen"></stop> <stop offset="25%" stop-color="pink"></stop> <stop offset="50%" stop-color="lightgreen"></stop> <stop offset="75%" stop-color="pink"></stop> <stop offset="100%" stop-color="lightgreen"></stop> </linearGradient> <rect fill="url(#genid1522)" width="800" height="200" x="0" y="0"></rect> <text font-size="25" fill="blue" font="black" x="30" y="30">Using animate for attribute=cx with calcMode=spline</text> <circle r="30" stroke="black" fill="yellow" cx="40" cy="100"> <animate attributeName="cx" values="40;400;760" calcMode="spline" keyTimes="0;0.5;1" keySplines="0 0.5 1 0.5 0 0.5 1 0.5" begin="playButton33.click" dur="5" fill="remove"></animate> </circle>
</svg>
</div>
</div>
<div id="path-animation" class="section level3">
<h3>Path Animation</h3>
<pre class="r"><code>WH&lt;-c(800,300)
M&lt;-30; K&lt;-4
N&lt;-M*K
IM&lt;-seq.int(K,N,K)
theta&lt;-seq(0,2*pi, length.out=N+1)
theta&lt;-theta[-1]
pts &lt;-rbind(cos(theta),sin(theta))
r0&lt;-matrix(80,2,N)
r1&lt;-matrix(20,2,N)
r1[,IM]&lt;-140
pts0&lt;-r0*pts + WH/2
pts1&lt;-r1*pts + WH/2
phi&lt;-pi/4
m2&lt;-matrix(c(cos(phi),sin(phi),-sin(phi),cos(phi)),2,2)
pts2&lt;-pts
pts2[,IM]&lt;-m2%*%pts[,IM]
pts2&lt;-r0*pts2+WH/2
as.path&lt;-function(ptsX){
  c(&quot;M&quot;,ptsX[,1],&quot;C&quot;,ptsX[,2:(dim(ptsX)[2]) ],&quot;Z&quot;)
}
goodFill&lt;-'#DDDDFF'
badFill&lt;-'#CC0000'
svgR(
  playBar(wh=WH),
  path(fill=goodFill, stroke='blue', d=as.path(pts0),
    animate( attributeName='d', 
      values=list(as.path(pts0),as.path(pts1),as.path(pts2)),
      begin=playButton.click, dur=5, fill=&quot;remove&quot;
    ),
    animate( attributeName='fill',
      values=c(goodFill,badFill,goodFill),
      begin=playButton.click, dur=5, fill=&quot;remove&quot;
    )
  )
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="340">
<linearGradient x1="0" y1="0" x2="0" y2="1" id="genid1523"> <stop offset="0%" stop-color="lightblue"></stop> <stop offset="50%" stop-color="white"></stop> <stop offset="100%" stop-color="lightblue"></stop> </linearGradient> <rect fill="url(#genid1523)" width="800" height="40" x="0" y="300"></rect> <g id="playButton34"> <circle r="12" stroke="grey" fill="grey" cx="780" cy="320"></circle> <circle r="10" stroke="grey" fill="#404040" cx="780" cy="320"></circle> <polygon points="790,320 777,324 777,316" fill="lime"></polygon> </g> <rect fill="none" stroke="blue" stroke-width="3" width="800" height="300" x="0" y="0"></rect> <path fill="#DDDDFF" stroke="blue" d="M 479.890362780366 154.186876499435 C 479.561751629462 158.362277061412 479.015067247611 162.514757203218 478.251808058704 166.632935265421 477.274066103125 170.705523608202 476.084521303612 174.721359549996 474.686434119776 178.669435963624 473.083636611408 182.538931446064 471.280521935069 186.319239979164 469.282032302755 190 467.093645435634 193.571122801202 464.721359549996 197.022820183398 462.171676916558 200.345631283987 459.451586038192 203.530448508709 456.568542494924 206.568542494924 453.530448508709 209.451586038192 450.345631283987 212.171676916558 447.022820183398 214.721359549996 443.571122801202 217.093645435634 440 219.282032302755 436.319239979164 221.280521935069 432.538931446064 223.083636611408 428.669435963624 224.686434119776 424.721359549996 226.084521303612 420.705523608202 227.274066103125 416.632935265421 228.251808058704 412.514757203218 229.015067247611 408.362277061412 229.561751629462 404.186876499436 229.890362780366 400 230 395.813123500565 229.890362780366 391.637722938588 229.561751629462 387.485242796782 229.015067247611 383.367064734579 228.251808058704 379.294476391798 227.274066103125 375.278640450004 226.084521303612 371.330564036376 224.686434119776 367.461068553936 223.083636611408 363.680760020836 221.280521935069 360 219.282032302755 356.428877198798 217.093645435634 352.977179816602 214.721359549996 349.654368716013 212.171676916558 346.469551491291 209.451586038192 343.431457505076 206.568542494924 340.548413961808 203.530448508709 337.828323083442 200.345631283987 335.278640450004 197.022820183398 332.906354564366 193.571122801202 330.717967697245 190 328.719478064931 186.319239979164 326.916363388592 182.538931446064 325.313565880224 178.669435963624 323.915478696388 174.721359549996 322.725933896875 170.705523608202 321.748191941296 166.632935265421 320.984932752389 162.514757203218 320.438248370538 158.362277061412 320.109637219634 154.186876499436 320 150 320.109637219634 145.813123500565 320.438248370538 141.637722938588 320.984932752389 137.485242796782 321.748191941296 133.367064734579 322.725933896874 129.294476391798 323.915478696388 125.278640450004 325.313565880224 121.330564036376 326.916363388592 117.461068553936 328.719478064931 113.680760020836 330.717967697245 110 332.906354564366 106.428877198798 335.278640450004 102.977179816602 337.828323083442 99.654368716013 340.548413961808 96.4695514912914 343.431457505076 93.4314575050762 346.469551491291 90.5484139618085 349.654368716013 87.8283230834424 352.977179816602 85.2786404500042 356.428877198798 82.9063545643661 360 80.7179676972449 363.680760020836 78.7194780649306 367.461068553936 76.916363388592 371.330564036376 75.3135658802239 375.278640450004 73.9154786963877 379.294476391798 72.7259338968746 383.367064734579 71.7481919412956 387.485242796782 70.984932752389 391.637722938588 70.4382483705381 395.813123500564 70.1096372196341 400 70 404.186876499435 70.1096372196341 408.362277061412 70.4382483705381 412.514757203218 70.984932752389 416.632935265421 71.7481919412955 420.705523608202 72.7259338968745 424.721359549996 73.9154786963877 428.669435963624 75.3135658802238 432.538931446064 76.9163633885919 436.319239979164 78.7194780649306 440 80.7179676972449 443.571122801202 82.9063545643661 447.022820183398 85.2786404500042 450.345631283987 87.8283230834423 453.530448508709 90.5484139618084 456.568542494924 93.4314575050762 459.451586038192 96.4695514912913 462.171676916558 99.654368716013 464.721359549996 102.977179816602 467.093645435634 106.428877198798 469.282032302755 110 471.280521935069 113.680760020836 473.083636611408 117.461068553936 474.686434119776 121.330564036376 476.084521303612 125.278640450004 477.274066103125 129.294476391798 478.251808058704 133.367064734579 479.015067247611 137.485242796782 479.561751629462 141.637722938588 479.890362780366 145.813123500564 480 150 Z"> <animate attributeName="d" values="M 479.890362780366 154.186876499435 C 479.561751629462 158.362277061412 479.015067247611 162.514757203218 478.251808058704 166.632935265421 477.274066103125 170.705523608202 476.084521303612 174.721359549996 474.686434119776 178.669435963624 473.083636611408 182.538931446064 471.280521935069 186.319239979164 469.282032302755 190 467.093645435634 193.571122801202 464.721359549996 197.022820183398 462.171676916558 200.345631283987 459.451586038192 203.530448508709 456.568542494924 206.568542494924 453.530448508709 209.451586038192 450.345631283987 212.171676916558 447.022820183398 214.721359549996 443.571122801202 217.093645435634 440 219.282032302755 436.319239979164 221.280521935069 432.538931446064 223.083636611408 428.669435963624 224.686434119776 424.721359549996 226.084521303612 420.705523608202 227.274066103125 416.632935265421 228.251808058704 412.514757203218 229.015067247611 408.362277061412 229.561751629462 404.186876499436 229.890362780366 400 230 395.813123500565 229.890362780366 391.637722938588 229.561751629462 387.485242796782 229.015067247611 383.367064734579 228.251808058704 379.294476391798 227.274066103125 375.278640450004 226.084521303612 371.330564036376 224.686434119776 367.461068553936 223.083636611408 363.680760020836 221.280521935069 360 219.282032302755 356.428877198798 217.093645435634 352.977179816602 214.721359549996 349.654368716013 212.171676916558 346.469551491291 209.451586038192 343.431457505076 206.568542494924 340.548413961808 203.530448508709 337.828323083442 200.345631283987 335.278640450004 197.022820183398 332.906354564366 193.571122801202 330.717967697245 190 328.719478064931 186.319239979164 326.916363388592 182.538931446064 325.313565880224 178.669435963624 323.915478696388 174.721359549996 322.725933896875 170.705523608202 321.748191941296 166.632935265421 320.984932752389 162.514757203218 320.438248370538 158.362277061412 320.109637219634 154.186876499436 320 150 320.109637219634 145.813123500565 320.438248370538 141.637722938588 320.984932752389 137.485242796782 321.748191941296 133.367064734579 322.725933896874 129.294476391798 323.915478696388 125.278640450004 325.313565880224 121.330564036376 326.916363388592 117.461068553936 328.719478064931 113.680760020836 330.717967697245 110 332.906354564366 106.428877198798 335.278640450004 102.977179816602 337.828323083442 99.654368716013 340.548413961808 96.4695514912914 343.431457505076 93.4314575050762 346.469551491291 90.5484139618085 349.654368716013 87.8283230834424 352.977179816602 85.2786404500042 356.428877198798 82.9063545643661 360 80.7179676972449 363.680760020836 78.7194780649306 367.461068553936 76.916363388592 371.330564036376 75.3135658802239 375.278640450004 73.9154786963877 379.294476391798 72.7259338968746 383.367064734579 71.7481919412956 387.485242796782 70.984932752389 391.637722938588 70.4382483705381 395.813123500564 70.1096372196341 400 70 404.186876499435 70.1096372196341 408.362277061412 70.4382483705381 412.514757203218 70.984932752389 416.632935265421 71.7481919412955 420.705523608202 72.7259338968745 424.721359549996 73.9154786963877 428.669435963624 75.3135658802238 432.538931446064 76.9163633885919 436.319239979164 78.7194780649306 440 80.7179676972449 443.571122801202 82.9063545643661 447.022820183398 85.2786404500042 450.345631283987 87.8283230834423 453.530448508709 90.5484139618084 456.568542494924 93.4314575050762 459.451586038192 96.4695514912913 462.171676916558 99.654368716013 464.721359549996 102.977179816602 467.093645435634 106.428877198798 469.282032302755 110 471.280521935069 113.680760020836 473.083636611408 117.461068553936 474.686434119776 121.330564036376 476.084521303612 125.278640450004 477.274066103125 129.294476391798 478.251808058704 133.367064734579 479.015067247611 137.485242796782 479.561751629462 141.637722938588 479.890362780366 145.813123500564 480 150 Z; M 419.972590695091 151.046719124859 C 419.890437907365 152.090569265353 419.753766811903 153.128689300805 536.940664102733 179.107636714486 419.318516525781 155.17638090205 419.021130325903 156.180339887499 418.671608529944 157.167358990906 527.896364069964 206.943130030612 417.820130483767 159.079809994791 417.320508075689 160 416.773411358909 160.892780700301 513.262379212493 232.289935320946 415.542919229139 162.586407820997 414.862896509548 163.382612127177 414.142135623731 164.142135623731 493.67828489024 254.040275566835 412.586407820997 165.542919229139 411.755705045849 166.180339887499 410.892780700301 166.773411358908 470 271.243556529821 409.079809994791 167.820130483767 408.134732861516 168.270909152852 407.167358990906 168.671608529944 443.262379212493 283.147912281322 405.17638090205 169.318516525781 404.158233816355 169.562952014676 403.128689300805 169.753766811903 414.633984857471 289.233065351558 401.046719124859 169.972590695091 400 170 398.953280875141 169.972590695091 385.366015142529 289.233065351558 396.871310699195 169.753766811903 395.841766183645 169.562952014676 394.82361909795 169.318516525781 356.737620787507 283.147912281322 392.832641009094 168.671608529944 391.865267138484 168.270909152852 390.920190005209 167.820130483767 330 271.243556529821 389.107219299699 166.773411358908 388.244294954151 166.180339887499 387.413592179003 165.542919229139 306.32171510976 254.040275566835 385.857864376269 164.142135623731 385.137103490452 163.382612127177 384.457080770861 162.586407820997 286.737620787507 232.289935320946 383.226588641091 160.892780700301 382.679491924311 160 382.179869516233 159.079809994791 272.103635930036 206.943130030612 381.328391470056 157.167358990906 380.978869674097 156.180339887499 380.681483474219 155.17638090205 263.059335897267 179.107636714486 380.246233188097 153.128689300805 380.109562092635 152.090569265353 380.027409304909 151.046719124859 260 150 380.027409304909 148.953280875141 380.109562092635 147.909430734647 380.246233188097 146.871310699195 263.059335897267 120.892363285514 380.681483474219 144.82361909795 380.978869674097 143.819660112501 381.328391470056 142.832641009094 272.103635930036 93.056869969388 382.179869516233 140.920190005209 382.679491924311 140 383.226588641091 139.107219299699 286.737620787507 67.7100646790538 384.457080770861 137.413592179003 385.137103490452 136.617387872823 385.857864376269 135.857864376269 306.32171510976 45.9597244331648 387.413592179003 134.457080770861 388.244294954151 133.819660112501 389.107219299699 133.226588641092 330 28.7564434701786 390.920190005209 132.179869516233 391.865267138484 131.729090847148 392.832641009094 131.328391470056 356.737620787507 16.8520877186785 394.82361909795 130.681483474219 395.841766183645 130.437047985324 396.871310699195 130.246233188097 385.366015142528 10.7669346484417 398.953280875141 130.027409304909 400 130 401.046719124859 130.027409304909 414.633984857471 10.7669346484417 403.128689300805 130.246233188097 404.158233816355 130.437047985324 405.17638090205 130.681483474219 443.262379212493 16.8520877186785 407.167358990906 131.328391470056 408.134732861516 131.729090847148 409.079809994791 132.179869516233 470 28.7564434701785 410.892780700301 133.226588641092 411.755705045849 133.819660112501 412.586407820997 134.457080770861 493.67828489024 45.9597244331648 414.142135623731 135.857864376269 414.862896509548 136.617387872823 415.542919229139 137.413592179003 513.262379212493 67.7100646790537 416.773411358908 139.107219299699 417.320508075689 140 417.820130483767 140.920190005209 527.896364069964 93.0568699693879 418.671608529944 142.832641009094 419.021130325903 143.819660112501 419.318516525781 144.82361909795 536.940664102733 120.892363285514 419.753766811903 146.871310699195 419.890437907365 147.909430734647 419.972590695091 148.953280875141 540 150 Z; M 479.890362780366 154.186876499435 C 479.561751629462 158.362277061412 479.015067247611 162.514757203218 443.571122801202 217.093645435634 477.274066103125 170.705523608202 476.084521303612 174.721359549996 474.686434119776 178.669435963624 428.669435963624 224.686434119776 471.280521935069 186.319239979164 469.282032302755 190 467.093645435634 193.571122801202 412.514757203218 229.015067247611 462.171676916558 200.345631283987 459.451586038192 203.530448508709 456.568542494924 206.568542494924 395.813123500565 229.890362780366 450.345631283987 212.171676916558 447.022820183398 214.721359549996 443.571122801202 217.093645435634 379.294476391798 227.274066103125 436.319239979164 221.280521935069 432.538931446064 223.083636611408 428.669435963624 224.686434119776 363.680760020836 221.280521935069 420.705523608202 227.274066103125 416.632935265421 228.251808058704 412.514757203218 229.015067247611 349.654368716013 212.171676916558 404.186876499436 229.890362780366 400 230 395.813123500565 229.890362780366 337.828323083442 200.345631283987 387.485242796782 229.015067247611 383.367064734579 228.251808058704 379.294476391798 227.274066103125 328.719478064931 186.319239979164 371.330564036376 224.686434119776 367.461068553936 223.083636611408 363.680760020836 221.280521935069 322.725933896875 170.705523608202 356.428877198798 217.093645435634 352.977179816602 214.721359549996 349.654368716013 212.171676916558 320.109637219634 154.186876499436 343.431457505076 206.568542494924 340.548413961808 203.530448508709 337.828323083442 200.345631283987 320.984932752389 137.485242796782 332.906354564366 193.571122801202 330.717967697245 190 328.719478064931 186.319239979164 325.313565880224 121.330564036376 325.313565880224 178.669435963624 323.915478696388 174.721359549996 322.725933896875 170.705523608202 332.906354564366 106.428877198798 320.984932752389 162.514757203218 320.438248370538 158.362277061412 320.109637219634 154.186876499436 343.431457505076 93.4314575050762 320.109637219634 145.813123500565 320.438248370538 141.637722938588 320.984932752389 137.485242796782 356.428877198798 82.9063545643661 322.725933896874 129.294476391798 323.915478696388 125.278640450004 325.313565880224 121.330564036376 371.330564036376 75.3135658802239 328.719478064931 113.680760020836 330.717967697245 110 332.906354564366 106.428877198798 387.485242796782 70.984932752389 337.828323083442 99.654368716013 340.548413961808 96.4695514912914 343.431457505076 93.4314575050762 404.186876499435 70.1096372196341 349.654368716013 87.8283230834424 352.977179816602 85.2786404500042 356.428877198798 82.9063545643661 420.705523608202 72.7259338968745 363.680760020836 78.7194780649306 367.461068553936 76.916363388592 371.330564036376 75.3135658802239 436.319239979164 78.7194780649306 379.294476391798 72.7259338968746 383.367064734579 71.7481919412956 387.485242796782 70.984932752389 450.345631283987 87.8283230834423 395.813123500564 70.1096372196341 400 70 404.186876499435 70.1096372196341 462.171676916558 99.654368716013 412.514757203218 70.984932752389 416.632935265421 71.7481919412955 420.705523608202 72.7259338968745 471.280521935069 113.680760020836 428.669435963624 75.3135658802238 432.538931446064 76.9163633885919 436.319239979164 78.7194780649306 477.274066103125 129.294476391798 443.571122801202 82.9063545643661 447.022820183398 85.2786404500042 450.345631283987 87.8283230834423 479.890362780366 145.813123500564 456.568542494924 93.4314575050762 459.451586038192 96.4695514912913 462.171676916558 99.654368716013 479.015067247611 162.514757203218 467.093645435634 106.428877198798 469.282032302755 110 471.280521935069 113.680760020836 474.686434119776 178.669435963624 474.686434119776 121.330564036376 476.084521303612 125.278640450004 477.274066103125 129.294476391798 467.093645435634 193.571122801202 479.015067247611 137.485242796782 479.561751629462 141.637722938588 479.890362780366 145.813123500564 456.568542494924 206.568542494924 Z" begin="playButton34.click" dur="5" fill="remove"></animate> <animate attributeName="fill" values="#DDDDFF;#CC0000;#DDDDFF" begin="playButton34.click" dur="5" fill="remove"></animate> </path>
</svg>
</div>
<div id="path-animation-1" class="section level3">
<h3>Path Animation</h3>
<pre class="r"><code>WH&lt;-c(800,300)
M&lt;-30; K&lt;-4
N&lt;-M*K
IM&lt;-seq.int(K,N,K)
theta&lt;-seq(0,2*pi, length.out=N+1)
theta&lt;-theta[-1]
pts &lt;-rbind(cos(theta),sin(theta))
r0&lt;-matrix(90,2,N)
r1&lt;-matrix(70,2,N)
r1[,IM]&lt;-140
pts0&lt;-r0*pts + WH/2
pts1&lt;-r1*pts + WH/2
as.path&lt;-function(ptsX){
  c(&quot;M&quot;,ptsX[,1],&quot;L&quot;,ptsX[,2:(dim(ptsX)[2]) ],&quot;Z&quot;)
}
svgR(
  playBar(wh=WH),
  path(fill='red', stroke='blue', d=as.path(pts0),
    animate( attributeName='d', 
      values=list(as.path(pts0),as.path(pts1)),
      begin=playButton.click, dur=2, fill=&quot;remove&quot;
    )
  ), 
  lapply(1:N, function(i){
    circle(cxy=pts0[,i], r=5, fill='green')
  }),
  lapply(1:N, function(i){
    circle(cxy=pts1[,i], r=5, fill='blue')
  })
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="340">
<linearGradient x1="0" y1="0" x2="0" y2="1" id="genid1524"> <stop offset="0%" stop-color="lightblue"></stop> <stop offset="50%" stop-color="white"></stop> <stop offset="100%" stop-color="lightblue"></stop> </linearGradient> <rect fill="url(#genid1524)" width="800" height="40" x="0" y="300"></rect> <g id="playButton35"> <circle r="12" stroke="grey" fill="grey" cx="780" cy="320"></circle> <circle r="10" stroke="grey" fill="#404040" cx="780" cy="320"></circle> <polygon points="790,320 777,324 777,316" fill="lime"></polygon> </g> <rect fill="none" stroke="blue" stroke-width="3" width="800" height="300" x="0" y="0"></rect> <path fill="red" stroke="blue" d="M 489.876658127912 154.710236061865 L 489.506970583145 159.407561694089 488.891950653562 164.079101853621 488.033284066042 168.712052173598 486.933324366016 173.293714059227 485.595086466564 177.811529493745 484.022238384748 182.253115459077 482.219091187834 186.606297876822 480.190587176953 190.859144976559 477.942286340599 195 475.480351115088 199.017513151352 472.811529493745 202.900672706323 469.943136531127 206.638835194485 466.883034292965 210.221754572297 463.639610306789 213.639610306789 460.221754572297 216.883034292965 456.638835194485 219.943136531127 452.900672706323 222.811529493745 449.017513151352 225.480351115088 445 227.942286340599 440.859144976559 230.190587176953 436.606297876822 232.219091187834 432.253115459077 234.022238384748 427.811529493745 235.595086466564 423.293714059227 236.933324366016 418.712052173598 238.033284066042 414.079101853621 238.891950653562 409.407561694089 239.506970583145 404.710236061865 239.876658127912 400 240 395.289763938135 239.876658127912 390.592438305911 239.506970583145 385.920898146379 238.891950653562 381.287947826402 238.033284066043 376.706285940773 236.933324366016 372.188470506255 235.595086466564 367.746884540923 234.022238384748 363.393702123178 232.219091187834 359.140855023441 230.190587176953 355 227.942286340599 350.982486848648 225.480351115088 347.099327293677 222.811529493745 343.361164805515 219.943136531127 339.778245427703 216.883034292966 336.360389693211 213.639610306789 333.116965707035 210.221754572297 330.056863468873 206.638835194485 327.188470506255 202.900672706323 324.519648884912 199.017513151352 322.057713659401 195 319.809412823047 190.859144976559 317.780908812166 186.606297876822 315.977761615252 182.253115459077 314.404913533436 177.811529493745 313.066675633984 173.293714059227 311.966715933958 168.712052173598 311.108049346438 164.079101853621 310.493029416855 159.407561694089 310.123341872088 154.710236061865 310 150 310.123341872088 145.289763938135 310.493029416855 140.592438305911 311.108049346438 135.920898146379 311.966715933958 131.287947826402 313.066675633984 126.706285940773 314.404913533436 122.188470506255 315.977761615252 117.746884540923 317.780908812166 113.393702123178 319.809412823047 109.140855023441 322.057713659401 105 324.519648884912 100.982486848648 327.188470506255 97.0993272936774 330.056863468873 93.3611648055146 333.116965707034 89.7782454277028 336.360389693211 86.3603896932107 339.778245427703 83.1169657070345 343.361164805515 80.0568634688726 347.099327293677 77.1884705062547 350.982486848648 74.5196488849119 355 72.0577136594005 359.140855023441 69.8094128230469 363.393702123178 67.7809088121659 367.746884540923 65.9777616152519 372.188470506255 64.4049135334362 376.706285940773 63.0666756339839 381.287947826402 61.9667159339575 385.920898146379 61.1080493464376 390.592438305911 60.4930294168554 395.289763938135 60.1233418720884 400 60 404.710236061865 60.1233418720883 409.407561694089 60.4930294168554 414.079101853621 61.1080493464376 418.712052173598 61.9667159339575 423.293714059227 63.0666756339838 427.811529493745 64.4049135334362 432.253115459077 65.9777616152518 436.606297876822 67.7809088121659 440.859144976559 69.8094128230469 445 72.0577136594005 449.017513151352 74.5196488849118 452.900672706323 77.1884705062547 456.638835194485 80.0568634688726 460.221754572297 83.1169657070345 463.639610306789 86.3603896932107 466.883034292965 89.7782454277027 469.943136531127 93.3611648055146 472.811529493745 97.0993272936774 475.480351115088 100.982486848648 477.942286340599 105 480.190587176953 109.140855023441 482.219091187834 113.393702123178 484.022238384748 117.746884540923 485.595086466564 122.188470506255 486.933324366016 126.706285940773 488.033284066042 131.287947826402 488.891950653562 135.920898146379 489.506970583145 140.592438305911 489.876658127912 145.289763938135 490 150 Z"> <animate attributeName="d" values="M 489.876658127912 154.710236061865 L 489.506970583145 159.407561694089 488.891950653562 164.079101853621 488.033284066042 168.712052173598 486.933324366016 173.293714059227 485.595086466564 177.811529493745 484.022238384748 182.253115459077 482.219091187834 186.606297876822 480.190587176953 190.859144976559 477.942286340599 195 475.480351115088 199.017513151352 472.811529493745 202.900672706323 469.943136531127 206.638835194485 466.883034292965 210.221754572297 463.639610306789 213.639610306789 460.221754572297 216.883034292965 456.638835194485 219.943136531127 452.900672706323 222.811529493745 449.017513151352 225.480351115088 445 227.942286340599 440.859144976559 230.190587176953 436.606297876822 232.219091187834 432.253115459077 234.022238384748 427.811529493745 235.595086466564 423.293714059227 236.933324366016 418.712052173598 238.033284066042 414.079101853621 238.891950653562 409.407561694089 239.506970583145 404.710236061865 239.876658127912 400 240 395.289763938135 239.876658127912 390.592438305911 239.506970583145 385.920898146379 238.891950653562 381.287947826402 238.033284066043 376.706285940773 236.933324366016 372.188470506255 235.595086466564 367.746884540923 234.022238384748 363.393702123178 232.219091187834 359.140855023441 230.190587176953 355 227.942286340599 350.982486848648 225.480351115088 347.099327293677 222.811529493745 343.361164805515 219.943136531127 339.778245427703 216.883034292966 336.360389693211 213.639610306789 333.116965707035 210.221754572297 330.056863468873 206.638835194485 327.188470506255 202.900672706323 324.519648884912 199.017513151352 322.057713659401 195 319.809412823047 190.859144976559 317.780908812166 186.606297876822 315.977761615252 182.253115459077 314.404913533436 177.811529493745 313.066675633984 173.293714059227 311.966715933958 168.712052173598 311.108049346438 164.079101853621 310.493029416855 159.407561694089 310.123341872088 154.710236061865 310 150 310.123341872088 145.289763938135 310.493029416855 140.592438305911 311.108049346438 135.920898146379 311.966715933958 131.287947826402 313.066675633984 126.706285940773 314.404913533436 122.188470506255 315.977761615252 117.746884540923 317.780908812166 113.393702123178 319.809412823047 109.140855023441 322.057713659401 105 324.519648884912 100.982486848648 327.188470506255 97.0993272936774 330.056863468873 93.3611648055146 333.116965707034 89.7782454277028 336.360389693211 86.3603896932107 339.778245427703 83.1169657070345 343.361164805515 80.0568634688726 347.099327293677 77.1884705062547 350.982486848648 74.5196488849119 355 72.0577136594005 359.140855023441 69.8094128230469 363.393702123178 67.7809088121659 367.746884540923 65.9777616152519 372.188470506255 64.4049135334362 376.706285940773 63.0666756339839 381.287947826402 61.9667159339575 385.920898146379 61.1080493464376 390.592438305911 60.4930294168554 395.289763938135 60.1233418720884 400 60 404.710236061865 60.1233418720883 409.407561694089 60.4930294168554 414.079101853621 61.1080493464376 418.712052173598 61.9667159339575 423.293714059227 63.0666756339838 427.811529493745 64.4049135334362 432.253115459077 65.9777616152518 436.606297876822 67.7809088121659 440.859144976559 69.8094128230469 445 72.0577136594005 449.017513151352 74.5196488849118 452.900672706323 77.1884705062547 456.638835194485 80.0568634688726 460.221754572297 83.1169657070345 463.639610306789 86.3603896932107 466.883034292965 89.7782454277027 469.943136531127 93.3611648055146 472.811529493745 97.0993272936774 475.480351115088 100.982486848648 477.942286340599 105 480.190587176953 109.140855023441 482.219091187834 113.393702123178 484.022238384748 117.746884540923 485.595086466564 122.188470506255 486.933324366016 126.706285940773 488.033284066042 131.287947826402 488.891950653562 135.920898146379 489.506970583145 140.592438305911 489.876658127912 145.289763938135 490 150 Z; M 469.90406743282 153.663516937006 L 469.616532675779 157.316992428736 469.13818384166 160.950412552816 536.940664102733 179.107636714486 467.614807840235 168.117333157176 466.573956140661 171.631189606246 465.350629854804 175.085756468171 527.896364069964 206.943130030612 462.370456693186 181.779334981768 460.621778264911 185 458.70693975618 188.124732451052 513.262379212493 232.289935320946 454.400217301988 194.052427373489 452.020137783418 196.83914244512 449.497474683058 199.497474683058 493.67828489024 254.040275566835 444.052427373489 204.400217301988 441.144967660473 206.631189606246 438.124732451052 208.70693975618 470 271.243556529821 431.779334981768 212.370456693186 428.471565015306 213.948182034982 425.085756468171 215.350629854804 443.262379212493 283.147912281322 418.117333157176 217.614807840235 414.553818357243 218.470332051366 410.950412552816 219.13818384166 414.633984857471 289.233065351558 403.663516937006 219.90406743282 400 220 396.336483062994 219.90406743282 385.366015142529 289.233065351558 389.049587447184 219.13818384166 385.446181642757 218.470332051366 381.882666842824 217.614807840235 356.737620787507 283.147912281322 374.914243531829 215.350629854804 371.528434984694 213.948182034982 368.220665018232 212.370456693186 330 271.243556529821 361.875267548948 208.70693975618 358.855032339527 206.631189606246 355.947572626511 204.400217301988 306.32171510976 254.040275566835 350.502525316942 199.497474683058 347.979862216582 196.83914244512 345.599782698012 194.052427373489 286.737620787507 232.289935320946 341.29306024382 188.124732451052 339.378221735089 185 337.629543306814 181.779334981768 272.103635930036 206.943130030612 334.649370145196 175.085756468171 333.426043859339 171.631189606246 332.385192159765 168.117333157176 263.059335897267 179.107636714486 330.86181615834 160.950412552816 330.383467324221 157.316992428736 330.09593256718 153.663516937006 260 150 330.09593256718 146.336483062994 330.383467324221 142.683007571264 330.86181615834 139.049587447184 263.059335897267 120.892363285514 332.385192159765 131.882666842824 333.426043859339 128.368810393754 334.649370145196 124.914243531829 272.103635930036 93.056869969388 337.629543306814 118.220665018232 339.378221735089 115 341.29306024382 111.875267548948 286.737620787507 67.7100646790538 345.599782698012 105.947572626511 347.979862216582 103.16085755488 350.502525316942 100.502525316942 306.32171510976 45.9597244331648 355.947572626511 95.5997826980121 358.855032339527 93.3688103937537 361.875267548948 91.2930602438203 330 28.7564434701786 368.220665018232 87.6295433068143 371.528434984694 86.051817965018 374.914243531829 84.6493701451959 356.737620787507 16.8520877186785 381.882666842823 82.3851921597652 385.446181642757 81.5296679486336 389.049587447184 80.8618161583404 385.366015142528 10.7669346484417 396.336483062994 80.0959325671798 400 80 403.663516937006 80.0959325671798 414.633984857471 10.7669346484417 410.950412552816 80.8618161583404 414.553818357243 81.5296679486336 418.117333157176 82.3851921597652 443.262379212493 16.8520877186785 425.085756468171 84.6493701451959 428.471565015306 86.0518179650179 431.779334981768 87.6295433068142 470 28.7564434701785 438.124732451052 91.2930602438203 441.144967660473 93.3688103937537 444.052427373489 95.599782698012 493.67828489024 45.9597244331648 449.497474683058 100.502525316942 452.020137783418 103.16085755488 454.400217301988 105.947572626511 513.262379212493 67.7100646790537 458.70693975618 111.875267548948 460.621778264911 115 462.370456693186 118.220665018232 527.896364069964 93.0568699693879 465.350629854804 124.914243531829 466.573956140661 128.368810393754 467.614807840235 131.882666842823 536.940664102733 120.892363285514 469.13818384166 139.049587447184 469.616532675779 142.683007571264 469.90406743282 146.336483062994 540 150 Z" begin="playButton35.click" dur="2" fill="remove"></animate> </path> <circle r="5" fill="green" cx="489.876658127912" cy="154.710236061865"></circle> <circle r="5" fill="green" cx="489.506970583145" cy="159.407561694089"></circle> <circle r="5" fill="green" cx="488.891950653562" cy="164.079101853621"></circle> <circle r="5" fill="green" cx="488.033284066042" cy="168.712052173598"></circle> <circle r="5" fill="green" cx="486.933324366016" cy="173.293714059227"></circle> <circle r="5" fill="green" cx="485.595086466564" cy="177.811529493745"></circle> <circle r="5" fill="green" cx="484.022238384748" cy="182.253115459077"></circle> <circle r="5" fill="green" cx="482.219091187834" cy="186.606297876822"></circle> <circle r="5" fill="green" cx="480.190587176953" cy="190.859144976559"></circle> <circle r="5" fill="green" cx="477.942286340599" cy="195"></circle> <circle r="5" fill="green" cx="475.480351115088" cy="199.017513151352"></circle> <circle r="5" fill="green" cx="472.811529493745" cy="202.900672706323"></circle> <circle r="5" fill="green" cx="469.943136531127" cy="206.638835194485"></circle> <circle r="5" fill="green" cx="466.883034292965" cy="210.221754572297"></circle> <circle r="5" fill="green" cx="463.639610306789" cy="213.639610306789"></circle> <circle r="5" fill="green" cx="460.221754572297" cy="216.883034292965"></circle> <circle r="5" fill="green" cx="456.638835194485" cy="219.943136531127"></circle> <circle r="5" fill="green" cx="452.900672706323" cy="222.811529493745"></circle> <circle r="5" fill="green" cx="449.017513151352" cy="225.480351115088"></circle> <circle r="5" fill="green" cx="445" cy="227.942286340599"></circle> <circle r="5" fill="green" cx="440.859144976559" cy="230.190587176953"></circle> <circle r="5" fill="green" cx="436.606297876822" cy="232.219091187834"></circle> <circle r="5" fill="green" cx="432.253115459077" cy="234.022238384748"></circle> <circle r="5" fill="green" cx="427.811529493745" cy="235.595086466564"></circle> <circle r="5" fill="green" cx="423.293714059227" cy="236.933324366016"></circle> <circle r="5" fill="green" cx="418.712052173598" cy="238.033284066042"></circle> <circle r="5" fill="green" cx="414.079101853621" cy="238.891950653562"></circle> <circle r="5" fill="green" cx="409.407561694089" cy="239.506970583145"></circle> <circle r="5" fill="green" cx="404.710236061865" cy="239.876658127912"></circle> <circle r="5" fill="green" cx="400" cy="240"></circle> <circle r="5" fill="green" cx="395.289763938135" cy="239.876658127912"></circle> <circle r="5" fill="green" cx="390.592438305911" cy="239.506970583145"></circle> <circle r="5" fill="green" cx="385.920898146379" cy="238.891950653562"></circle> <circle r="5" fill="green" cx="381.287947826402" cy="238.033284066043"></circle> <circle r="5" fill="green" cx="376.706285940773" cy="236.933324366016"></circle> <circle r="5" fill="green" cx="372.188470506255" cy="235.595086466564"></circle> <circle r="5" fill="green" cx="367.746884540923" cy="234.022238384748"></circle> <circle r="5" fill="green" cx="363.393702123178" cy="232.219091187834"></circle> <circle r="5" fill="green" cx="359.140855023441" cy="230.190587176953"></circle> <circle r="5" fill="green" cx="355" cy="227.942286340599"></circle> <circle r="5" fill="green" cx="350.982486848648" cy="225.480351115088"></circle> <circle r="5" fill="green" cx="347.099327293677" cy="222.811529493745"></circle> <circle r="5" fill="green" cx="343.361164805515" cy="219.943136531127"></circle> <circle r="5" fill="green" cx="339.778245427703" cy="216.883034292966"></circle> <circle r="5" fill="green" cx="336.360389693211" cy="213.639610306789"></circle> <circle r="5" fill="green" cx="333.116965707035" cy="210.221754572297"></circle> <circle r="5" fill="green" cx="330.056863468873" cy="206.638835194485"></circle> <circle r="5" fill="green" cx="327.188470506255" cy="202.900672706323"></circle> <circle r="5" fill="green" cx="324.519648884912" cy="199.017513151352"></circle> <circle r="5" fill="green" cx="322.057713659401" cy="195"></circle> <circle r="5" fill="green" cx="319.809412823047" cy="190.859144976559"></circle> <circle r="5" fill="green" cx="317.780908812166" cy="186.606297876822"></circle> <circle r="5" fill="green" cx="315.977761615252" cy="182.253115459077"></circle> <circle r="5" fill="green" cx="314.404913533436" cy="177.811529493745"></circle> <circle r="5" fill="green" cx="313.066675633984" cy="173.293714059227"></circle> <circle r="5" fill="green" cx="311.966715933958" cy="168.712052173598"></circle> <circle r="5" fill="green" cx="311.108049346438" cy="164.079101853621"></circle> <circle r="5" fill="green" cx="310.493029416855" cy="159.407561694089"></circle> <circle r="5" fill="green" cx="310.123341872088" cy="154.710236061865"></circle> <circle r="5" fill="green" cx="310" cy="150"></circle> <circle r="5" fill="green" cx="310.123341872088" cy="145.289763938135"></circle> <circle r="5" fill="green" cx="310.493029416855" cy="140.592438305911"></circle> <circle r="5" fill="green" cx="311.108049346438" cy="135.920898146379"></circle> <circle r="5" fill="green" cx="311.966715933958" cy="131.287947826402"></circle> <circle r="5" fill="green" cx="313.066675633984" cy="126.706285940773"></circle> <circle r="5" fill="green" cx="314.404913533436" cy="122.188470506255"></circle> <circle r="5" fill="green" cx="315.977761615252" cy="117.746884540923"></circle> <circle r="5" fill="green" cx="317.780908812166" cy="113.393702123178"></circle> <circle r="5" fill="green" cx="319.809412823047" cy="109.140855023441"></circle> <circle r="5" fill="green" cx="322.057713659401" cy="105"></circle> <circle r="5" fill="green" cx="324.519648884912" cy="100.982486848648"></circle> <circle r="5" fill="green" cx="327.188470506255" cy="97.0993272936774"></circle> <circle r="5" fill="green" cx="330.056863468873" cy="93.3611648055146"></circle> <circle r="5" fill="green" cx="333.116965707034" cy="89.7782454277028"></circle> <circle r="5" fill="green" cx="336.360389693211" cy="86.3603896932107"></circle> <circle r="5" fill="green" cx="339.778245427703" cy="83.1169657070345"></circle> <circle r="5" fill="green" cx="343.361164805515" cy="80.0568634688726"></circle> <circle r="5" fill="green" cx="347.099327293677" cy="77.1884705062547"></circle> <circle r="5" fill="green" cx="350.982486848648" cy="74.5196488849119"></circle> <circle r="5" fill="green" cx="355" cy="72.0577136594005"></circle> <circle r="5" fill="green" cx="359.140855023441" cy="69.8094128230469"></circle> <circle r="5" fill="green" cx="363.393702123178" cy="67.7809088121659"></circle> <circle r="5" fill="green" cx="367.746884540923" cy="65.9777616152519"></circle> <circle r="5" fill="green" cx="372.188470506255" cy="64.4049135334362"></circle> <circle r="5" fill="green" cx="376.706285940773" cy="63.0666756339839"></circle> <circle r="5" fill="green" cx="381.287947826402" cy="61.9667159339575"></circle> <circle r="5" fill="green" cx="385.920898146379" cy="61.1080493464376"></circle> <circle r="5" fill="green" cx="390.592438305911" cy="60.4930294168554"></circle> <circle r="5" fill="green" cx="395.289763938135" cy="60.1233418720884"></circle> <circle r="5" fill="green" cx="400" cy="60"></circle> <circle r="5" fill="green" cx="404.710236061865" cy="60.1233418720883"></circle> <circle r="5" fill="green" cx="409.407561694089" cy="60.4930294168554"></circle> <circle r="5" fill="green" cx="414.079101853621" cy="61.1080493464376"></circle> <circle r="5" fill="green" cx="418.712052173598" cy="61.9667159339575"></circle> <circle r="5" fill="green" cx="423.293714059227" cy="63.0666756339838"></circle> <circle r="5" fill="green" cx="427.811529493745" cy="64.4049135334362"></circle> <circle r="5" fill="green" cx="432.253115459077" cy="65.9777616152518"></circle> <circle r="5" fill="green" cx="436.606297876822" cy="67.7809088121659"></circle> <circle r="5" fill="green" cx="440.859144976559" cy="69.8094128230469"></circle> <circle r="5" fill="green" cx="445" cy="72.0577136594005"></circle> <circle r="5" fill="green" cx="449.017513151352" cy="74.5196488849118"></circle> <circle r="5" fill="green" cx="452.900672706323" cy="77.1884705062547"></circle> <circle r="5" fill="green" cx="456.638835194485" cy="80.0568634688726"></circle> <circle r="5" fill="green" cx="460.221754572297" cy="83.1169657070345"></circle> <circle r="5" fill="green" cx="463.639610306789" cy="86.3603896932107"></circle> <circle r="5" fill="green" cx="466.883034292965" cy="89.7782454277027"></circle> <circle r="5" fill="green" cx="469.943136531127" cy="93.3611648055146"></circle> <circle r="5" fill="green" cx="472.811529493745" cy="97.0993272936774"></circle> <circle r="5" fill="green" cx="475.480351115088" cy="100.982486848648"></circle> <circle r="5" fill="green" cx="477.942286340599" cy="105"></circle> <circle r="5" fill="green" cx="480.190587176953" cy="109.140855023441"></circle> <circle r="5" fill="green" cx="482.219091187834" cy="113.393702123178"></circle> <circle r="5" fill="green" cx="484.022238384748" cy="117.746884540923"></circle> <circle r="5" fill="green" cx="485.595086466564" cy="122.188470506255"></circle> <circle r="5" fill="green" cx="486.933324366016" cy="126.706285940773"></circle> <circle r="5" fill="green" cx="488.033284066042" cy="131.287947826402"></circle> <circle r="5" fill="green" cx="488.891950653562" cy="135.920898146379"></circle> <circle r="5" fill="green" cx="489.506970583145" cy="140.592438305911"></circle> <circle r="5" fill="green" cx="489.876658127912" cy="145.289763938135"></circle> <circle r="5" fill="green" cx="490" cy="150"></circle> <circle r="5" fill="blue" cx="469.90406743282" cy="153.663516937006"></circle> <circle r="5" fill="blue" cx="469.616532675779" cy="157.316992428736"></circle> <circle r="5" fill="blue" cx="469.13818384166" cy="160.950412552816"></circle> <circle r="5" fill="blue" cx="536.940664102733" cy="179.107636714486"></circle> <circle r="5" fill="blue" cx="467.614807840235" cy="168.117333157176"></circle> <circle r="5" fill="blue" cx="466.573956140661" cy="171.631189606246"></circle> <circle r="5" fill="blue" cx="465.350629854804" cy="175.085756468171"></circle> <circle r="5" fill="blue" cx="527.896364069964" cy="206.943130030612"></circle> <circle r="5" fill="blue" cx="462.370456693186" cy="181.779334981768"></circle> <circle r="5" fill="blue" cx="460.621778264911" cy="185"></circle> <circle r="5" fill="blue" cx="458.70693975618" cy="188.124732451052"></circle> <circle r="5" fill="blue" cx="513.262379212493" cy="232.289935320946"></circle> <circle r="5" fill="blue" cx="454.400217301988" cy="194.052427373489"></circle> <circle r="5" fill="blue" cx="452.020137783418" cy="196.83914244512"></circle> <circle r="5" fill="blue" cx="449.497474683058" cy="199.497474683058"></circle> <circle r="5" fill="blue" cx="493.67828489024" cy="254.040275566835"></circle> <circle r="5" fill="blue" cx="444.052427373489" cy="204.400217301988"></circle> <circle r="5" fill="blue" cx="441.144967660473" cy="206.631189606246"></circle> <circle r="5" fill="blue" cx="438.124732451052" cy="208.70693975618"></circle> <circle r="5" fill="blue" cx="470" cy="271.243556529821"></circle> <circle r="5" fill="blue" cx="431.779334981768" cy="212.370456693186"></circle> <circle r="5" fill="blue" cx="428.471565015306" cy="213.948182034982"></circle> <circle r="5" fill="blue" cx="425.085756468171" cy="215.350629854804"></circle> <circle r="5" fill="blue" cx="443.262379212493" cy="283.147912281322"></circle> <circle r="5" fill="blue" cx="418.117333157176" cy="217.614807840235"></circle> <circle r="5" fill="blue" cx="414.553818357243" cy="218.470332051366"></circle> <circle r="5" fill="blue" cx="410.950412552816" cy="219.13818384166"></circle> <circle r="5" fill="blue" cx="414.633984857471" cy="289.233065351558"></circle> <circle r="5" fill="blue" cx="403.663516937006" cy="219.90406743282"></circle> <circle r="5" fill="blue" cx="400" cy="220"></circle> <circle r="5" fill="blue" cx="396.336483062994" cy="219.90406743282"></circle> <circle r="5" fill="blue" cx="385.366015142529" cy="289.233065351558"></circle> <circle r="5" fill="blue" cx="389.049587447184" cy="219.13818384166"></circle> <circle r="5" fill="blue" cx="385.446181642757" cy="218.470332051366"></circle> <circle r="5" fill="blue" cx="381.882666842824" cy="217.614807840235"></circle> <circle r="5" fill="blue" cx="356.737620787507" cy="283.147912281322"></circle> <circle r="5" fill="blue" cx="374.914243531829" cy="215.350629854804"></circle> <circle r="5" fill="blue" cx="371.528434984694" cy="213.948182034982"></circle> <circle r="5" fill="blue" cx="368.220665018232" cy="212.370456693186"></circle> <circle r="5" fill="blue" cx="330" cy="271.243556529821"></circle> <circle r="5" fill="blue" cx="361.875267548948" cy="208.70693975618"></circle> <circle r="5" fill="blue" cx="358.855032339527" cy="206.631189606246"></circle> <circle r="5" fill="blue" cx="355.947572626511" cy="204.400217301988"></circle> <circle r="5" fill="blue" cx="306.32171510976" cy="254.040275566835"></circle> <circle r="5" fill="blue" cx="350.502525316942" cy="199.497474683058"></circle> <circle r="5" fill="blue" cx="347.979862216582" cy="196.83914244512"></circle> <circle r="5" fill="blue" cx="345.599782698012" cy="194.052427373489"></circle> <circle r="5" fill="blue" cx="286.737620787507" cy="232.289935320946"></circle> <circle r="5" fill="blue" cx="341.29306024382" cy="188.124732451052"></circle> <circle r="5" fill="blue" cx="339.378221735089" cy="185"></circle> <circle r="5" fill="blue" cx="337.629543306814" cy="181.779334981768"></circle> <circle r="5" fill="blue" cx="272.103635930036" cy="206.943130030612"></circle> <circle r="5" fill="blue" cx="334.649370145196" cy="175.085756468171"></circle> <circle r="5" fill="blue" cx="333.426043859339" cy="171.631189606246"></circle> <circle r="5" fill="blue" cx="332.385192159765" cy="168.117333157176"></circle> <circle r="5" fill="blue" cx="263.059335897267" cy="179.107636714486"></circle> <circle r="5" fill="blue" cx="330.86181615834" cy="160.950412552816"></circle> <circle r="5" fill="blue" cx="330.383467324221" cy="157.316992428736"></circle> <circle r="5" fill="blue" cx="330.09593256718" cy="153.663516937006"></circle> <circle r="5" fill="blue" cx="260" cy="150"></circle> <circle r="5" fill="blue" cx="330.09593256718" cy="146.336483062994"></circle> <circle r="5" fill="blue" cx="330.383467324221" cy="142.683007571264"></circle> <circle r="5" fill="blue" cx="330.86181615834" cy="139.049587447184"></circle> <circle r="5" fill="blue" cx="263.059335897267" cy="120.892363285514"></circle> <circle r="5" fill="blue" cx="332.385192159765" cy="131.882666842824"></circle> <circle r="5" fill="blue" cx="333.426043859339" cy="128.368810393754"></circle> <circle r="5" fill="blue" cx="334.649370145196" cy="124.914243531829"></circle> <circle r="5" fill="blue" cx="272.103635930036" cy="93.056869969388"></circle> <circle r="5" fill="blue" cx="337.629543306814" cy="118.220665018232"></circle> <circle r="5" fill="blue" cx="339.378221735089" cy="115"></circle> <circle r="5" fill="blue" cx="341.29306024382" cy="111.875267548948"></circle> <circle r="5" fill="blue" cx="286.737620787507" cy="67.7100646790538"></circle> <circle r="5" fill="blue" cx="345.599782698012" cy="105.947572626511"></circle> <circle r="5" fill="blue" cx="347.979862216582" cy="103.16085755488"></circle> <circle r="5" fill="blue" cx="350.502525316942" cy="100.502525316942"></circle> <circle r="5" fill="blue" cx="306.32171510976" cy="45.9597244331648"></circle> <circle r="5" fill="blue" cx="355.947572626511" cy="95.5997826980121"></circle> <circle r="5" fill="blue" cx="358.855032339527" cy="93.3688103937537"></circle> <circle r="5" fill="blue" cx="361.875267548948" cy="91.2930602438203"></circle> <circle r="5" fill="blue" cx="330" cy="28.7564434701786"></circle> <circle r="5" fill="blue" cx="368.220665018232" cy="87.6295433068143"></circle> <circle r="5" fill="blue" cx="371.528434984694" cy="86.051817965018"></circle> <circle r="5" fill="blue" cx="374.914243531829" cy="84.6493701451959"></circle> <circle r="5" fill="blue" cx="356.737620787507" cy="16.8520877186785"></circle> <circle r="5" fill="blue" cx="381.882666842823" cy="82.3851921597652"></circle> <circle r="5" fill="blue" cx="385.446181642757" cy="81.5296679486336"></circle> <circle r="5" fill="blue" cx="389.049587447184" cy="80.8618161583404"></circle> <circle r="5" fill="blue" cx="385.366015142528" cy="10.7669346484417"></circle> <circle r="5" fill="blue" cx="396.336483062994" cy="80.0959325671798"></circle> <circle r="5" fill="blue" cx="400" cy="80"></circle> <circle r="5" fill="blue" cx="403.663516937006" cy="80.0959325671798"></circle> <circle r="5" fill="blue" cx="414.633984857471" cy="10.7669346484417"></circle> <circle r="5" fill="blue" cx="410.950412552816" cy="80.8618161583404"></circle> <circle r="5" fill="blue" cx="414.553818357243" cy="81.5296679486336"></circle> <circle r="5" fill="blue" cx="418.117333157176" cy="82.3851921597652"></circle> <circle r="5" fill="blue" cx="443.262379212493" cy="16.8520877186785"></circle> <circle r="5" fill="blue" cx="425.085756468171" cy="84.6493701451959"></circle> <circle r="5" fill="blue" cx="428.471565015306" cy="86.0518179650179"></circle> <circle r="5" fill="blue" cx="431.779334981768" cy="87.6295433068142"></circle> <circle r="5" fill="blue" cx="470" cy="28.7564434701785"></circle> <circle r="5" fill="blue" cx="438.124732451052" cy="91.2930602438203"></circle> <circle r="5" fill="blue" cx="441.144967660473" cy="93.3688103937537"></circle> <circle r="5" fill="blue" cx="444.052427373489" cy="95.599782698012"></circle> <circle r="5" fill="blue" cx="493.67828489024" cy="45.9597244331648"></circle> <circle r="5" fill="blue" cx="449.497474683058" cy="100.502525316942"></circle> <circle r="5" fill="blue" cx="452.020137783418" cy="103.16085755488"></circle> <circle r="5" fill="blue" cx="454.400217301988" cy="105.947572626511"></circle> <circle r="5" fill="blue" cx="513.262379212493" cy="67.7100646790537"></circle> <circle r="5" fill="blue" cx="458.70693975618" cy="111.875267548948"></circle> <circle r="5" fill="blue" cx="460.621778264911" cy="115"></circle> <circle r="5" fill="blue" cx="462.370456693186" cy="118.220665018232"></circle> <circle r="5" fill="blue" cx="527.896364069964" cy="93.0568699693879"></circle> <circle r="5" fill="blue" cx="465.350629854804" cy="124.914243531829"></circle> <circle r="5" fill="blue" cx="466.573956140661" cy="128.368810393754"></circle> <circle r="5" fill="blue" cx="467.614807840235" cy="131.882666842823"></circle> <circle r="5" fill="blue" cx="536.940664102733" cy="120.892363285514"></circle> <circle r="5" fill="blue" cx="469.13818384166" cy="139.049587447184"></circle> <circle r="5" fill="blue" cx="469.616532675779" cy="142.683007571264"></circle> <circle r="5" fill="blue" cx="469.90406743282" cy="146.336483062994"></circle> <circle r="5" fill="blue" cx="540" cy="150"></circle>
</svg>
</div>
<div id="path-animation-2" class="section level3">
<h3>Path Animation</h3>
<pre class="r"><code>WH&lt;-c(800,300)
N&lt;-8
xMarg&lt;-50
NX&lt;-160
X&lt;-seq(0,N*pi, length.out=NX)
sx&lt;-(WH[1]-2*xMarg)/(N*pi)
x&lt;-X*sx+xMarg
wave&lt;-function(phase){
  sy&lt;- - WH[2]/6
  y&lt;-sin(X+phase)
  y&lt;-y*sy+WH[2]/2
  rbind(x,y)
}
as.path&lt;-function(ptsX){
  c(&quot;M&quot;,ptsX[,1],&quot;C&quot;,ptsX[,1:(dim(ptsX)[2]) ])
}
values=lapply(seq(0,4*pi,length.out=24), function(alpha){
  as.path(wave(alpha))
})
svgR(
  playBar(wh=WH),
  text(&quot;sin wave&quot;, xy=c(20,40),font=&quot;black&quot;, fill='blue', font.size=30),
  path(
    fill='none', stroke='blue', 
    d=as.path( rbind(x, rep(WH[2]/2,NX))),
    animate( attributeName='d', 
      values=values,
      begin=playButton.click, dur=10, fill=&quot;remove&quot;
    )
  )
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="340">
<linearGradient x1="0" y1="0" x2="0" y2="1" id="genid1525"> <stop offset="0%" stop-color="lightblue"></stop> <stop offset="50%" stop-color="white"></stop> <stop offset="100%" stop-color="lightblue"></stop> </linearGradient> <rect fill="url(#genid1525)" width="800" height="40" x="0" y="300"></rect> <g id="playButton36"> <circle r="12" stroke="grey" fill="grey" cx="780" cy="320"></circle> <circle r="10" stroke="grey" fill="#404040" cx="780" cy="320"></circle> <polygon points="790,320 777,324 777,316" fill="lime"></polygon> </g> <rect fill="none" stroke="blue" stroke-width="3" width="800" height="300" x="0" y="0"></rect> <text font="black" fill="blue" font-size="30" x="20" y="40">sin wave</text> <path fill="none" stroke="blue" d="M 50 150 C 50 150 54.4025157232704 150 58.8050314465409 150 63.2075471698113 150 67.6100628930818 150 72.0125786163522 150 76.4150943396226 150 80.8176100628931 150 85.2201257861635 150 89.622641509434 150 94.0251572327044 150 98.4276729559749 150 102.830188679245 150 107.232704402516 150 111.635220125786 150 116.037735849057 150 120.440251572327 150 124.842767295597 150 129.245283018868 150 133.647798742138 150 138.050314465409 150 142.452830188679 150 146.85534591195 150 151.25786163522 150 155.660377358491 150 160.062893081761 150 164.465408805031 150 168.867924528302 150 173.270440251572 150 177.672955974843 150 182.075471698113 150 186.477987421384 150 190.880503144654 150 195.283018867925 150 199.685534591195 150 204.088050314465 150 208.490566037736 150 212.893081761006 150 217.295597484277 150 221.698113207547 150 226.100628930818 150 230.503144654088 150 234.905660377358 150 239.308176100629 150 243.710691823899 150 248.11320754717 150 252.51572327044 150 256.918238993711 150 261.320754716981 150 265.723270440252 150 270.125786163522 150 274.528301886793 150 278.930817610063 150 283.333333333333 150 287.735849056604 150 292.138364779874 150 296.540880503145 150 300.943396226415 150 305.345911949686 150 309.748427672956 150 314.150943396226 150 318.553459119497 150 322.955974842767 150 327.358490566038 150 331.761006289308 150 336.163522012579 150 340.566037735849 150 344.96855345912 150 349.37106918239 150 353.77358490566 150 358.176100628931 150 362.578616352201 150 366.981132075472 150 371.383647798742 150 375.786163522013 150 380.188679245283 150 384.591194968554 150 388.993710691824 150 393.396226415094 150 397.798742138365 150 402.201257861635 150 406.603773584906 150 411.006289308176 150 415.408805031447 150 419.811320754717 150 424.213836477987 150 428.616352201258 150 433.018867924528 150 437.421383647799 150 441.823899371069 150 446.22641509434 150 450.62893081761 150 455.03144654088 150 459.433962264151 150 463.836477987421 150 468.238993710692 150 472.641509433962 150 477.044025157233 150 481.446540880503 150 485.849056603774 150 490.251572327044 150 494.654088050314 150 499.056603773585 150 503.459119496855 150 507.861635220126 150 512.264150943396 150 516.666666666667 150 521.069182389937 150 525.471698113208 150 529.874213836478 150 534.276729559748 150 538.679245283019 150 543.081761006289 150 547.48427672956 150 551.88679245283 150 556.289308176101 150 560.691823899371 150 565.094339622642 150 569.496855345912 150 573.899371069182 150 578.301886792453 150 582.704402515723 150 587.106918238994 150 591.509433962264 150 595.911949685535 150 600.314465408805 150 604.716981132075 150 609.119496855346 150 613.522012578616 150 617.924528301887 150 622.327044025157 150 626.729559748428 150 631.132075471698 150 635.534591194969 150 639.937106918239 150 644.339622641509 150 648.74213836478 150 653.14465408805 150 657.547169811321 150 661.949685534591 150 666.352201257862 150 670.754716981132 150 675.157232704403 150 679.559748427673 150 683.962264150943 150 688.364779874214 150 692.767295597484 150 697.169811320755 150 701.572327044025 150 705.974842767296 150 710.377358490566 150 714.779874213837 150 719.182389937107 150 723.584905660377 150 727.987421383648 150 732.389937106918 150 736.792452830189 150 741.194968553459 150 745.59748427673 150 750 150"> <animate attributeName="d" values="M 50 150 C 50 150 54.4025157232704 142.129492610075 58.8050314465409 134.455223515823 63.2075471698113 127.168538130314 67.6100628930818 120.451118097477 72.0125786163522 114.470451355923 76.4150943396226 109.375656099716 80.8176100628931 105.293762758833 85.2201257861635 102.326546702085 89.622641509434 100.547990633892 94.0251572327044 100.002439955928 98.4276729559749 100.703497086683 102.830188679245 102.63368230729 107.232704402516 105.744869589878 111.635220125786 109.959486541763 116.037735849057 115.17244854685 120.440251572327 121.253778879547 124.842767295597 128.051849462935 129.245283018868 135.397161468151 133.647798742138 143.106571491895 138.050314465409 150.987857939197 142.452830188679 158.844513756129 146.85534591195 166.48064601345 151.25786163522 173.705860178069 155.660377358491 180.34000729093 160.062893081761 186.217675688186 164.465408805031 191.192315271902 168.867924528302 195.139891498287 173.270440251572 197.961977977235 177.672955974843 199.588210574208 182.075471698113 199.97804182544 186.477987421384 199.121751922976 190.880503144654 197.040691062267 195.283018867925 193.786747109782 199.685534591195 189.441051863486 204.088050314465 184.111958163471 208.490566037736 177.932338290183 212.893081761006 171.056271010308 217.295597484277 163.655199873429 221.698113207547 155.913658546068 226.100628930818 148.024669764969 230.503144654088 140.184932629223 234.905660377358 132.58991822828 239.308176100629 125.428995888389 243.710691823899 118.880711556564 248.11320754717 113.108336047914 252.51572327044 108.255794153519 256.918238993711 104.44407610995 261.320754716981 101.768220904582 265.723270440252 100.294946633078 270.125786163522 100.060986992236 274.528301886793 101.072175385025 278.930817610063 103.303299474173 283.333333333333 106.698729810778 287.735849056604 111.173806864098 292.138364779874 116.616951869201 296.540880503145 122.892448861922 300.943396226415 129.843828535601 305.345911949686 137.297769548659 309.748427672956 145.068420010234 314.150943396226 152.962031394686 318.553459119497 160.781789345829 322.955974842767 168.332720922672 327.358490566038 175.426555932461 331.761006289308 181.886421141597 336.163522012579 187.551250321932 340.566037735849 192.279800175091 344.96855345912 195.954172004305 349.37106918239 198.482751326579 353.77358490566 199.802492130761 358.176100628931 199.880488827247 362.578616352201 198.71479669532 366.981132075472 196.334480371592 371.383647798742 192.798889170584 375.786163522013 188.196177306139 380.188679245283 182.641105909526 384.591194968554 176.27218164737 388.993710691824 169.248203283278 393.396226415094 161.744302289049 397.798742138365 153.947576226386 402.201257861635 146.052423773614 406.603773584906 138.255697710951 411.006289308176 130.751796716722 415.408805031447 123.72781835263 419.811320754717 117.358894090474 424.213836477987 111.803822693861 428.616352201258 107.201110829415 433.018867924528 103.665519628408 437.421383647799 101.28520330468 441.823899371069 100.119511172753 446.22641509434 100.197507869239 450.62893081761 101.517248673421 455.03144654088 104.045827995695 459.433962264151 107.720199824909 463.836477987421 112.448749678068 468.238993710692 118.113578858403 472.641509433962 124.573444067539 477.044025157233 131.667279077328 481.446540880503 139.218210654171 485.849056603774 147.037968605314 490.251572327044 154.931579989766 494.654088050314 162.702230451341 499.056603773585 170.156171464399 503.459119496855 177.107551138078 507.861635220126 183.383048130799 512.264150943396 188.826193135902 516.666666666667 193.301270189222 521.069182389937 196.696700525827 525.471698113208 198.927824614975 529.874213836478 199.939013007764 534.276729559748 199.705053366922 538.679245283019 198.231779095418 543.081761006289 195.55592389005 547.48427672956 191.744205846481 551.88679245283 186.891663952086 556.289308176101 181.119288443436 560.691823899371 174.571004111611 565.094339622642 167.41008177172 569.496855345912 159.815067370777 573.899371069182 151.975330235031 578.301886792453 144.086341453932 582.704402515723 136.344800126571 587.106918238994 128.943728989692 591.509433962264 122.067661709817 595.911949685535 115.888041836529 600.314465408805 110.558948136514 604.716981132075 106.213252890218 609.119496855346 102.959308937733 613.522012578616 100.878248077024 617.924528301887 100.02195817456 622.327044025157 100.411789425792 626.729559748428 102.038022022765 631.132075471698 104.860108501713 635.534591194969 108.807684728098 639.937106918239 113.782324311814 644.339622641509 119.65999270907 648.74213836478 126.294139821931 653.14465408805 133.51935398655 657.547169811321 141.155486243871 661.949685534591 149.012142060803 666.352201257862 156.893428508105 670.754716981132 164.602838531849 675.157232704403 171.948150537065 679.559748427673 178.746221120453 683.962264150943 184.82755145315 688.364779874214 190.040513458237 692.767295597484 194.255130410122 697.169811320755 197.36631769271 701.572327044025 199.296502913317 705.974842767296 199.997560044072 710.377358490566 199.452009366108 714.779874213837 197.673453297915 719.182389937107 194.706237241167 723.584905660377 190.624343900284 727.987421383648 185.529548644077 732.389937106918 179.548881902523 736.792452830189 172.831461869686 741.194968553459 165.544776484177 745.59748427673 157.870507389925 750 150; M 50 124.020802498228 C 50 124.020802498228 54.4025157232704 117.61996277014 58.8050314465409 112.026466584852 63.2075471698113 107.379778668573 67.6100628930818 103.795756623873 72.0125786163522 101.363762208879 76.4150943396226 100.144433247233 80.8176100628931 100.168171722624 85.2201257861635 101.434385754793 89.622641509434 103.911504357104 94.0251572327044 107.537764607726 98.4276729559749 112.222751607593 102.830188679245 117.849652828801 107.232704402516 124.278170644926 111.635220125786 131.348020424057 116.037735849057 138.882926965297 120.440251572327 146.695019634078 124.842767295597 154.589516610754 129.245283018868 162.369581458338 133.647798742138 169.841230918792 138.050314465409 176.818171569933 142.452830188679 183.126444748798 146.85534591195 188.608763927857 151.25786163522 193.128436398656 155.660377358491 196.57277148209 160.062893081761 198.855890287128 164.465408805031 199.920866961227 168.867924528302 199.741148043841 173.270440251572 198.321214533753 177.672955974843 195.696470162667 182.075471698113 191.932358660755 186.477987421384 187.122732023736 190.880503144654 181.387510466065 195.283018867925 174.86969240551 199.685534591195 167.731789030275 204.088050314465 160.151772346947 208.490566037736 152.318637738086 212.893081761006 144.427691669879 217.295597484277 136.675682043186 221.698113207547 129.255892604762 226.100628930818 122.353323731522 230.503144654088 116.140079747157 234.905660377358 110.771077780854 239.308176100629 106.380185160746 243.710691823899 103.076881649897 248.11320754717 100.943529746549 252.51572327044 100.033321109237 256.918238993711 100.368950309333 261.320754716981 101.942048978835 265.723270440252 104.713394462005 270.125786163522 108.613887768474 274.528301886793 113.546276444135 278.930817610063 119.387579402844 283.333333333333 125.992153259704 287.735849056604 133.19532371189 292.138364779874 140.817491424448 296.540880503145 148.668610047487 300.943396226415 156.552924712689 305.345911949686 164.273852862437 309.748427672956 171.638885716031 314.150943396226 178.464388162906 318.553459119497 184.580177405317 322.955974842767 189.833766189497 327.358490566038 194.094164827224 331.761006289308 197.255147210556 336.163522012579 199.237899386995 340.566037735849 199.992984657156 344.96855345912 199.501576198427 349.37106918239 197.775926481155 353.77358490566 194.859061773237 358.176100628931 190.823709350138 362.578616352201 185.770484158611 366.981132075472 179.825380146707 371.383647798742 173.136628809692 375.786163522013 165.871003278892 380.188679245283 158.209660105027 384.591194968554 150.343622414373 388.993710691824 142.469017057924 393.396226415094 134.782184507481 397.798742138365 127.474783425451 402.201257861635 120.729011967951 406.603773584906 114.713064970234 411.006289308176 109.576940282148 415.408805031447 105.448698815806 419.811320754717 102.431271555115 424.213836477987 100.599893139166 428.616352201258 100.000226008928 433.018867924528 100.647221888575 437.421383647799 102.524748988574 441.823899371069 105.58599422561 446.22641509434 109.754630430645 450.62893081761 114.926719442692 455.03144654088 120.973303637736 459.433962264151 127.743621277264 463.836477987421 135.068865506912 468.238993710692 142.766393280711 472.641509433962 150.644279268262 477.044025157233 158.506101200564 481.446540880503 166.155837339699 485.849056603774 173.402753961916 490.251572327044 180.066160992689 494.654088050314 185.979917219731 499.056603773585 190.996572753786 503.459119496855 194.991045451707 507.861635220126 197.863739636176 512.264150943396 199.543029351859 516.666666666667 199.987044242067 521.069182389937 199.18471351797 525.471698113208 197.156041990699 529.874213836478 193.95161128394 534.276729559748 189.651318663438 538.679245283019 184.362384928684 543.081761006289 178.216681036736 547.48427672956 171.36744011447 551.88679245283 163.98543683989 556.289308176101 156.254729453399 560.691823899371 148.36807056505 565.094339622642 140.522101181851 569.496855345912 132.912447784203 573.899371069182 125.728844697917 578.301886792453 119.150403377516 582.704402515723 113.341146553549 587.106918238994 108.445918592685 591.509433962264 104.586774039108 595.911949685535 101.859934383051 600.314465408805 100.333388934501 604.716981132075 100.045199620375 609.119496855346 101.00255197231 613.522012578616 103.181575967116 617.924528301887 106.527941186971 622.327044025157 110.958211459986 626.729559748428 116.361925205391 631.132075471698 122.604349613322 635.534591194969 129.529839988209 639.937106918239 136.965720496013 644.339622641509 144.726589555186 648.74213836478 152.618942523439 653.14465408805 160.44599642115 657.547169811321 168.012596394769 661.949685534591 175.130081585562 666.352201257862 181.62098908115 670.754716981132 187.323478664479 675.157232704403 192.095368036305 679.559748427673 195.817677899476 683.962264150943 198.397598514122 688.364779874214 199.770803757502 692.767295597484 199.903054991214 697.169811320755 198.791054745931 701.572327044025 196.462528938435 705.974842767296 192.975535570993 710.377358490566 188.417017149539 714.779874213837 182.900632913752 719.182389937107 176.563924928847 723.584905660377 169.564888697978 727.987421383648 162.078033801435 732.389937106918 154.29003278421 736.792452830189 146.395066779818 741.194968553459 138.589983919689 745.59748427673 131.069391245297 750 124.020802498228; M 50 105.605739079881 C 50 105.605739079881 54.4025157232704 102.538243131665 58.8050314465409 100.654128865983 63.2075471698113 100.000373606411 67.6100628930818 100.593277676621 72.0125786163522 102.418057978335 76.4150943396226 105.42921658383 80.8176100628931 109.551675152729 85.2201257861635 114.682646888267 89.622641509434 120.694199358815 94.0251572327044 127.436444284912 98.4276729559749 134.741274759627 102.830188679245 142.426556720753 107.232704402516 150.300670167305 111.635220125786 158.167286892456 116.037735849057 165.830265607928 120.440251572327 173.098542407875 124.842767295597 179.790894636497 129.245283018868 185.740459380093 133.647798742138 190.798893922313 138.050314465409 194.840074428418 142.452830188679 197.763240637892 146.85534591195 199.495508157581 151.25786163522 199.993685715452 155.660377358491 199.245352064685 160.062893081761 197.269165687247 164.465408805031 194.114399575011 168.867924528302 189.859712687867 173.270440251572 184.61118872055 177.672955974843 178.499691078316 182.075471698113 171.677600010864 186.477987421384 164.315013258742 190.880503144654 156.595504942957 195.283018867925 148.711548442959 199.685534591195 140.859717386097 204.088050314465 133.235784404069 208.490566037736 126.029839860886 212.893081761006 119.421552258949 217.295597484277 113.575688497273 221.698113207547 108.638005676956 226.100628930818 104.731616885026 230.503144654088 101.953921569926 234.905660377358 100.374177044754 239.308176100629 100.031771668844 243.710691823899 100.935242763117 248.11320754717 103.062063745874 252.51572327044 106.359205796459 256.918238993711 110.744460042616 261.320754716981 116.108487304961 265.723270440252 122.31754429151 270.125786163522 129.216818269055 274.528301886793 136.634287066766 278.930817610063 144.38500816913 283.333333333333 152.275729956648 287.735849056604 160.109710120536 292.138364779874 167.691621112067 296.540880503145 174.832420317188 300.943396226415 181.354063526506 305.345911949686 187.093944177956 309.748427672956 191.908947686848 314.150943396226 195.679019775175 318.553459119497 198.310159829696 322.955974842767 199.736764654276 327.358490566038 199.923264178842 331.761006289308 198.865008341202 336.163522012579 196.58838302878 340.566037735849 193.150152189447 344.96855345912 188.63604251484 349.37106918239 183.158605984791 353.77358490566 176.854413566846 358.176100628931 169.880650041401 362.578616352201 162.41119485496 366.981132075472 154.632286719053 371.383647798742 146.737880050995 375.786163522013 138.924809036074 380.188679245283 131.387879887406 384.591194968554 124.315013669984 388.993710691824 117.882560794685 393.396226415094 112.250904007718 397.798742138365 107.560459507801 402.201257861635 103.928175896724 406.603773584906 101.444618256243 411.006289308176 100.171710055129 415.408805031447 100.14118918823 419.811320754717 101.353816643701 424.213836477987 103.779357529005 428.616352201258 107.357334928763 433.018867924528 111.998537798233 437.421383647799 117.587245295564 441.823899371069 123.984112092689 446.22641509434 131.029642724358 450.62893081761 138.548168348045 455.03144654088 146.35222676071 459.433962264151 154.247236463809 463.836477987421 162.036348236357 468.238993710692 169.525353249961 472.641509433962 176.527525349961 477.044025157233 182.868276768269 481.446540880503 188.3895111853 485.849056603774 192.953565604461 490.251572327044 196.446642754979 494.654088050314 198.781648441688 499.056603773585 199.900363097074 503.459119496855 199.774893391465 507.861635220126 198.40836770782 512.264150943396 195.834858140587 516.666666666667 192.118530963471 521.069182389937 187.352046747799 525.471698113208 181.65425002195 529.874213836478 175.167206076401 534.276729559748 168.052658796874 538.679245283019 160.487997843709 543.081761006289 152.661835729323 547.48427672956 144.769305072096 551.88679245283 137.007193282037 556.289308176101 129.569035986909 560.691823899371 122.640291536245 565.094339622642 116.393716899171 569.496855345912 110.985060250467 573.899371069182 106.549177643248 578.301886792453 103.196670592704 582.704402515723 101.011128407282 587.106918238994 100.047044025279 591.509433962264 100.328455322102 595.911949685535 101.848345764947 600.314465408805 104.568819358635 604.716981132075 108.422045520586 609.119496855346 113.311950326034 613.522012578616 119.116611955013 617.924528301887 125.691300614564 622.327044025157 132.87208714063 626.729559748428 140.479930305035 631.132075471698 148.325140917188 635.534591194969 156.212111415409 639.937106918239 163.944193023207 644.339622641509 171.328598866555 648.74213836478 178.181210800906 653.14465408805 184.331170097557 657.547169811321 189.625137528038 661.949685534591 193.931116628279 666.352201257862 197.141744815669 670.754716981132 199.176970300367 675.157232704403 199.986048046425 679.559748427673 199.548805016693 683.962264150943 197.876143154682 688.364779874214 195.009767562333 692.767295597484 191.021146651165 697.169811320755 186.009730193717 701.572327044025 180.100469705285 705.974842767296 173.440702981196 710.377358490566 166.196480468615 714.779874213837 158.548425068826 719.182389937107 150.68722859908 723.584905660377 142.808897202405 727.987421383648 135.109864253351 732.389937106918 127.782092611416 736.792452830189 121.00828833948 741.194968553459 114.957345225413 745.59748427673 109.780133690283 750 105.605739079881; M 50 100.116561540473 C 50 100.116561540473 54.4025157232704 101.275545145514 58.8050314465409 103.649393752839 63.2075471698113 107.178919309913 67.6100628930818 111.776118839856 72.0125786163522 117.326368652488 76.4150943396226 123.691282299538 80.8176100628931 130.71216101556 85.2201257861635 138.213950613436 89.622641509434 146.009606175697 94.0251572327044 153.904755715201 98.4276729559749 161.702546524371 102.830188679245 169.208553377157 107.232704402516 176.235626205701 111.635220125786 182.608556382768 116.037735849057 188.16844526378 120.440251572327 192.776666065979 124.842767295597 196.318320301693 129.245283018868 198.705102585177 133.647798742138 199.877502383723 138.050314465409 199.806287815966 142.452830188679 198.493234501278 146.85534591195 195.971081287595 151.25786163522 192.302713961506 155.660377358491 187.57959729349 160.062893081761 181.919494512686 164.465408805031 175.463531072386 168.867924528302 168.372675916482 173.270440251572 160.823727980763 177.672955974843 153.004907999121 182.075471698113 145.111165525804 186.477987421384 137.339318185483 190.880503144654 129.883144346024 195.283018867925 122.928551570181 199.685534591195 116.64894131301 204.088050314465 111.200885438724 208.490566037736 106.720222356023 212.893081761006 103.318670108391 217.295597484277 101.081040866462 221.698113207547 100.063126274538 226.100628930818 100.290306376721 230.503144654088 101.756916806807 234.905660377358 104.426390020044 239.308176100629 108.232167045355 243.710691823899 113.079357024992 248.11320754717 118.847103163668 252.51572327044 125.391596096112 256.918238993711 132.549659539589 261.320754716981 140.142818829016 265.723270440252 147.981750892331 270.125786163522 155.871004713255 274.528301886793 163.613874584359 278.930817610063 171.017304643825 283.333333333333 177.896702409232 287.735849056604 184.080541290761 292.138364779874 189.41463732762 296.540880503145 193.765993514232 300.943396226415 197.026115864171 305.345911949686 199.113718531182 309.748427672956 199.976750539501 314.150943396226 199.593693590239 318.553459119497 197.974098585153 322.955974842767 195.158347490454 327.358490566038 191.216646478183 331.761006289308 186.247275449542 336.163522012579 180.374137585473 340.566037735849 173.743670022439 344.96855345912 166.521192680697 349.37106918239 158.886786281079 353.77358490566 151.030802325222 358.176100628931 143.149116990604 362.578616352201 135.43824727676 366.981132075472 128.090451173656 371.383647798742 121.288934021533 375.786163522013 115.203280583836 380.188679245283 109.985226727073 384.591194968554 105.764876133873 388.993710691824 102.64745637935 393.396226415094 100.710695252731 397.798742138365 100.002882741406 402.201257861635 100.541666998666 406.603773584906 102.313614315709 411.006289308176 105.274544069319 415.408805031447 109.350630293817 419.811320754717 114.440242411389 424.213836477987 120.416479225187 428.616352201258 127.130332994188 433.018867924528 134.414404698767 437.421383647799 142.087077862875 441.823899371069 149.957046865365 446.22641509434 157.828086834378 450.62893081761 165.503946195248 455.03144654088 172.793239884195 459.433962264151 179.514221223488 463.836477987421 185.499313479132 468.238993710692 190.599288114072 472.641509433962 194.686985558949 477.044025157233 197.660485729062 481.446540880503 199.445649235851 485.849056603774 199.997965931909 490.251572327044 199.303664699096 494.654088050314 197.380056808955 499.056603773585 194.275104294325 503.459119496855 190.066224094095 507.861635220126 184.858357787791 512.264150943396 178.781355048048 516.666666666667 171.986736050295 521.069182389937 164.643913563725 525.471698113208 156.935968919541 529.874213836478 149.055087175856 534.276729559748 141.197765295974 538.679245283019 133.559912816329 543.081761006289 126.331967160961 547.48427672956 119.694145394201 551.88679245283 113.811950801411 556.289308176101 108.832046333849 560.691823899371 104.878597806616 565.094339622642 102.050178026087 569.496855345912 100.41730903737 573.899371069182 100.020703771859 578.301886792453 100.870250936534 582.704402515723 102.944768455141 587.106918238994 106.192531608799 591.509433962264 110.532562707704 595.911949685535 115.856650138064 600.314465408805 122.032046442621 604.716981132075 128.904778162502 609.119496855346 136.303484914886 613.522012578616 144.043691985332 617.924528301887 151.932409904621 622.327044025157 159.77294632716 626.729559748428 167.369810234583 631.132075471698 174.533586186207 635.534591194969 181.085657084852 639.937106918239 186.862657703528 644.339622641509 191.720547931559 648.74213836478 195.53820418038 653.14465408805 198.220439403128 657.547169811321 199.700376428789 661.949685534591 199.94111543563 666.352201257862 198.936653988223 670.754716981132 196.712036698401 675.157232704403 193.322730778612 679.559748427673 188.85324305723 683.962264150943 183.41501293829 688.364779874214 177.143633841267 692.767295597484 170.195472399791 697.169811320755 162.74376971406 701.572327044025 154.974321865884 705.974842767296 147.080847395696 710.377358490566 139.260157245946 714.779874213837 131.707247600481 719.182389937107 124.610437971979 723.584905660377 118.146675761314 727.987421383648 112.47712436203 732.389937106918 107.743144813344 736.792452830189 104.062771192651 741.194968553459 101.52776762785 745.59748427673 100.201340308128 750 100.116561540473; M 50 109.151505349478 C 50 109.151505349478 54.4025157232704 114.19951746109 58.8050314465409 120.140156353881 63.2075471698113 126.825301863066 67.6100628930818 134.088270762767 72.0125786163522 141.74797274104 76.4150943396226 149.613425592149 80.8176100628931 157.488517047124 85.2201257861635 165.176894514087 89.622641509434 172.486860810651 94.0251572327044 179.236153821251 98.4276729559749 185.256490906434 102.830188679245 190.397764756667 107.232704402516 194.531786073854 111.635220125786 197.555479762915 116.037735849057 199.393454941561 120.440251572327 199.99988468928 124.842767295597 199.359648667035 129.245283018868 197.488710118312 133.647798742138 194.433717851621 138.050314465409 190.270843128359 142.452830188679 185.103880456339 146.85534591195 179.061659642629 151.25786163522 172.294833631928 155.660377358491 164.972122220516 160.062893081761 157.276105302661 164.465408805031 149.398670538028 168.867924528302 141.536228945106 173.270440251572 133.884817712044 177.672955974843 126.635212328336 182.075471698113 119.968169908398 186.477987421384 114.049922307034 190.880503144654 109.028031398608 195.283018867925 105.027709861808 199.685534591195 102.148699205236 204.088050314465 100.462782875178 208.490566037736 100.011996452171 212.893081761006 100.807579562198 217.295597484277 102.829695634904 221.698113207547 106.027926496198 226.100628930818 110.322529463393 230.503144654088 115.606425599246 234.905660377358 121.74786955103 239.308176100629 128.593734406547 243.710691823899 135.973329664523 248.11320754717 143.702657124533 252.51572327044 151.588998582742 256.918238993711 159.435720946749 261.320754716981 167.0471789618 265.723270440252 174.233593306887 270.125786163522 180.815782433322 274.528301886793 186.629630165111 278.930817610063 191.530177668768 283.333333333333 195.395237765964 287.735849056604 198.128441472013 292.138364779874 199.661640799695 296.540880503145 199.956607918443 300.943396226415 199.005988303092 305.345911949686 196.833484106998 309.748427672956 193.493263187411 314.150943396226 189.06860851809 318.553459119497 183.669841663865 322.955974842767 177.431572091918 327.358490566038 170.509340903742 331.761006289308 163.075742670859 336.163522012579 155.316122070006 340.566037735849 147.423952615194 344.96855345912 139.596012710439 349.37106918239 132.027479300431 353.77358490566 124.907061450997 358.176100628931 118.412295195587 362.578616352201 112.705116963152 366.981132075472 107.927825956773 371.383647798742 104.199536154571 375.786163522013 101.613206396465 380.188679245283 100.23332260676 384.591194968554 100.094289942544 388.993710691824 101.19957495708 393.396226415094 103.521619166938 397.798742138365 107.002526177942 402.201257861635 111.555505237552 406.603773584906 117.067035221065 411.006289308176 123.399695096146 415.408805031447 130.395590292676 419.811320754717 137.880289546942 424.213836477987 145.667174061386 428.616352201258 153.562090540673 433.018867924528 161.368192088202 437.421383647799 168.890846263186 441.823899371069 175.942487923875 446.22641509434 182.347295859178 450.62893081761 187.945576604485 455.03144654088 192.597746138368 459.433962264151 196.187810183042 463.836477987421 198.626256332942 468.238993710692 199.852285900912 472.641509433962 199.835329834548 477.044025157233 198.575810905775 481.446540880503 196.10513316972 485.849056603774 192.484898955694 490.251572327044 187.805372913344 494.654088050314 182.183231410485 499.056603773585 175.758653397708 503.459119496855 168.691825274339 507.861635220126 161.158946901205 512.264150943396 153.347838343801 516.666666666667 145.453256884558 521.069182389937 137.672041066897 525.471698113208 130.198202846424 529.874213836478 123.218090218491 534.276729559748 116.905740934141 538.679245283019 111.418543151963 543.081761006289 106.89331122044 547.48427672956 103.442874434786 551.88679245283 101.153263822047 556.289308176101 100.081567097431 560.691823899371 100.254505275007 565.094339622642 101.667766422707 569.496855345912 104.286113173327 573.899371069182 108.044261310951 578.301886792453 112.848507526646 582.704402515723 118.579065758008 587.106918238994 125.093053859723 591.509433962264 132.228056137379 595.911949685535 139.806172918537 600.314465408805 147.638456191605 604.716981132075 155.529620717071 609.119496855346 163.282913147196 613.522012578616 170.705017750611 617.924528301887 177.610876425528 622.327044025157 183.828302822404 626.729559748428 189.202275530401 631.132075471698 193.598803284031 635.534591194969 196.908265817342 639.937106918239 199.048147066891 644.339622641509 199.965092575518 648.74213836478 199.636239798926 653.14465408805 198.069788146025 657.547169811321 195.304794540006 661.949685534591 191.410199597519 666.352201257862 186.483108706561 670.754716981132 180.646370861636 675.157232704403 174.045515623954 679.559748427673 166.845124578624 683.962264150943 159.224727760612 688.364779874214 151.374327365433 692.767295597484 143.489660353565 697.169811320755 135.767318067813 701.572327044025 128.399844548057 705.974842767296 121.570935758905 710.377358490566 115.450859429702 714.779874213837 110.192209705747 719.182389937107 105.926102461564 723.584905660377 102.758906139907 727.987421383648 100.769589627715 732.389937106918 100.007753295405 736.792452830189 100.492392292338 741.194968553459 102.211422933684 745.59748427673 105.121983987432 750 109.151505349478; M 50 130.079945507688 C 50 130.079945507688 54.4025157232704 137.547200907742 58.8050314465409 145.324946591224 63.2075471698113 153.219257124679 67.6100628930818 161.033300719781 72.0125786163522 168.572246913707 76.4150943396226 175.648124349725 80.8176100628931 182.084507537119 85.2201257861635 187.720915733746 89.622641509434 192.416814272216 94.0251572327044 196.055118563164 98.4276729559749 198.545113408978 102.830188679245 199.824714839643 107.232704402516 199.862018075527 111.635220125786 198.656093021136 116.037735849057 196.237007455544 120.440251572327 192.665077341237 124.842767295597 188.02936294373 129.245283018868 182.44544825876 133.647798742138 176.052559113415 138.050314465409 169.010091796669 142.452830188679 161.493638772274 146.85534591195 153.690610566381 151.25786163522 145.795562991005 155.660377358491 138.005346211412 160.062893081761 130.514196607548 164.465408805031 123.508893805944 168.867924528302 117.164103633637 173.270440251572 111.63802310997 177.672955974843 107.068436061322 182.075471698113 103.569277705581 186.477987421384 101.227793862868 190.880503144654 100.102365622978 195.283018867925 100.221053707887 199.685534591195 101.580898823317 204.088050314465 104.147995443915 208.490566037736 107.85833719237 212.893081761006 112.619412734274 217.295597484277 118.312512397734 221.698113207547 124.795688005877 226.100628930818 131.907292123682 230.503144654088 139.470008473757 234.905660377358 147.295273029199 239.308176100629 155.1879755508 243.710691823899 162.951324343392 248.11320754717 170.391752936568 252.51572327044 177.323746349671 256.918238993711 183.574466605986 261.320754716981 188.988062166462 265.723270440252 193.429553834254 270.125786163522 196.788200241372 274.528301886793 198.980259004506 278.930817610063 199.951074705093 283.333333333333 199.676441633252 287.735849056604 198.163207317774 292.138364779874 195.449101794134 296.540880503145 191.601796867446 300.943396226415 186.71721882611 305.345911949686 180.917156675894 309.748427672956 174.346225529241 314.150943396226 167.168260862735 318.553459119497 159.562233546076 322.955974842767 151.717787494647 327.358490566038 143.830511207049 331.761006289308 136.097061084134 336.163522012579 128.710258121629 340.566037735849 121.854280232343 344.96855345912 115.700070069591 349.37106918239 110.401072850272 353.77358490566 106.089410448056 358.176100628931 102.872587149442 362.578616352201 100.830809209291 366.981132075472 100.014985038364 371.383647798742 100.445455884938 375.786163522013 102.111488658872 380.188679245283 104.971543543748 384.591194968554 108.954309724604 388.993710691824 113.960483407075 393.396226415094 119.86524379593 397.798742138365 126.521365298501 402.201257861635 133.762888355292 406.603773584906 141.409257371554 411.006289308176 149.269822577269 415.408805031447 157.148593568948 419.811320754717 164.849126011455 424.213836477987 172.179419657865 428.616352201258 178.956705563217 433.018867924528 185.012003130777 437.421383647799 190.194333368266 441.823899371069 194.374483303378 446.22641509434 197.448227698997 450.62893081761 199.338927739905 455.03144654088 199.999441896939 459.433962264151 199.413301324315 463.836477987421 197.595120483502 468.238993710692 194.590232755406 472.641509433962 190.473560126277 477.044025157233 185.347745129888 481.446540880503 179.340591622967 485.849056603774 172.601878203974 490.251572327044 165.299623727458 494.654088050314 157.615898027301 499.056603773585 149.742282301653 503.459119496855 141.875092347482 507.861635220126 134.210483745596 512.264150943396 126.939561040408 516.666666666667 120.24361285906 521.069182389937 114.289591774484 525.471698113208 109.225951614642 529.874213836478 105.178946007875 534.276729559748 102.24948045411 538.679245283019 100.510596410398 543.081761006289 100.005650121035 547.48427672956 100.747231600146 551.88679245283 102.716850720178 556.289308176101 105.865398233137 560.691823899371 110.114370229787 565.094339622642 115.357825506888 569.496855345912 121.465027038728 573.899371069182 128.283701692131 578.301886792453 135.643836909273 582.704402515723 143.361919694184 587.106918238994 151.245512210707 591.509433962264 159.098049906828 595.911949685535 166.723742531949 600.314465408805 173.932455848221 604.716981132075 180.544452318393 609.119496855346 186.394872568854 613.522012578616 191.337845889871 617.924528301887 195.250127284392 622.327044025157 198.034170381513 626.729559748428 199.620559596522 631.132075471698 199.969740895554 635.534591194969 199.073008011072 639.937106918239 196.952719518475 644.339622641509 193.661741361409 648.74213836478 189.282128725471 653.14465408805 183.923080125676 657.547169811321 177.718214719158 661.949685534591 170.822240728896 666.352201257862 163.407098045907 670.754716981132 155.657671187818 675.157232704403 147.767179504253 679.559748427673 139.932359566729 683.962264150943 132.348559862361 688.364779874214 125.204870097184 692.767295597484 118.679406552003 697.169811320755 112.934871042742 701.572327044025 108.114494215395 705.974842767296 104.338464322923 710.377358490566 101.70093052672 714.779874213837 100.267655440465 719.182389937107 100.074375446355 723.584905660377 101.125909666555 727.987421383648 103.396039806237 732.389937106918 106.828163864093 736.792452830189 111.336707411146 741.194968553459 116.809257249898 745.59748427673 123.109364254499 750 130.079945507688; M 50 156.808332454812 C 50 156.808332454812 54.4025157232704 164.520656168221 58.8050314465409 171.87093094662 63.2075471698113 178.675889648035 67.6100628930818 184.765861699588 72.0125786163522 189.989003557161 76.4150943396226 194.215084677103 80.8176100628931 197.338734602942 85.2201257861635 199.282070206264 89.622641509434 199.9966375758 94.0251572327044 199.464620136863 98.4276729559749 197.699282878647 102.830188679245 194.744641613307 107.232704402516 190.674365513301 111.635220125786 185.589940290441 116.037735849057 179.618137814794 120.440251572327 172.907855264379 124.842767295597 165.626402616294 129.245283018868 157.955331044676 133.647798742138 150.08590623757 138.050314465409 142.214339498209 142.452830188679 134.536895535419 146.85534591195 127.244998922452 151.25786163522 120.520461236714 155.660377358491 114.53094788391 160.062893081761 109.425797633962 164.465408805031 105.332299101767 168.867924528302 102.352517012697 173.270440251572 100.560747384745 177.672955974843 100.001665078195 182.075471698113 100.689209900679 186.477987421384 102.606239040753 190.880503144654 105.704954496005 195.283018867925 109.908094838474 199.685534591195 115.110861602648 204.088050314465 121.183532264677 208.490566037736 127.97469466244 212.893081761006 135.315022211443 217.295597484277 143.021495787692 221.698113207547 150.901967011756 226.100628930818 158.759949155973 230.503144654088 166.39951622129 234.905660377358 173.630188033265 239.308176100629 180.271679555286 243.710691823899 186.158396002616 248.11320754717 191.14356167891 252.51572327044 195.102879589389 256.918238993711 197.937630584157 261.320754716981 199.577134759579 265.723270440252 199.980513746678 270.125786163522 199.137709946748 274.528301886793 197.069737301214 278.930817610063 193.828157343197 283.333333333333 189.493793594578 287.735849056604 184.17471636299 292.138364779874 178.003548184539 296.540880503145 171.13415709665 300.943396226415 163.737820188923 305.345911949686 155.998953087579 309.748427672956 148.110511851886 314.150943396226 140.269181928782 318.553459119497 132.67047412128 322.955974842767 125.50384984471 327.358490566038 118.9479972146 331.761006289308 113.166375749261 336.163522012579 108.303140772661 340.566037735849 104.479549135977 344.96855345912 101.790935875308 349.37106918239 100.304337187667 353.77358490566 100.056818992489 358.176100628931 101.054552753233 362.578616352201 103.272661601987 366.981132075472 106.65584060369 371.383647798742 111.119735694701 375.786163522013 116.553046914126 380.188679245283 122.820303487243 384.591194968554 129.765241568849 388.993710691824 137.21470042798 393.396226415094 144.982939928992 397.798742138365 152.87627165962 402.201257861635 160.697888236395 406.603773584906 168.252770376518 411.006289308176 175.352549386368 415.408805031447 181.820203828376 419.811320754717 187.494473262545 424.213836477987 192.233879013133 428.616352201258 195.92025170923 433.018867924528 198.461677645754 437.421383647799 199.794790502128 441.823899371069 199.886351278385 446.22641509434 198.734077055548 450.62893081761 196.3666979165 455.03144654088 192.84324060811 459.433962264151 188.251556805352 463.836477987421 182.706132672722 468.238993710692 176.345234338014 472.641509433962 169.327460451391 477.044025157233 161.827787786105 481.446540880503 154.033208477354 485.849056603774 146.13806767765 490.251572327044 138.339217876657 494.654088050314 130.831110704662 499.056603773585 123.800948597567 503.459119496855 117.424017208741 507.861635220126 111.859314946465 512.264150943396 107.24558860733 516.666666666667 103.69787395061 521.069182389937 101.304627468789 525.471698113208 100.125520868841 529.874213836478 100.189953255314 534.276729559748 101.496318111488 538.679245283019 104.012043355261 543.081761006289 107.674403471011 547.48427672956 112.392083468276 551.88679245283 118.047455672456 556.289308176101 124.49951257949 560.691823899371 131.587382648538 565.094339622642 139.134341372092 569.496855345912 146.952217614032 573.899371069182 154.846085350721 578.301886792453 162.619123834251 582.704402515723 170.077524997538 587.106918238994 177.035325743132 591.509433962264 183.319044630473 595.911949685535 188.772007353337 600.314465408805 193.25825315874 604.716981132075 196.66592480709 609.119496855346 198.910057550455 613.522012578616 199.934697590305 617.924528301887 199.714297194438 622.327044025157 198.25435168811 626.729559748428 195.591262437047 631.132075471698 191.791429238613 635.534591194969 186.949594750908 639.937106918239 181.186482238737 644.339622641509 174.645785535438 648.74213836478 167.490586270945 653.14465408805 159.899287696702 657.547169811321 152.061166490862 661.949685534591 144.171653452295 666.352201257862 136.427460751598 670.754716981132 129.021677233195 675.157232704403 122.138954059175 679.559748427673 115.950900733008 683.962264150943 110.611806295809 688.364779874214 106.254792380133 692.767295597484 102.988494038675 697.169811320755 100.894351105988 701.572327044025 100.024577628721 705.974842767296 100.400859993323 710.377358490566 102.013816211279 714.779874213837 104.823229843736 719.182389937107 108.759052732961 723.584905660377 113.723151539186 727.987421383648 119.591754535758 732.389937106918 126.218537655755 736.792452830189 133.438272844512 741.194968553459 141.070947752321 745.59748427673 148.926254049474 750 156.808332454812; M 50 181.554397216303 C 50 181.554397216303 54.4025157232704 187.26625988601 58.8050314465409 192.048949001353 63.2075471698113 195.783215991151 67.6100628930818 198.375952984035 72.0125786163522 199.762514301726 76.4150943396226 199.908328293841 80.8176100628931 198.80975932574 85.2201257861635 196.494198427162 89.622641509434 193.019380341467 94.0251572327044 188.471944003749 98.4276729559749 182.965272339958 102.830188679245 176.636665248132 107.232704402516 169.643916248836 111.635220125786 162.161378160471 116.037735849057 154.375615895441 120.440251572327 146.480754767618 124.842767295597 138.673640293505 129.245283018868 131.148930169564 133.647798742138 124.094240799289 138.050314465409 117.685469383448 142.452830188679 112.082408209591 146.85534591195 107.424760491352 151.25786163522 103.828657096131 155.660377358491 101.383761010872 160.062893081761 100.151031741373 164.465408805031 100.161205386197 168.867924528302 101.414028282063 173.270440251572 103.87826332853 177.672955974843 107.492468834268 182.075471698113 112.166530465663 186.477987421384 117.783908101095 190.880503144654 124.204541569256 195.283018867925 131.268342821623 199.685534591195 138.799187467472 204.088050314465 146.609306148988 208.490566037736 154.503966264685 212.893081761006 162.286327309972 217.295597484277 169.762348774854 221.698113207547 176.745628228334 226.100628930818 183.062048959725 230.503144654088 188.554121295533 234.905660377358 193.084909348208 239.308176100629 196.541445289699 243.710691823899 198.83754602043 248.11320754717 199.915962004664 252.51572327044 199.749804694524 256.918238993711 198.343216952183 261.320754716981 195.73126975434 265.723270440252 191.979087754475 270.125786163522 187.180225505585 274.528301886793 181.45433482962 278.930817610063 174.944181493995 283.333333333333 167.812085579471 287.735849056604 160.235874293049 292.138364779874 152.404448135911 296.540880503145 144.513070976778 300.943396226415 136.758501465064 305.345911949686 129.334087174088 309.748427672956 122.424943793941 314.150943396226 116.203339572946 318.553459119497 110.824400089186 322.955974842767 106.422240446624 327.358490566038 103.106621333196 331.761006289308 100.960212316655 336.163522012579 100.036530613408 340.566037735849 100.358606723806 344.96855345912 101.918410204083 349.37106918239 104.677049892416 353.77358490566 108.565743596754 358.176100628931 113.48753306687 362.578616352201 119.319701490565 366.981132075472 125.916833237709 371.383647798742 133.114439562375 375.786163522013 140.733059862075 380.188679245283 148.582736235884 384.591194968554 156.467749775624 388.993710691824 164.191500498377 393.396226415094 171.56140924718 397.798742138365 178.393719338952 402.201257861635 184.518078238399 406.603773584906 189.781785021303 411.006289308176 194.053597723602 415.408805031447 197.227005646229 419.811320754717 199.222885026081 424.213836477987 199.991471858314 428.616352201258 199.513602680834 433.018867924528 197.801192384041 437.421383647799 194.896937132425 441.823899371069 190.873249805172 446.22641509434 185.830454498852 450.62893081761 179.8942851093 455.03144654088 173.212750361508 459.433962264151 165.952443452896 463.836477987421 158.29438832299 468.238993710692 150.429526116041 472.641509433962 142.553954374271 477.044025157233 134.864037664724 481.446540880503 127.551511548298 485.849056603774 120.798701965503 490.251572327044 114.773979235795 494.654088050314 109.627560017619 499.056603773585 105.487761900447 503.459119496855 102.457804014469 507.861635220126 100.613233429531 512.264150943396 100.000041511869 516.666666666667 100.633517204227 521.069182389937 102.497865820941 525.471698113208 105.546602862736 529.874213836478 109.70371303207 534.276729559748 114.865545550902 538.679245283019 120.903398524186 543.081761006289 127.666727912218 547.48427672956 134.986901101314 551.88679245283 142.681401483651 556.289308176101 150.558379211909 560.691823899371 158.421434663056 565.094339622642 166.074515343388 569.496855345912 173.32680413846 573.899371069182 179.997477027359 578.301886792453 185.920211635446 582.704402515723 190.947334212144 587.106918238994 194.953501635628 591.509433962264 197.838826639625 595.911949685535 199.531368339871 600.314465408805 199.988925963002 604.716981132075 199.200091054177 609.119496855346 197.184531928334 613.522012578616 193.992503272764 617.924528301887 189.703593128245 622.327044025157 184.424738490751 626.729559748428 178.287559011446 631.132075471698 171.445075274851 635.534591194969 164.067893479538 639.937106918239 156.339951650167 644.339622641509 148.453933442129 648.74213836478 140.606463888108 653.14465408805 132.993206872824 657.547169811321 125.80398657243 661.949685534591 119.218054497543 666.352201257862 113.399620148487 670.754716981132 108.493756718587 675.157232704403 104.622783930142 679.559748427673 101.883218191176 683.962264150943 100.343366115846 688.364779874214 100.041621410158 692.767295597484 100.985507587379 697.169811320755 103.151490381477 701.572327044025 106.485564535751 705.974842767296 110.90460033603 710.377358490566 116.298416314846 714.779874213837 122.532526447037 719.182389937107 129.451493339973 723.584905660377 136.882803812022 727.987421383648 144.641170228041 732.389937106918 152.533150345077 736.792452830189 160.361970479946 741.194968553459 167.932431740849 745.59748427673 175.055776994135 750 181.554397216303; M 50 197.113046105941 C 50 197.113046105941 54.4025157232704 199.161374994737 58.8050314465409 199.983944988464 63.2075471698113 199.56024664273 67.6100628930818 197.900844186387 72.0125786163522 195.047112119673 76.4150943396226 191.070203608365 80.8176100628931 186.069276395371 85.2201257861635 180.169020463741 89.622641509434 173.516549094831 94.0251572327044 166.277730837995 98.4276729559749 158.633053848193 102.830188679245 150.773125707519 107.232704402516 142.893920935281 111.635220125786 135.191894682227 116.037735849057 127.859084441019 120.440251572327 121.078321903812 124.842767295597 115.0186743515 129.245283018868 109.831229236154 133.647798742138 105.645327061237 138.050314465409 102.565336486604 142.452830188679 100.668052065785 146.85534591195 100.000779498741 151.25786163522 100.580156141215 155.660377358491 102.391736179329 160.062893081761 105.390350812453 164.465408805031 109.501234463753 168.867924528302 114.621888938199 173.270440251572 120.624639048281 177.672955974843 127.359815987074 182.075471698113 134.659489076408 186.477987421384 142.341652845092 190.880503144654 150.214765039195 195.283018867925 158.08252241649 199.685534591195 165.748755248393 204.088050314465 173.022318492962 208.490566037736 179.7218576855 212.893081761006 185.680330717055 217.295597484277 190.749172757611 221.698113207547 194.802000478394 226.100628930818 197.737763214538 230.503144654088 199.483262498995 234.905660377358 199.994977147206 239.308176100629 199.260148387029 243.710691823899 197.29709797796 248.11320754717 194.154771387871 252.51572327044 189.91151741741 256.918238993711 184.673134700136 261.320754716981 178.570233785737 265.723270440252 171.754980578489 270.125786163522 164.397302328024 274.528301886793 156.680650769845 278.930817610063 148.797428054801 283.333333333333 140.944189514507 287.735849056604 133.316742873969 292.138364779874 126.105266104557 296.540880503145 119.48956564573 300.943396226415 113.63459322403 305.345911949686 108.686333050171 309.748427672956 104.76816194028 314.150943396226 101.97777311573 318.553459119497 100.384740381622 322.955974842767 100.028783417159 327.358490566038 100.918777430072 331.761006289308 103.032531867758 336.163522012579 106.317343702602 340.566037735849 110.691311496214 344.96855345912 116.045377478541 349.37106918239 122.246046725908 353.77358490566 129.138715639734 358.176100628931 136.551526735709 362.578616352201 144.299653630532 366.981132075472 152.18990938705 371.383647798742 160.0255633162 375.786163522013 167.611246136646 380.188679245283 174.757821189915 384.591194968554 181.28710025524 388.993710691824 187.036286382909 393.396226415094 191.862032971326 397.798742138365 195.644017881274 402.201257861635 198.287943472689 406.603773584906 199.727887762877 411.006289308176 199.927948083894 415.408805031447 198.883136257154 419.811320754717 196.619502965543 424.213836477987 193.193488222034 428.616352201258 188.690514129789 433.018867924528 183.222855021015 437.421383647799 176.926838079167 441.823899371069 169.959444242445 446.22641509434 162.49439413953 450.62893081761 154.717816648362 455.03144654088 146.823608075422 459.433962264151 139.008597666817 463.836477987421 131.46763999129 468.238993710692 124.388756558596 472.641509433962 117.948447809085 477.044025157233 112.307292362406 481.446540880503 107.605943250903 485.849056603774 103.961620965112 490.251572327044 101.465190751555 494.654088050314 100.178897035668 499.056603773585 100.13481145833 503.459119496855 101.33403322168 507.861635220126 103.746661682302 512.264150943396 107.312541875115 516.666666666667 111.942764379552 521.069182389937 117.521882131294 525.471698113208 123.91078890698 529.874213836478 130.95018771154 534.276729559748 138.464562589583 538.679245283019 146.266554830156 543.081761006289 154.161634451354 547.48427672956 161.952950488899 551.88679245283 169.446239154637 556.289308176101 176.45466748801 560.691823899371 182.803491731933 565.094339622642 188.334414284049 569.496855345912 192.909530589879 573.899371069182 196.414767568505 578.301886792453 198.762727839232 582.704402515723 199.894868833073 587.106918238994 199.782962456453 591.509433962264 198.42979891279 595.911949685535 195.869117133314 600.314465408805 192.164763551713 604.716981132075 187.409100197195 609.119496855346 181.72070179757 613.522012578616 175.241399311344 617.924528301887 168.132743603545 622.327044025157 160.571977437762 626.729559748428 152.747616216221 631.132075471698 144.854747654972 635.534591194969 137.090167589112 639.937106918239 129.647473188842 644.339622641509 122.712235929032 648.74213836478 116.457374666438 653.14465408805 111.038844189364 657.547169811321 106.591746738771 661.949685534591 103.226963453721 666.352201257862 101.028389730592 670.754716981132 100.050843427872 675.157232704403 100.318698072055 679.559748427673 101.825275143415 683.962264150943 104.533010594027 688.364779874214 108.374391446184 692.767295597484 113.253639118645 697.169811320755 119.049097509715 701.572327044025 125.616266294197 705.974842767296 132.791403803886 710.377358490566 140.395609659634 714.779874213837 148.239285361226 719.182389937107 156.126861617479 723.584905660377 163.86167454831 727.987421383648 171.250869178596 732.389937106918 178.110207963181 736.792452830189 184.268664450296 741.194968553459 189.572687547852 745.59748427673 193.890030070083 750 197.113046105941; M 50 198.954204384116 C 50 198.954204384116 54.4025157232704 196.74260561337 58.8050314465409 193.365556026502 63.2075471698113 188.907256860166 67.6100628930818 183.47886854998 72.0125786163522 177.215739125934 76.4150943396226 170.274029529485 80.8176100628931 162.826819994571 85.2201257861635 155.059794573598 89.622641509434 147.16661140772 94.0251572327044 139.344074176186 98.4276729559749 131.787225116823 102.830188679245 124.684481965185 107.232704402516 118.21294006489 111.635220125786 112.533956783383 116.037735849057 107.789128328522 120.440251572327 104.096759277522 124.842767295597 101.548912844819 129.245283018868 100.209115435616 133.647798742138 100.110772718327 138.050314465409 101.256336708595 142.452830188679 103.617244632268 146.85534591195 107.1346310917 151.25786163522 111.720795778662 155.660377358491 117.261390138829 160.062893081761 123.618268466924 164.465408805031 130.632932345107 168.867924528302 138.130482543129 173.270440251572 145.923979846058 177.672955974843 153.819106079437 182.075471698113 161.619009116789 186.477987421384 169.129211067092 190.880503144654 176.162457264557 195.283018867925 182.543385159039 199.685534591195 188.112896695889 204.088050314465 192.732125167084 208.490566037736 196.285897626635 212.893081761006 198.685606540604 217.295597484277 199.871419071785 221.698113207547 199.813768914147 226.100628930818 198.514093480568 230.503144654088 196.004798063285 234.905660377358 192.348447860654 239.308176100629 187.636208015735 243.710691823899 181.98557056178 248.11320754717 175.537424949558 252.51572327044 168.452545198136 256.918238993711 160.907581256317 261.320754716981 153.090654523586 265.723270440252 145.19666734911 270.125786163522 137.422443458787 274.528301886793 129.961820475889 278.930817610063 123.000816895323 283.333333333333 116.712994015128 287.735849056604 111.255128467912 292.138364779874 106.763303250606 296.540880503145 103.349514716361 300.943396226415 101.098880127705 305.345911949686 100.067515396102 309.748427672956 100.281135923001 314.150943396226 101.734415428146 318.553459119497 104.391118751706 322.955974842767 108.185005319027 327.358490566038 113.021480741582 331.761006289308 118.779955374133 336.163522012579 125.316851021328 340.566037735849 132.469180826378 344.96855345912 140.058613083145 349.37106918239 147.895917647063 353.77358490566 155.7856840809 358.176100628931 163.531193896061 362.578616352201 170.939325408016 366.981132075472 177.825368911278 371.383647798742 184.017632115367 375.786163522013 189.361721012714 380.188679245283 193.724389442027 384.591194968554 196.996861364512 388.993710691824 199.09754301742 393.396226415094 199.974057321751 397.798742138365 199.604549819504 402.201257861635 197.99823357902 406.603773584906 195.195159482122 411.006289308176 191.265217620535 415.408805031447 186.306394700175 419.811320754717 180.442330902065 424.213836477987 173.819237115597 428.616352201258 166.60224940791 433.018867924528 158.971311624739 437.421383647799 151.116688783418 441.823899371069 143.234223124245 446.22641509434 135.520451102881 450.62893081761 128.167703073606 455.03144654088 121.359307844883 459.433962264151 115.265021673806 463.836477987421 110.036795670044 468.238993710692 105.80498714216 472.641509433962 102.675109350225 477.044025157233 100.72520070436 481.446540880503 100.003879003954 485.849056603774 100.529129231947 490.251572327044 102.287855128537 494.654088050314 105.236205725113 499.056603773585 109.300668696809 503.459119496855 114.379903272709 507.861635220126 120.347267003079 512.264150943396 127.053973382796 516.666666666667 134.332801600756 521.069182389937 142.002265918718 525.471698113208 149.871140722892 529.874213836478 157.743228423473 534.276729559748 165.422251322315 538.679245283019 172.716745477964 543.081761006289 179.444834547514 547.48427672956 185.438764577283 551.88679245283 190.549086674696 556.289308176101 194.648383273253 560.691823899371 197.634445082232 565.094339622642 199.432819509043 569.496855345912 199.998667013488 573.899371069182 199.317879108732 578.301886792453 197.407430133472 582.704402515723 194.314954024416 587.106918238994 190.117556641578 591.509433962264 184.919893259119 595.911949685535 178.851559156368 600.314465408805 172.063858370395 604.716981132075 164.726031176038 609.119496855346 157.021034355018 613.522012578616 149.140979466273 617.924528301887 141.282342856825 622.327044025157 133.641066843752 626.729559748428 126.407674211325 631.132075471698 119.762517835389 635.534591194969 113.871283877851 639.937106918239 108.880860671821 644.339622641509 104.915676300028 648.74213836478 102.074596183036 653.14465408805 100.428458030843 657.547169811321 100.018305619845 661.949685534591 100.854365433052 666.352201257862 102.915791679372 670.754716981132 106.151186049499 675.157232704403 110.47987924912 679.559748427673 115.793942356515 683.962264150943 121.960877854609 688.364779874214 128.82692324097 692.767295597484 136.220884845625 697.169811320755 143.958406266671 701.572327044025 151.846564997186 705.974842767296 159.68868263404 710.377358490566 167.28922873386 714.779874213837 174.458696046488 719.182389937107 181.018325569917 723.584905660377 186.804563615146 727.987421383648 191.673139751301 732.389937106918 195.502663954081 736.792452830189 198.197653268505 741.194968553459 199.690912521032 745.59748427673 199.945209721881 750 198.954204384116; M 50 186.541798213906 C 50 186.541798213906 54.4025157232704 180.714203515517 58.8050314465409 174.120800127519 63.2075471698113 166.92598383527 67.6100628930818 159.309145676341 72.0125786163522 151.460199116873 76.4150943396226 143.574844868315 80.8176100628931 135.849691408602 85.2201257861635 128.477352869662 89.622641509434 121.64164651744 94.0251572327044 115.513009567457 98.4276729559749 110.244249610161 102.830188679245 105.966734602295 107.232704402516 102.787117420638 111.635220125786 100.784676646063 116.037735849057 100.009339881116 120.440251572327 100.48043888648 124.842767295597 102.186227574981 129.245283018868 105.084174881158 133.647798742138 109.10202520418 138.050314465409 114.139599983681 142.452830188679 120.071295489169 146.85534591195 126.749214544669 151.25786163522 134.006854104167 155.660377358491 141.663256734147 160.062893081761 149.527522492754 164.465408805031 157.403568709237 168.867924528302 165.095018986294 173.270440251572 172.410099526018 177.672955974843 179.166420697511 182.075471698113 185.195524625566 186.477987421384 190.347085413685 190.880503144654 194.492657275716 195.283018867925 197.528877122536 199.685534591195 199.380041752494 204.088050314465 199.999995387569 208.490566037736 199.373280492599 212.893081761006 197.51552318376 217.295597484277 194.473043616795 221.698113207547 190.32170106929 226.100628930818 185.165002513022 230.503144654088 179.131521836032 234.905660377358 172.37169406193 239.308176100629 165.054064497356 243.710691823899 157.361086328993 248.11320754717 149.484571450232 252.51572327044 141.620907943707 256.918238993711 133.966163463994 261.320754716981 126.711196609666 265.723270440252 120.036898174688 270.125786163522 114.10968093079 274.528301886793 109.077330395781 278.930817610063 105.065320042119 283.333333333333 102.173682820033 287.735849056604 100.474516998677 292.138364779874 100.010188513095 296.540880503145 100.792274638567 300.943396226415 102.801275330086 305.345911949686 105.987099424251 309.748427672956 110.270313580925 314.150943396226 115.544122824326 318.553459119497 121.67703330198 322.955974842767 128.516130869978 327.358490566038 135.890893758351 331.761006289308 143.617444253946 336.163522012579 151.50313339202 340.566037735849 159.35134434471 344.96855345912 166.966394741728 349.37106918239 174.158415691865 353.77358490566 180.748085854859 358.176100628931 186.571102527242 362.578616352201 191.482278262913 366.981132075472 195.359160885872 371.383647798742 198.105086635986 375.786163522013 199.651590322571 380.188679245283 199.960112392515 384.591194968554 199.022960350001 388.993710691824 196.86350055637 393.396226415094 193.53557562792 397.798742138365 189.12216195788 402.201257861635 183.73330083505 406.603773584906 177.503354743319 411.006289308176 170.587657251744 415.408805031447 163.158640024753 419.811320754717 155.401533519155 424.213836477987 147.509748564087 428.616352201258 139.680053976688 433.018867924528 132.107670451806 437.421383647799 124.981403051617 441.823899371069 118.478933658601 446.22641509434 112.762390766913 450.62893081761 107.974307072175 455.03144654088 104.23406565063 459.433962264151 101.63492333638 463.836477987421 100.241685513969 468.238993710692 100.089090301564 472.641509433962 101.180942412498 477.044025157233 103.490018290937 481.446540880503 106.958744886946 485.849056603774 111.500635146816 490.251572327044 117.002444427023 494.654088050314 123.326994065151 499.056603773585 130.316591706644 503.459119496855 137.796963107078 507.861635220126 145.581597376888 512.264150943396 153.476397326926 516.666666666667 161.284518966061 521.069182389937 168.811279485806 525.471698113208 175.869011359386 529.874213836478 182.281741526163 534.276729559748 187.889578993574 538.679245283019 192.552701458877 543.081761006289 196.15484155076 547.48427672956 198.606185767072 551.88679245283 199.845613828358 556.289308176101 199.842222612583 560.691823899371 198.596096674193 565.094339622642 196.138306135893 569.496855345912 192.530132005686 573.899371069182 187.861538234652 578.301886792453 182.248928612209 582.704402515723 175.832244427019 587.106918238994 168.771475258661 591.509433962264 161.242669897777 595.911949685535 153.433546855929 600.314465408805 145.538813909949 604.716981132075 137.755313380332 609.119496855346 130.27711418826 613.522012578616 123.290673062816 617.924528301887 116.970185545831 622.327044025157 111.473242709483 626.729559748428 106.936901879326 631.132075471698 103.474269332884 635.534591194969 101.171680178656 639.937106918239 100.086545730664 644.339622641509 100.245922050745 648.74213836478 101.645835349681 653.14465408805 104.25138106716 657.547169811321 107.997594160196 661.949685534591 112.791068900776 666.352201257862 118.5122877957 670.754716981132 125.018601560814 675.157232704403 132.1477858488 679.559748427673 139.722086049326 683.962264150943 147.552649311029 688.364779874214 155.44423328008 692.767295597484 163.200074150599 697.169811320755 170.626792649999 701.572327044025 177.539215636506 705.974842767296 183.764993090146 710.377358490566 189.148895380071 714.779874213837 193.556683662821 719.182389937107 196.878456909476 723.584905660377 199.031392108984 727.987421383648 199.961809325183 732.389937106918 199.646510118668 736.792452830189 198.093355962132 741.194968553459 195.341072227331 745.59748427673 191.458282630955 750 186.541798213906; M 50 163.489838557851 C 50 163.489838557851 54.4025157232704 155.743017344325 58.8050314465409 147.853003337777 63.2075471698113 140.016521199624 67.6100628930818 132.428960861251 72.0125786163522 125.279505793982 76.4150943396226 118.746416027049 80.8176100628931 112.992583523806 85.2201257861635 108.161470735666 89.622641509434 104.373533599304 94.0251572327044 101.723218163865 98.4276729559749 100.276605732407 102.830188679245 100.069765232126 107.232704402516 101.107853894347 111.635220125786 103.36498866735 116.037735849057 106.784891568152 120.440251572327 111.282292882443 124.842767295597 116.745057226168 129.245283018868 123.036979458874 133.647798742138 130.001180737269 138.050314465409 137.464020033922 142.452830188679 145.239423593748 146.85534591195 153.133524380335 151.25786163522 160.949495835053 155.660377358491 168.492459427037 160.062893081761 175.574343632271 164.465408805031 182.018573191023 168.867924528302 187.664471724645 173.270440251572 192.371267939637 177.672955974843 196.021605530802 182.075471698113 198.524469269765 186.477987421384 199.817454321602 190.880503144654 199.86832220786 195.283018867925 198.675804620562 199.685534591195 196.269635045404 204.088050314465 192.709807405665 208.490566037736 188.085080211351 212.893081761006 182.510763510163 217.295597484277 176.125843819079 221.698113207547 169.089518721702 226.100628930818 161.577227535535 230.503144654088 153.776277018066 234.905660377358 145.881171177527 239.308176100629 138.088761631934 243.710691823899 130.593339434286 248.11320754717 123.581790741285 252.51572327044 117.228937111108 256.918238993711 111.693176612303 261.320754716981 107.112534425675 265.723270440252 103.601221410991 270.125786163522 101.246786445018 274.528301886793 100.107933532733 278.930817610063 100.213058118477 283.333333333333 101.559539091755 287.735849056604 104.113804140353 292.138364779874 107.812166821329 296.540880503145 112.562414478834 300.943396226415 118.246107416651 305.345911949686 124.721531999307 309.748427672956 131.82723405099 314.150943396226 139.386044452722 318.553459119497 147.20949656607 322.955974842767 155.102525342117 327.358490566038 162.868330951072 331.761006289308 170.31328566581 336.163522012579 177.251761654199 340.566037735849 183.510759307054 344.96855345912 188.934220701911 349.37106918239 193.386920653397 353.77358490566 196.757838333206 358.176100628931 198.962925393809 362.578616352201 199.947201577244 366.981132075472 199.686125558392 371.383647798742 198.186206842986 375.786163522013 195.48484346368 380.188679245283 191.649389520951 384.591194968554 186.775475818196 388.993710691824 180.984625463255 393.396226415094 174.421223887441 397.798742138365 167.248918829742 402.201257861635 159.646540046722 406.603773584906 151.803640483513 411.006289308176 143.915770079549 415.408805031447 136.179600049007 419.811320754717 128.788019204085 424.213836477987 121.925324586315 428.616352201258 115.76262631971 433.018867924528 110.453581258226 437.421383647799 106.13056180213 441.823899371069 102.901355407578 446.22641509434 100.846477081781 450.62893081761 100.017161872302 455.03144654088 100.434087404511 459.433962264151 102.086858318642 463.836477987421 104.934265461173 468.238993710692 108.905313368017 472.641509433962 113.900990420907 477.044025157233 119.796737540989 481.446540880503 126.445553866788 485.849056603774 133.681661981503 490.251572327044 141.324641303157 494.654088050314 149.18392657825 499.056603773585 157.063559316282 503.459119496855 164.767073695873 507.861635220126 172.102395120348 512.264150943396 178.886629285283 516.666666666667 184.950622350394 521.069182389937 190.143178515321 525.471698113208 194.334829840894 529.874213836478 197.421064321542 534.276729559748 199.324931722098 538.679245283019 199.998962206711 543.081761006289 199.426349921961 547.48427672956 197.621372023472 551.88679245283 194.629032698264 556.289308176101 190.52394105858 560.691823899371 185.408450885063 565.094339622642 179.410108601783 569.496855345912 172.678473113675 573.899371069182 165.381386798599 578.301886792453 157.700790630739 582.704402515723 149.82818777845 587.106918238994 141.959868784351 591.509433962264 134.292017380023 595.911949685535 127.015818963883 600.314465408805 120.312693704339 604.716981132075 114.349773123092 609.119496855346 109.275732942572 613.522012578616 105.217086098714 617.924528301887 102.275028346751 622.327044025157 100.522915109708 626.729559748428 100.004432480289 631.132075471698 100.732507979235 635.534591194969 102.688988228633 639.937106918239 105.82509157685 644.339622641509 110.062624389648 648.74213836478 115.295930681227 653.14465408805 121.394526474313 657.547169811321 128.206353205825 661.949685534591 135.561569059728 666.352201257862 143.27678369637 670.754716981132 151.159630792205 675.157232704403 159.013564381071 679.559748427673 166.642759408056 683.962264150943 173.856994308618 688.364779874214 180.476393873787 692.767295597484 186.335914145823 697.169811320755 191.289457520762 701.572327044025 195.213515454456 705.974842767296 198.010247947159 710.377358490566 199.609923024726 714.779874213837 199.972655391927 719.182389937107 199.089400907389 723.584905660377 196.98218208454 727.987421383648 193.703538996075 732.389937106918 189.335219272727 736.792452830189 183.986139859109 741.194968553459 177.789671346919 745.59748427673 170.90031259624 750 163.489838557851; M 50 136.510161442149 C 50 136.510161442149 54.4025157232704 129.09968740376 58.8050314465409 122.210328653081 63.2075471698113 116.013860140891 67.6100628930818 110.664780727273 72.0125786163522 106.296461003925 76.4150943396226 103.01781791546 80.8176100628931 100.910599092611 85.2201257861635 100.027344608073 89.622641509434 100.390076975274 94.0251572327044 101.989752052841 98.4276729559749 104.786484545544 102.830188679245 108.710542479238 107.232704402516 113.664085854178 111.635220125786 119.523606126213 116.037735849057 126.143005691382 120.440251572327 133.357240591944 124.842767295597 140.986435618929 129.245283018868 148.840369207795 133.647798742138 156.723216303629 138.050314465409 164.438430940272 142.452830188679 171.793646794175 146.85534591195 178.605473525687 151.25786163522 184.704069318773 155.660377358491 189.937375610352 160.062893081761 194.17490842315 164.465408805031 197.311011771367 168.867924528302 199.267492020765 173.270440251572 199.995567519711 177.672955974843 199.477084890292 182.075471698113 197.724971653249 186.477987421384 194.782913901286 190.880503144654 190.724267057428 195.283018867925 185.650226876908 199.685534591195 179.687306295661 204.088050314465 172.984181036117 208.490566037736 165.707982619977 212.893081761006 158.040131215649 217.295597484277 150.171812221549 221.698113207547 142.299209369261 226.100628930818 134.618613201401 230.503144654088 127.321526886325 234.905660377358 120.589891398217 239.308176100629 114.591549114937 243.710691823899 109.476058941421 248.11320754717 105.370967301736 252.51572327044 102.378627976528 256.918238993711 100.573650078039 261.320754716981 100.001037793289 265.723270440252 100.675068277902 270.125786163522 102.578935678458 274.528301886793 105.665170159106 278.930817610063 109.856821484679 283.333333333333 115.049377649606 287.735849056604 121.113370714717 292.138364779874 127.897604879652 296.540880503145 135.232926304127 300.943396226415 142.936440683718 305.345911949686 150.81607342175 309.748427672956 158.675358696843 314.150943396226 166.318338018497 318.553459119497 173.554446133212 322.955974842767 180.203262459011 327.358490566038 186.099009579093 331.761006289308 191.094686631983 336.163522012579 195.065734538827 340.566037735849 197.913141681358 344.96855345912 199.565912595489 349.37106918239 199.982838127698 353.77358490566 199.153522918219 358.176100628931 197.098644592422 362.578616352201 193.86943819787 366.981132075472 189.546418741774 371.383647798742 184.23737368029 375.786163522013 178.074675413685 380.188679245283 171.211980795916 384.591194968554 163.820399950993 388.993710691824 156.084229920451 393.396226415094 148.196359516487 397.798742138365 140.353459953278 402.201257861635 132.751081170258 406.603773584906 125.578776112559 411.006289308176 119.015374536745 415.408805031447 113.224524181804 419.811320754717 108.350610479049 424.213836477987 104.51515653632 428.616352201258 101.813793157014 433.018867924528 100.313874441608 437.421383647799 100.052798422757 441.823899371069 101.037074606191 446.22641509434 103.242161666794 450.62893081761 106.613079346603 455.03144654088 111.065779298089 459.433962264151 116.489240692946 463.836477987421 122.748238345801 468.238993710692 129.68671433419 472.641509433962 137.131669048928 477.044025157233 144.897474657883 481.446540880503 152.790503433931 485.849056603774 160.613955547278 490.251572327044 168.17276594901 494.654088050314 175.278468000693 499.056603773585 181.753892583349 503.459119496855 187.437585521166 507.861635220126 192.187833178671 512.264150943396 195.886195859646 516.666666666667 198.440460908245 521.069182389937 199.786941881523 525.471698113208 199.892066467267 529.874213836478 198.753213554982 534.276729559748 196.398778589009 538.679245283019 192.887465574325 543.081761006289 188.306823387697 547.48427672956 182.771062888892 551.88679245283 176.418209258715 556.289308176101 169.406660565714 560.691823899371 161.911238368065 565.094339622642 154.118828822473 569.496855345912 146.223722981934 573.899371069182 138.422772464465 578.301886792453 130.910481278298 582.704402515723 123.874156180921 587.106918238994 117.489236489837 591.509433962264 111.914919788649 595.911949685535 107.290192594335 600.314465408805 103.730364954596 604.716981132075 101.324195379438 609.119496855346 100.13167779214 613.522012578616 100.182545678398 617.924528301887 101.475530730235 622.327044025157 103.978394469198 626.729559748428 107.628732060363 631.132075471698 112.335528275355 635.534591194969 117.981426808977 639.937106918239 124.425656367729 644.339622641509 131.507540572963 648.74213836478 139.050504164947 653.14465408805 146.866475619665 657.547169811321 154.760576406252 661.949685534591 162.535979966078 666.352201257862 169.998819262731 670.754716981132 176.963020541126 675.157232704403 183.254942773832 679.559748427673 188.717707117557 683.962264150943 193.215108431848 688.364779874214 196.63501133265 692.767295597484 198.892146105653 697.169811320755 199.930234767874 701.572327044025 199.723394267593 705.974842767296 198.276781836135 710.377358490566 195.626466400696 714.779874213837 191.838529264334 719.182389937107 187.007416476194 723.584905660377 181.253583972951 727.987421383648 174.720494206018 732.389937106918 167.571039138749 736.792452830189 159.983478800376 741.194968553459 152.146996662223 745.59748427673 144.256982655675 750 136.510161442149; M 50 113.458201786094 C 50 113.458201786094 54.4025157232704 108.541717369045 58.8050314465409 104.658927772669 63.2075471698113 101.906644037868 67.6100628930818 100.353489881332 72.0125786163522 100.038190674817 76.4150943396226 100.968607891016 80.8176100628931 103.121543090524 85.2201257861635 106.443316337178 89.622641509434 110.851104619929 94.0251572327044 116.235006909853 98.4276729559749 122.460784363494 102.830188679245 129.373207350001 107.232704402516 136.799925849401 111.635220125786 144.55576671992 116.037735849057 152.44735068897 120.440251572327 160.277913950673 124.842767295597 167.8522141512 129.245283018868 174.981398439186 133.647798742138 181.487712204299 138.050314465409 187.208931099224 142.452830188679 192.002405839804 146.85534591195 195.74861893284 151.25786163522 198.354164650319 155.660377358491 199.754077949255 160.062893081761 199.913454269336 164.465408805031 198.828319821344 168.867924528302 196.525730667116 173.270440251572 193.063098120674 177.672955974843 188.526757290517 182.075471698113 183.029814454169 186.477987421384 176.709326937184 190.880503144654 169.72288581174 195.283018867925 162.244686619668 199.685534591195 154.461186090052 204.088050314465 146.566453144071 208.490566037736 138.757330102223 212.893081761006 131.228524741339 217.295597484277 124.167755572981 221.698113207547 117.751071387791 226.100628930818 112.138461765348 230.503144654088 107.469867994314 234.905660377358 103.861693864107 239.308176100629 101.403903325807 243.710691823899 100.157777387417 248.11320754717 100.154386171642 252.51572327044 101.393814232928 256.918238993711 103.84515844924 261.320754716981 107.447298541123 265.723270440252 112.110421006426 270.125786163522 117.718258473837 274.528301886793 124.130988640614 278.930817610063 131.188720514194 283.333333333333 138.715481033939 287.735849056604 146.523602673074 292.138364779874 154.418402623112 296.540880503145 162.203036892922 300.943396226415 169.683408293356 305.345911949686 176.673005934849 309.748427672956 182.997555572977 314.150943396226 188.499364853184 318.553459119497 193.041255113054 322.955974842767 196.509981709063 327.358490566038 198.819057587502 331.761006289308 199.910909698436 336.163522012579 199.758314486031 340.566037735849 198.36507666362 344.96855345912 195.76593434937 349.37106918239 192.025692927825 353.77358490566 187.237609233087 358.176100628931 181.521066341399 362.578616352201 175.018596948383 366.981132075472 167.892329548194 371.383647798742 160.319946023312 375.786163522013 152.490251435913 380.188679245283 144.598466480845 384.591194968554 136.841359975247 388.993710691824 129.412342748256 393.396226415094 122.496645256681 397.798742138365 116.26669916495 402.201257861635 110.87783804212 406.603773584906 106.46442437208 411.006289308176 103.13649944363 415.408805031447 100.977039649999 419.811320754717 100.039887607485 424.213836477987 100.348409677429 428.616352201258 101.894913364014 433.018867924528 104.640839114128 437.421383647799 108.517721737087 441.823899371069 113.428897472757 446.22641509434 119.251914145141 450.62893081761 125.841584308135 455.03144654088 133.033605258272 459.433962264151 140.64865565529 463.836477987421 148.49686660798 468.238993710692 156.382555746054 472.641509433962 164.10910624165 477.044025157233 171.483869130022 481.446540880503 178.32296669802 485.849056603774 184.455877175673 490.251572327044 189.729686419075 494.654088050314 194.012900575749 499.056603773585 197.198724669914 503.459119496855 199.207725361433 507.861635220126 199.989811486905 512.264150943396 199.525483001323 516.666666666667 197.826317179967 521.069182389937 194.934679957881 525.471698113208 190.922669604219 529.874213836478 185.89031906921 534.276729559748 179.963101825313 538.679245283019 173.288803390334 543.081761006289 166.033836536006 547.48427672956 158.379092056293 551.88679245283 150.515428549768 556.289308176101 142.638913671008 560.691823899371 134.945935502645 565.094339622642 127.62830593807 569.496855345912 120.868478163968 573.899371069182 114.834997486978 578.301886792453 109.67829893071 582.704402515723 105.526956383205 587.106918238994 102.48447681624 591.509433962264 100.626719507401 595.911949685535 100.000004612431 600.314465408805 100.619958247506 604.716981132075 102.471122877464 609.119496855346 105.507342724284 613.522012578616 109.652914586315 617.924528301887 114.804475374434 622.327044025157 120.833579302489 626.729559748428 127.589900473982 631.132075471698 134.904981013706 635.534591194969 142.596431290763 639.937106918239 150.472477507246 644.339622641509 158.336743265853 648.74213836478 165.993145895833 653.14465408805 173.250785455331 657.547169811321 179.928704510831 661.949685534591 185.860400016318 666.352201257862 190.89797479582 670.754716981132 194.915825118842 675.157232704403 197.813772425019 679.559748427673 199.51956111352 683.962264150943 199.990660118884 688.364779874214 199.215323353937 692.767295597484 197.212882579362 697.169811320755 194.033265397705 701.572327044025 189.755750389839 705.974842767296 184.486990432544 710.377358490566 178.35835348256 714.779874213837 171.522647130338 719.182389937107 164.150308591398 723.584905660377 156.425155131685 727.987421383648 148.539800883127 732.389937106918 140.69085432366 736.792452830189 133.07401616473 741.194968553459 125.879199872481 745.59748427673 119.285796484483 750 113.458201786094; M 50 101.045795615884 C 50 101.045795615884 54.4025157232704 100.054790278119 58.8050314465409 100.309087478968 63.2075471698113 101.802346731495 67.6100628930818 104.497336045919 72.0125786163522 108.326860248699 76.4150943396226 113.195436384854 80.8176100628931 118.981674430083 85.2201257861635 125.541303953512 89.622641509434 132.71077126614 94.0251572327044 140.31131736596 98.4276729559749 148.153435002814 102.830188679245 156.041593733329 107.232704402516 163.779115154375 111.635220125786 171.17307675903 116.037735849057 178.039122145391 120.440251572327 184.206057643485 124.842767295597 189.52012075088 129.245283018868 193.848813950501 133.647798742138 197.084208320628 138.050314465409 199.145634566948 142.452830188679 199.981694380155 146.85534591195 199.571541969157 151.25786163522 197.925403816964 155.660377358491 195.084323699972 160.062893081761 191.11913932818 164.465408805031 186.128716122149 168.867924528302 180.237482164611 173.270440251572 173.592325788675 177.672955974843 166.358933156249 182.075471698113 158.717657143175 186.477987421384 150.859020533727 190.880503144654 142.978965644982 195.283018867925 135.273968823962 199.685534591195 127.936141629605 204.088050314465 121.148440843633 208.490566037736 115.080106740881 212.893081761006 109.882443358422 217.295597484277 105.685045975584 221.698113207547 102.592569866528 226.100628930818 100.682120891268 230.503144654088 100.001332986512 234.905660377358 100.567180490957 239.308176100629 102.365554917768 243.710691823899 105.351616726747 248.11320754717 109.450913325304 252.51572327044 114.561235422717 256.918238993711 120.555165452486 261.320754716981 127.283254522036 265.723270440252 134.577748677685 270.125786163522 142.256771576527 274.528301886793 150.128859277108 278.930817610063 157.997734081282 283.333333333333 165.667198399244 287.735849056604 172.946026617204 292.138364779874 179.652732996921 296.540880503145 185.620096727292 300.943396226415 190.699331303191 305.345911949686 194.763794274887 309.748427672956 197.712144871463 314.150943396226 199.470870768053 318.553459119497 199.996120996046 322.955974842767 199.27479929564 327.358490566038 197.324890649775 331.761006289308 194.19501285784 336.163522012579 189.963204329956 340.566037735849 184.734978326194 344.96855345912 178.640692155117 349.37106918239 171.832296926394 353.77358490566 164.479548897119 358.176100628931 156.765776875755 362.578616352201 148.883311216582 366.981132075472 141.028688375261 371.383647798742 133.39775059209 375.786163522013 126.180762884403 380.188679245283 119.557669097935 384.591194968554 113.693605299825 388.993710691824 108.734782379465 393.396226415094 104.804840517878 397.798742138365 102.00176642098 402.201257861635 100.395450180496 406.603773584906 100.025942678249 411.006289308176 100.90245698258 415.408805031447 103.003138635488 419.811320754717 106.275610557973 424.213836477987 110.638278987286 428.616352201258 115.982367884633 433.018867924528 122.174631088722 437.421383647799 129.060674591983 441.823899371069 136.468806103938 446.22641509434 144.2143159191 450.62893081761 152.104082352937 455.03144654088 159.941386916855 459.433962264151 167.530819173622 463.836477987421 174.683148978672 468.238993710692 181.220044625867 472.641509433962 186.978519258418 477.044025157233 191.814994680973 481.446540880503 195.608881248294 485.849056603774 198.265584571854 490.251572327044 199.718864076999 494.654088050314 199.932484603898 499.056603773585 198.901119872295 503.459119496855 196.650485283639 507.861635220126 193.236696749394 512.264150943396 188.744871532088 516.666666666667 183.287005984872 521.069182389937 176.999183104677 525.471698113208 170.038179524111 529.874213836478 162.577556541213 534.276729559748 154.80333265089 538.679245283019 146.909345476414 543.081761006289 139.092418743683 547.48427672956 131.547454801864 551.88679245283 124.462575050442 556.289308176101 118.01442943822 560.691823899371 112.363791984265 565.094339622642 107.651552139346 569.496855345912 103.995201936715 573.899371069182 101.485906519432 578.301886792453 100.186231085853 582.704402515723 100.128580928215 587.106918238994 101.314393459396 591.509433962264 103.714102373365 595.911949685535 107.267874832916 600.314465408805 111.887103304111 604.716981132075 117.456614840961 609.119496855346 123.837542735443 613.522012578616 130.870788932908 617.924528301887 138.380990883211 622.327044025157 146.180893920563 626.729559748428 154.076020153942 631.132075471698 161.869517456871 635.534591194969 169.367067654893 639.937106918239 176.381731533076 644.339622641509 182.738609861171 648.74213836478 188.279204221338 653.14465408805 192.8653689083 657.547169811321 196.382755367732 661.949685534591 198.743663291405 666.352201257862 199.889227281673 670.754716981132 199.790884564384 675.157232704403 198.451087155181 679.559748427673 195.903240722478 683.962264150943 192.210871671478 688.364779874214 187.466043216617 692.767295597484 181.78705993511 697.169811320755 175.315518034815 701.572327044025 168.212774883177 705.974842767296 160.655925823814 710.377358490566 152.83338859228 714.779874213837 144.940205426401 719.182389937107 137.173180005429 723.584905660377 129.725970470515 727.987421383648 122.784260874066 732.389937106918 116.52113145002 736.792452830189 111.092743139834 741.194968553459 106.634443973498 745.59748427673 103.25739438663 750 101.045795615884; M 50 102.886953894059 C 50 102.886953894059 54.4025157232704 106.109969929917 58.8050314465409 110.427312452148 63.2075471698113 115.731335549704 67.6100628930818 121.889792036819 72.0125786163522 128.749130821404 76.4150943396226 136.13832545169 80.8176100628931 143.873138382521 85.2201257861635 151.760714638774 89.622641509434 159.604390340366 94.0251572327044 167.208596196114 98.4276729559749 174.383733705802 102.830188679245 180.950902490285 107.232704402516 186.746360881355 111.635220125786 191.625608553816 116.037735849057 195.466989405973 120.440251572327 198.174724856585 124.842767295597 199.681301927945 129.245283018868 199.949156572128 133.647798742138 198.971610269408 138.050314465409 196.773036546279 142.452830188679 193.408253261229 146.85534591195 188.961155810636 151.25786163522 183.542625333562 155.660377358491 177.287764070968 160.062893081761 170.352526811158 164.465408805031 162.909832410888 168.867924528302 155.145252345028 173.270440251572 147.252383783779 177.672955974843 139.428022562239 182.075471698113 131.867256396455 186.477987421384 124.758600688656 190.880503144654 118.27929820243 195.283018867925 112.590899802805 199.685534591195 107.835236448287 204.088050314465 104.130882866686 208.490566037736 101.57020108721 212.893081761006 100.217037543547 217.295597484277 100.105131166927 221.698113207547 101.237272160768 226.100628930818 103.585232431495 230.503144654088 107.090469410121 234.905660377358 111.665585715951 239.308176100629 117.196508268067 243.710691823899 123.54533251199 248.11320754717 130.553760845363 252.51572327044 138.047049511101 256.918238993711 145.838365548646 261.320754716981 153.733445169844 265.723270440252 161.535437410417 270.125786163522 169.04981228846 274.528301886793 176.08921109302 278.930817610063 182.478117868706 283.333333333333 188.057235620448 287.735849056604 192.687458124885 292.138364779874 196.253338317698 296.540880503145 198.66596677832 300.943396226415 199.86518854167 305.345911949686 199.821102964332 309.748427672956 198.534809248445 314.150943396226 196.038379034888 318.553459119497 192.394056749097 322.955974842767 187.692707637594 327.358490566038 182.051552190915 331.761006289308 175.611243441404 336.163522012579 168.53236000871 340.566037735849 160.991402333183 344.96855345912 153.176391924578 349.37106918239 145.282183351638 353.77358490566 137.50560586047 358.176100628931 130.040555757555 362.578616352201 123.073161920834 366.981132075472 116.777144978985 371.383647798742 111.309485870211 375.786163522013 106.806511777966 380.188679245283 103.380497034457 384.591194968554 101.116863742846 388.993710691824 100.072051916106 393.396226415094 100.272112237123 397.798742138365 101.712056527311 402.201257861635 104.355982118726 406.603773584906 108.137967028674 411.006289308176 112.963713617091 415.408805031447 118.71289974476 419.811320754717 125.242178810085 424.213836477987 132.388753863354 428.616352201258 139.9744366838 433.018867924528 147.81009061295 437.421383647799 155.700346369468 441.823899371069 163.448473264291 446.22641509434 170.861284360266 450.62893081761 177.753953274092 455.03144654088 183.954622521459 459.433962264151 189.308688503786 463.836477987421 193.682656297398 468.238993710692 196.967468132242 472.641509433962 199.081222569928 477.044025157233 199.971216582841 481.446540880503 199.615259618378 485.849056603774 198.02222688427 490.251572327044 195.23183805972 494.654088050314 191.313666949829 499.056603773585 186.365406775971 503.459119496855 180.51043435427 507.861635220126 173.894733895444 512.264150943396 166.683257126032 516.666666666667 159.055810485493 521.069182389937 151.202571945198 525.471698113208 143.319349230154 529.874213836478 135.602697671976 534.276729559748 128.245019421511 538.679245283019 121.429766214263 543.081761006289 115.326865299864 547.48427672956 110.08848258259 551.88679245283 105.845228612129 556.289308176101 102.70290202204 560.691823899371 100.739851612971 565.094339622642 100.005022852794 569.496855345912 100.516737501005 573.899371069182 102.262236785462 578.301886792453 105.197999521606 582.704402515723 109.250827242389 587.106918238994 114.319669282945 591.509433962264 120.2781423145 595.911949685535 126.977681507038 600.314465408805 134.251244751607 604.716981132075 141.917477583511 609.119496855346 149.785234960805 613.522012578616 157.658347154908 617.924528301887 165.340510923592 622.327044025157 172.640184012926 626.729559748428 179.375360951719 631.132075471698 185.378111061801 635.534591194969 190.498765536247 639.937106918239 194.609649187547 644.339622641509 197.608263820671 648.74213836478 199.419843858785 653.14465408805 199.999220501259 657.547169811321 199.331947934215 661.949685534591 197.434663513396 666.352201257862 194.354672938763 670.754716981132 190.168770763846 675.157232704403 184.9813256485 679.559748427673 178.921678096188 683.962264150943 172.140915558981 688.364779874214 164.808105317773 692.767295597484 157.106079064719 697.169811320755 149.22687429248 701.572327044025 141.366946151807 705.974842767296 133.722269162005 710.377358490566 126.483450905169 714.779874213837 119.830979536259 719.182389937107 113.930723604629 723.584905660377 108.929796391635 727.987421383648 104.952887880327 732.389937106918 102.099155813613 736.792452830189 100.43975335727 741.194968553459 100.016055011536 745.59748427673 100.838625005263 750 102.886953894059; M 50 118.445602783697 C 50 118.445602783697 54.4025157232704 124.944223005865 58.8050314465409 132.067568259151 63.2075471698113 139.638029520054 67.6100628930818 147.466849654922 72.0125786163522 155.358829771959 76.4150943396226 163.117196187978 80.8176100628931 170.548506660027 85.2201257861635 177.467473552963 89.622641509434 183.701583685154 94.0251572327044 189.095399663969 98.4276729559749 193.514435464249 102.830188679245 196.848509618523 107.232704402516 199.014492412621 111.635220125786 199.958378589842 116.037735849057 199.656633884154 120.440251572327 198.116781808824 124.842767295597 195.377216069858 129.245283018868 191.506243281413 133.647798742138 186.600379851513 138.050314465409 180.781945502457 142.452830188679 174.19601342757 146.85534591195 167.006793127176 151.25786163522 159.393536111892 155.660377358491 151.546066557871 160.062893081761 143.660048349833 164.465408805031 135.932106520462 168.867924528302 128.554924725149 173.270440251572 121.712440988554 177.672955974843 115.57526150925 182.075471698113 110.296406871755 186.477987421384 106.007496727236 190.880503144654 102.815468071666 195.283018867925 100.799908945823 199.685534591195 100.011074036998 204.088050314465 100.468631660129 208.490566037736 102.161173360375 212.893081761006 105.046498364372 217.295597484277 109.052665787856 221.698113207547 114.079788364554 226.100628930818 120.002522972641 230.503144654088 126.67319586154 234.905660377358 133.925484656612 239.308176100629 141.578565336944 243.710691823899 149.441620788091 248.11320754717 157.318598516349 252.51572327044 165.013098898686 256.918238993711 172.333272087782 261.320754716981 179.096601475814 265.723270440252 185.134454449098 270.125786163522 190.29628696793 274.528301886793 194.453397137264 278.930817610063 197.502134179059 283.333333333333 199.366482795773 287.735849056604 199.999958488131 292.138364779874 199.386766570469 296.540880503145 197.542195985531 300.943396226415 194.512238099553 305.345911949686 190.372439982381 309.748427672956 185.226020764205 314.150943396226 179.201298034497 318.553459119497 172.448488451701 322.955974842767 165.135962335276 327.358490566038 157.44604562573 331.761006289308 149.570473883959 336.163522012579 141.70561167701 340.566037735849 134.047556547105 344.96855345912 126.787249638492 349.37106918239 120.1057148907 353.77358490566 114.169545501148 358.176100628931 109.126750194828 362.578616352201 105.103062867575 366.981132075472 102.198807615959 371.383647798742 100.486397319166 375.786163522013 100.008528141686 380.188679245283 100.777114973919 384.591194968554 102.772994353771 388.993710691824 105.946402276398 393.396226415094 110.218214978697 397.798742138365 115.481921761601 402.201257861635 121.606280661048 406.603773584906 128.43859075282 411.006289308176 135.808499501623 415.408805031447 143.532250224376 419.811320754717 151.417263764116 424.213836477987 159.266940137925 428.616352201258 166.885560437625 433.018867924528 174.083166762291 437.421383647799 180.680298509435 441.823899371069 186.51246693313 446.22641509434 191.434256403246 450.62893081761 195.322950107584 455.03144654088 198.081589795917 459.433962264151 199.641393276194 463.836477987421 199.963469386592 468.238993710692 199.039787683345 472.641509433962 196.893378666805 477.044025157233 193.577759553376 481.446540880503 189.175599910814 485.849056603774 183.796660427054 490.251572327044 177.575056206059 494.654088050314 170.665912825912 499.056603773585 163.241498534936 503.459119496855 155.486929023222 507.861635220126 147.59555186409 512.264150943396 139.764125706951 516.666666666667 132.187914420529 521.069182389937 125.055818506005 525.471698113208 118.54566517038 529.874213836478 112.819774494415 534.276729559748 108.020912245525 538.679245283019 104.26873024566 543.081761006289 101.656783047817 547.48427672956 100.250195305476 551.88679245283 100.084037995336 556.289308176101 101.16245397957 560.691823899371 103.458554710301 565.094339622642 106.915090651792 569.496855345912 111.445878704467 573.899371069182 116.937951040274 578.301886792453 123.254371771666 582.704402515723 130.237651225146 587.106918238994 137.713672690029 591.509433962264 145.496033735315 595.911949685535 153.390693851012 600.314465408805 161.200812532528 604.716981132075 168.731657178377 609.119496855346 175.795458430744 613.522012578616 182.216091898905 617.924528301887 187.833469534337 622.327044025157 192.507531165732 626.729559748428 196.12173667147 631.132075471698 198.585971717937 635.534591194969 199.838794613803 639.937106918239 199.848968258627 644.339622641509 198.616238989128 648.74213836478 196.171342903869 653.14465408805 192.575239508648 657.547169811321 187.917591790409 661.949685534591 182.314530616552 666.352201257862 175.905759200711 670.754716981132 168.851069830436 675.157232704403 161.326359706495 679.559748427673 153.519245232382 683.962264150943 145.624384104559 688.364779874214 137.838621839529 692.767295597484 130.356083751164 697.169811320755 123.363334751868 701.572327044025 117.034727660042 705.974842767296 111.528055996251 710.377358490566 106.980619658533 714.779874213837 103.505801572838 719.182389937107 101.19024067426 723.584905660377 100.091671706159 727.987421383648 100.237485698274 732.389937106918 101.624047015965 736.792452830189 104.216784008849 741.194968553459 107.951050998647 745.59748427673 112.73374011399 750 118.445602783697; M 50 143.191667545188 C 50 143.191667545188 54.4025157232704 151.073745950526 58.8050314465409 158.929052247679 63.2075471698113 166.561727155488 67.6100628930818 173.781462344245 72.0125786163522 180.408245464242 76.4150943396226 186.276848460813 80.8176100628931 191.240947267039 85.2201257861635 195.176770156264 89.622641509434 197.986183788721 94.0251572327044 199.599140006677 98.4276729559749 199.975422371279 102.830188679245 199.105648894012 107.232704402516 197.011505961325 111.635220125786 193.745207619867 116.037735849057 189.388193704191 120.440251572327 184.049099266992 124.842767295597 177.861045940826 129.245283018868 170.978322766805 133.647798742138 163.572539248402 138.050314465409 155.828346547705 142.452830188679 147.938833509138 146.85534591195 140.100712303298 151.25786163522 132.509413729055 155.660377358491 125.354214464562 160.062893081761 118.813517761263 164.465408805031 113.050405249092 168.867924528302 108.208570761387 173.270440251572 104.408737562953 177.672955974843 101.74564831189 182.075471698113 100.285702805563 186.477987421384 100.065302409695 190.880503144654 101.089942449545 195.283018867925 103.33407519291 199.685534591195 106.74174684126 204.088050314465 111.227992646663 208.490566037736 116.680955369527 212.893081761006 122.964674256868 217.295597484277 129.922475002462 221.698113207547 137.380876165749 226.100628930818 145.153914649279 230.503144654088 153.047782385968 234.905660377358 160.865658627908 239.308176100629 168.412617351462 243.710691823899 175.50048742051 248.11320754717 181.952544327544 252.51572327044 187.607916531724 256.918238993711 192.325596528989 261.320754716981 195.987956644739 265.723270440252 198.503681888511 270.125786163522 199.810046744686 274.528301886793 199.874479131159 278.930817610063 198.695372531211 283.333333333333 196.30212604939 287.735849056604 192.754411392671 292.138364779874 188.140685053535 296.540880503145 182.575982791259 300.943396226415 176.199051402433 305.345911949686 169.168889295338 309.748427672956 161.660782123343 314.150943396226 153.861932322351 318.553459119497 145.966791522646 322.955974842767 138.172212213895 327.358490566038 130.672539548609 331.761006289308 123.654765661986 336.163522012579 117.293867327278 340.566037735849 111.748443194648 344.96855345912 107.15675939189 349.37106918239 103.633302083501 353.77358490566 101.265922944452 358.176100628931 100.113648721615 362.578616352201 100.205209497872 366.981132075472 101.538322354246 371.383647798742 104.07974829077 375.786163522013 107.766120986867 380.188679245283 112.505526737455 384.591194968554 118.179796171624 388.993710691824 124.647450613632 393.396226415094 131.747229623482 397.798742138365 139.302111763605 402.201257861635 147.12372834038 406.603773584906 155.017060071008 411.006289308176 162.78529957202 415.408805031447 170.234758431151 419.811320754717 177.179696512757 424.213836477987 183.446953085874 428.616352201258 188.880264305299 433.018867924528 193.34415939631 437.421383647799 196.727338398013 441.823899371069 198.945447246767 446.22641509434 199.943181007511 450.62893081761 199.695662812333 455.03144654088 198.209064124692 459.433962264151 195.520450864023 463.836477987421 191.696859227339 468.238993710692 186.833624250739 472.641509433962 181.0520027854 477.044025157233 174.496150155291 481.446540880503 167.32952587872 485.849056603774 159.730818071218 490.251572327044 151.889488148114 494.654088050314 144.001046912421 499.056603773585 136.262179811077 503.459119496855 128.865842903349 507.861635220126 121.996451815461 512.264150943396 115.82528363701 516.666666666667 110.506206405422 521.069182389937 106.171842656803 525.471698113208 102.930262698786 529.874213836478 100.862290053252 534.276729559748 100.019486253322 538.679245283019 100.422865240421 543.081761006289 102.062369415843 547.48427672956 104.897120410611 551.88679245283 108.85643832109 556.289308176101 113.841603997384 560.691823899371 119.728320444714 565.094339622642 126.369811966735 569.496855345912 133.60048377871 573.899371069182 141.240050844027 578.301886792453 149.098032988243 582.704402515723 156.978504212309 587.106918238994 164.684977788557 591.509433962264 172.02530533756 595.911949685535 178.816467735323 600.314465408805 184.889138397352 604.716981132075 190.091905161526 609.119496855346 194.295045503995 613.522012578616 197.393760959247 617.924528301887 199.310790099321 622.327044025157 199.998334921805 626.729559748428 199.439252615255 631.132075471698 197.647482987303 635.534591194969 194.667700898233 639.937106918239 190.574202366038 644.339622641509 185.46905211609 648.74213836478 179.479538763286 653.14465408805 172.755001077548 657.547169811321 165.463104464581 661.949685534591 157.785660501791 666.352201257862 149.91409376243 670.754716981132 142.044668955324 675.157232704403 134.373597383706 679.559748427673 127.092144735621 683.962264150943 120.381862185206 688.364779874214 114.410059709559 692.767295597484 109.325634486699 697.169811320755 105.255358386693 701.572327044025 102.300717121353 705.974842767296 100.535379863137 710.377358490566 100.0033624242 714.779874213837 100.717929793736 719.182389937107 102.661265397058 723.584905660377 105.784915322897 727.987421383648 110.010996442839 732.389937106918 115.234138300412 736.792452830189 121.324110351965 741.194968553459 128.12906905338 745.59748427673 135.479343831779 750 143.191667545187; M 50 169.920054492312 C 50 169.920054492312 54.4025157232704 176.890635745501 58.8050314465409 183.190742750102 63.2075471698113 188.663292588854 67.6100628930818 193.171836135907 72.0125786163522 196.603960193763 76.4150943396226 198.874090333445 80.8176100628931 199.925624553645 85.2201257861635 199.732344559535 89.622641509434 198.29906947328 94.0251572327044 195.661535677077 98.4276729559749 191.885505784605 102.830188679245 187.065128957258 107.232704402516 181.320593447997 111.635220125786 174.795129902816 116.037735849057 167.651440137639 120.440251572327 160.067640433271 124.842767295597 152.232820495747 129.245283018868 144.342328812182 133.647798742138 136.592901954093 138.050314465409 129.177759271104 142.452830188679 122.281785280843 146.85534591195 116.076919874324 151.25786163522 110.717871274529 155.660377358491 106.338258638591 160.062893081761 103.047280481525 164.465408805031 100.926991988928 168.867924528302 100.030259104446 173.270440251572 100.379440403478 177.672955974843 101.965829618487 182.075471698113 104.749872715608 186.477987421384 108.662154110129 190.880503144654 113.605127431146 195.283018867925 119.455547681607 199.685534591195 126.067544151779 204.088050314465 133.276257468051 208.490566037736 140.901950093172 212.893081761006 148.754487789293 217.295597484277 156.638080305816 221.698113207547 164.356163090727 226.100628930818 171.716298307869 230.503144654088 178.534972961272 234.905660377358 184.642174493112 239.308176100629 189.885629770213 243.710691823899 194.134601766863 248.11320754717 197.283149279822 252.51572327044 199.252768399854 256.918238993711 199.994349878965 261.320754716981 199.489403589602 265.723270440252 197.75051954589 270.125786163522 194.821053992125 274.528301886793 190.774048385358 278.930817610063 185.710408225516 283.333333333333 179.756387140939 287.735849056604 173.060438959592 292.138364779874 165.789516254404 296.540880503145 158.124907652518 300.943396226415 150.257717698347 305.345911949686 142.384101972699 309.748427672956 134.700376272542 314.150943396226 127.398121796026 318.553459119497 120.659408377033 322.955974842767 114.652254870112 327.358490566038 109.526439873723 331.761006289308 105.409767244594 336.163522012579 102.404879516498 340.566037735849 100.586698675685 344.96855345912 100.000558103061 349.37106918239 100.661072260095 353.77358490566 102.551772301003 358.176100628931 105.625516696622 362.578616352201 109.805666631734 366.981132075472 114.987996869223 371.383647798742 121.043294436783 375.786163522013 127.820580342135 380.188679245283 135.150873988545 384.591194968554 142.851406431052 388.993710691824 150.730177422731 393.396226415094 158.590742628445 397.798742138365 166.237111644708 402.201257861635 173.478634701499 406.603773584906 180.13475620407 411.006289308176 186.039516592925 415.408805031447 191.045690275396 419.811320754717 195.028456456252 424.213836477987 197.888511341128 428.616352201258 199.554544115062 433.018867924528 199.985014961636 437.421383647799 199.169190790709 441.823899371069 197.127412850558 446.22641509434 193.910589551944 450.62893081761 189.598927149728 455.03144654088 184.299929930409 459.433962264151 178.145719767657 463.836477987421 171.289741878371 468.238993710692 163.902938915865 472.641509433962 156.169488792951 477.044025157233 148.282212505353 481.446540880503 140.437766453924 485.849056603774 132.831739137266 490.251572327044 125.653774470759 494.654088050314 119.082843324106 499.056603773585 113.28278117389 503.459119496855 108.398203132554 507.861635220126 104.550898205866 512.264150943396 101.836792682226 516.666666666667 100.323558366748 521.069182389937 100.048925294907 525.471698113208 101.019740995494 529.874213836478 103.211799758628 534.276729559748 106.570446165746 538.679245283019 111.011937833538 543.081761006289 116.425533394014 547.48427672956 122.676253650329 551.88679245283 129.608247063432 556.289308176101 137.048675656608 560.691823899371 144.8120244492 565.094339622642 152.704726970801 569.496855345912 160.529991526243 573.899371069182 168.092707876318 578.301886792453 175.204311994123 582.704402515723 181.687487602266 587.106918238994 187.380587265726 591.509433962264 192.14166280763 595.911949685535 195.852004556085 600.314465408805 198.419101176683 604.716981132075 199.778946292113 609.119496855346 199.897634377022 613.522012578616 198.772206137132 617.924528301887 196.430722294419 622.327044025157 192.931563938678 626.729559748428 188.36197689003 631.132075471698 182.835896366363 635.534591194969 176.491106194056 639.937106918239 169.485803392452 644.339622641509 161.994653788588 648.74213836478 154.204437008995 653.14465408805 146.309389433619 657.547169811321 138.506361227726 661.949685534591 130.989908203331 666.352201257862 123.947440886586 670.754716981132 117.55455174124 675.157232704403 111.97063705627 679.559748427673 107.334922658763 683.962264150943 103.762992544456 688.364779874214 101.343906978864 692.767295597484 100.137981924473 697.169811320755 100.175285160357 701.572327044025 101.454886591022 705.974842767296 103.944881436836 710.377358490566 107.583185727784 714.779874213837 112.279084266254 719.182389937107 117.915492462881 723.584905660377 124.351875650275 727.987421383648 131.427753086293 732.389937106918 138.966699280219 736.792452830189 146.780742875321 741.194968553459 154.675053408776 745.59748427673 162.452799092258 750 169.920054492312; M 50 190.848494650522 C 50 190.848494650522 54.4025157232704 194.878016012568 58.8050314465409 197.788577066316 63.2075471698113 199.507607707662 67.6100628930818 199.992246704595 72.0125786163522 199.230410372285 76.4150943396226 197.241093860093 80.8176100628931 194.073897538436 85.2201257861635 189.807790294253 89.622641509434 184.549140570298 94.0251572327044 178.429064241095 98.4276729559749 171.600155451943 102.830188679245 164.232681932187 107.232704402516 156.510339646435 111.635220125786 148.625672634567 116.037735849057 140.775272239388 120.440251572327 133.154875421376 124.842767295597 125.954484376046 129.245283018868 119.353629138364 133.647798742138 113.516891293439 138.050314465409 108.589800402481 142.452830188679 104.695205459994 146.85534591195 101.930211853975 151.25786163522 100.363760201074 155.660377358491 100.034907424482 160.062893081761 100.951852933109 164.465408805031 103.091734182658 168.867924528302 106.401196715969 173.270440251572 110.797724469599 177.672955974843 116.171697177596 182.075471698113 122.389123574472 186.477987421384 129.294982249389 190.880503144654 136.717086852804 195.283018867925 144.470379282929 199.685534591195 152.361543808395 204.088050314465 160.193827081463 208.490566037736 167.771943862621 212.893081761006 174.906946140277 217.295597484277 181.420934241992 221.698113207547 187.151492473354 226.100628930818 191.955738689049 230.503144654088 195.713886826673 234.905660377358 198.332233577293 239.308176100629 199.745494724993 243.710691823899 199.918432902569 248.11320754717 198.846736177953 252.51572327044 196.557125565214 256.918238993711 193.10668877956 261.320754716981 188.581456848037 265.723270440252 183.094259065859 270.125786163522 176.781909781509 274.528301886793 169.801797153576 278.930817610063 162.327958933103 283.333333333333 154.546743115442 287.735849056604 146.6521616562 292.138364779874 138.841053098795 296.540880503145 131.308174725661 300.943396226415 124.241346602292 305.345911949686 117.816768589515 309.748427672956 112.194627086656 314.150943396226 107.515101044306 318.553459119497 103.89486683028 322.955974842767 101.424189094225 327.358490566038 100.164670165452 331.761006289308 100.147714099088 336.163522012579 101.373743667058 340.566037735849 103.812189816958 344.96855345912 107.402253861632 349.37106918239 112.054423395516 353.77358490566 117.652704140822 358.176100628931 124.057512076125 362.578616352201 131.109153736814 366.981132075472 138.631807911798 371.383647798742 146.437909459327 375.786163522013 154.332825938614 380.188679245283 162.119710453058 384.591194968554 169.604409707324 388.993710691824 176.600304903854 393.396226415094 182.932964778935 397.798742138365 188.444494762448 402.201257861635 192.997473822058 406.603773584906 196.478380833062 411.006289308176 198.80042504292 415.408805031447 199.905710057456 419.811320754717 199.76667739324 424.213836477987 198.386793603535 428.616352201258 195.800463845429 433.018867924528 192.072174043227 437.421383647799 187.294883036848 441.823899371069 181.587704804413 446.22641509434 175.092938549003 450.62893081761 167.972520699569 455.03144654088 160.403987289561 459.433962264151 152.576047384806 463.836477987421 144.683877929994 468.238993710692 136.924257329141 472.641509433962 129.490659096258 477.044025157233 122.568427908082 481.446540880503 116.330158336134 485.849056603774 110.93139148191 490.251572327044 106.506736812589 494.654088050314 103.166515893002 499.056603773585 100.994011696908 503.459119496855 100.043392081557 507.861635220126 100.338359200305 512.264150943396 101.871558527987 516.666666666667 104.604762234036 521.069182389937 108.469822331232 525.471698113208 113.370369834889 529.874213836478 119.184217566678 534.276729559748 125.766406693113 538.679245283019 132.9528210382 543.081761006289 140.564279053251 547.48427672956 148.411001417258 551.88679245283 156.297342875467 556.289308176101 164.026670335477 560.691823899371 171.406265593453 565.094339622642 178.25213044897 569.496855345912 184.393574400755 573.899371069182 189.677470536607 578.301886792453 193.972073503802 582.704402515723 197.170304365096 587.106918238994 199.192420437802 591.509433962264 199.988003547829 595.911949685535 199.537217124822 600.314465408805 197.851300794764 604.716981132075 194.972290138192 609.119496855346 190.971968601392 613.522012578616 185.950077692966 617.924528301887 180.031830091602 622.327044025157 173.364787671664 626.729559748428 166.115182287956 631.132075471698 158.463771054894 635.534591194969 150.601329461973 639.937106918239 142.723894697339 644.339622641509 135.027877779484 648.74213836478 127.705166368072 653.14465408805 120.938340357371 657.547169811321 114.896119543661 661.949685534591 109.729156871641 666.352201257862 105.566282148379 670.754716981132 102.511289881688 675.157232704403 100.640351332965 679.559748427673 100.00011531072 683.962264150943 100.606545058439 688.364779874214 102.444520237085 692.767295597484 105.468213926146 697.169811320755 109.602235243334 701.572327044025 114.743509093566 705.974842767296 120.763846178749 710.377358490566 127.513139189349 714.779874213837 134.823105485913 719.182389937107 142.511482952876 723.584905660377 150.386574407851 727.987421383648 158.25202725896 732.389937106918 165.911729237233 736.792452830189 173.174698136934 741.194968553459 179.859843646119 745.59748427673 185.80048253891 750 190.848494650522; M 50 199.883438459527 C 50 199.883438459527 54.4025157232704 199.798659691872 58.8050314465409 198.47223237215 63.2075471698113 195.937228807349 67.6100628930818 192.256855186656 72.0125786163522 187.522875637971 76.4150943396226 181.853324238686 80.8176100628931 175.389562028021 85.2201257861635 168.292752399519 89.622641509434 160.739842754054 94.0251572327044 152.919152604304 98.4276729559749 145.025678134116 102.830188679245 137.25623028594 107.232704402516 129.804527600209 111.635220125786 122.856366158733 116.037735849057 116.58498706171 120.440251572327 111.14675694277 124.842767295597 106.677269221388 129.245283018868 103.287963301599 133.647798742138 101.063346011777 138.050314465409 100.05888456437 142.452830188679 100.299623571211 146.85534591195 101.779560596872 151.25786163522 104.46179581962 155.660377358491 108.279452068441 160.062893081761 113.137342296472 164.465408805031 118.914342915148 168.867924528302 125.466413813793 173.270440251572 132.630189765417 177.672955974843 140.22705367284 182.075471698113 148.067590095379 186.477987421384 155.956308014668 190.880503144654 163.696515085114 195.283018867925 171.095221837499 199.685534591195 177.967953557379 204.088050314465 184.143349861936 208.490566037736 189.467437292296 212.893081761006 193.807468391201 217.295597484277 197.055231544859 221.698113207547 199.129749063466 226.100628930818 199.979296228141 230.503144654088 199.58269096263 234.905660377358 197.949821973913 239.308176100629 195.121402193384 243.710691823899 191.167953666151 248.11320754717 186.188049198589 252.51572327044 180.305854605799 256.918238993711 173.668032839039 261.320754716981 166.44008718367 265.723270440252 158.802234704026 270.125786163522 150.944912824145 274.528301886793 143.064031080459 278.930817610063 135.356086436275 283.333333333333 128.013263949705 287.735849056604 121.218644951952 292.138364779874 115.141642212209 296.540880503145 109.933775905906 300.943396226415 105.724895705675 305.345911949686 102.619943191045 309.748427672956 100.696335300904 314.150943396226 100.002034068091 318.553459119497 100.554350764149 322.955974842767 102.339514270938 327.358490566038 105.313014441051 331.761006289308 109.400711885928 336.163522012579 114.500686520868 340.566037735849 120.485778776512 344.96855345912 127.206760115804 349.37106918239 134.496053804752 353.77358490566 142.171913165622 358.176100628931 150.042953134635 362.578616352201 157.912922137125 366.981132075472 165.585595301233 371.383647798742 172.869667005812 375.786163522013 179.583520774813 380.188679245283 185.559757588611 384.591194968554 190.649369706183 388.993710691824 194.725455930681 393.396226415094 197.686385684291 397.798742138365 199.458333001334 402.201257861635 199.997117258594 406.603773584906 199.289304747269 411.006289308176 197.35254362065 415.408805031447 194.235123866127 419.811320754717 190.014773272927 424.213836477987 184.796719416165 428.616352201258 178.711065978467 433.018867924528 171.909548826344 437.421383647799 164.56175272324 441.823899371069 156.850883009396 446.22641509434 148.969197674778 450.62893081761 141.113213718921 455.03144654088 133.478807319303 459.433962264151 126.256329977561 463.836477987421 119.625862414527 468.238993710692 113.752724550458 472.641509433962 108.783353521817 477.044025157233 104.841652509546 481.446540880503 102.025901414847 485.849056603774 100.406306409761 490.251572327044 100.023249460499 494.654088050314 100.886281468818 499.056603773585 102.973884135829 503.459119496855 106.234006485768 507.861635220126 110.58536267238 512.264150943396 115.919458709239 516.666666666667 122.103297590768 521.069182389937 128.982695356175 525.471698113208 136.386125415641 529.874213836478 144.128995286745 534.276729559748 152.018249107669 538.679245283019 159.857181170984 543.081761006289 167.450340460411 547.48427672956 174.608403903888 551.88679245283 181.152896836332 556.289308176101 186.920642975008 560.691823899371 191.767832954645 565.094339622642 195.573609979956 569.496855345912 198.243083193193 573.899371069182 199.709693623279 578.301886792453 199.936873725462 582.704402515723 198.918959133538 587.106918238994 196.681329891609 591.509433962264 193.279777643977 595.911949685535 188.799114561276 600.314465408805 183.351058686991 604.716981132075 177.071448429819 609.119496855346 170.116855653976 613.522012578616 162.660681814517 617.924528301887 154.888834474196 622.327044025157 146.995092000879 626.729559748428 139.176272019237 631.132075471698 131.627324083518 635.534591194969 124.536468927614 639.937106918239 118.080505487314 644.339622641509 112.42040270651 648.74213836478 107.697286038494 653.14465408805 104.028918712405 657.547169811321 101.506765498722 661.949685534591 100.193712184034 666.352201257862 100.122497616277 670.754716981132 101.294897414823 675.157232704403 103.681679698307 679.559748427673 107.223333934021 683.962264150943 111.83155473622 688.364779874214 117.391443617232 692.767295597484 123.764373794298 697.169811320755 130.791446622843 701.572327044025 138.297453475629 705.974842767296 146.095244284799 710.377358490566 153.990393824303 714.779874213837 161.786049386564 719.182389937107 169.28783898444 723.584905660377 176.308717700462 727.987421383648 182.673631347512 732.389937106918 188.223881160144 736.792452830189 192.821080690088 741.194968553459 196.350606247161 745.59748427673 198.724454854486 750 199.883438459527; M 50 194.394260920119 C 50 194.394260920119 54.4025157232704 190.219866309717 58.8050314465409 185.042654774586 63.2075471698113 178.99171166052 67.6100628930818 172.217907388584 72.0125786163522 164.890135746649 76.4150943396226 157.191102797595 80.8176100628931 149.31277140092 85.2201257861635 141.451574931174 89.622641509434 133.803519531385 94.0251572327044 126.559297018804 98.4276729559749 119.899530294715 102.830188679245 113.990269806283 107.232704402516 108.978853348835 111.635220125786 104.990232437667 116.037735849057 102.123856845318 120.440251572327 100.451194983307 124.842767295597 100.013951953575 129.245283018868 100.823029699633 133.647798742138 102.858255184331 138.050314465409 106.068883371721 142.452830188679 110.374862471962 146.85534591195 115.668829902443 151.25786163522 121.818789199094 155.660377358491 128.671401133445 160.062893081761 136.055806976792 164.465408805031 143.787888584591 168.867924528302 151.674859082812 173.270440251572 159.520069694965 177.672955974843 167.12791285937 182.075471698113 174.308699385436 186.477987421384 180.883388044987 190.880503144654 186.688049673966 195.283018867925 191.577954479414 199.685534591195 195.431180641365 204.088050314465 198.151654235053 208.490566037736 199.671544677898 212.893081761006 199.952955974721 217.295597484277 198.988871592718 221.698113207547 196.803329407296 226.100628930818 193.450822356752 230.503144654088 189.014939749533 234.905660377358 183.606283100829 239.308176100629 177.359708463755 243.710691823899 170.430964013091 248.11320754717 162.992806717963 252.51572327044 155.230694927905 256.918238993711 147.338164270678 261.320754716981 139.512002156291 265.723270440252 131.947341203126 270.125786163522 124.832793923599 274.528301886793 118.34574997805 278.930817610063 112.647953252201 283.333333333333 107.881469036529 287.735849056604 104.165141859413 292.138364779874 101.59163229218 296.540880503145 100.225106608535 300.943396226415 100.099636902926 305.345911949686 101.218351558312 309.748427672956 103.553357245021 314.150943396226 107.046434395539 318.553459119497 111.6104888147 322.955974842767 117.131723231732 327.358490566038 123.47247465004 331.761006289308 130.474646750039 336.163522012579 137.963651763643 340.566037735849 145.752763536191 344.96855345912 153.647773239289 349.37106918239 161.451831651955 353.77358490566 168.970357275642 358.176100628931 176.015887907311 362.578616352201 182.412754704436 366.981132075472 188.001462201767 371.383647798742 192.642665071237 375.786163522013 196.220642470995 380.188679245283 198.646183356299 384.591194968554 199.85881081177 388.993710691824 199.828289944871 393.396226415094 198.555381743757 397.798742138365 196.071824103276 402.201257861635 192.439540492199 406.603773584906 187.749095992282 411.006289308176 182.117439205315 415.408805031447 175.684986330016 419.811320754717 168.612120112594 424.213836477987 161.075190963926 428.616352201258 153.262119949005 433.018867924528 145.367713280947 437.421383647799 137.58880514504 441.823899371069 130.119349958599 446.22641509434 123.145586433154 450.62893081761 116.841394015209 455.03144654088 111.36395748516 459.433962264151 106.849847810553 463.836477987421 103.41161697122 468.238993710692 101.134991658798 472.641509433962 100.076735821158 477.044025157233 100.263235345724 481.446540880503 101.689840170304 485.849056603774 104.320980224825 490.251572327044 108.091052313152 494.654088050314 112.906055822044 499.056603773585 118.645936473494 503.459119496855 125.167579682812 507.861635220126 132.308378887933 512.264150943396 139.890289879464 516.666666666667 147.724270043352 521.069182389937 155.61499183087 525.471698113208 163.365712933234 529.874213836478 170.783181730945 534.276729559748 177.68245570849 538.679245283019 183.891512695039 543.081761006289 189.255539957384 547.48427672956 193.640794203541 551.88679245283 196.937936254126 556.289308176101 199.064757236883 560.691823899371 199.968228331156 565.094339622642 199.625822955246 569.496855345912 198.046078430074 573.899371069182 195.268383114974 578.301886792453 191.361994323044 582.704402515723 186.424311502727 587.106918238994 180.578447741051 591.509433962264 173.970160139114 595.911949685535 166.764215595932 600.314465408805 159.140282613903 604.716981132075 151.288451557041 609.119496855346 143.404495057043 613.522012578616 135.684986741258 617.924528301887 128.322399989136 622.327044025157 121.500308921684 626.729559748428 115.38881127945 631.132075471698 110.140287312133 635.534591194969 105.885600424989 639.937106918239 102.730834312753 644.339622641509 100.754647935315 648.74213836478 100.006314284548 653.14465408805 100.504491842419 657.547169811321 102.236759362108 661.949685534591 105.159925571581 666.352201257862 109.201106077687 670.754716981132 114.259540619907 675.157232704403 120.209105363503 679.559748427673 126.901457592125 683.962264150943 134.169734392072 688.364779874214 141.832713107544 692.767295597484 149.699329832695 697.169811320755 157.573443279247 701.572327044025 165.258725240374 705.974842767296 172.563555715088 710.377358490566 179.305800641185 714.779874213837 185.317353111733 719.182389937107 190.448324847271 723.584905660377 194.57078341617 727.987421383648 197.581942021665 732.389937106918 199.406722323379 736.792452830189 199.999626393589 741.194968553459 199.345871134017 745.59748427673 197.461756868335 750 194.394260920119; M 50 175.979197501772 C 50 175.979197501772 54.4025157232704 168.930608754703 58.8050314465409 161.410016080311 63.2075471698113 153.604933220182 67.6100628930818 145.70996721579 72.0125786163522 137.921966198565 76.4150943396226 130.435111302022 80.8176100628931 123.436075071153 85.2201257861635 117.099367086248 89.622641509434 111.582982850461 94.0251572327044 107.024464429007 98.4276729559749 103.537471061565 102.830188679245 101.208945254069 107.232704402516 100.096945008786 111.635220125786 100.229196242498 116.037735849057 101.602401485878 120.440251572327 104.182322100524 124.842767295597 107.904631963695 129.245283018868 112.676521335521 133.647798742138 118.37901091885 138.050314465409 124.869918414438 142.452830188679 131.987403605231 146.85534591195 139.55400357885 151.25786163522 147.381057476561 155.660377358491 155.273410444814 160.062893081761 163.034279503987 164.465408805031 170.470160011792 168.867924528302 177.395650386679 173.270440251572 183.638074794609 177.672955974843 189.041788540014 182.075471698113 193.472058813029 186.477987421384 196.818424032884 190.880503144654 198.99744802769 195.283018867925 199.954800379625 199.685534591195 199.666611065499 204.088050314465 198.140065616949 208.490566037736 195.413225960892 212.893081761006 191.554081407315 217.295597484277 186.658853446451 221.698113207547 180.849596622484 226.100628930818 174.271155302083 230.503144654088 167.087552215796 234.905660377358 159.477898818149 239.308176100629 151.63192943495 243.710691823899 143.745270546601 248.11320754717 136.014563160109 252.51572327044 128.63255988553 256.918238993711 121.783318963264 261.320754716981 115.637615071316 265.723270440252 110.348681336562 270.125786163522 106.04838871606 274.528301886793 102.843958009301 278.930817610063 100.81528648203 283.333333333333 100.012955757933 287.735849056604 100.456970648141 292.138364779874 102.136260363824 296.540880503145 105.008954548293 300.943396226415 109.003427246214 305.345911949686 114.020082780269 309.748427672956 119.933839007311 314.150943396226 126.597246038084 318.553459119497 133.844162660301 322.955974842767 141.493898799436 327.358490566038 149.355720731739 331.761006289308 157.233606719289 336.163522012579 164.931134493088 340.566037735849 172.256378722736 344.96855345912 179.026696362264 349.37106918239 185.073280557308 353.77358490566 190.245369569355 358.176100628931 194.41400577439 362.578616352201 197.475251011426 366.981132075472 199.352778111425 371.383647798742 199.999773991072 375.786163522013 199.400106860834 380.188679245283 197.568728444885 384.591194968554 194.551301184194 388.993710691824 190.423059717852 393.396226415094 185.286935029766 397.798742138365 179.270988032049 402.201257861635 172.525216574549 406.603773584906 165.217815492519 411.006289308176 157.530982942076 415.408805031447 149.656377585627 419.811320754717 141.790339894973 424.213836477987 134.128996721108 428.616352201258 126.863371190308 433.018867924528 120.174619853293 437.421383647799 114.229515841389 441.823899371069 109.176290649862 446.22641509434 105.140938226763 450.62893081761 102.224073518845 455.03144654088 100.498423801573 459.433962264151 100.007015342844 463.836477987421 100.762100613005 468.238993710692 102.744852789444 472.641509433962 105.905835172776 477.044025157233 110.166233810503 481.446540880503 115.419822594683 485.849056603774 121.535611837094 490.251572327044 128.361114283969 494.654088050314 135.726147137563 499.056603773585 143.447075287311 503.459119496855 151.331389952513 507.861635220126 159.182508575552 512.264150943396 166.80467628811 516.666666666667 174.007846740296 521.069182389937 180.612420597156 525.471698113208 186.453723555865 529.874213836478 191.386112231526 534.276729559748 195.286605537995 538.679245283019 198.057951021165 543.081761006289 199.631049690667 547.48427672956 199.966678890763 551.88679245283 199.056470253451 556.289308176101 196.923118350103 560.691823899371 193.619814839254 565.094339622642 189.228922219146 569.496855345912 183.859920252843 573.899371069182 177.646676268478 578.301886792453 170.744107395238 582.704402515723 163.324317956814 587.106918238994 155.572308330121 591.509433962264 147.681362261914 595.911949685535 139.848227653053 600.314465408805 132.268210969725 604.716981132075 125.13030759449 609.119496855346 118.612489533935 613.522012578616 112.877267976264 617.924528301887 108.067641339245 622.327044025157 104.303529837333 626.729559748428 101.678785466247 631.132075471698 100.258851956159 635.534591194969 100.079133038773 639.937106918239 101.144109712872 644.339622641509 103.42722851791 648.74213836478 106.871563601344 653.14465408805 111.391236072143 657.547169811321 116.873555251202 661.949685534591 123.181828430067 666.352201257862 130.158769081208 670.754716981132 137.630418541662 675.157232704403 145.410483389247 679.559748427673 153.304980365922 683.962264150943 161.117073034703 688.364779874214 168.651979575943 692.767295597484 175.721829355074 697.169811320755 182.150347171198 701.572327044025 187.777248392407 705.974842767296 192.462235392274 710.377358490566 196.088495642896 714.779874213837 198.565614245207 719.182389937107 199.831828277376 723.584905660377 199.855566752767 727.987421383648 198.636237791121 732.389937106918 196.204243376127 736.792452830189 192.620221331427 741.194968553459 187.973533415148 745.59748427673 182.38003722986 750 175.979197501772; M 50 150 C 50 150 54.4025157232704 142.129492610075 58.8050314465409 134.455223515823 63.2075471698113 127.168538130314 67.6100628930818 120.451118097477 72.0125786163522 114.470451355923 76.4150943396226 109.375656099716 80.8176100628931 105.293762758833 85.2201257861635 102.326546702085 89.622641509434 100.547990633892 94.0251572327044 100.002439955928 98.4276729559749 100.703497086683 102.830188679245 102.63368230729 107.232704402516 105.744869589878 111.635220125786 109.959486541763 116.037735849057 115.17244854685 120.440251572327 121.253778879547 124.842767295597 128.051849462935 129.245283018868 135.397161468151 133.647798742138 143.106571491895 138.050314465409 150.987857939197 142.452830188679 158.844513756129 146.85534591195 166.48064601345 151.25786163522 173.705860178069 155.660377358491 180.34000729093 160.062893081761 186.217675688186 164.465408805031 191.192315271902 168.867924528302 195.139891498287 173.270440251572 197.961977977235 177.672955974843 199.588210574208 182.075471698113 199.97804182544 186.477987421384 199.121751922977 190.880503144654 197.040691062267 195.283018867925 193.786747109782 199.685534591195 189.441051863486 204.088050314465 184.111958163471 208.490566037736 177.932338290183 212.893081761006 171.056271010308 217.295597484277 163.655199873429 221.698113207547 155.913658546068 226.100628930818 148.024669764969 230.503144654088 140.184932629223 234.905660377358 132.58991822828 239.308176100629 125.428995888389 243.710691823899 118.880711556564 248.11320754717 113.108336047914 252.51572327044 108.255794153519 256.918238993711 104.44407610995 261.320754716981 101.768220904582 265.723270440252 100.294946633078 270.125786163522 100.060986992236 274.528301886793 101.072175385025 278.930817610063 103.303299474173 283.333333333333 106.698729810778 287.735849056604 111.173806864098 292.138364779874 116.616951869201 296.540880503145 122.892448861922 300.943396226415 129.843828535601 305.345911949686 137.297769548659 309.748427672956 145.068420010234 314.150943396226 152.962031394686 318.553459119497 160.781789345829 322.955974842767 168.332720922672 327.358490566038 175.426555932461 331.761006289308 181.886421141597 336.163522012579 187.551250321932 340.566037735849 192.279800175091 344.96855345912 195.954172004305 349.37106918239 198.482751326579 353.77358490566 199.802492130761 358.176100628931 199.880488827247 362.578616352201 198.71479669532 366.981132075472 196.334480371592 371.383647798742 192.798889170585 375.786163522013 188.196177306139 380.188679245283 182.641105909526 384.591194968554 176.27218164737 388.993710691824 169.248203283278 393.396226415094 161.744302289049 397.798742138365 153.947576226386 402.201257861635 146.052423773614 406.603773584906 138.255697710951 411.006289308176 130.751796716722 415.408805031447 123.72781835263 419.811320754717 117.358894090474 424.213836477987 111.803822693861 428.616352201258 107.201110829415 433.018867924528 103.665519628408 437.421383647799 101.28520330468 441.823899371069 100.119511172753 446.22641509434 100.197507869239 450.62893081761 101.517248673421 455.03144654088 104.045827995695 459.433962264151 107.720199824909 463.836477987421 112.448749678068 468.238993710692 118.113578858403 472.641509433962 124.573444067539 477.044025157233 131.667279077328 481.446540880503 139.218210654171 485.849056603774 147.037968605314 490.251572327044 154.931579989766 494.654088050314 162.702230451341 499.056603773585 170.156171464399 503.459119496855 177.107551138078 507.861635220126 183.383048130799 512.264150943396 188.826193135902 516.666666666667 193.301270189222 521.069182389937 196.696700525827 525.471698113208 198.927824614975 529.874213836478 199.939013007764 534.276729559748 199.705053366922 538.679245283019 198.231779095418 543.081761006289 195.55592389005 547.48427672956 191.744205846481 551.88679245283 186.891663952086 556.289308176101 181.119288443436 560.691823899371 174.571004111611 565.094339622642 167.41008177172 569.496855345912 159.815067370777 573.899371069182 151.975330235031 578.301886792453 144.086341453932 582.704402515723 136.344800126571 587.106918238994 128.943728989692 591.509433962264 122.067661709818 595.911949685535 115.888041836529 600.314465408805 110.558948136514 604.716981132075 106.213252890218 609.119496855346 102.959308937733 613.522012578616 100.878248077024 617.924528301887 100.02195817456 622.327044025157 100.411789425792 626.729559748428 102.038022022765 631.132075471698 104.860108501713 635.534591194969 108.807684728099 639.937106918239 113.782324311814 644.339622641509 119.65999270907 648.74213836478 126.294139821931 653.14465408805 133.51935398655 657.547169811321 141.155486243871 661.949685534591 149.012142060803 666.352201257862 156.893428508105 670.754716981132 164.602838531849 675.157232704403 171.948150537065 679.559748427673 178.746221120453 683.962264150943 184.82755145315 688.364779874214 190.040513458237 692.767295597484 194.255130410122 697.169811320755 197.36631769271 701.572327044025 199.296502913317 705.974842767296 199.997560044072 710.377358490566 199.452009366108 714.779874213837 197.673453297915 719.182389937107 194.706237241167 723.584905660377 190.624343900284 727.987421383648 185.529548644077 732.389937106918 179.548881902523 736.792452830189 172.831461869686 741.194968553459 165.544776484177 745.59748427673 157.870507389925 750 150" begin="playButton36.click" dur="10" fill="remove"></animate> </path>
</svg>
</div>
<div id="path-animation-3" class="section level3">
<h3>Path Animation</h3>
<pre class="r"><code>WH&lt;-c(800,300)
N&lt;-8
xMarg&lt;-50
NX&lt;-160
X&lt;-seq(0,N*pi, length.out=NX)
sx&lt;-(WH[1]-2*xMarg)/(N*pi)
x&lt;-X*sx+xMarg
wave&lt;-function(alpha){
  sy&lt;- - WH[2]/6
  y&lt;-sin(alpha)*sin(X)
  y&lt;-y*sy+WH[2]/2
  rbind(x,y)
}
as.path&lt;-function(ptsX){
  c(&quot;M&quot;,ptsX[,1],&quot;C&quot;,ptsX[,1:(dim(ptsX)[2]) ],&quot;Z&quot;)
}

values=lapply(seq(0,8*pi,length.out=24), function(alpha){
  as.path(wave(alpha))
})
svgR(
  playBar(wh=WH),
  text(&quot;standing wave&quot;, xy=c(20,40),font=&quot;black&quot;, fill='blue', font.size=30),
  path(
    fill='red', stroke='blue', 
    d=as.path( rbind(x, rep(WH[2]/2,NX))),
    animate( attributeName='d', 
      values=values,
      begin=playButton.click, dur=5, fill=&quot;remove&quot;
    )
  )
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="340">
<linearGradient x1="0" y1="0" x2="0" y2="1" id="genid1526"> <stop offset="0%" stop-color="lightblue"></stop> <stop offset="50%" stop-color="white"></stop> <stop offset="100%" stop-color="lightblue"></stop> </linearGradient> <rect fill="url(#genid1526)" width="800" height="40" x="0" y="300"></rect> <g id="playButton37"> <circle r="12" stroke="grey" fill="grey" cx="780" cy="320"></circle> <circle r="10" stroke="grey" fill="#404040" cx="780" cy="320"></circle> <polygon points="790,320 777,324 777,316" fill="lime"></polygon> </g> <rect fill="none" stroke="blue" stroke-width="3" width="800" height="300" x="0" y="0"></rect> <text font="black" fill="blue" font-size="30" x="20" y="40">standing wave</text> <path fill="red" stroke="blue" d="M 50 150 C 50 150 54.4025157232704 150 58.8050314465409 150 63.2075471698113 150 67.6100628930818 150 72.0125786163522 150 76.4150943396226 150 80.8176100628931 150 85.2201257861635 150 89.622641509434 150 94.0251572327044 150 98.4276729559749 150 102.830188679245 150 107.232704402516 150 111.635220125786 150 116.037735849057 150 120.440251572327 150 124.842767295597 150 129.245283018868 150 133.647798742138 150 138.050314465409 150 142.452830188679 150 146.85534591195 150 151.25786163522 150 155.660377358491 150 160.062893081761 150 164.465408805031 150 168.867924528302 150 173.270440251572 150 177.672955974843 150 182.075471698113 150 186.477987421384 150 190.880503144654 150 195.283018867925 150 199.685534591195 150 204.088050314465 150 208.490566037736 150 212.893081761006 150 217.295597484277 150 221.698113207547 150 226.100628930818 150 230.503144654088 150 234.905660377358 150 239.308176100629 150 243.710691823899 150 248.11320754717 150 252.51572327044 150 256.918238993711 150 261.320754716981 150 265.723270440252 150 270.125786163522 150 274.528301886793 150 278.930817610063 150 283.333333333333 150 287.735849056604 150 292.138364779874 150 296.540880503145 150 300.943396226415 150 305.345911949686 150 309.748427672956 150 314.150943396226 150 318.553459119497 150 322.955974842767 150 327.358490566038 150 331.761006289308 150 336.163522012579 150 340.566037735849 150 344.96855345912 150 349.37106918239 150 353.77358490566 150 358.176100628931 150 362.578616352201 150 366.981132075472 150 371.383647798742 150 375.786163522013 150 380.188679245283 150 384.591194968554 150 388.993710691824 150 393.396226415094 150 397.798742138365 150 402.201257861635 150 406.603773584906 150 411.006289308176 150 415.408805031447 150 419.811320754717 150 424.213836477987 150 428.616352201258 150 433.018867924528 150 437.421383647799 150 441.823899371069 150 446.22641509434 150 450.62893081761 150 455.03144654088 150 459.433962264151 150 463.836477987421 150 468.238993710692 150 472.641509433962 150 477.044025157233 150 481.446540880503 150 485.849056603774 150 490.251572327044 150 494.654088050314 150 499.056603773585 150 503.459119496855 150 507.861635220126 150 512.264150943396 150 516.666666666667 150 521.069182389937 150 525.471698113208 150 529.874213836478 150 534.276729559748 150 538.679245283019 150 543.081761006289 150 547.48427672956 150 551.88679245283 150 556.289308176101 150 560.691823899371 150 565.094339622642 150 569.496855345912 150 573.899371069182 150 578.301886792453 150 582.704402515723 150 587.106918238994 150 591.509433962264 150 595.911949685535 150 600.314465408805 150 604.716981132075 150 609.119496855346 150 613.522012578616 150 617.924528301887 150 622.327044025157 150 626.729559748428 150 631.132075471698 150 635.534591194969 150 639.937106918239 150 644.339622641509 150 648.74213836478 150 653.14465408805 150 657.547169811321 150 661.949685534591 150 666.352201257862 150 670.754716981132 150 675.157232704403 150 679.559748427673 150 683.962264150943 150 688.364779874214 150 692.767295597484 150 697.169811320755 150 701.572327044025 150 705.974842767296 150 710.377358490566 150 714.779874213837 150 719.182389937107 150 723.584905660377 150 727.987421383648 150 732.389937106918 150 736.792452830189 150 741.194968553459 150 745.59748427673 150 750 150 Z"> <animate attributeName="d" values="M 50 150 C 50 150 54.4025157232704 150 58.8050314465409 150 63.2075471698113 150 67.6100628930818 150 72.0125786163522 150 76.4150943396226 150 80.8176100628931 150 85.2201257861635 150 89.622641509434 150 94.0251572327044 150 98.4276729559749 150 102.830188679245 150 107.232704402516 150 111.635220125786 150 116.037735849057 150 120.440251572327 150 124.842767295597 150 129.245283018868 150 133.647798742138 150 138.050314465409 150 142.452830188679 150 146.85534591195 150 151.25786163522 150 155.660377358491 150 160.062893081761 150 164.465408805031 150 168.867924528302 150 173.270440251572 150 177.672955974843 150 182.075471698113 150 186.477987421384 150 190.880503144654 150 195.283018867925 150 199.685534591195 150 204.088050314465 150 208.490566037736 150 212.893081761006 150 217.295597484277 150 221.698113207547 150 226.100628930818 150 230.503144654088 150 234.905660377358 150 239.308176100629 150 243.710691823899 150 248.11320754717 150 252.51572327044 150 256.918238993711 150 261.320754716981 150 265.723270440252 150 270.125786163522 150 274.528301886793 150 278.930817610063 150 283.333333333333 150 287.735849056604 150 292.138364779874 150 296.540880503145 150 300.943396226415 150 305.345911949686 150 309.748427672956 150 314.150943396226 150 318.553459119497 150 322.955974842767 150 327.358490566038 150 331.761006289308 150 336.163522012579 150 340.566037735849 150 344.96855345912 150 349.37106918239 150 353.77358490566 150 358.176100628931 150 362.578616352201 150 366.981132075472 150 371.383647798742 150 375.786163522013 150 380.188679245283 150 384.591194968554 150 388.993710691824 150 393.396226415094 150 397.798742138365 150 402.201257861635 150 406.603773584906 150 411.006289308176 150 415.408805031447 150 419.811320754717 150 424.213836477987 150 428.616352201258 150 433.018867924528 150 437.421383647799 150 441.823899371069 150 446.22641509434 150 450.62893081761 150 455.03144654088 150 459.433962264151 150 463.836477987421 150 468.238993710692 150 472.641509433962 150 477.044025157233 150 481.446540880503 150 485.849056603774 150 490.251572327044 150 494.654088050314 150 499.056603773585 150 503.459119496855 150 507.861635220126 150 512.264150943396 150 516.666666666667 150 521.069182389937 150 525.471698113208 150 529.874213836478 150 534.276729559748 150 538.679245283019 150 543.081761006289 150 547.48427672956 150 551.88679245283 150 556.289308176101 150 560.691823899371 150 565.094339622642 150 569.496855345912 150 573.899371069182 150 578.301886792453 150 582.704402515723 150 587.106918238994 150 591.509433962264 150 595.911949685535 150 600.314465408805 150 604.716981132075 150 609.119496855346 150 613.522012578616 150 617.924528301887 150 622.327044025157 150 626.729559748428 150 631.132075471698 150 635.534591194969 150 639.937106918239 150 644.339622641509 150 648.74213836478 150 653.14465408805 150 657.547169811321 150 661.949685534591 150 666.352201257862 150 670.754716981132 150 675.157232704403 150 679.559748427673 150 683.962264150943 150 688.364779874214 150 692.767295597484 150 697.169811320755 150 701.572327044025 150 705.974842767296 150 710.377358490566 150 714.779874213837 150 719.182389937107 150 723.584905660377 150 727.987421383648 150 732.389937106918 150 736.792452830189 150 741.194968553459 150 745.59748427673 150 750 150 Z; M 50 150 C 50 150 54.4025157232704 143.011892827159 58.8050314465409 136.198022736331 63.2075471698113 129.728282491389 67.6100628930818 123.763984538432 72.0125786163522 118.453838942416 76.4150943396226 113.930245543643 80.8176100628931 110.305992783178 85.2201257861635 107.671445506585 89.622641509434 106.092291863537 94.0251572327044 105.607905480683 98.4276729559749 106.230363744336 102.830188679245 107.944146670492 107.232704402516 110.706523870383 111.635220125786 114.44861996319 116.037735849057 119.0771318716 120.440251572327 124.476655182224 124.842767295597 130.51256156687 129.245283018868 137.034355520855 133.647798742138 143.87942672354 138.050314465409 150.877104462095 142.452830188679 157.852913028023 146.85534591195 164.632921985065 151.25786163522 171.048082841621 155.660377358491 176.938443999837 160.062893081761 182.157138888432 164.465408805031 186.574047841692 168.867924528302 190.079042421616 173.270440251572 192.584731291328 177.672955974843 194.028639175863 182.075471698113 194.374764581504 186.477987421384 193.614477434439 190.880503144654 191.76673425762 195.283018867925 188.877605520698 199.685534591195 185.019126947831 204.088050314465 180.287503424106 208.490566037736 174.800710283268 212.893081761006 168.695551784727 217.295597484277 162.124250121948 221.698113207547 155.250650009733 226.100628930818 148.246133482853 230.503144654088 141.285346763863 234.905660377358 134.541845743713 239.308176100629 128.183768647996 243.710691823899 122.369643783873 248.11320754717 117.244436894675 252.51572327044 112.935936674963 256.918238993711 109.551568567361 261.320754716981 107.17571628393 265.723270440252 105.867617835609 270.125786163522 105.659888528803 274.528301886793 106.55770775578 278.930817610063 108.538689854956 283.333333333333 111.553442260942 287.735849056604 115.526797027797 292.138364779874 120.359685019449 296.540880503145 125.931606037414 300.943396226415 132.103633297177 305.345911949686 138.721877341514 309.748427672956 145.621323023718 314.150943396226 152.629943891785 318.553459119497 159.57299138809 322.955974842767 166.277351920337 327.358490566038 172.575863167313 331.761006289308 178.311481999377 336.163522012579 183.341200093371 340.566037735849 187.53960961247 344.96855345912 190.802030046543 349.37106918239 193.047118250348 353.77358490566 194.218896602503 358.176100628931 194.288148716398 362.578616352201 193.253147903251 366.981132075472 191.139700224291 371.383647798742 188.000501058603 375.786163522013 183.913821229597 380.188679245283 178.981555449375 384.591194968554 173.326681739882 388.993710691824 167.090195176026 393.396226415094 160.427592402896 397.798742138365 153.504994579924 402.201257861635 146.495005420076 406.603773584906 139.572407597104 411.006289308176 132.909804823974 415.408805031447 126.673318260118 419.811320754717 121.018444550625 424.213836477987 116.086178770403 428.616352201258 111.999498941397 433.018867924528 108.860299775709 437.421383647799 106.746852096749 441.823899371069 105.711851283602 446.22641509434 105.781103397497 450.62893081761 106.952881749652 455.03144654088 109.197969953457 459.433962264151 112.46039038753 463.836477987421 116.658799906629 468.238993710692 121.688518000623 472.641509433962 127.424136832687 477.044025157233 133.722648079663 481.446540880503 140.42700861191 485.849056603774 147.370056108215 490.251572327044 154.378676976282 494.654088050314 161.278122658486 499.056603773585 167.896366702823 503.459119496855 174.068393962586 507.861635220126 179.640314980551 512.264150943396 184.473202972203 516.666666666667 188.446557739058 521.069182389937 191.461310145044 525.471698113208 193.44229224422 529.874213836478 194.340111471197 534.276729559748 194.132382164391 538.679245283019 192.82428371607 543.081761006289 190.448431432639 547.48427672956 187.064063325037 551.88679245283 182.755563105325 556.289308176101 177.630356216127 560.691823899371 171.816231352004 565.094339622642 165.458154256287 569.496855345912 158.714653236137 573.899371069182 151.753866517147 578.301886792453 144.749349990267 582.704402515723 137.875749878052 587.106918238994 131.304448215273 591.509433962264 125.199289716732 595.911949685535 119.712496575894 600.314465408805 114.980873052169 604.716981132075 111.122394479302 609.119496855346 108.23326574238 613.522012578616 106.385522565561 617.924528301887 105.625235418496 622.327044025157 105.971360824137 626.729559748428 107.415268708673 631.132075471698 109.920957578384 635.534591194969 113.425952158308 639.937106918239 117.842861111568 644.339622641509 123.061556000163 648.74213836478 128.951917158379 653.14465408805 135.367078014935 657.547169811321 142.147086971977 661.949685534591 149.122895537905 666.352201257862 156.12057327646 670.754716981132 162.965644479145 675.157232704403 169.48743843313 679.559748427673 175.523344817776 683.962264150943 180.9228681284 688.364779874214 185.55138003681 692.767295597484 189.293476129617 697.169811320755 192.055853329508 701.572327044025 193.769636255664 705.974842767296 194.392094519317 710.377358490566 193.907708136463 714.779874213837 192.328554493415 719.182389937107 189.694007216822 723.584905660377 186.069754456357 727.987421383648 181.546161057584 732.389937106918 176.236015461568 736.792452830189 170.271717508611 741.194968553459 163.801977263669 745.59748427673 156.988107172841 750 150 Z; M 50 150 C 50 150 54.4025157232704 143.570032419715 58.8050314465409 137.300385618851 63.2075471698113 131.347383039051 67.6100628930818 125.859453113518 72.0125786163522 120.973428445539 76.4150943396226 116.811134110166 80.8176100628931 113.476350144184 85.2201257861635 111.052223959764 89.622641509434 109.599197199019 94.0251572327044 109.153498720011 98.4276729559749 109.726241289118 102.830188679245 111.303144502288 107.232704402516 113.844890843679 111.635220125786 117.288106003941 116.037735849057 121.546939015504 120.440251572327 126.515202806769 124.842767295597 132.069021803957 129.245283018868 138.069920566987 133.647798742138 144.368276449258 138.050314465409 150.807050194896 142.452830188679 157.225701457074 146.85534591195 163.464191610352 151.25786163522 169.366974053398 155.660377358491 174.786872510407 160.062893081761 179.588750632064 164.465408805031 183.652881400538 168.867924528302 186.877932327859 173.270440251572 189.183492016631 177.672955974843 190.51207508739 182.075471698113 190.830555483001 186.477987421384 190.130992413 190.880503144654 188.430828344278 195.283018867925 185.772454101554 199.685534591195 182.222151921132 204.088050314465 177.868442811188 208.490566037736 172.819879424462 212.893081761006 167.20233947449 217.295597484277 161.155887179632 221.698113207547 154.831280989682 226.100628930818 148.386214669227 230.503144654088 141.981385460206 234.905660377358 135.776487357655 239.308176100629 129.926229399778 243.710691823899 124.576478249805 248.11320754717 119.860621248087 252.51572327044 115.896240615794 256.918238993711 112.782181733554 261.320754716981 110.596088592713 265.723270440252 109.392467868748 270.125786163522 109.201329886 274.528301886793 110.02744035907 278.930817610063 111.850201567475 283.333333333333 114.624165926295 287.735849056604 118.280169147759 292.138364779874 122.727054740219 296.540880503145 127.853946846949 300.943396226415 133.53301475523 305.345911949686 139.622660147174 309.748427672956 145.971047623389 314.150943396226 152.41989047161 318.553459119497 158.808397288323 322.955974842767 164.977281050786 327.358490566038 170.772730679767 331.761006289308 176.050246068537 336.163522012579 180.678240957917 340.566037735849 184.541323825547 344.96855345912 187.543174985741 349.37106918239 189.608948164127 353.77358490566 190.687136667721 358.176100628931 190.750857620505 362.578616352201 189.798522244201 366.981132075472 187.853875471874 371.383647798742 184.965403906658 375.786163522013 181.205126887204 380.188679245283 176.666800802648 384.591194968554 171.463581429603 388.993710691824 165.725202576983 393.396226415094 159.594741384567 397.798742138365 153.225050927321 402.201257861635 146.774949072679 406.603773584906 140.405258615433 411.006289308176 134.274797423017 415.408805031447 128.536418570397 419.811320754717 123.333199197352 424.213836477987 118.794873112796 428.616352201258 115.034596093342 433.018867924528 112.146124528126 437.421383647799 110.201477755799 441.823899371069 109.249142379495 446.22641509434 109.312863332279 450.62893081761 110.391051835873 455.03144654088 112.456825014259 459.433962264151 115.458676174453 463.836477987421 119.321759042083 468.238993710692 123.949753931463 472.641509433962 129.227269320233 477.044025157233 135.022718949214 481.446540880503 141.191602711677 485.849056603774 147.58010952839 490.251572327044 154.028952376611 494.654088050314 160.377339852826 499.056603773585 166.46698524477 503.459119496855 172.146053153051 507.861635220126 177.272945259781 512.264150943396 181.719830852241 516.666666666667 185.375834073705 521.069182389937 188.149798432526 525.471698113208 189.97255964093 529.874213836478 190.798670114 534.276729559748 190.607532131252 538.679245283019 189.403911407287 543.081761006289 187.217818266446 547.48427672956 184.103759384206 551.88679245283 180.139378751913 556.289308176101 175.423521750195 560.691823899371 170.073770600222 565.094339622642 164.223512642345 569.496855345912 158.018614539794 573.899371069182 151.613785330774 578.301886792453 145.168719010318 582.704402515723 138.844112820368 587.106918238994 132.79766052551 591.509433962264 127.180120575538 595.911949685535 122.131557188812 600.314465408805 117.777848078868 604.716981132075 114.227545898446 609.119496855346 111.569171655722 613.522012578616 109.869007587 617.924528301887 109.169444516999 622.327044025157 109.48792491261 626.729559748428 110.816507983369 631.132075471698 113.122067672141 635.534591194969 116.347118599462 639.937106918239 120.411249367936 644.339622641509 125.213127489593 648.74213836478 130.633025946602 653.14465408805 136.535808389648 657.547169811321 142.774298542926 661.949685534591 149.192949805104 666.352201257862 155.631723550742 670.754716981132 161.930079433013 675.157232704403 167.930978196043 679.559748427673 173.484797193231 683.962264150943 178.453060984495 688.364779874214 182.711893996059 692.767295597484 186.155109156321 697.169811320755 188.696855497712 701.572327044025 190.273758710882 705.974842767296 190.846501279989 710.377358490566 190.400802800981 714.779874213837 188.947776040236 719.182389937107 186.523649855816 723.584905660377 183.188865889834 727.987421383648 179.026571554461 732.389937106918 174.140546886482 736.792452830189 168.652616960949 741.194968553459 162.699614381149 745.59748427673 156.429967580285 750 150 Z; M 50 150 C 50 150 54.4025157232704 151.071700617973 58.8050314465409 152.1166801248 63.2075471698113 153.108883656764 67.6100628930818 154.023572233207 72.0125786163522 154.837939582766 76.4150943396226 155.531680780635 80.8176100628931 156.087498518832 85.2201257861635 156.491534386424 89.622641509434 156.733714406459 94.0251572327044 156.80800021419 98.4276729559749 156.71253961387 102.830188679245 156.449712760245 107.232704402516 156.026072813264 111.635220125786 155.452182545701 116.037735849057 154.742350977603 120.440251572327 153.914276604152 124.842767295597 152.988606112492 129.245283018868 151.988419590175 133.647798742138 150.938655060733 138.050314465409 149.865486694636 142.452830188679 148.795672198942 146.85534591195 147.755885657407 151.25786163522 146.772052455608 155.660377358491 145.868702873638 160.062893081761 145.068360463485 164.465408805031 144.390980460909 168.867924528302 143.85345223411 173.270440251572 143.469178174812 177.672955974843 143.247739531431 182.075471698113 143.194657516238 186.477987421384 143.311255642911 190.880503144654 143.594626726879 195.283018867925 144.037705371236 199.685534591195 144.629444130918 204.088050314465 145.355088962769 208.490566037736 146.196547093603 212.893081761006 147.132838134064 217.295597484277 148.140617190496 221.698113207547 149.194756931882 226.100628930818 150.268974098963 230.503144654088 151.336484834533 234.905660377358 152.370672495347 239.308176100629 153.345751294808 243.710691823899 154.237409229602 248.11320754717 155.02341425994 252.51572327044 155.684168629299 256.918238993711 156.203197502592 261.320754716981 156.567559739373 265.723270440252 156.768170560124 270.125786163522 156.800028060441 274.528301886793 156.66233792539 278.930817610063 156.358533234453 283.333333333333 155.896188863278 287.735849056604 155.286832616479 292.138364779874 154.54565780059 296.540880503145 153.691144403677 300.943396226415 152.744598326917 305.345911949686 151.729620156607 309.748427672956 150.671516721956 314.150943396226 149.596670110468 318.553459119497 148.531879873517 322.955974842767 147.503694823143 327.358490566038 146.537751080619 331.761006289308 145.658132881477 336.163522012579 144.886772074288 340.566037735849 144.242901285699 344.96855345912 143.742574386181 349.37106918239 143.398266212893 353.77358490566 143.218561529912 358.176100628931 143.207940981111 362.578616352201 143.366669372593 366.981132075472 143.690789070185 371.383647798742 144.1722186766 375.786163522013 144.798954527937 380.188679245283 145.555369985504 384.591194968554 146.42260506063 388.993710691824 147.379036657793 393.396226415094 148.400817711327 397.798742138365 149.462471773201 402.201257861635 150.537528226799 406.603773584906 151.599182288673 411.006289308176 152.620963342207 415.408805031447 153.57739493937 419.811320754717 154.444630014496 424.213836477987 155.201045472063 428.616352201258 155.8277813234 433.018867924528 156.309210929815 437.421383647799 156.633330627407 441.823899371069 156.792059018889 446.22641509434 156.781438470088 450.62893081761 156.601733787107 455.03144654088 156.257425613819 459.433962264151 155.757098714301 463.836477987421 155.113227925712 468.238993710692 154.341867118523 472.641509433962 153.462248919381 477.044025157233 152.496305176857 481.446540880503 151.468120126483 485.849056603774 150.403329889532 490.251572327044 149.328483278044 494.654088050314 148.270379843393 499.056603773585 147.255401673083 503.459119496855 146.308855596323 507.861635220126 145.45434219941 512.264150943396 144.713167383521 516.666666666667 144.103811136722 521.069182389937 143.641466765547 525.471698113208 143.33766207461 529.874213836478 143.199971939559 534.276729559748 143.231829439876 538.679245283019 143.432440260627 543.081761006289 143.796802497408 547.48427672956 144.315831370701 551.88679245283 144.97658574006 556.289308176101 145.762590770398 560.691823899371 146.654248705192 565.094339622642 147.629327504653 569.496855345912 148.663515165467 573.899371069182 149.731025901037 578.301886792453 150.805243068117 582.704402515723 151.859382809504 587.106918238994 152.867161865936 591.509433962264 153.803452906397 595.911949685535 154.644911037231 600.314465408805 155.370555869082 604.716981132075 155.962294628764 609.119496855346 156.405373273121 613.522012578616 156.688744357089 617.924528301887 156.805342483762 622.327044025157 156.752260468569 626.729559748428 156.530821825188 631.132075471698 156.14654776589 635.534591194969 155.609019539091 639.937106918239 154.931639536515 644.339622641509 154.131297126362 648.74213836478 153.227947544392 653.14465408805 152.244114342593 657.547169811321 151.204327801058 661.949685534591 150.134513305364 666.352201257862 149.061344939267 670.754716981132 148.011580409825 675.157232704403 147.011393887508 679.559748427673 146.085723395848 683.962264150943 145.257649022397 688.364779874214 144.547817454299 692.767295597484 143.973927186736 697.169811320755 143.550287239755 701.572327044025 143.28746038613 705.974842767296 143.19199978581 710.377358490566 143.266285593541 714.779874213837 143.508465613577 719.182389937107 143.912501481168 723.584905660377 144.468319219365 727.987421383648 145.162060417234 732.389937106918 145.976427766793 736.792452830189 146.891116343236 741.194968553459 147.8833198752 745.59748427673 148.928299382027 750 150 Z; M 50 150 C 50 150 54.4025157232704 157.416071550774 58.8050314465409 164.647235424111 63.2075471698113 171.513194314651 67.6100628930818 177.842756709051 72.0125786163522 183.478105267833 76.4150943396226 188.278731743954 80.8176100628931 192.124940327325 85.2201257861635 194.920832065082 89.622641509434 196.596695945938 94.0251572327044 197.110747030819 98.4276729559749 196.450168292336 102.830188679245 194.631430186506 107.232704402516 191.69987998873 111.635220125786 187.728611133269 116.037735849057 182.816640747386 120.440251572327 177.086440820389 124.842767295597 170.680884563857 129.245283018868 163.759684100572 133.647798742138 156.495408302607 138.050314465409 149.06918006729 142.452830188679 141.666160312458 146.85534591195 134.470931290252 151.25786163522 127.662894328993 155.660377358491 121.411796752957 160.062893081761 115.873499509049 164.465408805031 111.186091027689 168.867924528302 107.46644421248 173.270440251572 104.807302404528 177.672955974843 103.274966978125 182.075471698113 102.907644223868 186.477987421384 103.714492736964 190.880503144654 105.675395062561 195.283018867925 108.741459291753 199.685534591195 112.836238101775 204.088050314465 117.857634845609 208.490566037736 123.680449165758 212.893081761006 130.159498661443 217.295597484277 137.133238775546 221.698113207547 144.427790645286 226.100628930818 151.861276488749 230.503144654088 159.248354431447 234.905660377358 166.404839704385 239.308176100629 173.152296991592 243.710691823899 179.322489424393 248.11320754717 184.761573293991 252.51572327044 189.333933894023 256.918238993711 192.925566852613 261.320754716981 195.44692064588 265.723270440252 196.835129419481 270.125786163522 197.055580446399 274.528301886793 196.102777138974 278.930817610063 194.000476097372 283.333333333333 190.801094777412 287.735849056604 186.584404546599 292.138364779874 181.455541714863 296.540880503145 175.542386131748 300.943396226415 168.992372710429 305.345911949686 161.968815378046 309.748427672956 154.646835108659 314.150943396226 147.208993566699 318.553459119497 139.840741228908 322.955974842767 132.725793478456 327.358490566038 126.041549960773 331.761006289308 119.954671412049 336.163522012579 114.616924244942 340.566037735849 110.161396500019 344.96855345912 106.699179512017 349.37106918239 104.31659802816 353.77358490566 103.073057841054 358.176100628931 102.9995646019 362.578616352201 104.097950745037 366.981132075472 106.340829799168 371.383647798742 109.672279224464 375.786163522013 114.009234750104 380.188679245283 119.243561446712 384.591194968554 125.244749894876 388.993710691824 131.863170225168 393.396226415094 138.933802895478 397.798742138365 146.280353184792 402.201257861635 153.719646815208 406.603773584906 161.066197104522 411.006289308176 168.136829774832 415.408805031447 174.755250105124 419.811320754717 180.756438553288 424.213836477987 185.990765249896 428.616352201258 190.327720775536 433.018867924528 193.659170200832 437.421383647799 195.902049254963 441.823899371069 197.0004353981 446.22641509434 196.926942158946 450.62893081761 195.68340197184 455.03144654088 193.300820487983 459.433962264151 189.838603499981 463.836477987421 185.383075755058 468.238993710692 180.045328587951 472.641509433962 173.958450039226 477.044025157233 167.274206521544 481.446540880503 160.159258771092 485.849056603774 152.791006433301 490.251572327044 145.353164891341 494.654088050314 138.031184621954 499.056603773585 131.007627289571 503.459119496855 124.457613868252 507.861635220126 118.544458285137 512.264150943396 113.415595453401 516.666666666667 109.198905222588 521.069182389937 105.999523902628 525.471698113208 103.897222861026 529.874213836478 102.944419553601 534.276729559748 103.164870580519 538.679245283019 104.55307935412 543.081761006289 107.074433147387 547.48427672956 110.666066105977 551.88679245283 115.238426706009 556.289308176101 120.677510575607 560.691823899371 126.847703008408 565.094339622642 133.595160295615 569.496855345912 140.751645568553 573.899371069182 148.138723511251 578.301886792453 155.572209354714 582.704402515723 162.866761224454 587.106918238994 169.840501338557 591.509433962264 176.319550834242 595.911949685535 182.142365154391 600.314465408805 187.163761898225 604.716981132075 191.258540708247 609.119496855346 194.324604937439 613.522012578616 196.285507263036 617.924528301887 197.092355776132 622.327044025157 196.725033021875 626.729559748428 195.192697595472 631.132075471698 192.53355578752 635.534591194969 188.813908972311 639.937106918239 184.126500490951 644.339622641509 178.588203247043 648.74213836478 172.337105671007 653.14465408805 165.529068709748 657.547169811321 158.333839687542 661.949685534591 150.930819932711 666.352201257862 143.504591697393 670.754716981132 136.240315899428 675.157232704403 129.319115436143 679.559748427673 122.913559179611 683.962264150943 117.183359252614 688.364779874214 112.271388866731 692.767295597484 108.30012001127 697.169811320755 105.368569813494 701.572327044025 103.549831707664 705.974842767296 102.889252969181 710.377358490566 103.403304054062 714.779874213837 105.079167934918 719.182389937107 107.875059672675 723.584905660377 111.721268256046 727.987421383648 116.521894732167 732.389937106918 122.157243290949 736.792452830189 128.486805685349 741.194968553459 135.352764575889 745.59748427673 142.583928449226 750 150 Z; M 50 150 C 50 150 54.4025157232704 155.752049857674 58.8050314465409 161.360681711301 63.2075471698113 166.686053451411 67.6100628930818 171.595385598571 72.0125786163522 175.966271943661 76.4150943396226 179.68973154753 80.8176100628931 182.672926003395 85.2201257861635 184.84147421145 89.622641509434 186.141306950571 94.0251572327044 186.540015006363 98.4276729559749 186.027657242194 102.830188679245 184.617008465255 107.232704402516 182.343240907536 111.635220125786 179.263047263442 116.037735849057 175.453227149709 120.440251572327 171.008772231918 124.842767295597 166.040497761877 129.245283018868 160.672279579621 133.647798742138 155.037965470903 138.050314465409 149.278037890437 142.452830188679 143.536111260469 146.85534591195 137.955351178834 151.25786163522 132.674904817718 155.660377358491 127.826431515328 160.062893081761 123.530820064512 164.465408805031 119.895174547411 168.867924528302 117.010143869439 173.270440251572 114.947661576321 177.672955974843 113.759152308172 182.075471698113 113.474249609772 186.477987421384 114.100057066341 190.880503144654 115.620971187199 195.283018867925 117.99907045342 199.685534591195 121.175060829205 204.088050314465 125.069754162185 208.490566037736 129.586042611152 212.893081761006 134.61131987208 217.295597484277 140.020288833092 221.698113207547 145.678085654073 226.100628930818 151.443642377087 230.503144654088 157.173204226377 234.905660377358 162.723913899796 239.308176100629 167.957373483191 243.710691823899 172.743095177207 248.11320754717 176.961754798248 252.51572327044 180.508166932838 256.918238993711 183.293907564765 261.320754716981 185.249518784049 265.723270440252 186.32624060691 270.125786163522 186.497226726627 274.528301886793 185.758213882516 278.930817610063 184.1276281574 283.333333333333 181.646125553208 287.735849056604 178.375578299726 292.138364779874 174.397532171215 296.540880503145 169.811173275216 300.943396226415 164.730855008339 305.345911949686 159.283246840389 309.748427672956 153.604176017235 314.150943396226 147.835240929443 318.553459119497 142.120280586798 322.955974842767 136.601788226637 327.358490566038 131.417358476828 331.761006289308 126.696256657602 336.163522012579 122.556195761122 340.566037735849 119.100401469551 344.96855345912 116.415038390631 349.37106918239 114.567061683383 353.77358490566 113.602547640162 358.176100628931 113.545544849274 362.578616352201 114.397474582563 366.981132075472 116.137095358302 371.383647798742 118.721032562983 375.786163522013 122.08485992673 380.188679245283 126.144705887507 384.591194968554 130.799344792054 388.993710691824 135.932720792844 393.396226415094 141.416841511809 397.798742138365 147.114969322028 402.201257861635 152.885030677972 406.603773584906 158.583158488191 411.006289308176 164.067279207156 415.408805031447 169.200655207946 419.811320754717 173.855294112493 424.213836477987 177.91514007327 428.616352201258 181.278967437017 433.018867924528 183.862904641698 437.421383647799 185.602525417437 441.823899371069 186.454455150726 446.22641509434 186.397452359838 450.62893081761 185.432938316617 455.03144654088 183.584961609369 459.433962264151 180.899598530449 463.836477987421 177.443804238879 468.238993710692 173.303743342398 472.641509433962 168.582641523172 477.044025157233 163.398211773363 481.446540880503 157.879719413202 485.849056603774 152.164759070557 490.251572327044 146.395823982765 494.654088050314 140.716753159611 499.056603773585 135.269144991661 503.459119496855 130.188826724784 507.861635220126 125.602467828785 512.264150943396 121.624421700274 516.666666666667 118.353874446792 521.069182389937 115.8723718426 525.471698113208 114.241786117484 529.874213836478 113.502773273373 534.276729559748 113.67375939309 538.679245283019 114.750481215951 543.081761006289 116.706092435235 547.48427672956 119.491833067162 551.88679245283 123.038245201752 556.289308176101 127.256904822792 560.691823899371 132.042626516809 565.094339622642 137.276086100204 569.496855345912 142.826795773623 573.899371069182 148.556357622913 578.301886792453 154.321914345927 582.704402515723 159.979711166908 587.106918238994 165.38868012792 591.509433962264 170.413957388848 595.911949685535 174.930245837815 600.314465408805 178.824939170795 604.716981132075 182.00092954658 609.119496855346 184.379028812801 613.522012578616 185.899942933659 617.924528301887 186.525750390228 622.327044025157 186.240847691828 626.729559748428 185.052338423679 631.132075471698 182.989856130561 635.534591194969 180.104825452589 639.937106918239 176.469179935488 644.339622641509 172.173568484672 648.74213836478 167.325095182282 653.14465408805 162.044648821166 657.547169811321 156.463888739531 661.949685534591 150.721962109563 666.352201257862 144.962034529097 670.754716981132 139.327720420378 675.157232704403 133.959502238123 679.559748427673 128.991227768082 683.962264150943 124.546772850291 688.364779874214 120.736952736558 692.767295597484 117.656759092464 697.169811320755 115.382991534745 701.572327044025 113.972342757806 705.974842767296 113.459984993637 710.377358490566 113.858693049429 714.779874213837 115.15852578855 719.182389937107 117.327073996605 723.584905660377 120.31026845247 727.987421383648 124.033728056339 732.389937106918 128.404614401429 736.792452830189 133.313946548589 741.194968553459 138.639318288699 745.59748427673 144.247950142326 750 150 Z; M 50 150 C 50 150 54.4025157232704 147.876562518831 58.8050314465409 145.806069496212 63.2075471698113 143.840145306764 67.6100628930818 142.027807071399 72.0125786163522 140.414242495162 76.4150943396226 139.039683185331 80.8176100628931 137.938401541753 85.2201257861635 137.137856230317 89.622641509434 136.658007545797 94.0251572327044 136.51081973438 98.4276729559749 136.699962684654 102.830188679245 137.220720424909 107.232704402516 138.060108708216 111.635220125786 139.197198753498 116.037735849057 140.603639070635 120.440251572327 142.244362358736 124.842767295597 144.078459852232 129.245283018868 146.06020131438 133.647798742138 148.140175246311 138.050314465409 150.266520882357 142.452830188679 152.386221253857 146.85534591195 154.446425081011 151.25786163522 156.395764533543 155.660377358491 158.185636003973 160.062893081761 159.771411959485 164.465408805031 161.113553656841 168.867924528302 162.178596976616 173.270440251572 162.939986796562 177.672955974843 163.378739100376 182.075471698113 163.483914313254 186.477987421384 163.252890062395 190.880503144654 162.691426561595 195.283018867925 161.813522989688 199.685534591195 160.641068443805 204.088050314465 159.203296170348 208.490566037736 157.536054681557 212.893081761006 155.680913931188 217.295597484277 153.684128835355 221.698113207547 151.595485981454 226.100628930818 149.46706228062 230.503144654088 147.351926514676 234.905660377358 145.30281615241 239.308176100629 143.370822426601 243.710691823899 141.604116457257 248.11320754717 140.046748183117 252.51572327044 138.737548048105 256.918238993711 137.709158827389 261.320754716981 136.987221732897 265.723270440252 136.589737091417 270.125786163522 136.526615535737 274.528301886793 136.799430899143 278.930817610063 137.401380974445 283.333333333333 138.31745711595 287.735849056604 139.524818455615 292.138364779874 140.993361402931 296.540880503145 142.686470228973 300.943396226415 144.561930020018 305.345911949686 146.572979237736 309.748427672956 148.669475642059 314.150943396226 150.799146506352 318.553459119497 152.9088919528 322.955974842767 154.94610891146 327.358490566038 156.860002692221 331.761006289308 158.602853467756 336.163522012579 160.131206089766 340.566037735849 161.406953572404 344.96855345912 162.398287227956 349.37106918239 163.08048976472 353.77358490566 163.436551572452 358.176100628931 163.457594829325 362.578616352201 163.143094855968 366.981132075472 162.500893197494 371.383647798742 161.547002107331 375.786163522013 160.305205307737 380.188679245283 158.806464981385 384.591194968554 157.088149779711 388.993710691824 155.193103096402 393.396226415094 153.168574837078 397.798742138365 151.065043319775 402.201257861635 148.934956680225 406.603773584906 146.831425162922 411.006289308176 144.806896903598 415.408805031447 142.911850220289 419.811320754717 141.193535018615 424.213836477987 139.694794692263 428.616352201258 138.452997892669 433.018867924528 137.499106802506 437.421383647799 136.856905144032 441.823899371069 136.542405170675 446.22641509434 136.563448427548 450.62893081761 136.91951023528 455.03144654088 137.601712772044 459.433962264151 138.593046427596 463.836477987421 139.868793910234 468.238993710692 141.397146532244 472.641509433962 143.139997307779 477.044025157233 145.05389108854 481.446540880503 147.0911080472 485.849056603774 149.200853493648 490.251572327044 151.330524357941 494.654088050314 153.427020762264 499.056603773585 155.438069979982 503.459119496855 157.313529771027 507.861635220126 159.006638597069 512.264150943396 160.475181544385 516.666666666667 161.68254288405 521.069182389937 162.598619025555 525.471698113208 163.200569100857 529.874213836478 163.473384464263 534.276729559748 163.410262908583 538.679245283019 163.012778267103 543.081761006289 162.290841172611 547.48427672956 161.262451951895 551.88679245283 159.953251816883 556.289308176101 158.395883542743 560.691823899371 156.629177573399 565.094339622642 154.69718384759 569.496855345912 152.648073485324 573.899371069182 150.53293771938 578.301886792453 148.404514018546 582.704402515723 146.315871164645 587.106918238994 144.319086068812 591.509433962264 142.463945318443 595.911949685535 140.796703829652 600.314465408805 139.358931556195 604.716981132075 138.186477010312 609.119496855346 137.308573438405 613.522012578616 136.747109937605 617.924528301887 136.516085686746 622.327044025157 136.621260899624 626.729559748428 137.060013203438 631.132075471698 137.821403023384 635.534591194969 138.886446343159 639.937106918239 140.228588040515 644.339622641509 141.814363996027 648.74213836478 143.604235466457 653.14465408805 145.553574918989 657.547169811321 147.613778746143 661.949685534591 149.733479117643 666.352201257862 151.859824753689 670.754716981132 153.93979868562 675.157232704403 155.921540147768 679.559748427673 157.755637641264 683.962264150943 159.396360929365 688.364779874214 160.802801246502 692.767295597484 161.939891291784 697.169811320755 162.779279575091 701.572327044025 163.300037315346 705.974842767296 163.48918026562 710.377358490566 163.341992454203 714.779874213837 162.862143769683 719.182389937107 162.061598458247 723.584905660377 160.960316814669 727.987421383648 159.585757504838 732.389937106918 157.972192928601 736.792452830189 156.159854693236 741.194968553459 154.193930503788 745.59748427673 152.123437481169 750 150 Z; M 50 150 C 50 150 54.4025157232704 142.294111452538 58.8050314465409 134.780356697764 63.2075471698113 127.646078984865 67.6100628930818 121.069159920436 72.0125786163522 115.213584280049 76.4150943396226 110.225351314697 80.8176100628931 106.228834497023 85.2201257861635 103.323680471145 89.622641509434 101.582324525726 94.0251572327044 101.048184537907 98.4276729559749 101.734578419186 102.830188679245 103.624392054962 107.232704402516 106.670506017143 111.635220125786 110.79697041041 116.037735849057 115.900898559284 120.440251572327 121.855032319967 124.842767295597 128.510915055104 129.245283018868 135.702593158473 133.647798742138 143.250753838138 138.050314465409 150.967195989159 142.452830188679 158.659522681913 146.85534591195 166.135938266494 151.25786163522 173.21003048517 155.660377358491 179.705418358715 160.062893081761 185.460149959142 164.465408805031 190.330740417512 168.867924528302 194.19574948568 173.270440251572 196.958809451281 177.672955974843 198.551027909847 182.075471698113 198.93270548481 186.477987421384 198.094325666865 190.880503144654 196.056792092646 195.283018867925 192.870907346557 199.685534591195 188.616106280993 204.088050314465 183.39847543754 208.490566037736 177.348107951677 212.893081761006 170.615859892119 217.295597484277 163.369588910196 221.698113207547 155.789968982442 226.100628930818 148.065985598963 230.503144654088 140.390223717742 234.905660377358 132.954065972061 239.308176100629 125.942920855944 243.710691823899 119.531599865036 248.11320754717 113.879958856389 252.51572327044 109.128912302775 256.918238993711 105.396919819585 261.320754716981 102.777032567067 265.723270440252 101.334573171046 270.125786163522 101.105507009538 274.528301886793 102.095545474566 278.930817610063 104.280003567896 283.333333333333 107.6044153813 287.735849056604 111.985892115358 292.138364779874 117.315188776802 296.540880503145 123.459428024673 300.943396226415 130.265413250611 305.345911949686 137.563448287018 309.748427672956 145.171568504888 314.150943396226 152.900077805752 318.553459119497 160.556278385244 322.955974842767 167.949275339309 327.358490566038 174.894736318037 331.761006289308 181.219487552875 336.163522012579 186.765831662779 340.566037735849 191.39547958182 344.96855345912 194.992998572032 349.37106918239 197.468690350913 353.77358490566 198.760827572152 358.176100628931 198.837192896574 362.578616352201 197.695882279067 366.981132075472 195.365352442854 371.383647798742 191.903711357399 375.786163522013 187.397269410733 380.188679245283 181.95838740037 384.591194968554 175.72267499964 388.993710691824 168.845609551132 393.396226415094 161.498659492139 397.798742138365 153.865009068167 402.201257861635 146.134990931833 406.603773584906 138.501340507861 411.006289308176 131.154390448868 415.408805031447 124.27732500036 419.811320754717 118.04161259963 424.213836477987 112.602730589267 428.616352201258 108.096288642601 433.018867924528 104.634647557146 437.421383647799 102.304117720933 441.823899371069 101.162807103426 446.22641509434 101.239172427848 450.62893081761 102.531309649087 455.03144654088 105.007001427968 459.433962264151 108.60452041818 463.836477987421 113.234168337221 468.238993710692 118.780512447125 472.641509433962 125.105263681963 477.044025157233 132.050724660691 481.446540880503 139.443721614756 485.849056603774 147.099922194248 490.251572327044 154.828431495112 494.654088050314 162.436551712982 499.056603773585 169.734586749389 503.459119496855 176.540571975327 507.861635220126 182.684811223198 512.264150943396 188.014107884642 516.666666666667 192.3955846187 521.069182389937 195.719996432104 525.471698113208 197.904454525434 529.874213836478 198.894492990462 534.276729559748 198.665426828954 538.679245283019 197.222967432933 543.081761006289 194.603080180415 547.48427672956 190.871087697225 551.88679245283 186.120041143611 556.289308176101 180.468400134964 560.691823899371 174.057079144055 565.094339622642 167.045934027939 569.496855345912 159.609776282258 573.899371069182 151.934014401037 578.301886792453 144.210031017558 582.704402515723 136.630411089804 587.106918238994 129.384140107881 591.509433962264 122.651892048323 595.911949685535 116.60152456246 600.314465408805 111.383893719007 604.716981132075 107.129092653443 609.119496855346 103.943207907354 613.522012578616 101.905674333135 617.924528301887 101.06729451519 622.327044025157 101.448972090153 626.729559748428 103.041190548719 631.132075471698 105.80425051432 635.534591194969 109.669259582488 639.937106918239 114.539850040858 644.339622641509 120.294581641285 648.74213836478 126.78996951483 653.14465408805 133.864061733506 657.547169811321 141.340477318087 661.949685534591 149.032804010841 666.352201257862 156.749246161861 670.754716981132 164.297406841528 675.157232704403 171.489084944896 679.559748427673 178.144967680033 683.962264150943 184.099101440716 688.364779874214 189.20302958959 692.767295597484 193.329493982857 697.169811320755 196.375607945038 701.572327044025 198.265421580814 705.974842767296 198.951815462093 710.377358490566 198.417675474274 714.779874213837 196.676319528855 719.182389937107 193.771165502977 723.584905660377 189.774648685303 727.987421383648 184.786415719951 732.389937106918 178.930840079564 736.792452830189 172.353921015135 741.194968553459 165.219643302236 745.59748427673 157.705888547462 750 150 Z; M 50 150 C 50 150 54.4025157232704 145.033017670489 58.8050314465409 140.189878963593 63.2075471698113 135.591339662701 67.6100628930818 131.352056863003 72.0125786163522 127.577730183377 76.4150943396226 124.362466318375 80.8176100628931 121.786432640919 85.2201257861635 119.913858359295 89.622641509434 118.79143306635 94.0251572327044 118.447142610468 98.4276729559749 118.889571313971 102.830188679245 120.107687937013 107.232704402516 122.071120723595 111.635220125786 124.730914671882 116.037735849057 128.020752147522 120.440251572327 131.858606405951 124.842767295597 136.148786795805 129.245283018868 140.78432464961 133.647798742138 145.649640373461 138.050314465409 150.623425236134 142.452830188679 155.581666004919 146.85534591195 160.400737013794 151.25786163522 164.960482568259 155.660377358491 169.14721283207 160.062893081761 172.856538498325 164.465408805031 175.995973566975 168.867924528302 178.487241332755 173.270440251572 180.268226087465 177.672955974843 181.294521874084 182.075471698113 181.540539677058 186.477987421384 181.000145442766 190.880503144654 179.686813022163 195.283018867925 177.633288222237 199.685534591195 174.890772342585 204.088050314465 171.527645554321 208.490566037736 167.627761951771 212.893081761006 163.288358787068 217.295597484277 158.617632017484 221.698113207547 153.732038615284 226.100628930818 148.753392902609 230.503144654088 143.805829309554 234.905660377358 139.012707284137 239.308176100629 134.493535525176 243.710691823899 130.360992227343 248.11320754717 126.71811563371 252.51572327044 123.655734944821 256.918238993711 121.250205640354 261.320754716981 119.561505679484 265.723270440252 118.631740048053 270.125786163522 118.484090939258 274.528301886793 119.12223974339 278.930817610063 120.530275258347 283.333333333333 122.673090409577 287.735849056604 125.497257587857 292.138364779874 128.932360779797 296.540880503145 132.892751276557 300.943396226415 137.279683185049 305.345911949686 141.983775496107 309.748427672956 146.887739321979 314.150943396226 151.869302303901 318.553459119497 156.804257274416 322.955974842767 161.569559160993 327.358490566038 166.046392914708 331.761006289308 170.123135970166 336.163522012579 173.698141372541 340.566037735849 176.682272179015 344.96855345912 179.001123943403 349.37106918239 180.596879869962 353.77358490566 181.429752381116 358.176100628931 181.478975155966 362.578616352201 180.743320904711 366.981132075472 179.241131969124 371.383647798742 177.009862986103 375.786163522013 174.105147017244 380.188679245283 170.599408428972 384.591194968554 166.5800571088 388.993710691824 162.147309042014 393.396226415094 157.41168758914 397.798742138365 152.49126776578 402.201257861635 147.50873223422 406.603773584906 142.58831241086 411.006289308176 137.852690957986 415.408805031447 133.4199428912 419.811320754717 129.400591571028 424.213836477987 125.894852982756 428.616352201258 122.990137013897 433.018867924528 120.758868030876 437.421383647799 119.256679095289 441.823899371069 118.521024844034 446.22641509434 118.570247618884 450.62893081761 119.403120130038 455.03144654088 120.998876056597 459.433962264151 123.317727820985 463.836477987421 126.301858627459 468.238993710692 129.876864029834 472.641509433962 133.953607085292 477.044025157233 138.430440839007 481.446540880503 143.195742725584 485.849056603774 148.130697696099 490.251572327044 153.112260678021 494.654088050314 158.016224503893 499.056603773585 162.720316814951 503.459119496855 167.107248723443 507.861635220126 171.067639220203 512.264150943396 174.502742412143 516.666666666667 177.326909590423 521.069182389937 179.469724741653 525.471698113208 180.87776025661 529.874213836478 181.515909060742 534.276729559748 181.368259951947 538.679245283019 180.438494320516 543.081761006289 178.749794359646 547.48427672956 176.344265055179 551.88679245283 173.28188436629 556.289308176101 169.639007772657 560.691823899371 165.506464474824 565.094339622642 160.987292715863 569.496855345912 156.194170690446 573.899371069182 151.246607097391 578.301886792453 146.267961384716 582.704402515723 141.382367982516 587.106918238994 136.711641212932 591.509433962264 132.372238048229 595.911949685535 128.472354445679 600.314465408805 125.109227657415 604.716981132075 122.366711777763 609.119496855346 120.313186977837 613.522012578616 118.999854557234 617.924528301887 118.459460322942 622.327044025157 118.705478125916 626.729559748428 119.731773912535 631.132075471698 121.512758667245 635.534591194969 124.004026433025 639.937106918239 127.143461501675 644.339622641509 130.85278716793 648.74213836478 135.039517431741 653.14465408805 139.599262986206 657.547169811321 144.418333995081 661.949685534591 149.376574763866 666.352201257862 154.350359626539 670.754716981132 159.21567535039 675.157232704403 163.851213204195 679.559748427673 168.141393594049 683.962264150943 171.979247852478 688.364779874214 175.269085328118 692.767295597484 177.928879276405 697.169811320755 179.892312062987 701.572327044025 181.110428686029 705.974842767296 181.552857389532 710.377358490566 181.20856693365 714.779874213837 180.086141640705 719.182389937107 178.213567359081 723.584905660377 175.637533681625 727.987421383648 172.422269816623 732.389937106918 168.647943136997 736.792452830189 164.408660337299 741.194968553459 159.810121036407 745.59748427673 154.966982329511 750 150 Z; M 50 150 C 50 150 54.4025157232704 153.135618721789 58.8050314465409 156.193055892712 63.2075471698113 159.096079291666 67.6100628930818 161.772306753703 72.0125786163522 164.155010901545 76.4150943396226 166.184782884162 80.8176100628931 167.811013639805 85.2201257861635 168.993155750623 89.622641509434 169.701734426544 94.0251572327044 169.919082411211 98.4276729559749 169.639780486274 102.830188679245 168.870792590779 107.232704402516 167.63129218668 111.635220125786 165.952184199765 116.037735849057 163.875334455611 120.440251572327 161.452525823349 124.842767295597 158.744167094076 129.245283018868 155.817786785937 133.647798742138 152.746349430406 138.050314465409 149.606436320411 142.452830188679 146.476336080398 146.85534591195 143.434092666871 151.25786163522 140.555559469315 155.660377358491 137.912508029351 160.062893081761 135.570838534129 164.465408805031 133.588936702384 168.867924528302 132.016218031541 173.270440251572 130.891895702688 177.672955974843 130.244002863711 182.075471698113 130.088693668364 186.477987421384 130.42984049873 190.880503144654 131.258937413672 195.283018867925 132.555312230641 199.685534591195 134.286641952905 204.088050314465 136.409758690884 208.490566037736 138.871725983237 212.893081761006 141.611158681395 217.295597484277 144.559753488358 221.698113207547 147.643991990268 226.100628930818 150.786973718443 230.503144654088 153.910333537432 234.905660377358 156.936195552165 239.308176100629 159.789114816682 243.710691823899 162.397958431104 248.11320754717 164.697679124752 252.51572327044 166.630937104004 256.918238993711 168.149529726748 261.320754716981 169.215593356838 265.723270440252 169.802547432247 270.125786163522 169.895757208139 274.528301886793 169.492898650412 278.930817610063 168.604016381713 283.333333333333 167.251273235113 287.735849056604 165.468397659924 292.138364779874 163.2998427577 296.540880503145 160.799677916473 300.943396226415 158.030240678544 305.345911949686 155.060582455292 309.748427672956 151.964746842587 314.150943396226 148.819923464198 318.553459119497 145.704523374129 322.955974842767 142.69622400456 327.358490566038 139.870032405471 331.761006289308 137.296415065891 336.163522012579 135.039540946653 340.566037735849 133.155681531762 344.96855345912 131.691807790503 349.37106918239 130.684419032747 353.77358490566 130.158632858046 358.176100628931 130.127558889161 362.578616352201 130.591971904947 366.981132075472 131.540292522499 371.383647798742 132.948875910231 375.786163522013 134.782601333274 380.188679245283 136.995747831858 384.591194968554 139.533134199049 388.993710691824 142.33149483436 393.396226415094 145.321057168559 397.798742138365 148.427281329157 402.201257861635 151.572718670843 406.603773584906 154.678942831441 411.006289308176 157.66850516564 415.408805031447 160.466865800951 419.811320754717 163.004252168142 424.213836477987 165.217398666726 428.616352201258 167.051124089769 433.018867924528 168.459707477501 437.421383647799 169.408028095053 441.823899371069 169.872441110839 446.22641509434 169.841367141954 450.62893081761 169.315580967253 455.03144654088 168.308192209497 459.433962264151 166.844318468238 463.836477987421 164.960459053347 468.238993710692 162.703584934109 472.641509433962 160.129967594529 477.044025157233 157.30377599544 481.446540880503 154.295476625871 485.849056603774 151.180076535802 490.251572327044 148.035253157413 494.654088050314 144.939417544708 499.056603773585 141.969759321456 503.459119496855 139.200322083527 507.861635220126 136.7001572423 512.264150943396 134.531602340076 516.666666666667 132.748726764887 521.069182389937 131.395983618287 525.471698113208 130.507101349588 529.874213836478 130.104242791861 534.276729559748 130.197452567753 538.679245283019 130.784406643162 543.081761006289 131.850470273252 547.48427672956 133.369062895996 551.88679245283 135.302320875248 556.289308176101 137.602041568896 560.691823899371 140.210885183318 565.094339622642 143.063804447835 569.496855345912 146.089666462568 573.899371069182 149.213026281557 578.301886792453 152.356008009732 582.704402515723 155.440246511642 587.106918238994 158.388841318605 591.509433962264 161.128274016763 595.911949685535 163.590241309116 600.314465408805 165.713358047095 604.716981132075 167.444687769359 609.119496855346 168.741062586328 613.522012578616 169.57015950127 617.924528301887 169.911306331636 622.327044025157 169.755997136289 626.729559748428 169.108104297312 631.132075471698 167.983781968459 635.534591194969 166.411063297616 639.937106918239 164.429161465871 644.339622641509 162.087491970649 648.74213836478 159.444440530685 653.14465408805 156.565907333129 657.547169811321 153.523663919602 661.949685534591 150.39356367959 666.352201257862 147.253650569594 670.754716981132 144.182213214063 675.157232704403 141.255832905924 679.559748427673 138.547474176651 683.962264150943 136.124665544389 688.364779874214 134.047815800235 692.767295597484 132.36870781332 697.169811320755 131.129207409221 701.572327044025 130.360219513726 705.974842767296 130.080917588789 710.377358490566 130.298265573456 714.779874213837 131.006844249377 719.182389937107 132.188986360195 723.584905660377 133.815217115838 727.987421383648 135.844989098455 732.389937106918 138.227693246297 736.792452830189 140.903920708334 741.194968553459 143.806944107288 745.59748427673 146.864381278211 750 150 Z; M 50 150 C 50 150 54.4025157232704 157.852159420611 58.8050314465409 165.50853802231 63.2075471698113 172.77823646235 67.6100628930818 179.479996638647 72.0125786163522 185.446721065632 76.4150943396226 190.52963917817 80.8176100628931 194.602016683535 85.2201257861635 197.562315474794 89.622641509434 199.336725318284 94.0251572327044 199.8810041917 98.4276729559749 199.181581386927 102.830188679245 197.255895873574 107.232704402516 194.151961486633 111.635220125786 189.947169779636 116.037735849057 184.746360392184 120.440251572327 178.679207044121 124.842767295597 171.896984332322 129.245283018868 164.568795944758 133.647798742138 156.877358335184 138.050314465409 149.014444985666 142.452830188679 141.176104846834 146.85534591195 133.557774176296 151.25786163522 126.349403653542 155.660377358491 119.730722268826 160.062893081761 113.866756073225 164.465408805031 108.903713522573 168.867924528302 104.965340007509 173.270440251572 102.149832463508 177.672955974843 100.527390990069 182.075471698113 100.13846852546 186.477987421384 100.992762218521 190.880503144654 103.068971646035 195.283018867925 106.315329904127 199.685534591195 110.650894331775 204.088050314465 115.967564684371 208.490566037736 122.13277843742 212.893081761006 128.992816017403 217.295597484277 136.376633549225 221.698113207547 144.100127556931 226.100628930818 151.970725284328 230.503144654088 159.792186183326 234.905660377358 167.369494852698 239.308176100629 174.513723429807 243.710691823899 181.046742199448 248.11320754717 186.805660968469 252.51572327044 191.646890467695 256.918238993711 195.449722516724 261.320754716981 198.119339685996 265.723270440252 199.589179415127 270.125786163522 199.822593642046 274.528301886793 198.813762562793 278.930817610063 196.587839738861 283.333333333333 193.200324934068 287.735849056604 188.73568031825 292.138364779874 183.305224540482 296.540880503145 177.044357179696 300.943396226415 170.10918277648 305.345911949686 162.672618620364 309.748427672956 154.920083338554 314.150943396226 147.04487378416 318.553459119497 139.243345493675 322.955974842767 131.710016881164 327.358490566038 124.632719238107 331.761006289308 118.187913465771 336.163522012579 112.536290309752 340.566037735849 107.818763797695 344.96855345912 104.152957777295 349.37106918239 101.630273157041 353.77358490566 100.313608973282 358.176100628931 100.235794105098 362.578616352201 101.398768739613 366.981132075472 103.773535996591 371.383647798742 107.300884918461 375.786163522013 111.892866799201 380.188679245283 117.434988042225 384.591194968554 123.789064871918 388.993710691824 130.796668721243 393.396226415094 138.283076390283 397.798742138365 146.061626484936 402.201257861635 153.938373515064 406.603773584906 161.716923609717 411.006289308176 169.203331278757 415.408805031447 176.210935128082 419.811320754717 182.565011957775 424.213836477987 188.107133200799 428.616352201258 192.699115081539 433.018867924528 196.226464003409 437.421383647799 198.601231260387 441.823899371069 199.764205894902 446.22641509434 199.686391026718 450.62893081761 198.369726842959 455.03144654088 195.847042222705 459.433962264151 192.181236202305 463.836477987421 187.463709690248 468.238993710692 181.812086534229 472.641509433962 175.367280761893 477.044025157233 168.289983118836 481.446540880503 160.756654506325 485.849056603774 152.95512621584 490.251572327044 145.079916661446 494.654088050314 137.327381379636 499.056603773585 129.89081722352 503.459119496855 122.955642820304 507.861635220126 116.694775459518 512.264150943396 111.26431968175 516.666666666667 106.799675065932 521.069182389937 103.412160261139 525.471698113208 101.186237437207 529.874213836478 100.177406357954 534.276729559748 100.410820584873 538.679245283019 101.880660314004 543.081761006289 104.550277483276 547.48427672956 108.353109532305 551.88679245283 113.194339031531 556.289308176101 118.953257800552 560.691823899371 125.486276570193 565.094339622642 132.630505147302 569.496855345912 140.207813816674 573.899371069182 148.029274715672 578.301886792453 155.899872443069 582.704402515723 163.623366450775 587.106918238994 171.007183982597 591.509433962264 177.86722156258 595.911949685535 184.032435315629 600.314465408805 189.349105668225 604.716981132075 193.684670095873 609.119496855346 196.931028353965 613.522012578616 199.007237781479 617.924528301887 199.86153147454 622.327044025157 199.472609009931 626.729559748428 197.850167536492 631.132075471698 195.034659992491 635.534591194969 191.096286477427 639.937106918239 186.133243926775 644.339622641509 180.269277731174 648.74213836478 173.650596346457 653.14465408805 166.442225823704 657.547169811321 158.823895153166 661.949685534591 150.985555014334 666.352201257862 143.122641664816 670.754716981132 135.431204055242 675.157232704403 128.103015667678 679.559748427673 121.320792955879 683.962264150943 115.253639607816 688.364779874214 110.052830220364 692.767295597484 105.848038513367 697.169811320755 102.744104126426 701.572327044025 100.818418613073 705.974842767296 100.1189958083 710.377358490566 100.663274681716 714.779874213837 102.437684525206 719.182389937107 105.397983316465 723.584905660377 109.47036082183 727.987421383648 114.553278934368 732.389937106918 120.520003361353 736.792452830189 127.22176353765 741.194968553459 134.49146197769 745.59748427673 142.147840579389 750 150 Z; M 50 150 C 50 150 54.4025157232704 154.08938931844 58.8050314465409 158.076816368066 63.2075471698113 161.862861143335 67.6100628930818 165.353124778043 72.0125786163522 168.460583227466 76.4150943396226 171.107757071307 80.8176100628931 173.228643336987 85.2201257861635 174.770361176361 89.622641509434 175.694470363632 94.0251572327044 175.977929739833 98.4276729559749 175.613671706635 102.830188679245 174.610778445411 107.232704402516 172.994255467825 111.635220125786 170.804408144078 116.037735849057 168.09583675409 120.440251572327 164.936075118357 124.842767295597 161.40390675202 129.245283018868 157.587400526108 133.647798742138 153.581714813528 138.050314465409 149.486724869878 142.452830188679 145.404532606448 146.85534591195 141.436920845196 151.25786163522 137.682815529691 155.660377358491 134.235819167675 160.062893081761 131.18187700483 164.465408805031 128.59713411992 168.867924528302 126.546036871149 173.270440251572 125.079726031076 177.672955974843 124.234761674664 182.075471698113 124.032211613302 186.477987421384 124.477126103199 190.880503144654 125.558411925471 195.283018867925 127.249108977497 199.685534591195 129.507062479217 204.088050314465 132.27597403398 208.490566037736 135.486805337461 212.893081761006 139.059499535447 217.295597484277 142.90497731124 221.698113207547 146.927357933473 226.100628930818 151.026349886142 230.503144654088 155.099751474372 234.905660377358 159.04599905739 239.308176100629 162.766699372648 243.710691823899 166.169082811732 248.11320754717 169.168316479605 252.51572327044 171.689619364807 256.918238993711 173.670126882306 261.320754716981 175.060458299634 265.723270440252 175.825947965107 270.125786163522 175.947509639445 274.528301886793 175.42211238009 278.930817610063 174.262856112831 283.333333333333 172.498645006467 287.735849056604 170.173466794391 292.138364779874 167.345296012023 296.540880503145 164.08464849611 300.943396226415 160.472823187064 305.345911949686 156.599875072168 309.748427672956 152.562369810998 314.150943396226 148.46097602782 318.553459119497 144.397955303244 322.955974842767 140.474612448101 327.358490566038 136.788769632815 331.761006289308 133.432327350755 336.163522012579 130.488973028961 340.566037735849 128.032094418317 344.96855345912 126.122949789395 349.37106918239 124.80914055715 353.77358490566 124.123424417091 358.176100628931 124.082898585441 362.578616352201 124.688573507873 366.981132075472 125.925347665689 371.383647798742 127.762384107619 375.786163522013 130.153879319023 380.188679245283 133.040205258003 384.591194968554 136.349396083611 388.993710691824 139.998942506989 393.396226415094 143.897849026246 397.798742138365 147.948902751229 402.201257861635 152.051097248771 406.603773584906 156.102150973754 411.006289308176 160.001057493011 415.408805031447 163.650603916389 419.811320754717 166.959794741996 424.213836477987 169.846120680977 428.616352201258 172.237615892381 433.018867924528 174.074652334311 437.421383647799 175.311426492127 441.823899371069 175.917101414559 446.22641509434 175.876575582909 450.62893081761 175.19085944285 455.03144654088 173.877050210605 459.433962264151 171.967905581683 463.836477987421 169.511026971039 468.238993710692 166.567672649245 472.641509433962 163.211230367185 477.044025157233 159.525387551899 481.446540880503 155.602044696756 485.849056603774 151.53902397218 490.251572327044 147.437630189002 494.654088050314 143.400124927832 499.056603773585 139.527176812936 503.459119496855 135.91535150389 507.861635220126 132.654703987977 512.264150943396 129.826533205609 516.666666666667 127.501354993532 521.069182389937 125.737143887169 525.471698113208 124.57788761991 529.874213836478 124.052490360555 534.276729559748 124.174052034893 538.679245283019 124.939541700366 543.081761006289 126.329873117694 547.48427672956 128.310380635193 551.88679245283 130.831683520395 556.289308176101 133.830917188268 560.691823899371 137.233300627352 565.094339622642 140.95400094261 569.496855345912 144.900248525628 573.899371069182 148.973650113858 578.301886792453 153.072642066527 582.704402515723 157.09502268876 587.106918238994 160.940500464553 591.509433962264 164.513194662539 595.911949685535 167.72402596602 600.314465408805 170.492937520783 604.716981132075 172.750891022503 609.119496855346 174.441588074529 613.522012578616 175.522873896801 617.924528301887 175.967788386698 622.327044025157 175.765238325336 626.729559748428 174.920273968924 631.132075471698 173.453963128851 635.534591194969 171.40286588008 639.937106918239 168.81812299517 644.339622641509 165.764180832325 648.74213836478 162.317184470309 653.14465408805 158.563079154804 657.547169811321 154.595467393552 661.949685534591 150.513275130122 666.352201257862 146.418285186472 670.754716981132 142.412599473892 675.157232704403 138.59609324798 679.559748427673 135.063924881643 683.962264150943 131.90416324591 688.364779874214 129.195591855922 692.767295597484 127.005744532175 697.169811320755 125.389221554589 701.572327044025 124.386328293365 705.974842767296 124.022070260167 710.377358490566 124.305529636368 714.779874213837 125.229638823639 719.182389937107 126.771356663013 723.584905660377 128.892242928693 727.987421383648 131.539416772534 732.389937106918 134.646875221957 736.792452830189 138.137138856665 741.194968553459 141.923183631934 745.59748427673 145.91061068156 750 150 Z; M 50 150 C 50 150 54.4025157232704 145.91061068156 58.8050314465409 141.923183631934 63.2075471698113 138.137138856665 67.6100628930818 134.646875221957 72.0125786163522 131.539416772534 76.4150943396226 128.892242928693 80.8176100628931 126.771356663013 85.2201257861635 125.229638823639 89.622641509434 124.305529636368 94.0251572327044 124.022070260167 98.4276729559749 124.386328293365 102.830188679245 125.389221554589 107.232704402516 127.005744532175 111.635220125786 129.195591855922 116.037735849057 131.90416324591 120.440251572327 135.063924881643 124.842767295597 138.59609324798 129.245283018868 142.412599473892 133.647798742138 146.418285186472 138.050314465409 150.513275130122 142.452830188679 154.595467393552 146.85534591195 158.563079154804 151.25786163522 162.317184470309 155.660377358491 165.764180832325 160.062893081761 168.81812299517 164.465408805031 171.40286588008 168.867924528302 173.453963128851 173.270440251572 174.920273968924 177.672955974843 175.765238325336 182.075471698113 175.967788386698 186.477987421384 175.522873896801 190.880503144654 174.441588074529 195.283018867925 172.750891022503 199.685534591195 170.492937520783 204.088050314465 167.72402596602 208.490566037736 164.513194662539 212.893081761006 160.940500464552 217.295597484277 157.09502268876 221.698113207547 153.072642066527 226.100628930818 148.973650113858 230.503144654088 144.900248525628 234.905660377358 140.95400094261 239.308176100629 137.233300627352 243.710691823899 133.830917188268 248.11320754717 130.831683520395 252.51572327044 128.310380635193 256.918238993711 126.329873117694 261.320754716981 124.939541700366 265.723270440252 124.174052034893 270.125786163522 124.052490360555 274.528301886793 124.57788761991 278.930817610063 125.737143887169 283.333333333333 127.501354993533 287.735849056604 129.826533205609 292.138364779874 132.654703987977 296.540880503145 135.91535150389 300.943396226415 139.527176812936 305.345911949686 143.400124927832 309.748427672956 147.437630189002 314.150943396226 151.53902397218 318.553459119497 155.602044696756 322.955974842767 159.525387551899 327.358490566038 163.211230367185 331.761006289308 166.567672649245 336.163522012579 169.511026971039 340.566037735849 171.967905581683 344.96855345912 173.877050210605 349.37106918239 175.19085944285 353.77358490566 175.876575582909 358.176100628931 175.917101414559 362.578616352201 175.311426492127 366.981132075472 174.074652334311 371.383647798742 172.237615892381 375.786163522013 169.846120680977 380.188679245283 166.959794741996 384.591194968554 163.650603916389 388.993710691824 160.001057493011 393.396226415094 156.102150973754 397.798742138365 152.051097248771 402.201257861635 147.948902751229 406.603773584906 143.897849026246 411.006289308176 139.99894250699 415.408805031447 136.349396083611 419.811320754717 133.040205258004 424.213836477987 130.153879319023 428.616352201258 127.762384107619 433.018867924528 125.925347665689 437.421383647799 124.688573507873 441.823899371069 124.082898585441 446.22641509434 124.123424417091 450.62893081761 124.80914055715 455.03144654088 126.122949789395 459.433962264151 128.032094418317 463.836477987421 130.488973028961 468.238993710692 133.432327350755 472.641509433962 136.788769632815 477.044025157233 140.474612448101 481.446540880503 144.397955303244 485.849056603774 148.46097602782 490.251572327044 152.562369810998 494.654088050314 156.599875072168 499.056603773585 160.472823187064 503.459119496855 164.08464849611 507.861635220126 167.345296012023 512.264150943396 170.173466794391 516.666666666667 172.498645006467 521.069182389937 174.262856112831 525.471698113208 175.42211238009 529.874213836478 175.947509639445 534.276729559748 175.825947965107 538.679245283019 175.060458299634 543.081761006289 173.670126882306 547.48427672956 171.689619364807 551.88679245283 169.168316479605 556.289308176101 166.169082811732 560.691823899371 162.766699372648 565.094339622642 159.04599905739 569.496855345912 155.099751474372 573.899371069182 151.026349886142 578.301886792453 146.927357933473 582.704402515723 142.90497731124 587.106918238994 139.059499535447 591.509433962264 135.486805337461 595.911949685535 132.27597403398 600.314465408805 129.507062479217 604.716981132075 127.249108977497 609.119496855346 125.558411925471 613.522012578616 124.477126103199 617.924528301887 124.032211613302 622.327044025157 124.234761674664 626.729559748428 125.079726031076 631.132075471698 126.546036871149 635.534591194969 128.59713411992 639.937106918239 131.18187700483 644.339622641509 134.235819167675 648.74213836478 137.682815529691 653.14465408805 141.436920845196 657.547169811321 145.404532606448 661.949685534591 149.486724869878 666.352201257862 153.581714813528 670.754716981132 157.587400526108 675.157232704403 161.40390675202 679.559748427673 164.936075118357 683.962264150943 168.09583675409 688.364779874214 170.804408144078 692.767295597484 172.994255467825 697.169811320755 174.610778445411 701.572327044025 175.613671706635 705.974842767296 175.977929739833 710.377358490566 175.694470363632 714.779874213837 174.770361176361 719.182389937107 173.228643336987 723.584905660377 171.107757071307 727.987421383648 168.460583227466 732.389937106918 165.353124778043 736.792452830189 161.862861143335 741.194968553459 158.076816368066 745.59748427673 154.08938931844 750 150 Z; M 50 150 C 50 150 54.4025157232704 142.147840579389 58.8050314465409 134.49146197769 63.2075471698113 127.22176353765 67.6100628930818 120.520003361353 72.0125786163522 114.553278934368 76.4150943396226 109.47036082183 80.8176100628931 105.397983316465 85.2201257861635 102.437684525206 89.622641509434 100.663274681716 94.0251572327044 100.1189958083 98.4276729559749 100.818418613073 102.830188679245 102.744104126426 107.232704402516 105.848038513367 111.635220125786 110.052830220364 116.037735849057 115.253639607816 120.440251572327 121.320792955879 124.842767295597 128.103015667678 129.245283018868 135.431204055242 133.647798742138 143.122641664816 138.050314465409 150.985555014334 142.452830188679 158.823895153166 146.85534591195 166.442225823704 151.25786163522 173.650596346458 155.660377358491 180.269277731174 160.062893081761 186.133243926775 164.465408805031 191.096286477427 168.867924528302 195.034659992491 173.270440251572 197.850167536492 177.672955974843 199.472609009931 182.075471698113 199.86153147454 186.477987421384 199.007237781479 190.880503144654 196.931028353965 195.283018867925 193.684670095873 199.685534591195 189.349105668225 204.088050314465 184.032435315629 208.490566037736 177.86722156258 212.893081761006 171.007183982597 217.295597484277 163.623366450775 221.698113207547 155.899872443069 226.100628930818 148.029274715672 230.503144654088 140.207813816674 234.905660377358 132.630505147302 239.308176100629 125.486276570193 243.710691823899 118.953257800552 248.11320754717 113.194339031531 252.51572327044 108.353109532305 256.918238993711 104.550277483276 261.320754716981 101.880660314004 265.723270440252 100.410820584873 270.125786163522 100.177406357954 274.528301886793 101.186237437207 278.930817610063 103.412160261139 283.333333333333 106.799675065932 287.735849056604 111.26431968175 292.138364779874 116.694775459518 296.540880503145 122.955642820304 300.943396226415 129.89081722352 305.345911949686 137.327381379636 309.748427672956 145.079916661446 314.150943396226 152.95512621584 318.553459119497 160.756654506325 322.955974842767 168.289983118836 327.358490566038 175.367280761893 331.761006289308 181.812086534229 336.163522012579 187.463709690248 340.566037735849 192.181236202305 344.96855345912 195.847042222705 349.37106918239 198.369726842959 353.77358490566 199.686391026718 358.176100628931 199.764205894902 362.578616352201 198.601231260387 366.981132075472 196.226464003409 371.383647798742 192.699115081539 375.786163522013 188.107133200799 380.188679245283 182.565011957775 384.591194968554 176.210935128082 388.993710691824 169.203331278757 393.396226415094 161.716923609717 397.798742138365 153.938373515064 402.201257861635 146.061626484936 406.603773584906 138.283076390283 411.006289308176 130.796668721243 415.408805031447 123.789064871918 419.811320754717 117.434988042225 424.213836477987 111.892866799201 428.616352201258 107.300884918461 433.018867924528 103.773535996591 437.421383647799 101.398768739613 441.823899371069 100.235794105098 446.22641509434 100.313608973282 450.62893081761 101.630273157041 455.03144654088 104.152957777295 459.433962264151 107.818763797695 463.836477987421 112.536290309752 468.238993710692 118.187913465771 472.641509433962 124.632719238107 477.044025157233 131.710016881164 481.446540880503 139.243345493675 485.849056603774 147.04487378416 490.251572327044 154.920083338554 494.654088050314 162.672618620364 499.056603773585 170.10918277648 503.459119496855 177.044357179696 507.861635220126 183.305224540482 512.264150943396 188.73568031825 516.666666666667 193.200324934068 521.069182389937 196.587839738861 525.471698113208 198.813762562793 529.874213836478 199.822593642046 534.276729559748 199.589179415127 538.679245283019 198.119339685996 543.081761006289 195.449722516724 547.48427672956 191.646890467695 551.88679245283 186.805660968469 556.289308176101 181.046742199448 560.691823899371 174.513723429807 565.094339622642 167.369494852698 569.496855345912 159.792186183326 573.899371069182 151.970725284328 578.301886792453 144.100127556931 582.704402515723 136.376633549225 587.106918238994 128.992816017403 591.509433962264 122.13277843742 595.911949685535 115.967564684371 600.314465408805 110.650894331775 604.716981132075 106.315329904127 609.119496855346 103.068971646035 613.522012578616 100.992762218521 617.924528301887 100.13846852546 622.327044025157 100.527390990069 626.729559748428 102.149832463508 631.132075471698 104.965340007509 635.534591194969 108.903713522573 639.937106918239 113.866756073225 644.339622641509 119.730722268826 648.74213836478 126.349403653543 653.14465408805 133.557774176296 657.547169811321 141.176104846834 661.949685534591 149.014444985666 666.352201257862 156.877358335184 670.754716981132 164.568795944758 675.157232704403 171.896984332322 679.559748427673 178.679207044121 683.962264150943 184.746360392184 688.364779874214 189.947169779636 692.767295597484 194.151961486633 697.169811320755 197.255895873574 701.572327044025 199.181581386927 705.974842767296 199.8810041917 710.377358490566 199.336725318284 714.779874213837 197.562315474794 719.182389937107 194.602016683535 723.584905660377 190.52963917817 727.987421383648 185.446721065632 732.389937106918 179.479996638647 736.792452830189 172.77823646235 741.194968553459 165.50853802231 745.59748427673 157.852159420611 750 150 Z; M 50 150 C 50 150 54.4025157232704 146.864381278211 58.8050314465409 143.806944107288 63.2075471698113 140.903920708334 67.6100628930818 138.227693246297 72.0125786163522 135.844989098455 76.4150943396226 133.815217115838 80.8176100628931 132.188986360194 85.2201257861635 131.006844249377 89.622641509434 130.298265573456 94.0251572327044 130.080917588789 98.4276729559749 130.360219513726 102.830188679245 131.129207409221 107.232704402516 132.36870781332 111.635220125786 134.047815800235 116.037735849057 136.124665544389 120.440251572327 138.547474176651 124.842767295597 141.255832905924 129.245283018868 144.182213214063 133.647798742138 147.253650569594 138.050314465409 150.393563679589 142.452830188679 153.523663919602 146.85534591195 156.565907333129 151.25786163522 159.444440530685 155.660377358491 162.087491970649 160.062893081761 164.429161465871 164.465408805031 166.411063297616 168.867924528302 167.983781968459 173.270440251572 169.108104297312 177.672955974843 169.755997136289 182.075471698113 169.911306331636 186.477987421384 169.570159501271 190.880503144654 168.741062586328 195.283018867925 167.444687769359 199.685534591195 165.713358047095 204.088050314465 163.590241309116 208.490566037736 161.128274016763 212.893081761006 158.388841318605 217.295597484277 155.440246511642 221.698113207547 152.356008009732 226.100628930818 149.213026281557 230.503144654088 146.089666462568 234.905660377358 143.063804447835 239.308176100629 140.210885183318 243.710691823899 137.602041568896 248.11320754717 135.302320875247 252.51572327044 133.369062895996 256.918238993711 131.850470273252 261.320754716981 130.784406643162 265.723270440252 130.197452567753 270.125786163522 130.104242791861 274.528301886793 130.507101349588 278.930817610063 131.395983618287 283.333333333333 132.748726764887 287.735849056604 134.531602340076 292.138364779874 136.7001572423 296.540880503145 139.200322083527 300.943396226415 141.969759321456 305.345911949686 144.939417544708 309.748427672956 148.035253157413 314.150943396226 151.180076535802 318.553459119497 154.295476625871 322.955974842767 157.30377599544 327.358490566038 160.129967594529 331.761006289308 162.703584934109 336.163522012579 164.960459053347 340.566037735849 166.844318468238 344.96855345912 168.308192209497 349.37106918239 169.315580967253 353.77358490566 169.841367141954 358.176100628931 169.872441110839 362.578616352201 169.408028095054 366.981132075472 168.459707477501 371.383647798742 167.051124089769 375.786163522013 165.217398666726 380.188679245283 163.004252168142 384.591194968554 160.466865800951 388.993710691824 157.66850516564 393.396226415094 154.678942831441 397.798742138365 151.572718670843 402.201257861635 148.427281329157 406.603773584906 145.321057168559 411.006289308176 142.33149483436 415.408805031447 139.533134199049 419.811320754717 136.995747831858 424.213836477987 134.782601333274 428.616352201258 132.948875910231 433.018867924528 131.540292522499 437.421383647799 130.591971904946 441.823899371069 130.127558889161 446.22641509434 130.158632858046 450.62893081761 130.684419032747 455.03144654088 131.691807790503 459.433962264151 133.155681531762 463.836477987421 135.039540946653 468.238993710692 137.296415065891 472.641509433962 139.870032405471 477.044025157233 142.69622400456 481.446540880503 145.704523374129 485.849056603774 148.819923464198 490.251572327044 151.964746842587 494.654088050314 155.060582455292 499.056603773585 158.030240678544 503.459119496855 160.799677916473 507.861635220126 163.2998427577 512.264150943396 165.468397659924 516.666666666667 167.251273235113 521.069182389937 168.604016381713 525.471698113208 169.492898650412 529.874213836478 169.895757208139 534.276729559748 169.802547432247 538.679245283019 169.215593356838 543.081761006289 168.149529726748 547.48427672956 166.630937104004 551.88679245283 164.697679124753 556.289308176101 162.397958431104 560.691823899371 159.789114816682 565.094339622642 156.936195552165 569.496855345912 153.910333537432 573.899371069182 150.786973718443 578.301886792453 147.643991990268 582.704402515723 144.559753488358 587.106918238994 141.611158681395 591.509433962264 138.871725983237 595.911949685535 136.409758690884 600.314465408805 134.286641952905 604.716981132075 132.555312230641 609.119496855346 131.258937413672 613.522012578616 130.429840498729 617.924528301887 130.088693668364 622.327044025157 130.244002863711 626.729559748428 130.891895702688 631.132075471698 132.016218031541 635.534591194969 133.588936702384 639.937106918239 135.570838534129 644.339622641509 137.912508029351 648.74213836478 140.555559469315 653.14465408805 143.434092666871 657.547169811321 146.476336080398 661.949685534591 149.60643632041 666.352201257862 152.746349430406 670.754716981132 155.817786785937 675.157232704403 158.744167094076 679.559748427673 161.452525823349 683.962264150943 163.875334455611 688.364779874214 165.952184199765 692.767295597484 167.63129218668 697.169811320755 168.870792590779 701.572327044025 169.639780486274 705.974842767296 169.919082411211 710.377358490566 169.701734426544 714.779874213837 168.993155750623 719.182389937107 167.811013639806 723.584905660377 166.184782884162 727.987421383648 164.155010901545 732.389937106918 161.772306753703 736.792452830189 159.096079291666 741.194968553459 156.193055892712 745.59748427673 153.135618721789 750 150 Z; M 50 150 C 50 150 54.4025157232704 154.966982329511 58.8050314465409 159.810121036407 63.2075471698113 164.408660337299 67.6100628930818 168.647943136996 72.0125786163522 172.422269816623 76.4150943396226 175.637533681625 80.8176100628931 178.213567359081 85.2201257861635 180.086141640705 89.622641509434 181.20856693365 94.0251572327044 181.552857389532 98.4276729559749 181.110428686029 102.830188679245 179.892312062987 107.232704402516 177.928879276405 111.635220125786 175.269085328118 116.037735849057 171.979247852478 120.440251572327 168.141393594049 124.842767295597 163.851213204195 129.245283018868 159.21567535039 133.647798742138 154.350359626539 138.050314465409 149.376574763866 142.452830188679 144.418333995081 146.85534591195 139.599262986206 151.25786163522 135.039517431741 155.660377358491 130.85278716793 160.062893081761 127.143461501675 164.465408805031 124.004026433025 168.867924528302 121.512758667245 173.270440251572 119.731773912535 177.672955974843 118.705478125916 182.075471698113 118.459460322942 186.477987421384 118.999854557234 190.880503144654 120.313186977837 195.283018867925 122.366711777763 199.685534591195 125.109227657415 204.088050314465 128.472354445679 208.490566037736 132.372238048229 212.893081761006 136.711641212932 217.295597484277 141.382367982516 221.698113207547 146.267961384716 226.100628930818 151.246607097391 230.503144654088 156.194170690446 234.905660377358 160.987292715863 239.308176100629 165.506464474824 243.710691823899 169.639007772657 248.11320754717 173.28188436629 252.51572327044 176.344265055179 256.918238993711 178.749794359646 261.320754716981 180.438494320516 265.723270440252 181.368259951947 270.125786163522 181.515909060742 274.528301886793 180.87776025661 278.930817610063 179.469724741653 283.333333333333 177.326909590423 287.735849056604 174.502742412143 292.138364779874 171.067639220203 296.540880503145 167.107248723443 300.943396226415 162.720316814951 305.345911949686 158.016224503893 309.748427672956 153.112260678021 314.150943396226 148.130697696099 318.553459119497 143.195742725584 322.955974842767 138.430440839007 327.358490566038 133.953607085292 331.761006289308 129.876864029834 336.163522012579 126.301858627459 340.566037735849 123.317727820985 344.96855345912 120.998876056597 349.37106918239 119.403120130038 353.77358490566 118.570247618884 358.176100628931 118.521024844034 362.578616352201 119.256679095289 366.981132075472 120.758868030876 371.383647798742 122.990137013897 375.786163522013 125.894852982756 380.188679245283 129.400591571028 384.591194968554 133.4199428912 388.993710691824 137.852690957986 393.396226415094 142.58831241086 397.798742138365 147.50873223422 402.201257861635 152.49126776578 406.603773584906 157.41168758914 411.006289308176 162.147309042014 415.408805031447 166.5800571088 419.811320754717 170.599408428972 424.213836477987 174.105147017244 428.616352201258 177.009862986103 433.018867924528 179.241131969124 437.421383647799 180.743320904711 441.823899371069 181.478975155966 446.22641509434 181.429752381116 450.62893081761 180.596879869962 455.03144654088 179.001123943403 459.433962264151 176.682272179015 463.836477987421 173.698141372541 468.238993710692 170.123135970165 472.641509433962 166.046392914708 477.044025157233 161.569559160993 481.446540880503 156.804257274416 485.849056603774 151.869302303901 490.251572327044 146.887739321979 494.654088050314 141.983775496107 499.056603773585 137.279683185049 503.459119496855 132.892751276557 507.861635220126 128.932360779797 512.264150943396 125.497257587857 516.666666666667 122.673090409577 521.069182389937 120.530275258347 525.471698113208 119.12223974339 529.874213836478 118.484090939258 534.276729559748 118.631740048053 538.679245283019 119.561505679484 543.081761006289 121.250205640354 547.48427672956 123.655734944821 551.88679245283 126.71811563371 556.289308176101 130.360992227343 560.691823899371 134.493535525176 565.094339622642 139.012707284137 569.496855345912 143.805829309554 573.899371069182 148.753392902609 578.301886792453 153.732038615284 582.704402515723 158.617632017484 587.106918238994 163.288358787068 591.509433962264 167.627761951771 595.911949685535 171.527645554321 600.314465408805 174.890772342585 604.716981132075 177.633288222237 609.119496855346 179.686813022163 613.522012578616 181.000145442766 617.924528301887 181.540539677058 622.327044025157 181.294521874084 626.729559748428 180.268226087465 631.132075471698 178.487241332755 635.534591194969 175.995973566975 639.937106918239 172.856538498325 644.339622641509 169.14721283207 648.74213836478 164.960482568259 653.14465408805 160.400737013794 657.547169811321 155.581666004919 661.949685534591 150.623425236134 666.352201257862 145.649640373461 670.754716981132 140.78432464961 675.157232704403 136.148786795805 679.559748427673 131.858606405951 683.962264150943 128.020752147522 688.364779874214 124.730914671882 692.767295597484 122.071120723595 697.169811320755 120.107687937013 701.572327044025 118.889571313971 705.974842767296 118.447142610468 710.377358490566 118.79143306635 714.779874213837 119.913858359295 719.182389937107 121.786432640919 723.584905660377 124.362466318375 727.987421383648 127.577730183377 732.389937106918 131.352056863003 736.792452830189 135.591339662701 741.194968553459 140.189878963593 745.59748427673 145.033017670489 750 150 Z; M 50 150 C 50 150 54.4025157232704 157.705888547462 58.8050314465409 165.219643302236 63.2075471698113 172.353921015135 67.6100628930818 178.930840079564 72.0125786163522 184.786415719951 76.4150943396226 189.774648685303 80.8176100628931 193.771165502977 85.2201257861635 196.676319528855 89.622641509434 198.417675474274 94.0251572327044 198.951815462093 98.4276729559749 198.265421580814 102.830188679245 196.375607945038 107.232704402516 193.329493982857 111.635220125786 189.20302958959 116.037735849057 184.099101440716 120.440251572327 178.144967680033 124.842767295597 171.489084944896 129.245283018868 164.297406841527 133.647798742138 156.749246161862 138.050314465409 149.032804010841 142.452830188679 141.340477318087 146.85534591195 133.864061733506 151.25786163522 126.78996951483 155.660377358491 120.294581641285 160.062893081761 114.539850040858 164.465408805031 109.669259582488 168.867924528302 105.80425051432 173.270440251572 103.041190548719 177.672955974843 101.448972090153 182.075471698113 101.06729451519 186.477987421384 101.905674333135 190.880503144654 103.943207907354 195.283018867925 107.129092653443 199.685534591195 111.383893719007 204.088050314465 116.60152456246 208.490566037736 122.651892048323 212.893081761006 129.384140107881 217.295597484277 136.630411089804 221.698113207547 144.210031017558 226.100628930818 151.934014401037 230.503144654088 159.609776282258 234.905660377358 167.045934027939 239.308176100629 174.057079144056 243.710691823899 180.468400134964 248.11320754717 186.120041143611 252.51572327044 190.871087697225 256.918238993711 194.603080180415 261.320754716981 197.222967432933 265.723270440252 198.665426828954 270.125786163522 198.894492990462 274.528301886793 197.904454525434 278.930817610063 195.719996432104 283.333333333333 192.3955846187 287.735849056604 188.014107884642 292.138364779874 182.684811223198 296.540880503145 176.540571975327 300.943396226415 169.734586749389 305.345911949686 162.436551712982 309.748427672956 154.828431495112 314.150943396226 147.099922194248 318.553459119497 139.443721614756 322.955974842767 132.050724660691 327.358490566038 125.105263681963 331.761006289308 118.780512447125 336.163522012579 113.234168337221 340.566037735849 108.60452041818 344.96855345912 105.007001427968 349.37106918239 102.531309649087 353.77358490566 101.239172427848 358.176100628931 101.162807103426 362.578616352201 102.304117720933 366.981132075472 104.634647557146 371.383647798742 108.096288642601 375.786163522013 112.602730589267 380.188679245283 118.04161259963 384.591194968554 124.27732500036 388.993710691824 131.154390448868 393.396226415094 138.501340507861 397.798742138365 146.134990931833 402.201257861635 153.865009068167 406.603773584906 161.498659492139 411.006289308176 168.845609551132 415.408805031447 175.72267499964 419.811320754717 181.95838740037 424.213836477987 187.397269410733 428.616352201258 191.903711357399 433.018867924528 195.365352442854 437.421383647799 197.695882279067 441.823899371069 198.837192896574 446.22641509434 198.760827572152 450.62893081761 197.468690350913 455.03144654088 194.992998572032 459.433962264151 191.39547958182 463.836477987421 186.765831662779 468.238993710692 181.219487552875 472.641509433962 174.894736318037 477.044025157233 167.949275339309 481.446540880503 160.556278385244 485.849056603774 152.900077805752 490.251572327044 145.171568504888 494.654088050314 137.563448287018 499.056603773585 130.265413250611 503.459119496855 123.459428024673 507.861635220126 117.315188776802 512.264150943396 111.985892115358 516.666666666667 107.6044153813 521.069182389937 104.280003567896 525.471698113208 102.095545474566 529.874213836478 101.105507009538 534.276729559748 101.334573171046 538.679245283019 102.777032567067 543.081761006289 105.396919819585 547.48427672956 109.128912302775 551.88679245283 113.879958856389 556.289308176101 119.531599865036 560.691823899371 125.942920855945 565.094339622642 132.954065972061 569.496855345912 140.390223717742 573.899371069182 148.065985598963 578.301886792453 155.789968982442 582.704402515723 163.369588910196 587.106918238994 170.615859892119 591.509433962264 177.348107951677 595.911949685535 183.39847543754 600.314465408805 188.616106280993 604.716981132075 192.870907346557 609.119496855346 196.056792092646 613.522012578616 198.094325666865 617.924528301887 198.93270548481 622.327044025157 198.551027909847 626.729559748428 196.958809451281 631.132075471698 194.19574948568 635.534591194969 190.330740417512 639.937106918239 185.460149959142 644.339622641509 179.705418358715 648.74213836478 173.21003048517 653.14465408805 166.135938266494 657.547169811321 158.659522681913 661.949685534591 150.967195989159 666.352201257862 143.250753838139 670.754716981132 135.702593158472 675.157232704403 128.510915055104 679.559748427673 121.855032319967 683.962264150943 115.900898559284 688.364779874214 110.79697041041 692.767295597484 106.670506017143 697.169811320755 103.624392054962 701.572327044025 101.734578419186 705.974842767296 101.048184537907 710.377358490566 101.582324525726 714.779874213837 103.323680471145 719.182389937107 106.228834497023 723.584905660377 110.225351314697 727.987421383648 115.213584280049 732.389937106918 121.069159920436 736.792452830189 127.646078984865 741.194968553459 134.780356697764 745.59748427673 142.294111452538 750 150 Z; M 50 150 C 50 150 54.4025157232704 152.123437481169 58.8050314465409 154.193930503788 63.2075471698113 156.159854693236 67.6100628930818 157.972192928601 72.0125786163522 159.585757504838 76.4150943396226 160.960316814669 80.8176100628931 162.061598458247 85.2201257861635 162.862143769683 89.622641509434 163.341992454203 94.0251572327044 163.48918026562 98.4276729559749 163.300037315346 102.830188679245 162.779279575091 107.232704402516 161.939891291784 111.635220125786 160.802801246502 116.037735849057 159.396360929365 120.440251572327 157.755637641264 124.842767295597 155.921540147768 129.245283018868 153.93979868562 133.647798742138 151.859824753689 138.050314465409 149.733479117643 142.452830188679 147.613778746143 146.85534591195 145.553574918989 151.25786163522 143.604235466457 155.660377358491 141.814363996027 160.062893081761 140.228588040515 164.465408805031 138.886446343159 168.867924528302 137.821403023384 173.270440251572 137.060013203438 177.672955974843 136.621260899624 182.075471698113 136.516085686746 186.477987421384 136.747109937605 190.880503144654 137.308573438405 195.283018867925 138.186477010312 199.685534591195 139.358931556195 204.088050314465 140.796703829652 208.490566037736 142.463945318443 212.893081761006 144.319086068812 217.295597484277 146.315871164645 221.698113207547 148.404514018546 226.100628930818 150.53293771938 230.503144654088 152.648073485324 234.905660377358 154.69718384759 239.308176100629 156.629177573399 243.710691823899 158.395883542743 248.11320754717 159.953251816883 252.51572327044 161.262451951895 256.918238993711 162.290841172611 261.320754716981 163.012778267103 265.723270440252 163.410262908583 270.125786163522 163.473384464263 274.528301886793 163.200569100858 278.930817610063 162.598619025555 283.333333333333 161.68254288405 287.735849056604 160.475181544385 292.138364779874 159.006638597069 296.540880503145 157.313529771027 300.943396226415 155.438069979982 305.345911949686 153.427020762264 309.748427672956 151.330524357941 314.150943396226 149.200853493648 318.553459119497 147.0911080472 322.955974842767 145.05389108854 327.358490566038 143.139997307778 331.761006289308 141.397146532244 336.163522012579 139.868793910233 340.566037735849 138.593046427596 344.96855345912 137.601712772044 349.37106918239 136.91951023528 353.77358490566 136.563448427548 358.176100628931 136.542405170675 362.578616352201 136.856905144032 366.981132075472 137.499106802506 371.383647798742 138.452997892669 375.786163522013 139.694794692263 380.188679245283 141.193535018615 384.591194968554 142.911850220289 388.993710691824 144.806896903598 393.396226415094 146.831425162922 397.798742138365 148.934956680225 402.201257861635 151.065043319775 406.603773584906 153.168574837078 411.006289308176 155.193103096402 415.408805031447 157.088149779711 419.811320754717 158.806464981385 424.213836477987 160.305205307737 428.616352201258 161.547002107331 433.018867924528 162.500893197494 437.421383647799 163.143094855968 441.823899371069 163.457594829325 446.22641509434 163.436551572452 450.62893081761 163.08048976472 455.03144654088 162.398287227956 459.433962264151 161.406953572404 463.836477987421 160.131206089767 468.238993710692 158.602853467756 472.641509433962 156.860002692222 477.044025157233 154.94610891146 481.446540880503 152.9088919528 485.849056603774 150.799146506352 490.251572327044 148.669475642059 494.654088050314 146.572979237736 499.056603773585 144.561930020018 503.459119496855 142.686470228973 507.861635220126 140.993361402931 512.264150943396 139.524818455615 516.666666666667 138.31745711595 521.069182389937 137.401380974445 525.471698113208 136.799430899142 529.874213836478 136.526615535737 534.276729559748 136.589737091417 538.679245283019 136.987221732897 543.081761006289 137.709158827389 547.48427672956 138.737548048105 551.88679245283 140.046748183117 556.289308176101 141.604116457257 560.691823899371 143.370822426601 565.094339622642 145.30281615241 569.496855345912 147.351926514676 573.899371069182 149.46706228062 578.301886792453 151.595485981454 582.704402515723 153.684128835355 587.106918238994 155.680913931188 591.509433962264 157.536054681557 595.911949685535 159.203296170348 600.314465408805 160.641068443805 604.716981132075 161.813522989688 609.119496855346 162.691426561595 613.522012578616 163.252890062395 617.924528301887 163.483914313254 622.327044025157 163.378739100376 626.729559748428 162.939986796562 631.132075471698 162.178596976616 635.534591194969 161.113553656841 639.937106918239 159.771411959485 644.339622641509 158.185636003973 648.74213836478 156.395764533543 653.14465408805 154.446425081011 657.547169811321 152.386221253857 661.949685534591 150.266520882357 666.352201257862 148.140175246311 670.754716981132 146.06020131438 675.157232704403 144.078459852232 679.559748427673 142.244362358736 683.962264150943 140.603639070635 688.364779874214 139.197198753498 692.767295597484 138.060108708216 697.169811320755 137.220720424909 701.572327044025 136.699962684654 705.974842767296 136.51081973438 710.377358490566 136.658007545797 714.779874213837 137.137856230317 719.182389937107 137.938401541753 723.584905660377 139.039683185331 727.987421383648 140.414242495162 732.389937106918 142.027807071399 736.792452830189 143.840145306764 741.194968553459 145.806069496212 745.59748427673 147.876562518831 750 150 Z; M 50 150 C 50 150 54.4025157232704 144.247950142326 58.8050314465409 138.639318288699 63.2075471698113 133.313946548589 67.6100628930818 128.404614401429 72.0125786163522 124.03372805634 76.4150943396226 120.31026845247 80.8176100628931 117.327073996605 85.2201257861635 115.15852578855 89.622641509434 113.85869304943 94.0251572327044 113.459984993637 98.4276729559749 113.972342757806 102.830188679245 115.382991534745 107.232704402516 117.656759092464 111.635220125786 120.736952736558 116.037735849057 124.546772850291 120.440251572327 128.991227768082 124.842767295597 133.959502238123 129.245283018868 139.327720420379 133.647798742138 144.962034529097 138.050314465409 150.721962109563 142.452830188679 156.463888739531 146.85534591195 162.044648821166 151.25786163522 167.325095182282 155.660377358491 172.173568484672 160.062893081761 176.469179935488 164.465408805031 180.104825452589 168.867924528302 182.989856130561 173.270440251572 185.052338423679 177.672955974843 186.240847691828 182.075471698113 186.525750390228 186.477987421384 185.899942933659 190.880503144654 184.379028812801 195.283018867925 182.00092954658 199.685534591195 178.824939170795 204.088050314465 174.930245837815 208.490566037736 170.413957388848 212.893081761006 165.38868012792 217.295597484277 159.979711166908 221.698113207547 154.321914345927 226.100628930818 148.556357622913 230.503144654088 142.826795773623 234.905660377358 137.276086100204 239.308176100629 132.042626516809 243.710691823899 127.256904822793 248.11320754717 123.038245201752 252.51572327044 119.491833067162 256.918238993711 116.706092435235 261.320754716981 114.750481215951 265.723270440252 113.67375939309 270.125786163522 113.502773273373 274.528301886793 114.241786117484 278.930817610063 115.872371842601 283.333333333333 118.353874446792 287.735849056604 121.624421700274 292.138364779874 125.602467828785 296.540880503145 130.188826724784 300.943396226415 135.269144991661 305.345911949686 140.716753159611 309.748427672956 146.395823982765 314.150943396226 152.164759070557 318.553459119497 157.879719413202 322.955974842767 163.398211773363 327.358490566038 168.582641523172 331.761006289308 173.303743342398 336.163522012579 177.443804238878 340.566037735849 180.899598530449 344.96855345912 183.584961609369 349.37106918239 185.432938316617 353.77358490566 186.397452359838 358.176100628931 186.454455150725 362.578616352201 185.602525417437 366.981132075472 183.862904641698 371.383647798742 181.278967437017 375.786163522013 177.91514007327 380.188679245283 173.855294112493 384.591194968554 169.200655207946 388.993710691824 164.067279207156 393.396226415094 158.583158488191 397.798742138365 152.885030677972 402.201257861635 147.114969322028 406.603773584906 141.416841511809 411.006289308176 135.932720792844 415.408805031447 130.799344792054 419.811320754717 126.144705887507 424.213836477987 122.08485992673 428.616352201258 118.721032562983 433.018867924528 116.137095358302 437.421383647799 114.397474582563 441.823899371069 113.545544849275 446.22641509434 113.602547640162 450.62893081761 114.567061683383 455.03144654088 116.415038390631 459.433962264151 119.100401469551 463.836477987421 122.556195761122 468.238993710692 126.696256657602 472.641509433962 131.417358476828 477.044025157233 136.601788226637 481.446540880503 142.120280586798 485.849056603774 147.835240929443 490.251572327044 153.604176017235 494.654088050314 159.283246840389 499.056603773585 164.730855008339 503.459119496855 169.811173275216 507.861635220126 174.397532171215 512.264150943396 178.375578299726 516.666666666667 181.646125553208 521.069182389937 184.127628157399 525.471698113208 185.758213882516 529.874213836478 186.497226726627 534.276729559748 186.32624060691 538.679245283019 185.249518784049 543.081761006289 183.293907564765 547.48427672956 180.508166932838 551.88679245283 176.961754798248 556.289308176101 172.743095177207 560.691823899371 167.957373483191 565.094339622642 162.723913899796 569.496855345912 157.173204226377 573.899371069182 151.443642377087 578.301886792453 145.678085654073 582.704402515723 140.020288833092 587.106918238994 134.61131987208 591.509433962264 129.586042611152 595.911949685535 125.069754162185 600.314465408805 121.175060829205 604.716981132075 117.99907045342 609.119496855346 115.620971187199 613.522012578616 114.100057066341 617.924528301887 113.474249609772 622.327044025157 113.759152308172 626.729559748428 114.947661576321 631.132075471698 117.010143869439 635.534591194969 119.895174547411 639.937106918239 123.530820064512 644.339622641509 127.826431515328 648.74213836478 132.674904817718 653.14465408805 137.955351178834 657.547169811321 143.536111260469 661.949685534591 149.278037890437 666.352201257862 155.037965470903 670.754716981132 160.672279579621 675.157232704403 166.040497761877 679.559748427673 171.008772231918 683.962264150943 175.453227149709 688.364779874214 179.263047263442 692.767295597484 182.343240907536 697.169811320755 184.617008465255 701.572327044025 186.027657242194 705.974842767296 186.540015006363 710.377358490566 186.14130695057 714.779874213837 184.84147421145 719.182389937107 182.672926003395 723.584905660377 179.68973154753 727.987421383648 175.96627194366 732.389937106918 171.595385598571 736.792452830189 166.686053451411 741.194968553459 161.360681711301 745.59748427673 155.752049857674 750 150 Z; M 50 150 C 50 150 54.4025157232704 142.583928449226 58.8050314465409 135.352764575889 63.2075471698113 128.486805685349 67.6100628930818 122.157243290949 72.0125786163522 116.521894732167 76.4150943396226 111.721268256046 80.8176100628931 107.875059672675 85.2201257861635 105.079167934918 89.622641509434 103.403304054062 94.0251572327044 102.889252969181 98.4276729559749 103.549831707664 102.830188679245 105.368569813494 107.232704402516 108.30012001127 111.635220125786 112.271388866731 116.037735849057 117.183359252614 120.440251572327 122.913559179611 124.842767295597 129.319115436143 129.245283018868 136.240315899428 133.647798742138 143.504591697393 138.050314465409 150.93081993271 142.452830188679 158.333839687542 146.85534591195 165.529068709748 151.25786163522 172.337105671008 155.660377358491 178.588203247043 160.062893081761 184.126500490951 164.465408805031 188.813908972311 168.867924528302 192.53355578752 173.270440251572 195.192697595472 177.672955974843 196.725033021875 182.075471698113 197.092355776132 186.477987421384 196.285507263036 190.880503144654 194.324604937439 195.283018867925 191.258540708247 199.685534591195 187.163761898225 204.088050314465 182.142365154391 208.490566037736 176.319550834242 212.893081761006 169.840501338557 217.295597484277 162.866761224454 221.698113207547 155.572209354714 226.100628930818 148.138723511251 230.503144654088 140.751645568553 234.905660377358 133.595160295615 239.308176100629 126.847703008408 243.710691823899 120.677510575607 248.11320754717 115.238426706009 252.51572327044 110.666066105977 256.918238993711 107.074433147387 261.320754716981 104.55307935412 265.723270440252 103.164870580519 270.125786163522 102.944419553601 274.528301886793 103.897222861026 278.930817610063 105.999523902628 283.333333333333 109.198905222588 287.735849056604 113.415595453401 292.138364779874 118.544458285137 296.540880503145 124.457613868252 300.943396226415 131.007627289571 305.345911949686 138.031184621954 309.748427672956 145.353164891341 314.150943396226 152.791006433301 318.553459119497 160.159258771092 322.955974842767 167.274206521544 327.358490566038 173.958450039227 331.761006289308 180.045328587951 336.163522012579 185.383075755058 340.566037735849 189.838603499981 344.96855345912 193.300820487984 349.37106918239 195.68340197184 353.77358490566 196.926942158946 358.176100628931 197.0004353981 362.578616352201 195.902049254963 366.981132075472 193.659170200832 371.383647798742 190.327720775536 375.786163522013 185.990765249896 380.188679245283 180.756438553288 384.591194968554 174.755250105124 388.993710691824 168.136829774832 393.396226415094 161.066197104522 397.798742138365 153.719646815208 402.201257861635 146.280353184792 406.603773584906 138.933802895478 411.006289308176 131.863170225168 415.408805031447 125.244749894876 419.811320754717 119.243561446712 424.213836477987 114.009234750104 428.616352201258 109.672279224464 433.018867924528 106.340829799168 437.421383647799 104.097950745037 441.823899371069 102.9995646019 446.22641509434 103.073057841054 450.62893081761 104.31659802816 455.03144654088 106.699179512016 459.433962264151 110.161396500019 463.836477987421 114.616924244942 468.238993710692 119.954671412049 472.641509433962 126.041549960773 477.044025157233 132.725793478456 481.446540880503 139.840741228908 485.849056603774 147.208993566699 490.251572327044 154.646835108659 494.654088050314 161.968815378046 499.056603773585 168.992372710429 503.459119496855 175.542386131748 507.861635220126 181.455541714863 512.264150943396 186.584404546599 516.666666666667 190.801094777413 521.069182389937 194.000476097372 525.471698113208 196.102777138974 529.874213836478 197.055580446399 534.276729559748 196.835129419481 538.679245283019 195.44692064588 543.081761006289 192.925566852613 547.48427672956 189.333933894023 551.88679245283 184.761573293991 556.289308176101 179.322489424393 560.691823899371 173.152296991592 565.094339622642 166.404839704385 569.496855345912 159.248354431447 573.899371069182 151.861276488749 578.301886792453 144.427790645286 582.704402515723 137.133238775546 587.106918238994 130.159498661443 591.509433962264 123.680449165758 595.911949685535 117.857634845609 600.314465408805 112.836238101775 604.716981132075 108.741459291753 609.119496855346 105.675395062561 613.522012578616 103.714492736964 617.924528301887 102.907644223868 622.327044025157 103.274966978125 626.729559748428 104.807302404528 631.132075471698 107.46644421248 635.534591194969 111.186091027689 639.937106918239 115.873499509049 644.339622641509 121.411796752957 648.74213836478 127.662894328993 653.14465408805 134.470931290252 657.547169811321 141.666160312458 661.949685534591 149.069180067289 666.352201257862 156.495408302607 670.754716981132 163.759684100572 675.157232704403 170.680884563857 679.559748427673 177.086440820389 683.962264150943 182.816640747386 688.364779874214 187.728611133269 692.767295597484 191.69987998873 697.169811320755 194.631430186506 701.572327044025 196.450168292336 705.974842767296 197.110747030819 710.377358490566 196.596695945938 714.779874213837 194.920832065082 719.182389937107 192.124940327325 723.584905660377 188.278731743954 727.987421383648 183.478105267834 732.389937106918 177.842756709051 736.792452830189 171.513194314651 741.194968553459 164.647235424111 745.59748427673 157.416071550774 750 150 Z; M 50 150 C 50 150 54.4025157232704 148.928299382027 58.8050314465409 147.8833198752 63.2075471698113 146.891116343236 67.6100628930818 145.976427766793 72.0125786163522 145.162060417234 76.4150943396226 144.468319219365 80.8176100628931 143.912501481168 85.2201257861635 143.508465613576 89.622641509434 143.266285593541 94.0251572327044 143.19199978581 98.4276729559749 143.28746038613 102.830188679245 143.550287239755 107.232704402516 143.973927186736 111.635220125786 144.547817454299 116.037735849057 145.257649022397 120.440251572327 146.085723395848 124.842767295597 147.011393887508 129.245283018868 148.011580409825 133.647798742138 149.061344939267 138.050314465409 150.134513305364 142.452830188679 151.204327801058 146.85534591195 152.244114342593 151.25786163522 153.227947544392 155.660377358491 154.131297126362 160.062893081761 154.931639536515 164.465408805031 155.609019539091 168.867924528302 156.14654776589 173.270440251572 156.530821825188 177.672955974843 156.752260468569 182.075471698113 156.805342483762 186.477987421384 156.688744357089 190.880503144654 156.405373273121 195.283018867925 155.962294628764 199.685534591195 155.370555869082 204.088050314465 154.644911037231 208.490566037736 153.803452906397 212.893081761006 152.867161865936 217.295597484277 151.859382809504 221.698113207547 150.805243068118 226.100628930818 149.731025901037 230.503144654088 148.663515165467 234.905660377358 147.629327504653 239.308176100629 146.654248705192 243.710691823899 145.762590770398 248.11320754717 144.97658574006 252.51572327044 144.315831370701 256.918238993711 143.796802497408 261.320754716981 143.432440260626 265.723270440252 143.231829439876 270.125786163522 143.199971939559 274.528301886793 143.33766207461 278.930817610063 143.641466765547 283.333333333333 144.103811136722 287.735849056604 144.71316738352 292.138364779874 145.45434219941 296.540880503145 146.308855596323 300.943396226415 147.255401673083 305.345911949686 148.270379843393 309.748427672956 149.328483278044 314.150943396226 150.403329889532 318.553459119497 151.468120126483 322.955974842767 152.496305176857 327.358490566038 153.462248919382 331.761006289308 154.341867118523 336.163522012579 155.113227925712 340.566037735849 155.757098714301 344.96855345912 156.257425613819 349.37106918239 156.601733787107 353.77358490566 156.781438470088 358.176100628931 156.792059018889 362.578616352201 156.633330627407 366.981132075472 156.309210929816 371.383647798742 155.8277813234 375.786163522013 155.201045472063 380.188679245283 154.444630014496 384.591194968554 153.57739493937 388.993710691824 152.620963342207 393.396226415094 151.599182288673 397.798742138365 150.537528226799 402.201257861635 149.462471773201 406.603773584906 148.400817711327 411.006289308176 147.379036657793 415.408805031447 146.42260506063 419.811320754717 145.555369985504 424.213836477987 144.798954527937 428.616352201258 144.1722186766 433.018867924528 143.690789070184 437.421383647799 143.366669372593 441.823899371069 143.207940981111 446.22641509434 143.218561529912 450.62893081761 143.398266212893 455.03144654088 143.742574386181 459.433962264151 144.242901285699 463.836477987421 144.886772074288 468.238993710692 145.658132881477 472.641509433962 146.537751080618 477.044025157233 147.503694823143 481.446540880503 148.531879873517 485.849056603774 149.596670110468 490.251572327044 150.671516721956 494.654088050314 151.729620156607 499.056603773585 152.744598326917 503.459119496855 153.691144403677 507.861635220126 154.54565780059 512.264150943396 155.28683261648 516.666666666667 155.896188863278 521.069182389937 156.358533234453 525.471698113208 156.66233792539 529.874213836478 156.800028060441 534.276729559748 156.768170560124 538.679245283019 156.567559739374 543.081761006289 156.203197502592 547.48427672956 155.684168629299 551.88679245283 155.02341425994 556.289308176101 154.237409229602 560.691823899371 153.345751294808 565.094339622642 152.370672495347 569.496855345912 151.336484834533 573.899371069182 150.268974098963 578.301886792453 149.194756931882 582.704402515723 148.140617190496 587.106918238994 147.132838134064 591.509433962264 146.196547093603 595.911949685535 145.355088962769 600.314465408805 144.629444130918 604.716981132075 144.037705371236 609.119496855346 143.594626726879 613.522012578616 143.311255642911 617.924528301887 143.194657516238 622.327044025157 143.247739531431 626.729559748428 143.469178174812 631.132075471698 143.85345223411 635.534591194969 144.390980460909 639.937106918239 145.068360463485 644.339622641509 145.868702873638 648.74213836478 146.772052455608 653.14465408805 147.755885657407 657.547169811321 148.795672198942 661.949685534591 149.865486694636 666.352201257862 150.938655060733 670.754716981132 151.988419590175 675.157232704403 152.988606112492 679.559748427673 153.914276604152 683.962264150943 154.742350977603 688.364779874214 155.452182545701 692.767295597484 156.026072813264 697.169811320755 156.449712760245 701.572327044025 156.71253961387 705.974842767296 156.80800021419 710.377358490566 156.733714406459 714.779874213837 156.491534386424 719.182389937107 156.087498518832 723.584905660377 155.531680780635 727.987421383648 154.837939582766 732.389937106918 154.023572233207 736.792452830189 153.108883656764 741.194968553459 152.1166801248 745.59748427673 151.071700617973 750 150 Z; M 50 150 C 50 150 54.4025157232704 156.429967580285 58.8050314465409 162.699614381149 63.2075471698113 168.652616960949 67.6100628930818 174.140546886482 72.0125786163522 179.026571554461 76.4150943396226 183.188865889834 80.8176100628931 186.523649855816 85.2201257861635 188.947776040236 89.622641509434 190.400802800981 94.0251572327044 190.846501279989 98.4276729559749 190.273758710882 102.830188679245 188.696855497712 107.232704402516 186.155109156321 111.635220125786 182.711893996059 116.037735849057 178.453060984495 120.440251572327 173.484797193231 124.842767295597 167.930978196043 129.245283018868 161.930079433013 133.647798742138 155.631723550742 138.050314465409 149.192949805104 142.452830188679 142.774298542926 146.85534591195 136.535808389648 151.25786163522 130.633025946602 155.660377358491 125.213127489593 160.062893081761 120.411249367936 164.465408805031 116.347118599462 168.867924528302 113.122067672141 173.270440251572 110.816507983369 177.672955974843 109.48792491261 182.075471698113 109.169444516999 186.477987421384 109.869007587 190.880503144654 111.569171655722 195.283018867925 114.227545898446 199.685534591195 117.777848078868 204.088050314465 122.131557188812 208.490566037736 127.180120575538 212.893081761006 132.79766052551 217.295597484277 138.844112820368 221.698113207547 145.168719010318 226.100628930818 151.613785330773 230.503144654088 158.018614539794 234.905660377358 164.223512642345 239.308176100629 170.073770600222 243.710691823899 175.423521750195 248.11320754717 180.139378751913 252.51572327044 184.103759384206 256.918238993711 187.217818266446 261.320754716981 189.403911407287 265.723270440252 190.607532131252 270.125786163522 190.798670114 274.528301886793 189.97255964093 278.930817610063 188.149798432525 283.333333333333 185.375834073705 287.735849056604 181.719830852241 292.138364779874 177.272945259781 296.540880503145 172.146053153051 300.943396226415 166.46698524477 305.345911949686 160.377339852826 309.748427672956 154.028952376611 314.150943396226 147.58010952839 318.553459119497 141.191602711677 322.955974842767 135.022718949214 327.358490566038 129.227269320233 331.761006289308 123.949753931463 336.163522012579 119.321759042083 340.566037735849 115.458676174453 344.96855345912 112.456825014259 349.37106918239 110.391051835873 353.77358490566 109.312863332279 358.176100628931 109.249142379495 362.578616352201 110.201477755799 366.981132075472 112.146124528126 371.383647798742 115.034596093342 375.786163522013 118.794873112796 380.188679245283 123.333199197352 384.591194968554 128.536418570397 388.993710691824 134.274797423017 393.396226415094 140.405258615433 397.798742138365 146.774949072679 402.201257861635 153.225050927321 406.603773584906 159.594741384567 411.006289308176 165.725202576983 415.408805031447 171.463581429603 419.811320754717 176.666800802648 424.213836477987 181.205126887204 428.616352201258 184.965403906658 433.018867924528 187.853875471874 437.421383647799 189.798522244201 441.823899371069 190.750857620505 446.22641509434 190.687136667721 450.62893081761 189.608948164127 455.03144654088 187.543174985741 459.433962264151 184.541323825547 463.836477987421 180.678240957917 468.238993710692 176.050246068537 472.641509433962 170.772730679767 477.044025157233 164.977281050786 481.446540880503 158.808397288323 485.849056603774 152.41989047161 490.251572327044 145.971047623389 494.654088050314 139.622660147174 499.056603773585 133.53301475523 503.459119496855 127.853946846949 507.861635220126 122.727054740219 512.264150943396 118.280169147759 516.666666666667 114.624165926295 521.069182389937 111.850201567474 525.471698113208 110.02744035907 529.874213836478 109.201329886 534.276729559748 109.392467868748 538.679245283019 110.596088592713 543.081761006289 112.782181733554 547.48427672956 115.896240615794 551.88679245283 119.860621248087 556.289308176101 124.576478249805 560.691823899371 129.926229399778 565.094339622642 135.776487357655 569.496855345912 141.981385460206 573.899371069182 148.386214669226 578.301886792453 154.831280989682 582.704402515723 161.155887179632 587.106918238994 167.20233947449 591.509433962264 172.819879424462 595.911949685535 177.868442811188 600.314465408805 182.222151921132 604.716981132075 185.772454101554 609.119496855346 188.430828344278 613.522012578616 190.130992413 617.924528301887 190.830555483001 622.327044025157 190.51207508739 626.729559748428 189.183492016631 631.132075471698 186.877932327859 635.534591194969 183.652881400538 639.937106918239 179.588750632064 644.339622641509 174.786872510407 648.74213836478 169.366974053398 653.14465408805 163.464191610352 657.547169811321 157.225701457074 661.949685534591 150.807050194896 666.352201257862 144.368276449258 670.754716981132 138.069920566987 675.157232704403 132.069021803957 679.559748427673 126.515202806769 683.962264150943 121.546939015505 688.364779874214 117.288106003941 692.767295597484 113.844890843679 697.169811320755 111.303144502288 701.572327044025 109.726241289118 705.974842767296 109.153498720011 710.377358490566 109.599197199019 714.779874213837 111.052223959764 719.182389937107 113.476350144184 723.584905660377 116.811134110166 727.987421383648 120.973428445539 732.389937106918 125.859453113518 736.792452830189 131.347383039051 741.194968553459 137.300385618851 745.59748427673 143.570032419715 750 150 Z; M 50 150 C 50 150 54.4025157232704 156.988107172841 58.8050314465409 163.801977263669 63.2075471698113 170.271717508611 67.6100628930818 176.236015461568 72.0125786163522 181.546161057584 76.4150943396226 186.069754456357 80.8176100628931 189.694007216822 85.2201257861635 192.328554493415 89.622641509434 193.907708136463 94.0251572327044 194.392094519317 98.4276729559749 193.769636255664 102.830188679245 192.055853329508 107.232704402516 189.293476129617 111.635220125786 185.55138003681 116.037735849057 180.9228681284 120.440251572327 175.523344817776 124.842767295597 169.48743843313 129.245283018868 162.965644479145 133.647798742138 156.12057327646 138.050314465409 149.122895537905 142.452830188679 142.147086971977 146.85534591195 135.367078014935 151.25786163522 128.951917158379 155.660377358491 123.061556000163 160.062893081761 117.842861111568 164.465408805031 113.425952158308 168.867924528302 109.920957578384 173.270440251572 107.415268708672 177.672955974843 105.971360824137 182.075471698113 105.625235418496 186.477987421384 106.385522565561 190.880503144654 108.23326574238 195.283018867925 111.122394479302 199.685534591195 114.980873052169 204.088050314465 119.712496575894 208.490566037736 125.199289716732 212.893081761006 131.304448215273 217.295597484277 137.875749878052 221.698113207547 144.749349990267 226.100628930818 151.753866517147 230.503144654088 158.714653236137 234.905660377358 165.458154256287 239.308176100629 171.816231352004 243.710691823899 177.630356216127 248.11320754717 182.755563105325 252.51572327044 187.064063325037 256.918238993711 190.448431432639 261.320754716981 192.82428371607 265.723270440252 194.132382164391 270.125786163522 194.340111471197 274.528301886793 193.44229224422 278.930817610063 191.461310145044 283.333333333333 188.446557739058 287.735849056604 184.473202972203 292.138364779874 179.640314980551 296.540880503145 174.068393962586 300.943396226415 167.896366702823 305.345911949686 161.278122658486 309.748427672956 154.378676976282 314.150943396226 147.370056108215 318.553459119497 140.42700861191 322.955974842767 133.722648079663 327.358490566038 127.424136832687 331.761006289308 121.688518000623 336.163522012579 116.658799906629 340.566037735849 112.46039038753 344.96855345912 109.197969953457 349.37106918239 106.952881749652 353.77358490566 105.781103397497 358.176100628931 105.711851283602 362.578616352201 106.746852096749 366.981132075472 108.860299775709 371.383647798742 111.999498941397 375.786163522013 116.086178770403 380.188679245283 121.018444550625 384.591194968554 126.673318260118 388.993710691824 132.909804823974 393.396226415094 139.572407597104 397.798742138365 146.495005420076 402.201257861635 153.504994579924 406.603773584906 160.427592402896 411.006289308176 167.090195176026 415.408805031447 173.326681739882 419.811320754717 178.981555449375 424.213836477987 183.913821229597 428.616352201258 188.000501058604 433.018867924528 191.139700224291 437.421383647799 193.253147903251 441.823899371069 194.288148716398 446.22641509434 194.218896602503 450.62893081761 193.047118250348 455.03144654088 190.802030046543 459.433962264151 187.53960961247 463.836477987421 183.341200093371 468.238993710692 178.311481999377 472.641509433962 172.575863167313 477.044025157233 166.277351920337 481.446540880503 159.57299138809 485.849056603774 152.629943891785 490.251572327044 145.621323023718 494.654088050314 138.721877341514 499.056603773585 132.103633297177 503.459119496855 125.931606037414 507.861635220126 120.359685019449 512.264150943396 115.526797027797 516.666666666667 111.553442260942 521.069182389937 108.538689854956 525.471698113208 106.55770775578 529.874213836478 105.659888528803 534.276729559748 105.867617835609 538.679245283019 107.17571628393 543.081761006289 109.551568567361 547.48427672956 112.935936674963 551.88679245283 117.244436894675 556.289308176101 122.369643783873 560.691823899371 128.183768647996 565.094339622642 134.541845743713 569.496855345912 141.285346763863 573.899371069182 148.246133482853 578.301886792453 155.250650009733 582.704402515723 162.124250121948 587.106918238994 168.695551784727 591.509433962264 174.800710283268 595.911949685535 180.287503424106 600.314465408805 185.019126947831 604.716981132075 188.877605520698 609.119496855346 191.76673425762 613.522012578616 193.614477434439 617.924528301887 194.374764581504 622.327044025157 194.028639175863 626.729559748428 192.584731291327 631.132075471698 190.079042421616 635.534591194969 186.574047841692 639.937106918239 182.157138888432 644.339622641509 176.938443999837 648.74213836478 171.048082841621 653.14465408805 164.632921985065 657.547169811321 157.852913028023 661.949685534591 150.877104462095 666.352201257862 143.87942672354 670.754716981132 137.034355520855 675.157232704403 130.51256156687 679.559748427673 124.476655182224 683.962264150943 119.0771318716 688.364779874214 114.44861996319 692.767295597484 110.706523870383 697.169811320755 107.944146670492 701.572327044025 106.230363744336 705.974842767296 105.607905480683 710.377358490566 106.092291863537 714.779874213837 107.671445506585 719.182389937107 110.305992783178 723.584905660377 113.930245543643 727.987421383648 118.453838942416 732.389937106918 123.763984538432 736.792452830189 129.728282491389 741.194968553459 136.198022736331 745.59748427673 143.011892827159 750 150 Z; M 50 150 C 50 150 54.4025157232704 150 58.8050314465409 150 63.2075471698113 150 67.6100628930818 150 72.0125786163522 150 76.4150943396226 150 80.8176100628931 150 85.2201257861635 150 89.622641509434 150 94.0251572327044 150 98.4276729559749 150 102.830188679245 150 107.232704402516 150 111.635220125786 150 116.037735849057 150 120.440251572327 150 124.842767295597 150 129.245283018868 150 133.647798742138 150 138.050314465409 150 142.452830188679 150 146.85534591195 150 151.25786163522 150 155.660377358491 150 160.062893081761 150 164.465408805031 150 168.867924528302 150 173.270440251572 150 177.672955974843 150 182.075471698113 150 186.477987421384 150 190.880503144654 150 195.283018867925 150 199.685534591195 150 204.088050314465 150 208.490566037736 150 212.893081761006 150 217.295597484277 150 221.698113207547 150 226.100628930818 150 230.503144654088 150 234.905660377358 150 239.308176100629 150 243.710691823899 150 248.11320754717 150 252.51572327044 150 256.918238993711 150 261.320754716981 150 265.723270440252 150 270.125786163522 150 274.528301886793 150 278.930817610063 150 283.333333333333 150 287.735849056604 150 292.138364779874 150 296.540880503145 150 300.943396226415 150 305.345911949686 150 309.748427672956 150 314.150943396226 150 318.553459119497 150 322.955974842767 150 327.358490566038 150 331.761006289308 150 336.163522012579 150 340.566037735849 150 344.96855345912 150 349.37106918239 150 353.77358490566 150 358.176100628931 150 362.578616352201 150 366.981132075472 150 371.383647798742 150 375.786163522013 150 380.188679245283 150 384.591194968554 150 388.993710691824 150 393.396226415094 150 397.798742138365 150 402.201257861635 150 406.603773584906 150 411.006289308176 150 415.408805031447 150 419.811320754717 150 424.213836477987 150 428.616352201258 150 433.018867924528 150 437.421383647799 150 441.823899371069 150 446.22641509434 150 450.62893081761 150 455.03144654088 150 459.433962264151 150 463.836477987421 150 468.238993710692 150 472.641509433962 150 477.044025157233 150 481.446540880503 150 485.849056603774 150 490.251572327044 150 494.654088050314 150 499.056603773585 150 503.459119496855 150 507.861635220126 150 512.264150943396 150 516.666666666667 150 521.069182389937 150 525.471698113208 150 529.874213836478 150 534.276729559748 150 538.679245283019 150 543.081761006289 150 547.48427672956 150 551.88679245283 150 556.289308176101 150 560.691823899371 150 565.094339622642 150 569.496855345912 150 573.899371069182 150 578.301886792453 150 582.704402515723 150 587.106918238994 150 591.509433962264 150 595.911949685535 150 600.314465408805 150 604.716981132075 150 609.119496855346 150 613.522012578616 150 617.924528301887 150 622.327044025157 150 626.729559748428 150 631.132075471698 150 635.534591194969 150 639.937106918239 150 644.339622641509 150 648.74213836478 150 653.14465408805 150 657.547169811321 150 661.949685534591 150 666.352201257862 150 670.754716981132 150 675.157232704403 150 679.559748427673 150 683.962264150943 150 688.364779874214 150 692.767295597484 150 697.169811320755 150 701.572327044025 150 705.974842767296 150 710.377358490566 150 714.779874213837 150 719.182389937107 150 723.584905660377 150 727.987421383648 150 732.389937106918 150 736.792452830189 150 741.194968553459 150 745.59748427673 150 750 150 Z" begin="playButton37.click" dur="5" fill="remove"></animate> </path>
</svg>
</div>
<div id="path-animation-3-1" class="section level3">
<h3>Path Animation 3</h3>
<pre class="r"><code>WH&lt;-c(800,300)
pts&lt;-c(1,1)

N&lt;-8
xMarg&lt;-50
NX&lt;-160
X&lt;-seq(0,N*pi, length.out=NX)
sx&lt;-(WH[1]-2*xMarg)/(N*pi)
x&lt;-X*sx+xMarg
wave&lt;-function(alpha){
  sy&lt;- - WH[2]/6
  y&lt;-sin(alpha)*sin(X)
  y&lt;-y*sy+WH[2]/2
  rbind(x,y)
}
as.path&lt;-function(ptsX){
  c(&quot;M&quot;,ptsX[,1],&quot;C&quot;,ptsX[,1:(dim(ptsX)[2]) ],&quot;Z&quot;)
}

values=lapply(seq(0,8*pi,length.out=24), function(alpha){
  as.path(wave(alpha))
})
svgR(
  playBar(wh=WH),
  text(&quot;standing wave&quot;, xy=c(20,40),font=&quot;black&quot;, fill='blue', font.size=30),
  path(
    fill='red', stroke='blue', 
    d=as.path( rbind(x, rep(WH[2]/2,NX))),
    animate( attributeName='d', 
      values=values,
      begin=playButton.click, dur=5, fill=&quot;remove&quot;
    )
  )
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="340">
<linearGradient x1="0" y1="0" x2="0" y2="1" id="genid1527"> <stop offset="0%" stop-color="lightblue"></stop> <stop offset="50%" stop-color="white"></stop> <stop offset="100%" stop-color="lightblue"></stop> </linearGradient> <rect fill="url(#genid1527)" width="800" height="40" x="0" y="300"></rect> <g id="playButton38"> <circle r="12" stroke="grey" fill="grey" cx="780" cy="320"></circle> <circle r="10" stroke="grey" fill="#404040" cx="780" cy="320"></circle> <polygon points="790,320 777,324 777,316" fill="lime"></polygon> </g> <rect fill="none" stroke="blue" stroke-width="3" width="800" height="300" x="0" y="0"></rect> <text font="black" fill="blue" font-size="30" x="20" y="40">standing wave</text> <path fill="red" stroke="blue" d="M 50 150 C 50 150 54.4025157232704 150 58.8050314465409 150 63.2075471698113 150 67.6100628930818 150 72.0125786163522 150 76.4150943396226 150 80.8176100628931 150 85.2201257861635 150 89.622641509434 150 94.0251572327044 150 98.4276729559749 150 102.830188679245 150 107.232704402516 150 111.635220125786 150 116.037735849057 150 120.440251572327 150 124.842767295597 150 129.245283018868 150 133.647798742138 150 138.050314465409 150 142.452830188679 150 146.85534591195 150 151.25786163522 150 155.660377358491 150 160.062893081761 150 164.465408805031 150 168.867924528302 150 173.270440251572 150 177.672955974843 150 182.075471698113 150 186.477987421384 150 190.880503144654 150 195.283018867925 150 199.685534591195 150 204.088050314465 150 208.490566037736 150 212.893081761006 150 217.295597484277 150 221.698113207547 150 226.100628930818 150 230.503144654088 150 234.905660377358 150 239.308176100629 150 243.710691823899 150 248.11320754717 150 252.51572327044 150 256.918238993711 150 261.320754716981 150 265.723270440252 150 270.125786163522 150 274.528301886793 150 278.930817610063 150 283.333333333333 150 287.735849056604 150 292.138364779874 150 296.540880503145 150 300.943396226415 150 305.345911949686 150 309.748427672956 150 314.150943396226 150 318.553459119497 150 322.955974842767 150 327.358490566038 150 331.761006289308 150 336.163522012579 150 340.566037735849 150 344.96855345912 150 349.37106918239 150 353.77358490566 150 358.176100628931 150 362.578616352201 150 366.981132075472 150 371.383647798742 150 375.786163522013 150 380.188679245283 150 384.591194968554 150 388.993710691824 150 393.396226415094 150 397.798742138365 150 402.201257861635 150 406.603773584906 150 411.006289308176 150 415.408805031447 150 419.811320754717 150 424.213836477987 150 428.616352201258 150 433.018867924528 150 437.421383647799 150 441.823899371069 150 446.22641509434 150 450.62893081761 150 455.03144654088 150 459.433962264151 150 463.836477987421 150 468.238993710692 150 472.641509433962 150 477.044025157233 150 481.446540880503 150 485.849056603774 150 490.251572327044 150 494.654088050314 150 499.056603773585 150 503.459119496855 150 507.861635220126 150 512.264150943396 150 516.666666666667 150 521.069182389937 150 525.471698113208 150 529.874213836478 150 534.276729559748 150 538.679245283019 150 543.081761006289 150 547.48427672956 150 551.88679245283 150 556.289308176101 150 560.691823899371 150 565.094339622642 150 569.496855345912 150 573.899371069182 150 578.301886792453 150 582.704402515723 150 587.106918238994 150 591.509433962264 150 595.911949685535 150 600.314465408805 150 604.716981132075 150 609.119496855346 150 613.522012578616 150 617.924528301887 150 622.327044025157 150 626.729559748428 150 631.132075471698 150 635.534591194969 150 639.937106918239 150 644.339622641509 150 648.74213836478 150 653.14465408805 150 657.547169811321 150 661.949685534591 150 666.352201257862 150 670.754716981132 150 675.157232704403 150 679.559748427673 150 683.962264150943 150 688.364779874214 150 692.767295597484 150 697.169811320755 150 701.572327044025 150 705.974842767296 150 710.377358490566 150 714.779874213837 150 719.182389937107 150 723.584905660377 150 727.987421383648 150 732.389937106918 150 736.792452830189 150 741.194968553459 150 745.59748427673 150 750 150 Z"> <animate attributeName="d" values="M 50 150 C 50 150 54.4025157232704 150 58.8050314465409 150 63.2075471698113 150 67.6100628930818 150 72.0125786163522 150 76.4150943396226 150 80.8176100628931 150 85.2201257861635 150 89.622641509434 150 94.0251572327044 150 98.4276729559749 150 102.830188679245 150 107.232704402516 150 111.635220125786 150 116.037735849057 150 120.440251572327 150 124.842767295597 150 129.245283018868 150 133.647798742138 150 138.050314465409 150 142.452830188679 150 146.85534591195 150 151.25786163522 150 155.660377358491 150 160.062893081761 150 164.465408805031 150 168.867924528302 150 173.270440251572 150 177.672955974843 150 182.075471698113 150 186.477987421384 150 190.880503144654 150 195.283018867925 150 199.685534591195 150 204.088050314465 150 208.490566037736 150 212.893081761006 150 217.295597484277 150 221.698113207547 150 226.100628930818 150 230.503144654088 150 234.905660377358 150 239.308176100629 150 243.710691823899 150 248.11320754717 150 252.51572327044 150 256.918238993711 150 261.320754716981 150 265.723270440252 150 270.125786163522 150 274.528301886793 150 278.930817610063 150 283.333333333333 150 287.735849056604 150 292.138364779874 150 296.540880503145 150 300.943396226415 150 305.345911949686 150 309.748427672956 150 314.150943396226 150 318.553459119497 150 322.955974842767 150 327.358490566038 150 331.761006289308 150 336.163522012579 150 340.566037735849 150 344.96855345912 150 349.37106918239 150 353.77358490566 150 358.176100628931 150 362.578616352201 150 366.981132075472 150 371.383647798742 150 375.786163522013 150 380.188679245283 150 384.591194968554 150 388.993710691824 150 393.396226415094 150 397.798742138365 150 402.201257861635 150 406.603773584906 150 411.006289308176 150 415.408805031447 150 419.811320754717 150 424.213836477987 150 428.616352201258 150 433.018867924528 150 437.421383647799 150 441.823899371069 150 446.22641509434 150 450.62893081761 150 455.03144654088 150 459.433962264151 150 463.836477987421 150 468.238993710692 150 472.641509433962 150 477.044025157233 150 481.446540880503 150 485.849056603774 150 490.251572327044 150 494.654088050314 150 499.056603773585 150 503.459119496855 150 507.861635220126 150 512.264150943396 150 516.666666666667 150 521.069182389937 150 525.471698113208 150 529.874213836478 150 534.276729559748 150 538.679245283019 150 543.081761006289 150 547.48427672956 150 551.88679245283 150 556.289308176101 150 560.691823899371 150 565.094339622642 150 569.496855345912 150 573.899371069182 150 578.301886792453 150 582.704402515723 150 587.106918238994 150 591.509433962264 150 595.911949685535 150 600.314465408805 150 604.716981132075 150 609.119496855346 150 613.522012578616 150 617.924528301887 150 622.327044025157 150 626.729559748428 150 631.132075471698 150 635.534591194969 150 639.937106918239 150 644.339622641509 150 648.74213836478 150 653.14465408805 150 657.547169811321 150 661.949685534591 150 666.352201257862 150 670.754716981132 150 675.157232704403 150 679.559748427673 150 683.962264150943 150 688.364779874214 150 692.767295597484 150 697.169811320755 150 701.572327044025 150 705.974842767296 150 710.377358490566 150 714.779874213837 150 719.182389937107 150 723.584905660377 150 727.987421383648 150 732.389937106918 150 736.792452830189 150 741.194968553459 150 745.59748427673 150 750 150 Z; M 50 150 C 50 150 54.4025157232704 143.011892827159 58.8050314465409 136.198022736331 63.2075471698113 129.728282491389 67.6100628930818 123.763984538432 72.0125786163522 118.453838942416 76.4150943396226 113.930245543643 80.8176100628931 110.305992783178 85.2201257861635 107.671445506585 89.622641509434 106.092291863537 94.0251572327044 105.607905480683 98.4276729559749 106.230363744336 102.830188679245 107.944146670492 107.232704402516 110.706523870383 111.635220125786 114.44861996319 116.037735849057 119.0771318716 120.440251572327 124.476655182224 124.842767295597 130.51256156687 129.245283018868 137.034355520855 133.647798742138 143.87942672354 138.050314465409 150.877104462095 142.452830188679 157.852913028023 146.85534591195 164.632921985065 151.25786163522 171.048082841621 155.660377358491 176.938443999837 160.062893081761 182.157138888432 164.465408805031 186.574047841692 168.867924528302 190.079042421616 173.270440251572 192.584731291328 177.672955974843 194.028639175863 182.075471698113 194.374764581504 186.477987421384 193.614477434439 190.880503144654 191.76673425762 195.283018867925 188.877605520698 199.685534591195 185.019126947831 204.088050314465 180.287503424106 208.490566037736 174.800710283268 212.893081761006 168.695551784727 217.295597484277 162.124250121948 221.698113207547 155.250650009733 226.100628930818 148.246133482853 230.503144654088 141.285346763863 234.905660377358 134.541845743713 239.308176100629 128.183768647996 243.710691823899 122.369643783873 248.11320754717 117.244436894675 252.51572327044 112.935936674963 256.918238993711 109.551568567361 261.320754716981 107.17571628393 265.723270440252 105.867617835609 270.125786163522 105.659888528803 274.528301886793 106.55770775578 278.930817610063 108.538689854956 283.333333333333 111.553442260942 287.735849056604 115.526797027797 292.138364779874 120.359685019449 296.540880503145 125.931606037414 300.943396226415 132.103633297177 305.345911949686 138.721877341514 309.748427672956 145.621323023718 314.150943396226 152.629943891785 318.553459119497 159.57299138809 322.955974842767 166.277351920337 327.358490566038 172.575863167313 331.761006289308 178.311481999377 336.163522012579 183.341200093371 340.566037735849 187.53960961247 344.96855345912 190.802030046543 349.37106918239 193.047118250348 353.77358490566 194.218896602503 358.176100628931 194.288148716398 362.578616352201 193.253147903251 366.981132075472 191.139700224291 371.383647798742 188.000501058603 375.786163522013 183.913821229597 380.188679245283 178.981555449375 384.591194968554 173.326681739882 388.993710691824 167.090195176026 393.396226415094 160.427592402896 397.798742138365 153.504994579924 402.201257861635 146.495005420076 406.603773584906 139.572407597104 411.006289308176 132.909804823974 415.408805031447 126.673318260118 419.811320754717 121.018444550625 424.213836477987 116.086178770403 428.616352201258 111.999498941397 433.018867924528 108.860299775709 437.421383647799 106.746852096749 441.823899371069 105.711851283602 446.22641509434 105.781103397497 450.62893081761 106.952881749652 455.03144654088 109.197969953457 459.433962264151 112.46039038753 463.836477987421 116.658799906629 468.238993710692 121.688518000623 472.641509433962 127.424136832687 477.044025157233 133.722648079663 481.446540880503 140.42700861191 485.849056603774 147.370056108215 490.251572327044 154.378676976282 494.654088050314 161.278122658486 499.056603773585 167.896366702823 503.459119496855 174.068393962586 507.861635220126 179.640314980551 512.264150943396 184.473202972203 516.666666666667 188.446557739058 521.069182389937 191.461310145044 525.471698113208 193.44229224422 529.874213836478 194.340111471197 534.276729559748 194.132382164391 538.679245283019 192.82428371607 543.081761006289 190.448431432639 547.48427672956 187.064063325037 551.88679245283 182.755563105325 556.289308176101 177.630356216127 560.691823899371 171.816231352004 565.094339622642 165.458154256287 569.496855345912 158.714653236137 573.899371069182 151.753866517147 578.301886792453 144.749349990267 582.704402515723 137.875749878052 587.106918238994 131.304448215273 591.509433962264 125.199289716732 595.911949685535 119.712496575894 600.314465408805 114.980873052169 604.716981132075 111.122394479302 609.119496855346 108.23326574238 613.522012578616 106.385522565561 617.924528301887 105.625235418496 622.327044025157 105.971360824137 626.729559748428 107.415268708673 631.132075471698 109.920957578384 635.534591194969 113.425952158308 639.937106918239 117.842861111568 644.339622641509 123.061556000163 648.74213836478 128.951917158379 653.14465408805 135.367078014935 657.547169811321 142.147086971977 661.949685534591 149.122895537905 666.352201257862 156.12057327646 670.754716981132 162.965644479145 675.157232704403 169.48743843313 679.559748427673 175.523344817776 683.962264150943 180.9228681284 688.364779874214 185.55138003681 692.767295597484 189.293476129617 697.169811320755 192.055853329508 701.572327044025 193.769636255664 705.974842767296 194.392094519317 710.377358490566 193.907708136463 714.779874213837 192.328554493415 719.182389937107 189.694007216822 723.584905660377 186.069754456357 727.987421383648 181.546161057584 732.389937106918 176.236015461568 736.792452830189 170.271717508611 741.194968553459 163.801977263669 745.59748427673 156.988107172841 750 150 Z; M 50 150 C 50 150 54.4025157232704 143.570032419715 58.8050314465409 137.300385618851 63.2075471698113 131.347383039051 67.6100628930818 125.859453113518 72.0125786163522 120.973428445539 76.4150943396226 116.811134110166 80.8176100628931 113.476350144184 85.2201257861635 111.052223959764 89.622641509434 109.599197199019 94.0251572327044 109.153498720011 98.4276729559749 109.726241289118 102.830188679245 111.303144502288 107.232704402516 113.844890843679 111.635220125786 117.288106003941 116.037735849057 121.546939015504 120.440251572327 126.515202806769 124.842767295597 132.069021803957 129.245283018868 138.069920566987 133.647798742138 144.368276449258 138.050314465409 150.807050194896 142.452830188679 157.225701457074 146.85534591195 163.464191610352 151.25786163522 169.366974053398 155.660377358491 174.786872510407 160.062893081761 179.588750632064 164.465408805031 183.652881400538 168.867924528302 186.877932327859 173.270440251572 189.183492016631 177.672955974843 190.51207508739 182.075471698113 190.830555483001 186.477987421384 190.130992413 190.880503144654 188.430828344278 195.283018867925 185.772454101554 199.685534591195 182.222151921132 204.088050314465 177.868442811188 208.490566037736 172.819879424462 212.893081761006 167.20233947449 217.295597484277 161.155887179632 221.698113207547 154.831280989682 226.100628930818 148.386214669227 230.503144654088 141.981385460206 234.905660377358 135.776487357655 239.308176100629 129.926229399778 243.710691823899 124.576478249805 248.11320754717 119.860621248087 252.51572327044 115.896240615794 256.918238993711 112.782181733554 261.320754716981 110.596088592713 265.723270440252 109.392467868748 270.125786163522 109.201329886 274.528301886793 110.02744035907 278.930817610063 111.850201567475 283.333333333333 114.624165926295 287.735849056604 118.280169147759 292.138364779874 122.727054740219 296.540880503145 127.853946846949 300.943396226415 133.53301475523 305.345911949686 139.622660147174 309.748427672956 145.971047623389 314.150943396226 152.41989047161 318.553459119497 158.808397288323 322.955974842767 164.977281050786 327.358490566038 170.772730679767 331.761006289308 176.050246068537 336.163522012579 180.678240957917 340.566037735849 184.541323825547 344.96855345912 187.543174985741 349.37106918239 189.608948164127 353.77358490566 190.687136667721 358.176100628931 190.750857620505 362.578616352201 189.798522244201 366.981132075472 187.853875471874 371.383647798742 184.965403906658 375.786163522013 181.205126887204 380.188679245283 176.666800802648 384.591194968554 171.463581429603 388.993710691824 165.725202576983 393.396226415094 159.594741384567 397.798742138365 153.225050927321 402.201257861635 146.774949072679 406.603773584906 140.405258615433 411.006289308176 134.274797423017 415.408805031447 128.536418570397 419.811320754717 123.333199197352 424.213836477987 118.794873112796 428.616352201258 115.034596093342 433.018867924528 112.146124528126 437.421383647799 110.201477755799 441.823899371069 109.249142379495 446.22641509434 109.312863332279 450.62893081761 110.391051835873 455.03144654088 112.456825014259 459.433962264151 115.458676174453 463.836477987421 119.321759042083 468.238993710692 123.949753931463 472.641509433962 129.227269320233 477.044025157233 135.022718949214 481.446540880503 141.191602711677 485.849056603774 147.58010952839 490.251572327044 154.028952376611 494.654088050314 160.377339852826 499.056603773585 166.46698524477 503.459119496855 172.146053153051 507.861635220126 177.272945259781 512.264150943396 181.719830852241 516.666666666667 185.375834073705 521.069182389937 188.149798432526 525.471698113208 189.97255964093 529.874213836478 190.798670114 534.276729559748 190.607532131252 538.679245283019 189.403911407287 543.081761006289 187.217818266446 547.48427672956 184.103759384206 551.88679245283 180.139378751913 556.289308176101 175.423521750195 560.691823899371 170.073770600222 565.094339622642 164.223512642345 569.496855345912 158.018614539794 573.899371069182 151.613785330774 578.301886792453 145.168719010318 582.704402515723 138.844112820368 587.106918238994 132.79766052551 591.509433962264 127.180120575538 595.911949685535 122.131557188812 600.314465408805 117.777848078868 604.716981132075 114.227545898446 609.119496855346 111.569171655722 613.522012578616 109.869007587 617.924528301887 109.169444516999 622.327044025157 109.48792491261 626.729559748428 110.816507983369 631.132075471698 113.122067672141 635.534591194969 116.347118599462 639.937106918239 120.411249367936 644.339622641509 125.213127489593 648.74213836478 130.633025946602 653.14465408805 136.535808389648 657.547169811321 142.774298542926 661.949685534591 149.192949805104 666.352201257862 155.631723550742 670.754716981132 161.930079433013 675.157232704403 167.930978196043 679.559748427673 173.484797193231 683.962264150943 178.453060984495 688.364779874214 182.711893996059 692.767295597484 186.155109156321 697.169811320755 188.696855497712 701.572327044025 190.273758710882 705.974842767296 190.846501279989 710.377358490566 190.400802800981 714.779874213837 188.947776040236 719.182389937107 186.523649855816 723.584905660377 183.188865889834 727.987421383648 179.026571554461 732.389937106918 174.140546886482 736.792452830189 168.652616960949 741.194968553459 162.699614381149 745.59748427673 156.429967580285 750 150 Z; M 50 150 C 50 150 54.4025157232704 151.071700617973 58.8050314465409 152.1166801248 63.2075471698113 153.108883656764 67.6100628930818 154.023572233207 72.0125786163522 154.837939582766 76.4150943396226 155.531680780635 80.8176100628931 156.087498518832 85.2201257861635 156.491534386424 89.622641509434 156.733714406459 94.0251572327044 156.80800021419 98.4276729559749 156.71253961387 102.830188679245 156.449712760245 107.232704402516 156.026072813264 111.635220125786 155.452182545701 116.037735849057 154.742350977603 120.440251572327 153.914276604152 124.842767295597 152.988606112492 129.245283018868 151.988419590175 133.647798742138 150.938655060733 138.050314465409 149.865486694636 142.452830188679 148.795672198942 146.85534591195 147.755885657407 151.25786163522 146.772052455608 155.660377358491 145.868702873638 160.062893081761 145.068360463485 164.465408805031 144.390980460909 168.867924528302 143.85345223411 173.270440251572 143.469178174812 177.672955974843 143.247739531431 182.075471698113 143.194657516238 186.477987421384 143.311255642911 190.880503144654 143.594626726879 195.283018867925 144.037705371236 199.685534591195 144.629444130918 204.088050314465 145.355088962769 208.490566037736 146.196547093603 212.893081761006 147.132838134064 217.295597484277 148.140617190496 221.698113207547 149.194756931882 226.100628930818 150.268974098963 230.503144654088 151.336484834533 234.905660377358 152.370672495347 239.308176100629 153.345751294808 243.710691823899 154.237409229602 248.11320754717 155.02341425994 252.51572327044 155.684168629299 256.918238993711 156.203197502592 261.320754716981 156.567559739373 265.723270440252 156.768170560124 270.125786163522 156.800028060441 274.528301886793 156.66233792539 278.930817610063 156.358533234453 283.333333333333 155.896188863278 287.735849056604 155.286832616479 292.138364779874 154.54565780059 296.540880503145 153.691144403677 300.943396226415 152.744598326917 305.345911949686 151.729620156607 309.748427672956 150.671516721956 314.150943396226 149.596670110468 318.553459119497 148.531879873517 322.955974842767 147.503694823143 327.358490566038 146.537751080619 331.761006289308 145.658132881477 336.163522012579 144.886772074288 340.566037735849 144.242901285699 344.96855345912 143.742574386181 349.37106918239 143.398266212893 353.77358490566 143.218561529912 358.176100628931 143.207940981111 362.578616352201 143.366669372593 366.981132075472 143.690789070185 371.383647798742 144.1722186766 375.786163522013 144.798954527937 380.188679245283 145.555369985504 384.591194968554 146.42260506063 388.993710691824 147.379036657793 393.396226415094 148.400817711327 397.798742138365 149.462471773201 402.201257861635 150.537528226799 406.603773584906 151.599182288673 411.006289308176 152.620963342207 415.408805031447 153.57739493937 419.811320754717 154.444630014496 424.213836477987 155.201045472063 428.616352201258 155.8277813234 433.018867924528 156.309210929815 437.421383647799 156.633330627407 441.823899371069 156.792059018889 446.22641509434 156.781438470088 450.62893081761 156.601733787107 455.03144654088 156.257425613819 459.433962264151 155.757098714301 463.836477987421 155.113227925712 468.238993710692 154.341867118523 472.641509433962 153.462248919381 477.044025157233 152.496305176857 481.446540880503 151.468120126483 485.849056603774 150.403329889532 490.251572327044 149.328483278044 494.654088050314 148.270379843393 499.056603773585 147.255401673083 503.459119496855 146.308855596323 507.861635220126 145.45434219941 512.264150943396 144.713167383521 516.666666666667 144.103811136722 521.069182389937 143.641466765547 525.471698113208 143.33766207461 529.874213836478 143.199971939559 534.276729559748 143.231829439876 538.679245283019 143.432440260627 543.081761006289 143.796802497408 547.48427672956 144.315831370701 551.88679245283 144.97658574006 556.289308176101 145.762590770398 560.691823899371 146.654248705192 565.094339622642 147.629327504653 569.496855345912 148.663515165467 573.899371069182 149.731025901037 578.301886792453 150.805243068117 582.704402515723 151.859382809504 587.106918238994 152.867161865936 591.509433962264 153.803452906397 595.911949685535 154.644911037231 600.314465408805 155.370555869082 604.716981132075 155.962294628764 609.119496855346 156.405373273121 613.522012578616 156.688744357089 617.924528301887 156.805342483762 622.327044025157 156.752260468569 626.729559748428 156.530821825188 631.132075471698 156.14654776589 635.534591194969 155.609019539091 639.937106918239 154.931639536515 644.339622641509 154.131297126362 648.74213836478 153.227947544392 653.14465408805 152.244114342593 657.547169811321 151.204327801058 661.949685534591 150.134513305364 666.352201257862 149.061344939267 670.754716981132 148.011580409825 675.157232704403 147.011393887508 679.559748427673 146.085723395848 683.962264150943 145.257649022397 688.364779874214 144.547817454299 692.767295597484 143.973927186736 697.169811320755 143.550287239755 701.572327044025 143.28746038613 705.974842767296 143.19199978581 710.377358490566 143.266285593541 714.779874213837 143.508465613577 719.182389937107 143.912501481168 723.584905660377 144.468319219365 727.987421383648 145.162060417234 732.389937106918 145.976427766793 736.792452830189 146.891116343236 741.194968553459 147.8833198752 745.59748427673 148.928299382027 750 150 Z; M 50 150 C 50 150 54.4025157232704 157.416071550774 58.8050314465409 164.647235424111 63.2075471698113 171.513194314651 67.6100628930818 177.842756709051 72.0125786163522 183.478105267833 76.4150943396226 188.278731743954 80.8176100628931 192.124940327325 85.2201257861635 194.920832065082 89.622641509434 196.596695945938 94.0251572327044 197.110747030819 98.4276729559749 196.450168292336 102.830188679245 194.631430186506 107.232704402516 191.69987998873 111.635220125786 187.728611133269 116.037735849057 182.816640747386 120.440251572327 177.086440820389 124.842767295597 170.680884563857 129.245283018868 163.759684100572 133.647798742138 156.495408302607 138.050314465409 149.06918006729 142.452830188679 141.666160312458 146.85534591195 134.470931290252 151.25786163522 127.662894328993 155.660377358491 121.411796752957 160.062893081761 115.873499509049 164.465408805031 111.186091027689 168.867924528302 107.46644421248 173.270440251572 104.807302404528 177.672955974843 103.274966978125 182.075471698113 102.907644223868 186.477987421384 103.714492736964 190.880503144654 105.675395062561 195.283018867925 108.741459291753 199.685534591195 112.836238101775 204.088050314465 117.857634845609 208.490566037736 123.680449165758 212.893081761006 130.159498661443 217.295597484277 137.133238775546 221.698113207547 144.427790645286 226.100628930818 151.861276488749 230.503144654088 159.248354431447 234.905660377358 166.404839704385 239.308176100629 173.152296991592 243.710691823899 179.322489424393 248.11320754717 184.761573293991 252.51572327044 189.333933894023 256.918238993711 192.925566852613 261.320754716981 195.44692064588 265.723270440252 196.835129419481 270.125786163522 197.055580446399 274.528301886793 196.102777138974 278.930817610063 194.000476097372 283.333333333333 190.801094777412 287.735849056604 186.584404546599 292.138364779874 181.455541714863 296.540880503145 175.542386131748 300.943396226415 168.992372710429 305.345911949686 161.968815378046 309.748427672956 154.646835108659 314.150943396226 147.208993566699 318.553459119497 139.840741228908 322.955974842767 132.725793478456 327.358490566038 126.041549960773 331.761006289308 119.954671412049 336.163522012579 114.616924244942 340.566037735849 110.161396500019 344.96855345912 106.699179512017 349.37106918239 104.31659802816 353.77358490566 103.073057841054 358.176100628931 102.9995646019 362.578616352201 104.097950745037 366.981132075472 106.340829799168 371.383647798742 109.672279224464 375.786163522013 114.009234750104 380.188679245283 119.243561446712 384.591194968554 125.244749894876 388.993710691824 131.863170225168 393.396226415094 138.933802895478 397.798742138365 146.280353184792 402.201257861635 153.719646815208 406.603773584906 161.066197104522 411.006289308176 168.136829774832 415.408805031447 174.755250105124 419.811320754717 180.756438553288 424.213836477987 185.990765249896 428.616352201258 190.327720775536 433.018867924528 193.659170200832 437.421383647799 195.902049254963 441.823899371069 197.0004353981 446.22641509434 196.926942158946 450.62893081761 195.68340197184 455.03144654088 193.300820487983 459.433962264151 189.838603499981 463.836477987421 185.383075755058 468.238993710692 180.045328587951 472.641509433962 173.958450039226 477.044025157233 167.274206521544 481.446540880503 160.159258771092 485.849056603774 152.791006433301 490.251572327044 145.353164891341 494.654088050314 138.031184621954 499.056603773585 131.007627289571 503.459119496855 124.457613868252 507.861635220126 118.544458285137 512.264150943396 113.415595453401 516.666666666667 109.198905222588 521.069182389937 105.999523902628 525.471698113208 103.897222861026 529.874213836478 102.944419553601 534.276729559748 103.164870580519 538.679245283019 104.55307935412 543.081761006289 107.074433147387 547.48427672956 110.666066105977 551.88679245283 115.238426706009 556.289308176101 120.677510575607 560.691823899371 126.847703008408 565.094339622642 133.595160295615 569.496855345912 140.751645568553 573.899371069182 148.138723511251 578.301886792453 155.572209354714 582.704402515723 162.866761224454 587.106918238994 169.840501338557 591.509433962264 176.319550834242 595.911949685535 182.142365154391 600.314465408805 187.163761898225 604.716981132075 191.258540708247 609.119496855346 194.324604937439 613.522012578616 196.285507263036 617.924528301887 197.092355776132 622.327044025157 196.725033021875 626.729559748428 195.192697595472 631.132075471698 192.53355578752 635.534591194969 188.813908972311 639.937106918239 184.126500490951 644.339622641509 178.588203247043 648.74213836478 172.337105671007 653.14465408805 165.529068709748 657.547169811321 158.333839687542 661.949685534591 150.930819932711 666.352201257862 143.504591697393 670.754716981132 136.240315899428 675.157232704403 129.319115436143 679.559748427673 122.913559179611 683.962264150943 117.183359252614 688.364779874214 112.271388866731 692.767295597484 108.30012001127 697.169811320755 105.368569813494 701.572327044025 103.549831707664 705.974842767296 102.889252969181 710.377358490566 103.403304054062 714.779874213837 105.079167934918 719.182389937107 107.875059672675 723.584905660377 111.721268256046 727.987421383648 116.521894732167 732.389937106918 122.157243290949 736.792452830189 128.486805685349 741.194968553459 135.352764575889 745.59748427673 142.583928449226 750 150 Z; M 50 150 C 50 150 54.4025157232704 155.752049857674 58.8050314465409 161.360681711301 63.2075471698113 166.686053451411 67.6100628930818 171.595385598571 72.0125786163522 175.966271943661 76.4150943396226 179.68973154753 80.8176100628931 182.672926003395 85.2201257861635 184.84147421145 89.622641509434 186.141306950571 94.0251572327044 186.540015006363 98.4276729559749 186.027657242194 102.830188679245 184.617008465255 107.232704402516 182.343240907536 111.635220125786 179.263047263442 116.037735849057 175.453227149709 120.440251572327 171.008772231918 124.842767295597 166.040497761877 129.245283018868 160.672279579621 133.647798742138 155.037965470903 138.050314465409 149.278037890437 142.452830188679 143.536111260469 146.85534591195 137.955351178834 151.25786163522 132.674904817718 155.660377358491 127.826431515328 160.062893081761 123.530820064512 164.465408805031 119.895174547411 168.867924528302 117.010143869439 173.270440251572 114.947661576321 177.672955974843 113.759152308172 182.075471698113 113.474249609772 186.477987421384 114.100057066341 190.880503144654 115.620971187199 195.283018867925 117.99907045342 199.685534591195 121.175060829205 204.088050314465 125.069754162185 208.490566037736 129.586042611152 212.893081761006 134.61131987208 217.295597484277 140.020288833092 221.698113207547 145.678085654073 226.100628930818 151.443642377087 230.503144654088 157.173204226377 234.905660377358 162.723913899796 239.308176100629 167.957373483191 243.710691823899 172.743095177207 248.11320754717 176.961754798248 252.51572327044 180.508166932838 256.918238993711 183.293907564765 261.320754716981 185.249518784049 265.723270440252 186.32624060691 270.125786163522 186.497226726627 274.528301886793 185.758213882516 278.930817610063 184.1276281574 283.333333333333 181.646125553208 287.735849056604 178.375578299726 292.138364779874 174.397532171215 296.540880503145 169.811173275216 300.943396226415 164.730855008339 305.345911949686 159.283246840389 309.748427672956 153.604176017235 314.150943396226 147.835240929443 318.553459119497 142.120280586798 322.955974842767 136.601788226637 327.358490566038 131.417358476828 331.761006289308 126.696256657602 336.163522012579 122.556195761122 340.566037735849 119.100401469551 344.96855345912 116.415038390631 349.37106918239 114.567061683383 353.77358490566 113.602547640162 358.176100628931 113.545544849274 362.578616352201 114.397474582563 366.981132075472 116.137095358302 371.383647798742 118.721032562983 375.786163522013 122.08485992673 380.188679245283 126.144705887507 384.591194968554 130.799344792054 388.993710691824 135.932720792844 393.396226415094 141.416841511809 397.798742138365 147.114969322028 402.201257861635 152.885030677972 406.603773584906 158.583158488191 411.006289308176 164.067279207156 415.408805031447 169.200655207946 419.811320754717 173.855294112493 424.213836477987 177.91514007327 428.616352201258 181.278967437017 433.018867924528 183.862904641698 437.421383647799 185.602525417437 441.823899371069 186.454455150726 446.22641509434 186.397452359838 450.62893081761 185.432938316617 455.03144654088 183.584961609369 459.433962264151 180.899598530449 463.836477987421 177.443804238879 468.238993710692 173.303743342398 472.641509433962 168.582641523172 477.044025157233 163.398211773363 481.446540880503 157.879719413202 485.849056603774 152.164759070557 490.251572327044 146.395823982765 494.654088050314 140.716753159611 499.056603773585 135.269144991661 503.459119496855 130.188826724784 507.861635220126 125.602467828785 512.264150943396 121.624421700274 516.666666666667 118.353874446792 521.069182389937 115.8723718426 525.471698113208 114.241786117484 529.874213836478 113.502773273373 534.276729559748 113.67375939309 538.679245283019 114.750481215951 543.081761006289 116.706092435235 547.48427672956 119.491833067162 551.88679245283 123.038245201752 556.289308176101 127.256904822792 560.691823899371 132.042626516809 565.094339622642 137.276086100204 569.496855345912 142.826795773623 573.899371069182 148.556357622913 578.301886792453 154.321914345927 582.704402515723 159.979711166908 587.106918238994 165.38868012792 591.509433962264 170.413957388848 595.911949685535 174.930245837815 600.314465408805 178.824939170795 604.716981132075 182.00092954658 609.119496855346 184.379028812801 613.522012578616 185.899942933659 617.924528301887 186.525750390228 622.327044025157 186.240847691828 626.729559748428 185.052338423679 631.132075471698 182.989856130561 635.534591194969 180.104825452589 639.937106918239 176.469179935488 644.339622641509 172.173568484672 648.74213836478 167.325095182282 653.14465408805 162.044648821166 657.547169811321 156.463888739531 661.949685534591 150.721962109563 666.352201257862 144.962034529097 670.754716981132 139.327720420378 675.157232704403 133.959502238123 679.559748427673 128.991227768082 683.962264150943 124.546772850291 688.364779874214 120.736952736558 692.767295597484 117.656759092464 697.169811320755 115.382991534745 701.572327044025 113.972342757806 705.974842767296 113.459984993637 710.377358490566 113.858693049429 714.779874213837 115.15852578855 719.182389937107 117.327073996605 723.584905660377 120.31026845247 727.987421383648 124.033728056339 732.389937106918 128.404614401429 736.792452830189 133.313946548589 741.194968553459 138.639318288699 745.59748427673 144.247950142326 750 150 Z; M 50 150 C 50 150 54.4025157232704 147.876562518831 58.8050314465409 145.806069496212 63.2075471698113 143.840145306764 67.6100628930818 142.027807071399 72.0125786163522 140.414242495162 76.4150943396226 139.039683185331 80.8176100628931 137.938401541753 85.2201257861635 137.137856230317 89.622641509434 136.658007545797 94.0251572327044 136.51081973438 98.4276729559749 136.699962684654 102.830188679245 137.220720424909 107.232704402516 138.060108708216 111.635220125786 139.197198753498 116.037735849057 140.603639070635 120.440251572327 142.244362358736 124.842767295597 144.078459852232 129.245283018868 146.06020131438 133.647798742138 148.140175246311 138.050314465409 150.266520882357 142.452830188679 152.386221253857 146.85534591195 154.446425081011 151.25786163522 156.395764533543 155.660377358491 158.185636003973 160.062893081761 159.771411959485 164.465408805031 161.113553656841 168.867924528302 162.178596976616 173.270440251572 162.939986796562 177.672955974843 163.378739100376 182.075471698113 163.483914313254 186.477987421384 163.252890062395 190.880503144654 162.691426561595 195.283018867925 161.813522989688 199.685534591195 160.641068443805 204.088050314465 159.203296170348 208.490566037736 157.536054681557 212.893081761006 155.680913931188 217.295597484277 153.684128835355 221.698113207547 151.595485981454 226.100628930818 149.46706228062 230.503144654088 147.351926514676 234.905660377358 145.30281615241 239.308176100629 143.370822426601 243.710691823899 141.604116457257 248.11320754717 140.046748183117 252.51572327044 138.737548048105 256.918238993711 137.709158827389 261.320754716981 136.987221732897 265.723270440252 136.589737091417 270.125786163522 136.526615535737 274.528301886793 136.799430899143 278.930817610063 137.401380974445 283.333333333333 138.31745711595 287.735849056604 139.524818455615 292.138364779874 140.993361402931 296.540880503145 142.686470228973 300.943396226415 144.561930020018 305.345911949686 146.572979237736 309.748427672956 148.669475642059 314.150943396226 150.799146506352 318.553459119497 152.9088919528 322.955974842767 154.94610891146 327.358490566038 156.860002692221 331.761006289308 158.602853467756 336.163522012579 160.131206089766 340.566037735849 161.406953572404 344.96855345912 162.398287227956 349.37106918239 163.08048976472 353.77358490566 163.436551572452 358.176100628931 163.457594829325 362.578616352201 163.143094855968 366.981132075472 162.500893197494 371.383647798742 161.547002107331 375.786163522013 160.305205307737 380.188679245283 158.806464981385 384.591194968554 157.088149779711 388.993710691824 155.193103096402 393.396226415094 153.168574837078 397.798742138365 151.065043319775 402.201257861635 148.934956680225 406.603773584906 146.831425162922 411.006289308176 144.806896903598 415.408805031447 142.911850220289 419.811320754717 141.193535018615 424.213836477987 139.694794692263 428.616352201258 138.452997892669 433.018867924528 137.499106802506 437.421383647799 136.856905144032 441.823899371069 136.542405170675 446.22641509434 136.563448427548 450.62893081761 136.91951023528 455.03144654088 137.601712772044 459.433962264151 138.593046427596 463.836477987421 139.868793910234 468.238993710692 141.397146532244 472.641509433962 143.139997307779 477.044025157233 145.05389108854 481.446540880503 147.0911080472 485.849056603774 149.200853493648 490.251572327044 151.330524357941 494.654088050314 153.427020762264 499.056603773585 155.438069979982 503.459119496855 157.313529771027 507.861635220126 159.006638597069 512.264150943396 160.475181544385 516.666666666667 161.68254288405 521.069182389937 162.598619025555 525.471698113208 163.200569100857 529.874213836478 163.473384464263 534.276729559748 163.410262908583 538.679245283019 163.012778267103 543.081761006289 162.290841172611 547.48427672956 161.262451951895 551.88679245283 159.953251816883 556.289308176101 158.395883542743 560.691823899371 156.629177573399 565.094339622642 154.69718384759 569.496855345912 152.648073485324 573.899371069182 150.53293771938 578.301886792453 148.404514018546 582.704402515723 146.315871164645 587.106918238994 144.319086068812 591.509433962264 142.463945318443 595.911949685535 140.796703829652 600.314465408805 139.358931556195 604.716981132075 138.186477010312 609.119496855346 137.308573438405 613.522012578616 136.747109937605 617.924528301887 136.516085686746 622.327044025157 136.621260899624 626.729559748428 137.060013203438 631.132075471698 137.821403023384 635.534591194969 138.886446343159 639.937106918239 140.228588040515 644.339622641509 141.814363996027 648.74213836478 143.604235466457 653.14465408805 145.553574918989 657.547169811321 147.613778746143 661.949685534591 149.733479117643 666.352201257862 151.859824753689 670.754716981132 153.93979868562 675.157232704403 155.921540147768 679.559748427673 157.755637641264 683.962264150943 159.396360929365 688.364779874214 160.802801246502 692.767295597484 161.939891291784 697.169811320755 162.779279575091 701.572327044025 163.300037315346 705.974842767296 163.48918026562 710.377358490566 163.341992454203 714.779874213837 162.862143769683 719.182389937107 162.061598458247 723.584905660377 160.960316814669 727.987421383648 159.585757504838 732.389937106918 157.972192928601 736.792452830189 156.159854693236 741.194968553459 154.193930503788 745.59748427673 152.123437481169 750 150 Z; M 50 150 C 50 150 54.4025157232704 142.294111452538 58.8050314465409 134.780356697764 63.2075471698113 127.646078984865 67.6100628930818 121.069159920436 72.0125786163522 115.213584280049 76.4150943396226 110.225351314697 80.8176100628931 106.228834497023 85.2201257861635 103.323680471145 89.622641509434 101.582324525726 94.0251572327044 101.048184537907 98.4276729559749 101.734578419186 102.830188679245 103.624392054962 107.232704402516 106.670506017143 111.635220125786 110.79697041041 116.037735849057 115.900898559284 120.440251572327 121.855032319967 124.842767295597 128.510915055104 129.245283018868 135.702593158473 133.647798742138 143.250753838138 138.050314465409 150.967195989159 142.452830188679 158.659522681913 146.85534591195 166.135938266494 151.25786163522 173.21003048517 155.660377358491 179.705418358715 160.062893081761 185.460149959142 164.465408805031 190.330740417512 168.867924528302 194.19574948568 173.270440251572 196.958809451281 177.672955974843 198.551027909847 182.075471698113 198.93270548481 186.477987421384 198.094325666865 190.880503144654 196.056792092646 195.283018867925 192.870907346557 199.685534591195 188.616106280993 204.088050314465 183.39847543754 208.490566037736 177.348107951677 212.893081761006 170.615859892119 217.295597484277 163.369588910196 221.698113207547 155.789968982442 226.100628930818 148.065985598963 230.503144654088 140.390223717742 234.905660377358 132.954065972061 239.308176100629 125.942920855944 243.710691823899 119.531599865036 248.11320754717 113.879958856389 252.51572327044 109.128912302775 256.918238993711 105.396919819585 261.320754716981 102.777032567067 265.723270440252 101.334573171046 270.125786163522 101.105507009538 274.528301886793 102.095545474566 278.930817610063 104.280003567896 283.333333333333 107.6044153813 287.735849056604 111.985892115358 292.138364779874 117.315188776802 296.540880503145 123.459428024673 300.943396226415 130.265413250611 305.345911949686 137.563448287018 309.748427672956 145.171568504888 314.150943396226 152.900077805752 318.553459119497 160.556278385244 322.955974842767 167.949275339309 327.358490566038 174.894736318037 331.761006289308 181.219487552875 336.163522012579 186.765831662779 340.566037735849 191.39547958182 344.96855345912 194.992998572032 349.37106918239 197.468690350913 353.77358490566 198.760827572152 358.176100628931 198.837192896574 362.578616352201 197.695882279067 366.981132075472 195.365352442854 371.383647798742 191.903711357399 375.786163522013 187.397269410733 380.188679245283 181.95838740037 384.591194968554 175.72267499964 388.993710691824 168.845609551132 393.396226415094 161.498659492139 397.798742138365 153.865009068167 402.201257861635 146.134990931833 406.603773584906 138.501340507861 411.006289308176 131.154390448868 415.408805031447 124.27732500036 419.811320754717 118.04161259963 424.213836477987 112.602730589267 428.616352201258 108.096288642601 433.018867924528 104.634647557146 437.421383647799 102.304117720933 441.823899371069 101.162807103426 446.22641509434 101.239172427848 450.62893081761 102.531309649087 455.03144654088 105.007001427968 459.433962264151 108.60452041818 463.836477987421 113.234168337221 468.238993710692 118.780512447125 472.641509433962 125.105263681963 477.044025157233 132.050724660691 481.446540880503 139.443721614756 485.849056603774 147.099922194248 490.251572327044 154.828431495112 494.654088050314 162.436551712982 499.056603773585 169.734586749389 503.459119496855 176.540571975327 507.861635220126 182.684811223198 512.264150943396 188.014107884642 516.666666666667 192.3955846187 521.069182389937 195.719996432104 525.471698113208 197.904454525434 529.874213836478 198.894492990462 534.276729559748 198.665426828954 538.679245283019 197.222967432933 543.081761006289 194.603080180415 547.48427672956 190.871087697225 551.88679245283 186.120041143611 556.289308176101 180.468400134964 560.691823899371 174.057079144055 565.094339622642 167.045934027939 569.496855345912 159.609776282258 573.899371069182 151.934014401037 578.301886792453 144.210031017558 582.704402515723 136.630411089804 587.106918238994 129.384140107881 591.509433962264 122.651892048323 595.911949685535 116.60152456246 600.314465408805 111.383893719007 604.716981132075 107.129092653443 609.119496855346 103.943207907354 613.522012578616 101.905674333135 617.924528301887 101.06729451519 622.327044025157 101.448972090153 626.729559748428 103.041190548719 631.132075471698 105.80425051432 635.534591194969 109.669259582488 639.937106918239 114.539850040858 644.339622641509 120.294581641285 648.74213836478 126.78996951483 653.14465408805 133.864061733506 657.547169811321 141.340477318087 661.949685534591 149.032804010841 666.352201257862 156.749246161861 670.754716981132 164.297406841528 675.157232704403 171.489084944896 679.559748427673 178.144967680033 683.962264150943 184.099101440716 688.364779874214 189.20302958959 692.767295597484 193.329493982857 697.169811320755 196.375607945038 701.572327044025 198.265421580814 705.974842767296 198.951815462093 710.377358490566 198.417675474274 714.779874213837 196.676319528855 719.182389937107 193.771165502977 723.584905660377 189.774648685303 727.987421383648 184.786415719951 732.389937106918 178.930840079564 736.792452830189 172.353921015135 741.194968553459 165.219643302236 745.59748427673 157.705888547462 750 150 Z; M 50 150 C 50 150 54.4025157232704 145.033017670489 58.8050314465409 140.189878963593 63.2075471698113 135.591339662701 67.6100628930818 131.352056863003 72.0125786163522 127.577730183377 76.4150943396226 124.362466318375 80.8176100628931 121.786432640919 85.2201257861635 119.913858359295 89.622641509434 118.79143306635 94.0251572327044 118.447142610468 98.4276729559749 118.889571313971 102.830188679245 120.107687937013 107.232704402516 122.071120723595 111.635220125786 124.730914671882 116.037735849057 128.020752147522 120.440251572327 131.858606405951 124.842767295597 136.148786795805 129.245283018868 140.78432464961 133.647798742138 145.649640373461 138.050314465409 150.623425236134 142.452830188679 155.581666004919 146.85534591195 160.400737013794 151.25786163522 164.960482568259 155.660377358491 169.14721283207 160.062893081761 172.856538498325 164.465408805031 175.995973566975 168.867924528302 178.487241332755 173.270440251572 180.268226087465 177.672955974843 181.294521874084 182.075471698113 181.540539677058 186.477987421384 181.000145442766 190.880503144654 179.686813022163 195.283018867925 177.633288222237 199.685534591195 174.890772342585 204.088050314465 171.527645554321 208.490566037736 167.627761951771 212.893081761006 163.288358787068 217.295597484277 158.617632017484 221.698113207547 153.732038615284 226.100628930818 148.753392902609 230.503144654088 143.805829309554 234.905660377358 139.012707284137 239.308176100629 134.493535525176 243.710691823899 130.360992227343 248.11320754717 126.71811563371 252.51572327044 123.655734944821 256.918238993711 121.250205640354 261.320754716981 119.561505679484 265.723270440252 118.631740048053 270.125786163522 118.484090939258 274.528301886793 119.12223974339 278.930817610063 120.530275258347 283.333333333333 122.673090409577 287.735849056604 125.497257587857 292.138364779874 128.932360779797 296.540880503145 132.892751276557 300.943396226415 137.279683185049 305.345911949686 141.983775496107 309.748427672956 146.887739321979 314.150943396226 151.869302303901 318.553459119497 156.804257274416 322.955974842767 161.569559160993 327.358490566038 166.046392914708 331.761006289308 170.123135970166 336.163522012579 173.698141372541 340.566037735849 176.682272179015 344.96855345912 179.001123943403 349.37106918239 180.596879869962 353.77358490566 181.429752381116 358.176100628931 181.478975155966 362.578616352201 180.743320904711 366.981132075472 179.241131969124 371.383647798742 177.009862986103 375.786163522013 174.105147017244 380.188679245283 170.599408428972 384.591194968554 166.5800571088 388.993710691824 162.147309042014 393.396226415094 157.41168758914 397.798742138365 152.49126776578 402.201257861635 147.50873223422 406.603773584906 142.58831241086 411.006289308176 137.852690957986 415.408805031447 133.4199428912 419.811320754717 129.400591571028 424.213836477987 125.894852982756 428.616352201258 122.990137013897 433.018867924528 120.758868030876 437.421383647799 119.256679095289 441.823899371069 118.521024844034 446.22641509434 118.570247618884 450.62893081761 119.403120130038 455.03144654088 120.998876056597 459.433962264151 123.317727820985 463.836477987421 126.301858627459 468.238993710692 129.876864029834 472.641509433962 133.953607085292 477.044025157233 138.430440839007 481.446540880503 143.195742725584 485.849056603774 148.130697696099 490.251572327044 153.112260678021 494.654088050314 158.016224503893 499.056603773585 162.720316814951 503.459119496855 167.107248723443 507.861635220126 171.067639220203 512.264150943396 174.502742412143 516.666666666667 177.326909590423 521.069182389937 179.469724741653 525.471698113208 180.87776025661 529.874213836478 181.515909060742 534.276729559748 181.368259951947 538.679245283019 180.438494320516 543.081761006289 178.749794359646 547.48427672956 176.344265055179 551.88679245283 173.28188436629 556.289308176101 169.639007772657 560.691823899371 165.506464474824 565.094339622642 160.987292715863 569.496855345912 156.194170690446 573.899371069182 151.246607097391 578.301886792453 146.267961384716 582.704402515723 141.382367982516 587.106918238994 136.711641212932 591.509433962264 132.372238048229 595.911949685535 128.472354445679 600.314465408805 125.109227657415 604.716981132075 122.366711777763 609.119496855346 120.313186977837 613.522012578616 118.999854557234 617.924528301887 118.459460322942 622.327044025157 118.705478125916 626.729559748428 119.731773912535 631.132075471698 121.512758667245 635.534591194969 124.004026433025 639.937106918239 127.143461501675 644.339622641509 130.85278716793 648.74213836478 135.039517431741 653.14465408805 139.599262986206 657.547169811321 144.418333995081 661.949685534591 149.376574763866 666.352201257862 154.350359626539 670.754716981132 159.21567535039 675.157232704403 163.851213204195 679.559748427673 168.141393594049 683.962264150943 171.979247852478 688.364779874214 175.269085328118 692.767295597484 177.928879276405 697.169811320755 179.892312062987 701.572327044025 181.110428686029 705.974842767296 181.552857389532 710.377358490566 181.20856693365 714.779874213837 180.086141640705 719.182389937107 178.213567359081 723.584905660377 175.637533681625 727.987421383648 172.422269816623 732.389937106918 168.647943136997 736.792452830189 164.408660337299 741.194968553459 159.810121036407 745.59748427673 154.966982329511 750 150 Z; M 50 150 C 50 150 54.4025157232704 153.135618721789 58.8050314465409 156.193055892712 63.2075471698113 159.096079291666 67.6100628930818 161.772306753703 72.0125786163522 164.155010901545 76.4150943396226 166.184782884162 80.8176100628931 167.811013639805 85.2201257861635 168.993155750623 89.622641509434 169.701734426544 94.0251572327044 169.919082411211 98.4276729559749 169.639780486274 102.830188679245 168.870792590779 107.232704402516 167.63129218668 111.635220125786 165.952184199765 116.037735849057 163.875334455611 120.440251572327 161.452525823349 124.842767295597 158.744167094076 129.245283018868 155.817786785937 133.647798742138 152.746349430406 138.050314465409 149.606436320411 142.452830188679 146.476336080398 146.85534591195 143.434092666871 151.25786163522 140.555559469315 155.660377358491 137.912508029351 160.062893081761 135.570838534129 164.465408805031 133.588936702384 168.867924528302 132.016218031541 173.270440251572 130.891895702688 177.672955974843 130.244002863711 182.075471698113 130.088693668364 186.477987421384 130.42984049873 190.880503144654 131.258937413672 195.283018867925 132.555312230641 199.685534591195 134.286641952905 204.088050314465 136.409758690884 208.490566037736 138.871725983237 212.893081761006 141.611158681395 217.295597484277 144.559753488358 221.698113207547 147.643991990268 226.100628930818 150.786973718443 230.503144654088 153.910333537432 234.905660377358 156.936195552165 239.308176100629 159.789114816682 243.710691823899 162.397958431104 248.11320754717 164.697679124752 252.51572327044 166.630937104004 256.918238993711 168.149529726748 261.320754716981 169.215593356838 265.723270440252 169.802547432247 270.125786163522 169.895757208139 274.528301886793 169.492898650412 278.930817610063 168.604016381713 283.333333333333 167.251273235113 287.735849056604 165.468397659924 292.138364779874 163.2998427577 296.540880503145 160.799677916473 300.943396226415 158.030240678544 305.345911949686 155.060582455292 309.748427672956 151.964746842587 314.150943396226 148.819923464198 318.553459119497 145.704523374129 322.955974842767 142.69622400456 327.358490566038 139.870032405471 331.761006289308 137.296415065891 336.163522012579 135.039540946653 340.566037735849 133.155681531762 344.96855345912 131.691807790503 349.37106918239 130.684419032747 353.77358490566 130.158632858046 358.176100628931 130.127558889161 362.578616352201 130.591971904947 366.981132075472 131.540292522499 371.383647798742 132.948875910231 375.786163522013 134.782601333274 380.188679245283 136.995747831858 384.591194968554 139.533134199049 388.993710691824 142.33149483436 393.396226415094 145.321057168559 397.798742138365 148.427281329157 402.201257861635 151.572718670843 406.603773584906 154.678942831441 411.006289308176 157.66850516564 415.408805031447 160.466865800951 419.811320754717 163.004252168142 424.213836477987 165.217398666726 428.616352201258 167.051124089769 433.018867924528 168.459707477501 437.421383647799 169.408028095053 441.823899371069 169.872441110839 446.22641509434 169.841367141954 450.62893081761 169.315580967253 455.03144654088 168.308192209497 459.433962264151 166.844318468238 463.836477987421 164.960459053347 468.238993710692 162.703584934109 472.641509433962 160.129967594529 477.044025157233 157.30377599544 481.446540880503 154.295476625871 485.849056603774 151.180076535802 490.251572327044 148.035253157413 494.654088050314 144.939417544708 499.056603773585 141.969759321456 503.459119496855 139.200322083527 507.861635220126 136.7001572423 512.264150943396 134.531602340076 516.666666666667 132.748726764887 521.069182389937 131.395983618287 525.471698113208 130.507101349588 529.874213836478 130.104242791861 534.276729559748 130.197452567753 538.679245283019 130.784406643162 543.081761006289 131.850470273252 547.48427672956 133.369062895996 551.88679245283 135.302320875248 556.289308176101 137.602041568896 560.691823899371 140.210885183318 565.094339622642 143.063804447835 569.496855345912 146.089666462568 573.899371069182 149.213026281557 578.301886792453 152.356008009732 582.704402515723 155.440246511642 587.106918238994 158.388841318605 591.509433962264 161.128274016763 595.911949685535 163.590241309116 600.314465408805 165.713358047095 604.716981132075 167.444687769359 609.119496855346 168.741062586328 613.522012578616 169.57015950127 617.924528301887 169.911306331636 622.327044025157 169.755997136289 626.729559748428 169.108104297312 631.132075471698 167.983781968459 635.534591194969 166.411063297616 639.937106918239 164.429161465871 644.339622641509 162.087491970649 648.74213836478 159.444440530685 653.14465408805 156.565907333129 657.547169811321 153.523663919602 661.949685534591 150.39356367959 666.352201257862 147.253650569594 670.754716981132 144.182213214063 675.157232704403 141.255832905924 679.559748427673 138.547474176651 683.962264150943 136.124665544389 688.364779874214 134.047815800235 692.767295597484 132.36870781332 697.169811320755 131.129207409221 701.572327044025 130.360219513726 705.974842767296 130.080917588789 710.377358490566 130.298265573456 714.779874213837 131.006844249377 719.182389937107 132.188986360195 723.584905660377 133.815217115838 727.987421383648 135.844989098455 732.389937106918 138.227693246297 736.792452830189 140.903920708334 741.194968553459 143.806944107288 745.59748427673 146.864381278211 750 150 Z; M 50 150 C 50 150 54.4025157232704 157.852159420611 58.8050314465409 165.50853802231 63.2075471698113 172.77823646235 67.6100628930818 179.479996638647 72.0125786163522 185.446721065632 76.4150943396226 190.52963917817 80.8176100628931 194.602016683535 85.2201257861635 197.562315474794 89.622641509434 199.336725318284 94.0251572327044 199.8810041917 98.4276729559749 199.181581386927 102.830188679245 197.255895873574 107.232704402516 194.151961486633 111.635220125786 189.947169779636 116.037735849057 184.746360392184 120.440251572327 178.679207044121 124.842767295597 171.896984332322 129.245283018868 164.568795944758 133.647798742138 156.877358335184 138.050314465409 149.014444985666 142.452830188679 141.176104846834 146.85534591195 133.557774176296 151.25786163522 126.349403653542 155.660377358491 119.730722268826 160.062893081761 113.866756073225 164.465408805031 108.903713522573 168.867924528302 104.965340007509 173.270440251572 102.149832463508 177.672955974843 100.527390990069 182.075471698113 100.13846852546 186.477987421384 100.992762218521 190.880503144654 103.068971646035 195.283018867925 106.315329904127 199.685534591195 110.650894331775 204.088050314465 115.967564684371 208.490566037736 122.13277843742 212.893081761006 128.992816017403 217.295597484277 136.376633549225 221.698113207547 144.100127556931 226.100628930818 151.970725284328 230.503144654088 159.792186183326 234.905660377358 167.369494852698 239.308176100629 174.513723429807 243.710691823899 181.046742199448 248.11320754717 186.805660968469 252.51572327044 191.646890467695 256.918238993711 195.449722516724 261.320754716981 198.119339685996 265.723270440252 199.589179415127 270.125786163522 199.822593642046 274.528301886793 198.813762562793 278.930817610063 196.587839738861 283.333333333333 193.200324934068 287.735849056604 188.73568031825 292.138364779874 183.305224540482 296.540880503145 177.044357179696 300.943396226415 170.10918277648 305.345911949686 162.672618620364 309.748427672956 154.920083338554 314.150943396226 147.04487378416 318.553459119497 139.243345493675 322.955974842767 131.710016881164 327.358490566038 124.632719238107 331.761006289308 118.187913465771 336.163522012579 112.536290309752 340.566037735849 107.818763797695 344.96855345912 104.152957777295 349.37106918239 101.630273157041 353.77358490566 100.313608973282 358.176100628931 100.235794105098 362.578616352201 101.398768739613 366.981132075472 103.773535996591 371.383647798742 107.300884918461 375.786163522013 111.892866799201 380.188679245283 117.434988042225 384.591194968554 123.789064871918 388.993710691824 130.796668721243 393.396226415094 138.283076390283 397.798742138365 146.061626484936 402.201257861635 153.938373515064 406.603773584906 161.716923609717 411.006289308176 169.203331278757 415.408805031447 176.210935128082 419.811320754717 182.565011957775 424.213836477987 188.107133200799 428.616352201258 192.699115081539 433.018867924528 196.226464003409 437.421383647799 198.601231260387 441.823899371069 199.764205894902 446.22641509434 199.686391026718 450.62893081761 198.369726842959 455.03144654088 195.847042222705 459.433962264151 192.181236202305 463.836477987421 187.463709690248 468.238993710692 181.812086534229 472.641509433962 175.367280761893 477.044025157233 168.289983118836 481.446540880503 160.756654506325 485.849056603774 152.95512621584 490.251572327044 145.079916661446 494.654088050314 137.327381379636 499.056603773585 129.89081722352 503.459119496855 122.955642820304 507.861635220126 116.694775459518 512.264150943396 111.26431968175 516.666666666667 106.799675065932 521.069182389937 103.412160261139 525.471698113208 101.186237437207 529.874213836478 100.177406357954 534.276729559748 100.410820584873 538.679245283019 101.880660314004 543.081761006289 104.550277483276 547.48427672956 108.353109532305 551.88679245283 113.194339031531 556.289308176101 118.953257800552 560.691823899371 125.486276570193 565.094339622642 132.630505147302 569.496855345912 140.207813816674 573.899371069182 148.029274715672 578.301886792453 155.899872443069 582.704402515723 163.623366450775 587.106918238994 171.007183982597 591.509433962264 177.86722156258 595.911949685535 184.032435315629 600.314465408805 189.349105668225 604.716981132075 193.684670095873 609.119496855346 196.931028353965 613.522012578616 199.007237781479 617.924528301887 199.86153147454 622.327044025157 199.472609009931 626.729559748428 197.850167536492 631.132075471698 195.034659992491 635.534591194969 191.096286477427 639.937106918239 186.133243926775 644.339622641509 180.269277731174 648.74213836478 173.650596346457 653.14465408805 166.442225823704 657.547169811321 158.823895153166 661.949685534591 150.985555014334 666.352201257862 143.122641664816 670.754716981132 135.431204055242 675.157232704403 128.103015667678 679.559748427673 121.320792955879 683.962264150943 115.253639607816 688.364779874214 110.052830220364 692.767295597484 105.848038513367 697.169811320755 102.744104126426 701.572327044025 100.818418613073 705.974842767296 100.1189958083 710.377358490566 100.663274681716 714.779874213837 102.437684525206 719.182389937107 105.397983316465 723.584905660377 109.47036082183 727.987421383648 114.553278934368 732.389937106918 120.520003361353 736.792452830189 127.22176353765 741.194968553459 134.49146197769 745.59748427673 142.147840579389 750 150 Z; M 50 150 C 50 150 54.4025157232704 154.08938931844 58.8050314465409 158.076816368066 63.2075471698113 161.862861143335 67.6100628930818 165.353124778043 72.0125786163522 168.460583227466 76.4150943396226 171.107757071307 80.8176100628931 173.228643336987 85.2201257861635 174.770361176361 89.622641509434 175.694470363632 94.0251572327044 175.977929739833 98.4276729559749 175.613671706635 102.830188679245 174.610778445411 107.232704402516 172.994255467825 111.635220125786 170.804408144078 116.037735849057 168.09583675409 120.440251572327 164.936075118357 124.842767295597 161.40390675202 129.245283018868 157.587400526108 133.647798742138 153.581714813528 138.050314465409 149.486724869878 142.452830188679 145.404532606448 146.85534591195 141.436920845196 151.25786163522 137.682815529691 155.660377358491 134.235819167675 160.062893081761 131.18187700483 164.465408805031 128.59713411992 168.867924528302 126.546036871149 173.270440251572 125.079726031076 177.672955974843 124.234761674664 182.075471698113 124.032211613302 186.477987421384 124.477126103199 190.880503144654 125.558411925471 195.283018867925 127.249108977497 199.685534591195 129.507062479217 204.088050314465 132.27597403398 208.490566037736 135.486805337461 212.893081761006 139.059499535447 217.295597484277 142.90497731124 221.698113207547 146.927357933473 226.100628930818 151.026349886142 230.503144654088 155.099751474372 234.905660377358 159.04599905739 239.308176100629 162.766699372648 243.710691823899 166.169082811732 248.11320754717 169.168316479605 252.51572327044 171.689619364807 256.918238993711 173.670126882306 261.320754716981 175.060458299634 265.723270440252 175.825947965107 270.125786163522 175.947509639445 274.528301886793 175.42211238009 278.930817610063 174.262856112831 283.333333333333 172.498645006467 287.735849056604 170.173466794391 292.138364779874 167.345296012023 296.540880503145 164.08464849611 300.943396226415 160.472823187064 305.345911949686 156.599875072168 309.748427672956 152.562369810998 314.150943396226 148.46097602782 318.553459119497 144.397955303244 322.955974842767 140.474612448101 327.358490566038 136.788769632815 331.761006289308 133.432327350755 336.163522012579 130.488973028961 340.566037735849 128.032094418317 344.96855345912 126.122949789395 349.37106918239 124.80914055715 353.77358490566 124.123424417091 358.176100628931 124.082898585441 362.578616352201 124.688573507873 366.981132075472 125.925347665689 371.383647798742 127.762384107619 375.786163522013 130.153879319023 380.188679245283 133.040205258003 384.591194968554 136.349396083611 388.993710691824 139.998942506989 393.396226415094 143.897849026246 397.798742138365 147.948902751229 402.201257861635 152.051097248771 406.603773584906 156.102150973754 411.006289308176 160.001057493011 415.408805031447 163.650603916389 419.811320754717 166.959794741996 424.213836477987 169.846120680977 428.616352201258 172.237615892381 433.018867924528 174.074652334311 437.421383647799 175.311426492127 441.823899371069 175.917101414559 446.22641509434 175.876575582909 450.62893081761 175.19085944285 455.03144654088 173.877050210605 459.433962264151 171.967905581683 463.836477987421 169.511026971039 468.238993710692 166.567672649245 472.641509433962 163.211230367185 477.044025157233 159.525387551899 481.446540880503 155.602044696756 485.849056603774 151.53902397218 490.251572327044 147.437630189002 494.654088050314 143.400124927832 499.056603773585 139.527176812936 503.459119496855 135.91535150389 507.861635220126 132.654703987977 512.264150943396 129.826533205609 516.666666666667 127.501354993532 521.069182389937 125.737143887169 525.471698113208 124.57788761991 529.874213836478 124.052490360555 534.276729559748 124.174052034893 538.679245283019 124.939541700366 543.081761006289 126.329873117694 547.48427672956 128.310380635193 551.88679245283 130.831683520395 556.289308176101 133.830917188268 560.691823899371 137.233300627352 565.094339622642 140.95400094261 569.496855345912 144.900248525628 573.899371069182 148.973650113858 578.301886792453 153.072642066527 582.704402515723 157.09502268876 587.106918238994 160.940500464553 591.509433962264 164.513194662539 595.911949685535 167.72402596602 600.314465408805 170.492937520783 604.716981132075 172.750891022503 609.119496855346 174.441588074529 613.522012578616 175.522873896801 617.924528301887 175.967788386698 622.327044025157 175.765238325336 626.729559748428 174.920273968924 631.132075471698 173.453963128851 635.534591194969 171.40286588008 639.937106918239 168.81812299517 644.339622641509 165.764180832325 648.74213836478 162.317184470309 653.14465408805 158.563079154804 657.547169811321 154.595467393552 661.949685534591 150.513275130122 666.352201257862 146.418285186472 670.754716981132 142.412599473892 675.157232704403 138.59609324798 679.559748427673 135.063924881643 683.962264150943 131.90416324591 688.364779874214 129.195591855922 692.767295597484 127.005744532175 697.169811320755 125.389221554589 701.572327044025 124.386328293365 705.974842767296 124.022070260167 710.377358490566 124.305529636368 714.779874213837 125.229638823639 719.182389937107 126.771356663013 723.584905660377 128.892242928693 727.987421383648 131.539416772534 732.389937106918 134.646875221957 736.792452830189 138.137138856665 741.194968553459 141.923183631934 745.59748427673 145.91061068156 750 150 Z; M 50 150 C 50 150 54.4025157232704 145.91061068156 58.8050314465409 141.923183631934 63.2075471698113 138.137138856665 67.6100628930818 134.646875221957 72.0125786163522 131.539416772534 76.4150943396226 128.892242928693 80.8176100628931 126.771356663013 85.2201257861635 125.229638823639 89.622641509434 124.305529636368 94.0251572327044 124.022070260167 98.4276729559749 124.386328293365 102.830188679245 125.389221554589 107.232704402516 127.005744532175 111.635220125786 129.195591855922 116.037735849057 131.90416324591 120.440251572327 135.063924881643 124.842767295597 138.59609324798 129.245283018868 142.412599473892 133.647798742138 146.418285186472 138.050314465409 150.513275130122 142.452830188679 154.595467393552 146.85534591195 158.563079154804 151.25786163522 162.317184470309 155.660377358491 165.764180832325 160.062893081761 168.81812299517 164.465408805031 171.40286588008 168.867924528302 173.453963128851 173.270440251572 174.920273968924 177.672955974843 175.765238325336 182.075471698113 175.967788386698 186.477987421384 175.522873896801 190.880503144654 174.441588074529 195.283018867925 172.750891022503 199.685534591195 170.492937520783 204.088050314465 167.72402596602 208.490566037736 164.513194662539 212.893081761006 160.940500464552 217.295597484277 157.09502268876 221.698113207547 153.072642066527 226.100628930818 148.973650113858 230.503144654088 144.900248525628 234.905660377358 140.95400094261 239.308176100629 137.233300627352 243.710691823899 133.830917188268 248.11320754717 130.831683520395 252.51572327044 128.310380635193 256.918238993711 126.329873117694 261.320754716981 124.939541700366 265.723270440252 124.174052034893 270.125786163522 124.052490360555 274.528301886793 124.57788761991 278.930817610063 125.737143887169 283.333333333333 127.501354993533 287.735849056604 129.826533205609 292.138364779874 132.654703987977 296.540880503145 135.91535150389 300.943396226415 139.527176812936 305.345911949686 143.400124927832 309.748427672956 147.437630189002 314.150943396226 151.53902397218 318.553459119497 155.602044696756 322.955974842767 159.525387551899 327.358490566038 163.211230367185 331.761006289308 166.567672649245 336.163522012579 169.511026971039 340.566037735849 171.967905581683 344.96855345912 173.877050210605 349.37106918239 175.19085944285 353.77358490566 175.876575582909 358.176100628931 175.917101414559 362.578616352201 175.311426492127 366.981132075472 174.074652334311 371.383647798742 172.237615892381 375.786163522013 169.846120680977 380.188679245283 166.959794741996 384.591194968554 163.650603916389 388.993710691824 160.001057493011 393.396226415094 156.102150973754 397.798742138365 152.051097248771 402.201257861635 147.948902751229 406.603773584906 143.897849026246 411.006289308176 139.99894250699 415.408805031447 136.349396083611 419.811320754717 133.040205258004 424.213836477987 130.153879319023 428.616352201258 127.762384107619 433.018867924528 125.925347665689 437.421383647799 124.688573507873 441.823899371069 124.082898585441 446.22641509434 124.123424417091 450.62893081761 124.80914055715 455.03144654088 126.122949789395 459.433962264151 128.032094418317 463.836477987421 130.488973028961 468.238993710692 133.432327350755 472.641509433962 136.788769632815 477.044025157233 140.474612448101 481.446540880503 144.397955303244 485.849056603774 148.46097602782 490.251572327044 152.562369810998 494.654088050314 156.599875072168 499.056603773585 160.472823187064 503.459119496855 164.08464849611 507.861635220126 167.345296012023 512.264150943396 170.173466794391 516.666666666667 172.498645006467 521.069182389937 174.262856112831 525.471698113208 175.42211238009 529.874213836478 175.947509639445 534.276729559748 175.825947965107 538.679245283019 175.060458299634 543.081761006289 173.670126882306 547.48427672956 171.689619364807 551.88679245283 169.168316479605 556.289308176101 166.169082811732 560.691823899371 162.766699372648 565.094339622642 159.04599905739 569.496855345912 155.099751474372 573.899371069182 151.026349886142 578.301886792453 146.927357933473 582.704402515723 142.90497731124 587.106918238994 139.059499535447 591.509433962264 135.486805337461 595.911949685535 132.27597403398 600.314465408805 129.507062479217 604.716981132075 127.249108977497 609.119496855346 125.558411925471 613.522012578616 124.477126103199 617.924528301887 124.032211613302 622.327044025157 124.234761674664 626.729559748428 125.079726031076 631.132075471698 126.546036871149 635.534591194969 128.59713411992 639.937106918239 131.18187700483 644.339622641509 134.235819167675 648.74213836478 137.682815529691 653.14465408805 141.436920845196 657.547169811321 145.404532606448 661.949685534591 149.486724869878 666.352201257862 153.581714813528 670.754716981132 157.587400526108 675.157232704403 161.40390675202 679.559748427673 164.936075118357 683.962264150943 168.09583675409 688.364779874214 170.804408144078 692.767295597484 172.994255467825 697.169811320755 174.610778445411 701.572327044025 175.613671706635 705.974842767296 175.977929739833 710.377358490566 175.694470363632 714.779874213837 174.770361176361 719.182389937107 173.228643336987 723.584905660377 171.107757071307 727.987421383648 168.460583227466 732.389937106918 165.353124778043 736.792452830189 161.862861143335 741.194968553459 158.076816368066 745.59748427673 154.08938931844 750 150 Z; M 50 150 C 50 150 54.4025157232704 142.147840579389 58.8050314465409 134.49146197769 63.2075471698113 127.22176353765 67.6100628930818 120.520003361353 72.0125786163522 114.553278934368 76.4150943396226 109.47036082183 80.8176100628931 105.397983316465 85.2201257861635 102.437684525206 89.622641509434 100.663274681716 94.0251572327044 100.1189958083 98.4276729559749 100.818418613073 102.830188679245 102.744104126426 107.232704402516 105.848038513367 111.635220125786 110.052830220364 116.037735849057 115.253639607816 120.440251572327 121.320792955879 124.842767295597 128.103015667678 129.245283018868 135.431204055242 133.647798742138 143.122641664816 138.050314465409 150.985555014334 142.452830188679 158.823895153166 146.85534591195 166.442225823704 151.25786163522 173.650596346458 155.660377358491 180.269277731174 160.062893081761 186.133243926775 164.465408805031 191.096286477427 168.867924528302 195.034659992491 173.270440251572 197.850167536492 177.672955974843 199.472609009931 182.075471698113 199.86153147454 186.477987421384 199.007237781479 190.880503144654 196.931028353965 195.283018867925 193.684670095873 199.685534591195 189.349105668225 204.088050314465 184.032435315629 208.490566037736 177.86722156258 212.893081761006 171.007183982597 217.295597484277 163.623366450775 221.698113207547 155.899872443069 226.100628930818 148.029274715672 230.503144654088 140.207813816674 234.905660377358 132.630505147302 239.308176100629 125.486276570193 243.710691823899 118.953257800552 248.11320754717 113.194339031531 252.51572327044 108.353109532305 256.918238993711 104.550277483276 261.320754716981 101.880660314004 265.723270440252 100.410820584873 270.125786163522 100.177406357954 274.528301886793 101.186237437207 278.930817610063 103.412160261139 283.333333333333 106.799675065932 287.735849056604 111.26431968175 292.138364779874 116.694775459518 296.540880503145 122.955642820304 300.943396226415 129.89081722352 305.345911949686 137.327381379636 309.748427672956 145.079916661446 314.150943396226 152.95512621584 318.553459119497 160.756654506325 322.955974842767 168.289983118836 327.358490566038 175.367280761893 331.761006289308 181.812086534229 336.163522012579 187.463709690248 340.566037735849 192.181236202305 344.96855345912 195.847042222705 349.37106918239 198.369726842959 353.77358490566 199.686391026718 358.176100628931 199.764205894902 362.578616352201 198.601231260387 366.981132075472 196.226464003409 371.383647798742 192.699115081539 375.786163522013 188.107133200799 380.188679245283 182.565011957775 384.591194968554 176.210935128082 388.993710691824 169.203331278757 393.396226415094 161.716923609717 397.798742138365 153.938373515064 402.201257861635 146.061626484936 406.603773584906 138.283076390283 411.006289308176 130.796668721243 415.408805031447 123.789064871918 419.811320754717 117.434988042225 424.213836477987 111.892866799201 428.616352201258 107.300884918461 433.018867924528 103.773535996591 437.421383647799 101.398768739613 441.823899371069 100.235794105098 446.22641509434 100.313608973282 450.62893081761 101.630273157041 455.03144654088 104.152957777295 459.433962264151 107.818763797695 463.836477987421 112.536290309752 468.238993710692 118.187913465771 472.641509433962 124.632719238107 477.044025157233 131.710016881164 481.446540880503 139.243345493675 485.849056603774 147.04487378416 490.251572327044 154.920083338554 494.654088050314 162.672618620364 499.056603773585 170.10918277648 503.459119496855 177.044357179696 507.861635220126 183.305224540482 512.264150943396 188.73568031825 516.666666666667 193.200324934068 521.069182389937 196.587839738861 525.471698113208 198.813762562793 529.874213836478 199.822593642046 534.276729559748 199.589179415127 538.679245283019 198.119339685996 543.081761006289 195.449722516724 547.48427672956 191.646890467695 551.88679245283 186.805660968469 556.289308176101 181.046742199448 560.691823899371 174.513723429807 565.094339622642 167.369494852698 569.496855345912 159.792186183326 573.899371069182 151.970725284328 578.301886792453 144.100127556931 582.704402515723 136.376633549225 587.106918238994 128.992816017403 591.509433962264 122.13277843742 595.911949685535 115.967564684371 600.314465408805 110.650894331775 604.716981132075 106.315329904127 609.119496855346 103.068971646035 613.522012578616 100.992762218521 617.924528301887 100.13846852546 622.327044025157 100.527390990069 626.729559748428 102.149832463508 631.132075471698 104.965340007509 635.534591194969 108.903713522573 639.937106918239 113.866756073225 644.339622641509 119.730722268826 648.74213836478 126.349403653543 653.14465408805 133.557774176296 657.547169811321 141.176104846834 661.949685534591 149.014444985666 666.352201257862 156.877358335184 670.754716981132 164.568795944758 675.157232704403 171.896984332322 679.559748427673 178.679207044121 683.962264150943 184.746360392184 688.364779874214 189.947169779636 692.767295597484 194.151961486633 697.169811320755 197.255895873574 701.572327044025 199.181581386927 705.974842767296 199.8810041917 710.377358490566 199.336725318284 714.779874213837 197.562315474794 719.182389937107 194.602016683535 723.584905660377 190.52963917817 727.987421383648 185.446721065632 732.389937106918 179.479996638647 736.792452830189 172.77823646235 741.194968553459 165.50853802231 745.59748427673 157.852159420611 750 150 Z; M 50 150 C 50 150 54.4025157232704 146.864381278211 58.8050314465409 143.806944107288 63.2075471698113 140.903920708334 67.6100628930818 138.227693246297 72.0125786163522 135.844989098455 76.4150943396226 133.815217115838 80.8176100628931 132.188986360194 85.2201257861635 131.006844249377 89.622641509434 130.298265573456 94.0251572327044 130.080917588789 98.4276729559749 130.360219513726 102.830188679245 131.129207409221 107.232704402516 132.36870781332 111.635220125786 134.047815800235 116.037735849057 136.124665544389 120.440251572327 138.547474176651 124.842767295597 141.255832905924 129.245283018868 144.182213214063 133.647798742138 147.253650569594 138.050314465409 150.393563679589 142.452830188679 153.523663919602 146.85534591195 156.565907333129 151.25786163522 159.444440530685 155.660377358491 162.087491970649 160.062893081761 164.429161465871 164.465408805031 166.411063297616 168.867924528302 167.983781968459 173.270440251572 169.108104297312 177.672955974843 169.755997136289 182.075471698113 169.911306331636 186.477987421384 169.570159501271 190.880503144654 168.741062586328 195.283018867925 167.444687769359 199.685534591195 165.713358047095 204.088050314465 163.590241309116 208.490566037736 161.128274016763 212.893081761006 158.388841318605 217.295597484277 155.440246511642 221.698113207547 152.356008009732 226.100628930818 149.213026281557 230.503144654088 146.089666462568 234.905660377358 143.063804447835 239.308176100629 140.210885183318 243.710691823899 137.602041568896 248.11320754717 135.302320875247 252.51572327044 133.369062895996 256.918238993711 131.850470273252 261.320754716981 130.784406643162 265.723270440252 130.197452567753 270.125786163522 130.104242791861 274.528301886793 130.507101349588 278.930817610063 131.395983618287 283.333333333333 132.748726764887 287.735849056604 134.531602340076 292.138364779874 136.7001572423 296.540880503145 139.200322083527 300.943396226415 141.969759321456 305.345911949686 144.939417544708 309.748427672956 148.035253157413 314.150943396226 151.180076535802 318.553459119497 154.295476625871 322.955974842767 157.30377599544 327.358490566038 160.129967594529 331.761006289308 162.703584934109 336.163522012579 164.960459053347 340.566037735849 166.844318468238 344.96855345912 168.308192209497 349.37106918239 169.315580967253 353.77358490566 169.841367141954 358.176100628931 169.872441110839 362.578616352201 169.408028095054 366.981132075472 168.459707477501 371.383647798742 167.051124089769 375.786163522013 165.217398666726 380.188679245283 163.004252168142 384.591194968554 160.466865800951 388.993710691824 157.66850516564 393.396226415094 154.678942831441 397.798742138365 151.572718670843 402.201257861635 148.427281329157 406.603773584906 145.321057168559 411.006289308176 142.33149483436 415.408805031447 139.533134199049 419.811320754717 136.995747831858 424.213836477987 134.782601333274 428.616352201258 132.948875910231 433.018867924528 131.540292522499 437.421383647799 130.591971904946 441.823899371069 130.127558889161 446.22641509434 130.158632858046 450.62893081761 130.684419032747 455.03144654088 131.691807790503 459.433962264151 133.155681531762 463.836477987421 135.039540946653 468.238993710692 137.296415065891 472.641509433962 139.870032405471 477.044025157233 142.69622400456 481.446540880503 145.704523374129 485.849056603774 148.819923464198 490.251572327044 151.964746842587 494.654088050314 155.060582455292 499.056603773585 158.030240678544 503.459119496855 160.799677916473 507.861635220126 163.2998427577 512.264150943396 165.468397659924 516.666666666667 167.251273235113 521.069182389937 168.604016381713 525.471698113208 169.492898650412 529.874213836478 169.895757208139 534.276729559748 169.802547432247 538.679245283019 169.215593356838 543.081761006289 168.149529726748 547.48427672956 166.630937104004 551.88679245283 164.697679124753 556.289308176101 162.397958431104 560.691823899371 159.789114816682 565.094339622642 156.936195552165 569.496855345912 153.910333537432 573.899371069182 150.786973718443 578.301886792453 147.643991990268 582.704402515723 144.559753488358 587.106918238994 141.611158681395 591.509433962264 138.871725983237 595.911949685535 136.409758690884 600.314465408805 134.286641952905 604.716981132075 132.555312230641 609.119496855346 131.258937413672 613.522012578616 130.429840498729 617.924528301887 130.088693668364 622.327044025157 130.244002863711 626.729559748428 130.891895702688 631.132075471698 132.016218031541 635.534591194969 133.588936702384 639.937106918239 135.570838534129 644.339622641509 137.912508029351 648.74213836478 140.555559469315 653.14465408805 143.434092666871 657.547169811321 146.476336080398 661.949685534591 149.60643632041 666.352201257862 152.746349430406 670.754716981132 155.817786785937 675.157232704403 158.744167094076 679.559748427673 161.452525823349 683.962264150943 163.875334455611 688.364779874214 165.952184199765 692.767295597484 167.63129218668 697.169811320755 168.870792590779 701.572327044025 169.639780486274 705.974842767296 169.919082411211 710.377358490566 169.701734426544 714.779874213837 168.993155750623 719.182389937107 167.811013639806 723.584905660377 166.184782884162 727.987421383648 164.155010901545 732.389937106918 161.772306753703 736.792452830189 159.096079291666 741.194968553459 156.193055892712 745.59748427673 153.135618721789 750 150 Z; M 50 150 C 50 150 54.4025157232704 154.966982329511 58.8050314465409 159.810121036407 63.2075471698113 164.408660337299 67.6100628930818 168.647943136996 72.0125786163522 172.422269816623 76.4150943396226 175.637533681625 80.8176100628931 178.213567359081 85.2201257861635 180.086141640705 89.622641509434 181.20856693365 94.0251572327044 181.552857389532 98.4276729559749 181.110428686029 102.830188679245 179.892312062987 107.232704402516 177.928879276405 111.635220125786 175.269085328118 116.037735849057 171.979247852478 120.440251572327 168.141393594049 124.842767295597 163.851213204195 129.245283018868 159.21567535039 133.647798742138 154.350359626539 138.050314465409 149.376574763866 142.452830188679 144.418333995081 146.85534591195 139.599262986206 151.25786163522 135.039517431741 155.660377358491 130.85278716793 160.062893081761 127.143461501675 164.465408805031 124.004026433025 168.867924528302 121.512758667245 173.270440251572 119.731773912535 177.672955974843 118.705478125916 182.075471698113 118.459460322942 186.477987421384 118.999854557234 190.880503144654 120.313186977837 195.283018867925 122.366711777763 199.685534591195 125.109227657415 204.088050314465 128.472354445679 208.490566037736 132.372238048229 212.893081761006 136.711641212932 217.295597484277 141.382367982516 221.698113207547 146.267961384716 226.100628930818 151.246607097391 230.503144654088 156.194170690446 234.905660377358 160.987292715863 239.308176100629 165.506464474824 243.710691823899 169.639007772657 248.11320754717 173.28188436629 252.51572327044 176.344265055179 256.918238993711 178.749794359646 261.320754716981 180.438494320516 265.723270440252 181.368259951947 270.125786163522 181.515909060742 274.528301886793 180.87776025661 278.930817610063 179.469724741653 283.333333333333 177.326909590423 287.735849056604 174.502742412143 292.138364779874 171.067639220203 296.540880503145 167.107248723443 300.943396226415 162.720316814951 305.345911949686 158.016224503893 309.748427672956 153.112260678021 314.150943396226 148.130697696099 318.553459119497 143.195742725584 322.955974842767 138.430440839007 327.358490566038 133.953607085292 331.761006289308 129.876864029834 336.163522012579 126.301858627459 340.566037735849 123.317727820985 344.96855345912 120.998876056597 349.37106918239 119.403120130038 353.77358490566 118.570247618884 358.176100628931 118.521024844034 362.578616352201 119.256679095289 366.981132075472 120.758868030876 371.383647798742 122.990137013897 375.786163522013 125.894852982756 380.188679245283 129.400591571028 384.591194968554 133.4199428912 388.993710691824 137.852690957986 393.396226415094 142.58831241086 397.798742138365 147.50873223422 402.201257861635 152.49126776578 406.603773584906 157.41168758914 411.006289308176 162.147309042014 415.408805031447 166.5800571088 419.811320754717 170.599408428972 424.213836477987 174.105147017244 428.616352201258 177.009862986103 433.018867924528 179.241131969124 437.421383647799 180.743320904711 441.823899371069 181.478975155966 446.22641509434 181.429752381116 450.62893081761 180.596879869962 455.03144654088 179.001123943403 459.433962264151 176.682272179015 463.836477987421 173.698141372541 468.238993710692 170.123135970165 472.641509433962 166.046392914708 477.044025157233 161.569559160993 481.446540880503 156.804257274416 485.849056603774 151.869302303901 490.251572327044 146.887739321979 494.654088050314 141.983775496107 499.056603773585 137.279683185049 503.459119496855 132.892751276557 507.861635220126 128.932360779797 512.264150943396 125.497257587857 516.666666666667 122.673090409577 521.069182389937 120.530275258347 525.471698113208 119.12223974339 529.874213836478 118.484090939258 534.276729559748 118.631740048053 538.679245283019 119.561505679484 543.081761006289 121.250205640354 547.48427672956 123.655734944821 551.88679245283 126.71811563371 556.289308176101 130.360992227343 560.691823899371 134.493535525176 565.094339622642 139.012707284137 569.496855345912 143.805829309554 573.899371069182 148.753392902609 578.301886792453 153.732038615284 582.704402515723 158.617632017484 587.106918238994 163.288358787068 591.509433962264 167.627761951771 595.911949685535 171.527645554321 600.314465408805 174.890772342585 604.716981132075 177.633288222237 609.119496855346 179.686813022163 613.522012578616 181.000145442766 617.924528301887 181.540539677058 622.327044025157 181.294521874084 626.729559748428 180.268226087465 631.132075471698 178.487241332755 635.534591194969 175.995973566975 639.937106918239 172.856538498325 644.339622641509 169.14721283207 648.74213836478 164.960482568259 653.14465408805 160.400737013794 657.547169811321 155.581666004919 661.949685534591 150.623425236134 666.352201257862 145.649640373461 670.754716981132 140.78432464961 675.157232704403 136.148786795805 679.559748427673 131.858606405951 683.962264150943 128.020752147522 688.364779874214 124.730914671882 692.767295597484 122.071120723595 697.169811320755 120.107687937013 701.572327044025 118.889571313971 705.974842767296 118.447142610468 710.377358490566 118.79143306635 714.779874213837 119.913858359295 719.182389937107 121.786432640919 723.584905660377 124.362466318375 727.987421383648 127.577730183377 732.389937106918 131.352056863003 736.792452830189 135.591339662701 741.194968553459 140.189878963593 745.59748427673 145.033017670489 750 150 Z; M 50 150 C 50 150 54.4025157232704 157.705888547462 58.8050314465409 165.219643302236 63.2075471698113 172.353921015135 67.6100628930818 178.930840079564 72.0125786163522 184.786415719951 76.4150943396226 189.774648685303 80.8176100628931 193.771165502977 85.2201257861635 196.676319528855 89.622641509434 198.417675474274 94.0251572327044 198.951815462093 98.4276729559749 198.265421580814 102.830188679245 196.375607945038 107.232704402516 193.329493982857 111.635220125786 189.20302958959 116.037735849057 184.099101440716 120.440251572327 178.144967680033 124.842767295597 171.489084944896 129.245283018868 164.297406841527 133.647798742138 156.749246161862 138.050314465409 149.032804010841 142.452830188679 141.340477318087 146.85534591195 133.864061733506 151.25786163522 126.78996951483 155.660377358491 120.294581641285 160.062893081761 114.539850040858 164.465408805031 109.669259582488 168.867924528302 105.80425051432 173.270440251572 103.041190548719 177.672955974843 101.448972090153 182.075471698113 101.06729451519 186.477987421384 101.905674333135 190.880503144654 103.943207907354 195.283018867925 107.129092653443 199.685534591195 111.383893719007 204.088050314465 116.60152456246 208.490566037736 122.651892048323 212.893081761006 129.384140107881 217.295597484277 136.630411089804 221.698113207547 144.210031017558 226.100628930818 151.934014401037 230.503144654088 159.609776282258 234.905660377358 167.045934027939 239.308176100629 174.057079144056 243.710691823899 180.468400134964 248.11320754717 186.120041143611 252.51572327044 190.871087697225 256.918238993711 194.603080180415 261.320754716981 197.222967432933 265.723270440252 198.665426828954 270.125786163522 198.894492990462 274.528301886793 197.904454525434 278.930817610063 195.719996432104 283.333333333333 192.3955846187 287.735849056604 188.014107884642 292.138364779874 182.684811223198 296.540880503145 176.540571975327 300.943396226415 169.734586749389 305.345911949686 162.436551712982 309.748427672956 154.828431495112 314.150943396226 147.099922194248 318.553459119497 139.443721614756 322.955974842767 132.050724660691 327.358490566038 125.105263681963 331.761006289308 118.780512447125 336.163522012579 113.234168337221 340.566037735849 108.60452041818 344.96855345912 105.007001427968 349.37106918239 102.531309649087 353.77358490566 101.239172427848 358.176100628931 101.162807103426 362.578616352201 102.304117720933 366.981132075472 104.634647557146 371.383647798742 108.096288642601 375.786163522013 112.602730589267 380.188679245283 118.04161259963 384.591194968554 124.27732500036 388.993710691824 131.154390448868 393.396226415094 138.501340507861 397.798742138365 146.134990931833 402.201257861635 153.865009068167 406.603773584906 161.498659492139 411.006289308176 168.845609551132 415.408805031447 175.72267499964 419.811320754717 181.95838740037 424.213836477987 187.397269410733 428.616352201258 191.903711357399 433.018867924528 195.365352442854 437.421383647799 197.695882279067 441.823899371069 198.837192896574 446.22641509434 198.760827572152 450.62893081761 197.468690350913 455.03144654088 194.992998572032 459.433962264151 191.39547958182 463.836477987421 186.765831662779 468.238993710692 181.219487552875 472.641509433962 174.894736318037 477.044025157233 167.949275339309 481.446540880503 160.556278385244 485.849056603774 152.900077805752 490.251572327044 145.171568504888 494.654088050314 137.563448287018 499.056603773585 130.265413250611 503.459119496855 123.459428024673 507.861635220126 117.315188776802 512.264150943396 111.985892115358 516.666666666667 107.6044153813 521.069182389937 104.280003567896 525.471698113208 102.095545474566 529.874213836478 101.105507009538 534.276729559748 101.334573171046 538.679245283019 102.777032567067 543.081761006289 105.396919819585 547.48427672956 109.128912302775 551.88679245283 113.879958856389 556.289308176101 119.531599865036 560.691823899371 125.942920855945 565.094339622642 132.954065972061 569.496855345912 140.390223717742 573.899371069182 148.065985598963 578.301886792453 155.789968982442 582.704402515723 163.369588910196 587.106918238994 170.615859892119 591.509433962264 177.348107951677 595.911949685535 183.39847543754 600.314465408805 188.616106280993 604.716981132075 192.870907346557 609.119496855346 196.056792092646 613.522012578616 198.094325666865 617.924528301887 198.93270548481 622.327044025157 198.551027909847 626.729559748428 196.958809451281 631.132075471698 194.19574948568 635.534591194969 190.330740417512 639.937106918239 185.460149959142 644.339622641509 179.705418358715 648.74213836478 173.21003048517 653.14465408805 166.135938266494 657.547169811321 158.659522681913 661.949685534591 150.967195989159 666.352201257862 143.250753838139 670.754716981132 135.702593158472 675.157232704403 128.510915055104 679.559748427673 121.855032319967 683.962264150943 115.900898559284 688.364779874214 110.79697041041 692.767295597484 106.670506017143 697.169811320755 103.624392054962 701.572327044025 101.734578419186 705.974842767296 101.048184537907 710.377358490566 101.582324525726 714.779874213837 103.323680471145 719.182389937107 106.228834497023 723.584905660377 110.225351314697 727.987421383648 115.213584280049 732.389937106918 121.069159920436 736.792452830189 127.646078984865 741.194968553459 134.780356697764 745.59748427673 142.294111452538 750 150 Z; M 50 150 C 50 150 54.4025157232704 152.123437481169 58.8050314465409 154.193930503788 63.2075471698113 156.159854693236 67.6100628930818 157.972192928601 72.0125786163522 159.585757504838 76.4150943396226 160.960316814669 80.8176100628931 162.061598458247 85.2201257861635 162.862143769683 89.622641509434 163.341992454203 94.0251572327044 163.48918026562 98.4276729559749 163.300037315346 102.830188679245 162.779279575091 107.232704402516 161.939891291784 111.635220125786 160.802801246502 116.037735849057 159.396360929365 120.440251572327 157.755637641264 124.842767295597 155.921540147768 129.245283018868 153.93979868562 133.647798742138 151.859824753689 138.050314465409 149.733479117643 142.452830188679 147.613778746143 146.85534591195 145.553574918989 151.25786163522 143.604235466457 155.660377358491 141.814363996027 160.062893081761 140.228588040515 164.465408805031 138.886446343159 168.867924528302 137.821403023384 173.270440251572 137.060013203438 177.672955974843 136.621260899624 182.075471698113 136.516085686746 186.477987421384 136.747109937605 190.880503144654 137.308573438405 195.283018867925 138.186477010312 199.685534591195 139.358931556195 204.088050314465 140.796703829652 208.490566037736 142.463945318443 212.893081761006 144.319086068812 217.295597484277 146.315871164645 221.698113207547 148.404514018546 226.100628930818 150.53293771938 230.503144654088 152.648073485324 234.905660377358 154.69718384759 239.308176100629 156.629177573399 243.710691823899 158.395883542743 248.11320754717 159.953251816883 252.51572327044 161.262451951895 256.918238993711 162.290841172611 261.320754716981 163.012778267103 265.723270440252 163.410262908583 270.125786163522 163.473384464263 274.528301886793 163.200569100858 278.930817610063 162.598619025555 283.333333333333 161.68254288405 287.735849056604 160.475181544385 292.138364779874 159.006638597069 296.540880503145 157.313529771027 300.943396226415 155.438069979982 305.345911949686 153.427020762264 309.748427672956 151.330524357941 314.150943396226 149.200853493648 318.553459119497 147.0911080472 322.955974842767 145.05389108854 327.358490566038 143.139997307778 331.761006289308 141.397146532244 336.163522012579 139.868793910233 340.566037735849 138.593046427596 344.96855345912 137.601712772044 349.37106918239 136.91951023528 353.77358490566 136.563448427548 358.176100628931 136.542405170675 362.578616352201 136.856905144032 366.981132075472 137.499106802506 371.383647798742 138.452997892669 375.786163522013 139.694794692263 380.188679245283 141.193535018615 384.591194968554 142.911850220289 388.993710691824 144.806896903598 393.396226415094 146.831425162922 397.798742138365 148.934956680225 402.201257861635 151.065043319775 406.603773584906 153.168574837078 411.006289308176 155.193103096402 415.408805031447 157.088149779711 419.811320754717 158.806464981385 424.213836477987 160.305205307737 428.616352201258 161.547002107331 433.018867924528 162.500893197494 437.421383647799 163.143094855968 441.823899371069 163.457594829325 446.22641509434 163.436551572452 450.62893081761 163.08048976472 455.03144654088 162.398287227956 459.433962264151 161.406953572404 463.836477987421 160.131206089767 468.238993710692 158.602853467756 472.641509433962 156.860002692222 477.044025157233 154.94610891146 481.446540880503 152.9088919528 485.849056603774 150.799146506352 490.251572327044 148.669475642059 494.654088050314 146.572979237736 499.056603773585 144.561930020018 503.459119496855 142.686470228973 507.861635220126 140.993361402931 512.264150943396 139.524818455615 516.666666666667 138.31745711595 521.069182389937 137.401380974445 525.471698113208 136.799430899142 529.874213836478 136.526615535737 534.276729559748 136.589737091417 538.679245283019 136.987221732897 543.081761006289 137.709158827389 547.48427672956 138.737548048105 551.88679245283 140.046748183117 556.289308176101 141.604116457257 560.691823899371 143.370822426601 565.094339622642 145.30281615241 569.496855345912 147.351926514676 573.899371069182 149.46706228062 578.301886792453 151.595485981454 582.704402515723 153.684128835355 587.106918238994 155.680913931188 591.509433962264 157.536054681557 595.911949685535 159.203296170348 600.314465408805 160.641068443805 604.716981132075 161.813522989688 609.119496855346 162.691426561595 613.522012578616 163.252890062395 617.924528301887 163.483914313254 622.327044025157 163.378739100376 626.729559748428 162.939986796562 631.132075471698 162.178596976616 635.534591194969 161.113553656841 639.937106918239 159.771411959485 644.339622641509 158.185636003973 648.74213836478 156.395764533543 653.14465408805 154.446425081011 657.547169811321 152.386221253857 661.949685534591 150.266520882357 666.352201257862 148.140175246311 670.754716981132 146.06020131438 675.157232704403 144.078459852232 679.559748427673 142.244362358736 683.962264150943 140.603639070635 688.364779874214 139.197198753498 692.767295597484 138.060108708216 697.169811320755 137.220720424909 701.572327044025 136.699962684654 705.974842767296 136.51081973438 710.377358490566 136.658007545797 714.779874213837 137.137856230317 719.182389937107 137.938401541753 723.584905660377 139.039683185331 727.987421383648 140.414242495162 732.389937106918 142.027807071399 736.792452830189 143.840145306764 741.194968553459 145.806069496212 745.59748427673 147.876562518831 750 150 Z; M 50 150 C 50 150 54.4025157232704 144.247950142326 58.8050314465409 138.639318288699 63.2075471698113 133.313946548589 67.6100628930818 128.404614401429 72.0125786163522 124.03372805634 76.4150943396226 120.31026845247 80.8176100628931 117.327073996605 85.2201257861635 115.15852578855 89.622641509434 113.85869304943 94.0251572327044 113.459984993637 98.4276729559749 113.972342757806 102.830188679245 115.382991534745 107.232704402516 117.656759092464 111.635220125786 120.736952736558 116.037735849057 124.546772850291 120.440251572327 128.991227768082 124.842767295597 133.959502238123 129.245283018868 139.327720420379 133.647798742138 144.962034529097 138.050314465409 150.721962109563 142.452830188679 156.463888739531 146.85534591195 162.044648821166 151.25786163522 167.325095182282 155.660377358491 172.173568484672 160.062893081761 176.469179935488 164.465408805031 180.104825452589 168.867924528302 182.989856130561 173.270440251572 185.052338423679 177.672955974843 186.240847691828 182.075471698113 186.525750390228 186.477987421384 185.899942933659 190.880503144654 184.379028812801 195.283018867925 182.00092954658 199.685534591195 178.824939170795 204.088050314465 174.930245837815 208.490566037736 170.413957388848 212.893081761006 165.38868012792 217.295597484277 159.979711166908 221.698113207547 154.321914345927 226.100628930818 148.556357622913 230.503144654088 142.826795773623 234.905660377358 137.276086100204 239.308176100629 132.042626516809 243.710691823899 127.256904822793 248.11320754717 123.038245201752 252.51572327044 119.491833067162 256.918238993711 116.706092435235 261.320754716981 114.750481215951 265.723270440252 113.67375939309 270.125786163522 113.502773273373 274.528301886793 114.241786117484 278.930817610063 115.872371842601 283.333333333333 118.353874446792 287.735849056604 121.624421700274 292.138364779874 125.602467828785 296.540880503145 130.188826724784 300.943396226415 135.269144991661 305.345911949686 140.716753159611 309.748427672956 146.395823982765 314.150943396226 152.164759070557 318.553459119497 157.879719413202 322.955974842767 163.398211773363 327.358490566038 168.582641523172 331.761006289308 173.303743342398 336.163522012579 177.443804238878 340.566037735849 180.899598530449 344.96855345912 183.584961609369 349.37106918239 185.432938316617 353.77358490566 186.397452359838 358.176100628931 186.454455150725 362.578616352201 185.602525417437 366.981132075472 183.862904641698 371.383647798742 181.278967437017 375.786163522013 177.91514007327 380.188679245283 173.855294112493 384.591194968554 169.200655207946 388.993710691824 164.067279207156 393.396226415094 158.583158488191 397.798742138365 152.885030677972 402.201257861635 147.114969322028 406.603773584906 141.416841511809 411.006289308176 135.932720792844 415.408805031447 130.799344792054 419.811320754717 126.144705887507 424.213836477987 122.08485992673 428.616352201258 118.721032562983 433.018867924528 116.137095358302 437.421383647799 114.397474582563 441.823899371069 113.545544849275 446.22641509434 113.602547640162 450.62893081761 114.567061683383 455.03144654088 116.415038390631 459.433962264151 119.100401469551 463.836477987421 122.556195761122 468.238993710692 126.696256657602 472.641509433962 131.417358476828 477.044025157233 136.601788226637 481.446540880503 142.120280586798 485.849056603774 147.835240929443 490.251572327044 153.604176017235 494.654088050314 159.283246840389 499.056603773585 164.730855008339 503.459119496855 169.811173275216 507.861635220126 174.397532171215 512.264150943396 178.375578299726 516.666666666667 181.646125553208 521.069182389937 184.127628157399 525.471698113208 185.758213882516 529.874213836478 186.497226726627 534.276729559748 186.32624060691 538.679245283019 185.249518784049 543.081761006289 183.293907564765 547.48427672956 180.508166932838 551.88679245283 176.961754798248 556.289308176101 172.743095177207 560.691823899371 167.957373483191 565.094339622642 162.723913899796 569.496855345912 157.173204226377 573.899371069182 151.443642377087 578.301886792453 145.678085654073 582.704402515723 140.020288833092 587.106918238994 134.61131987208 591.509433962264 129.586042611152 595.911949685535 125.069754162185 600.314465408805 121.175060829205 604.716981132075 117.99907045342 609.119496855346 115.620971187199 613.522012578616 114.100057066341 617.924528301887 113.474249609772 622.327044025157 113.759152308172 626.729559748428 114.947661576321 631.132075471698 117.010143869439 635.534591194969 119.895174547411 639.937106918239 123.530820064512 644.339622641509 127.826431515328 648.74213836478 132.674904817718 653.14465408805 137.955351178834 657.547169811321 143.536111260469 661.949685534591 149.278037890437 666.352201257862 155.037965470903 670.754716981132 160.672279579621 675.157232704403 166.040497761877 679.559748427673 171.008772231918 683.962264150943 175.453227149709 688.364779874214 179.263047263442 692.767295597484 182.343240907536 697.169811320755 184.617008465255 701.572327044025 186.027657242194 705.974842767296 186.540015006363 710.377358490566 186.14130695057 714.779874213837 184.84147421145 719.182389937107 182.672926003395 723.584905660377 179.68973154753 727.987421383648 175.96627194366 732.389937106918 171.595385598571 736.792452830189 166.686053451411 741.194968553459 161.360681711301 745.59748427673 155.752049857674 750 150 Z; M 50 150 C 50 150 54.4025157232704 142.583928449226 58.8050314465409 135.352764575889 63.2075471698113 128.486805685349 67.6100628930818 122.157243290949 72.0125786163522 116.521894732167 76.4150943396226 111.721268256046 80.8176100628931 107.875059672675 85.2201257861635 105.079167934918 89.622641509434 103.403304054062 94.0251572327044 102.889252969181 98.4276729559749 103.549831707664 102.830188679245 105.368569813494 107.232704402516 108.30012001127 111.635220125786 112.271388866731 116.037735849057 117.183359252614 120.440251572327 122.913559179611 124.842767295597 129.319115436143 129.245283018868 136.240315899428 133.647798742138 143.504591697393 138.050314465409 150.93081993271 142.452830188679 158.333839687542 146.85534591195 165.529068709748 151.25786163522 172.337105671008 155.660377358491 178.588203247043 160.062893081761 184.126500490951 164.465408805031 188.813908972311 168.867924528302 192.53355578752 173.270440251572 195.192697595472 177.672955974843 196.725033021875 182.075471698113 197.092355776132 186.477987421384 196.285507263036 190.880503144654 194.324604937439 195.283018867925 191.258540708247 199.685534591195 187.163761898225 204.088050314465 182.142365154391 208.490566037736 176.319550834242 212.893081761006 169.840501338557 217.295597484277 162.866761224454 221.698113207547 155.572209354714 226.100628930818 148.138723511251 230.503144654088 140.751645568553 234.905660377358 133.595160295615 239.308176100629 126.847703008408 243.710691823899 120.677510575607 248.11320754717 115.238426706009 252.51572327044 110.666066105977 256.918238993711 107.074433147387 261.320754716981 104.55307935412 265.723270440252 103.164870580519 270.125786163522 102.944419553601 274.528301886793 103.897222861026 278.930817610063 105.999523902628 283.333333333333 109.198905222588 287.735849056604 113.415595453401 292.138364779874 118.544458285137 296.540880503145 124.457613868252 300.943396226415 131.007627289571 305.345911949686 138.031184621954 309.748427672956 145.353164891341 314.150943396226 152.791006433301 318.553459119497 160.159258771092 322.955974842767 167.274206521544 327.358490566038 173.958450039227 331.761006289308 180.045328587951 336.163522012579 185.383075755058 340.566037735849 189.838603499981 344.96855345912 193.300820487984 349.37106918239 195.68340197184 353.77358490566 196.926942158946 358.176100628931 197.0004353981 362.578616352201 195.902049254963 366.981132075472 193.659170200832 371.383647798742 190.327720775536 375.786163522013 185.990765249896 380.188679245283 180.756438553288 384.591194968554 174.755250105124 388.993710691824 168.136829774832 393.396226415094 161.066197104522 397.798742138365 153.719646815208 402.201257861635 146.280353184792 406.603773584906 138.933802895478 411.006289308176 131.863170225168 415.408805031447 125.244749894876 419.811320754717 119.243561446712 424.213836477987 114.009234750104 428.616352201258 109.672279224464 433.018867924528 106.340829799168 437.421383647799 104.097950745037 441.823899371069 102.9995646019 446.22641509434 103.073057841054 450.62893081761 104.31659802816 455.03144654088 106.699179512016 459.433962264151 110.161396500019 463.836477987421 114.616924244942 468.238993710692 119.954671412049 472.641509433962 126.041549960773 477.044025157233 132.725793478456 481.446540880503 139.840741228908 485.849056603774 147.208993566699 490.251572327044 154.646835108659 494.654088050314 161.968815378046 499.056603773585 168.992372710429 503.459119496855 175.542386131748 507.861635220126 181.455541714863 512.264150943396 186.584404546599 516.666666666667 190.801094777413 521.069182389937 194.000476097372 525.471698113208 196.102777138974 529.874213836478 197.055580446399 534.276729559748 196.835129419481 538.679245283019 195.44692064588 543.081761006289 192.925566852613 547.48427672956 189.333933894023 551.88679245283 184.761573293991 556.289308176101 179.322489424393 560.691823899371 173.152296991592 565.094339622642 166.404839704385 569.496855345912 159.248354431447 573.899371069182 151.861276488749 578.301886792453 144.427790645286 582.704402515723 137.133238775546 587.106918238994 130.159498661443 591.509433962264 123.680449165758 595.911949685535 117.857634845609 600.314465408805 112.836238101775 604.716981132075 108.741459291753 609.119496855346 105.675395062561 613.522012578616 103.714492736964 617.924528301887 102.907644223868 622.327044025157 103.274966978125 626.729559748428 104.807302404528 631.132075471698 107.46644421248 635.534591194969 111.186091027689 639.937106918239 115.873499509049 644.339622641509 121.411796752957 648.74213836478 127.662894328993 653.14465408805 134.470931290252 657.547169811321 141.666160312458 661.949685534591 149.069180067289 666.352201257862 156.495408302607 670.754716981132 163.759684100572 675.157232704403 170.680884563857 679.559748427673 177.086440820389 683.962264150943 182.816640747386 688.364779874214 187.728611133269 692.767295597484 191.69987998873 697.169811320755 194.631430186506 701.572327044025 196.450168292336 705.974842767296 197.110747030819 710.377358490566 196.596695945938 714.779874213837 194.920832065082 719.182389937107 192.124940327325 723.584905660377 188.278731743954 727.987421383648 183.478105267834 732.389937106918 177.842756709051 736.792452830189 171.513194314651 741.194968553459 164.647235424111 745.59748427673 157.416071550774 750 150 Z; M 50 150 C 50 150 54.4025157232704 148.928299382027 58.8050314465409 147.8833198752 63.2075471698113 146.891116343236 67.6100628930818 145.976427766793 72.0125786163522 145.162060417234 76.4150943396226 144.468319219365 80.8176100628931 143.912501481168 85.2201257861635 143.508465613576 89.622641509434 143.266285593541 94.0251572327044 143.19199978581 98.4276729559749 143.28746038613 102.830188679245 143.550287239755 107.232704402516 143.973927186736 111.635220125786 144.547817454299 116.037735849057 145.257649022397 120.440251572327 146.085723395848 124.842767295597 147.011393887508 129.245283018868 148.011580409825 133.647798742138 149.061344939267 138.050314465409 150.134513305364 142.452830188679 151.204327801058 146.85534591195 152.244114342593 151.25786163522 153.227947544392 155.660377358491 154.131297126362 160.062893081761 154.931639536515 164.465408805031 155.609019539091 168.867924528302 156.14654776589 173.270440251572 156.530821825188 177.672955974843 156.752260468569 182.075471698113 156.805342483762 186.477987421384 156.688744357089 190.880503144654 156.405373273121 195.283018867925 155.962294628764 199.685534591195 155.370555869082 204.088050314465 154.644911037231 208.490566037736 153.803452906397 212.893081761006 152.867161865936 217.295597484277 151.859382809504 221.698113207547 150.805243068118 226.100628930818 149.731025901037 230.503144654088 148.663515165467 234.905660377358 147.629327504653 239.308176100629 146.654248705192 243.710691823899 145.762590770398 248.11320754717 144.97658574006 252.51572327044 144.315831370701 256.918238993711 143.796802497408 261.320754716981 143.432440260626 265.723270440252 143.231829439876 270.125786163522 143.199971939559 274.528301886793 143.33766207461 278.930817610063 143.641466765547 283.333333333333 144.103811136722 287.735849056604 144.71316738352 292.138364779874 145.45434219941 296.540880503145 146.308855596323 300.943396226415 147.255401673083 305.345911949686 148.270379843393 309.748427672956 149.328483278044 314.150943396226 150.403329889532 318.553459119497 151.468120126483 322.955974842767 152.496305176857 327.358490566038 153.462248919382 331.761006289308 154.341867118523 336.163522012579 155.113227925712 340.566037735849 155.757098714301 344.96855345912 156.257425613819 349.37106918239 156.601733787107 353.77358490566 156.781438470088 358.176100628931 156.792059018889 362.578616352201 156.633330627407 366.981132075472 156.309210929816 371.383647798742 155.8277813234 375.786163522013 155.201045472063 380.188679245283 154.444630014496 384.591194968554 153.57739493937 388.993710691824 152.620963342207 393.396226415094 151.599182288673 397.798742138365 150.537528226799 402.201257861635 149.462471773201 406.603773584906 148.400817711327 411.006289308176 147.379036657793 415.408805031447 146.42260506063 419.811320754717 145.555369985504 424.213836477987 144.798954527937 428.616352201258 144.1722186766 433.018867924528 143.690789070184 437.421383647799 143.366669372593 441.823899371069 143.207940981111 446.22641509434 143.218561529912 450.62893081761 143.398266212893 455.03144654088 143.742574386181 459.433962264151 144.242901285699 463.836477987421 144.886772074288 468.238993710692 145.658132881477 472.641509433962 146.537751080618 477.044025157233 147.503694823143 481.446540880503 148.531879873517 485.849056603774 149.596670110468 490.251572327044 150.671516721956 494.654088050314 151.729620156607 499.056603773585 152.744598326917 503.459119496855 153.691144403677 507.861635220126 154.54565780059 512.264150943396 155.28683261648 516.666666666667 155.896188863278 521.069182389937 156.358533234453 525.471698113208 156.66233792539 529.874213836478 156.800028060441 534.276729559748 156.768170560124 538.679245283019 156.567559739374 543.081761006289 156.203197502592 547.48427672956 155.684168629299 551.88679245283 155.02341425994 556.289308176101 154.237409229602 560.691823899371 153.345751294808 565.094339622642 152.370672495347 569.496855345912 151.336484834533 573.899371069182 150.268974098963 578.301886792453 149.194756931882 582.704402515723 148.140617190496 587.106918238994 147.132838134064 591.509433962264 146.196547093603 595.911949685535 145.355088962769 600.314465408805 144.629444130918 604.716981132075 144.037705371236 609.119496855346 143.594626726879 613.522012578616 143.311255642911 617.924528301887 143.194657516238 622.327044025157 143.247739531431 626.729559748428 143.469178174812 631.132075471698 143.85345223411 635.534591194969 144.390980460909 639.937106918239 145.068360463485 644.339622641509 145.868702873638 648.74213836478 146.772052455608 653.14465408805 147.755885657407 657.547169811321 148.795672198942 661.949685534591 149.865486694636 666.352201257862 150.938655060733 670.754716981132 151.988419590175 675.157232704403 152.988606112492 679.559748427673 153.914276604152 683.962264150943 154.742350977603 688.364779874214 155.452182545701 692.767295597484 156.026072813264 697.169811320755 156.449712760245 701.572327044025 156.71253961387 705.974842767296 156.80800021419 710.377358490566 156.733714406459 714.779874213837 156.491534386424 719.182389937107 156.087498518832 723.584905660377 155.531680780635 727.987421383648 154.837939582766 732.389937106918 154.023572233207 736.792452830189 153.108883656764 741.194968553459 152.1166801248 745.59748427673 151.071700617973 750 150 Z; M 50 150 C 50 150 54.4025157232704 156.429967580285 58.8050314465409 162.699614381149 63.2075471698113 168.652616960949 67.6100628930818 174.140546886482 72.0125786163522 179.026571554461 76.4150943396226 183.188865889834 80.8176100628931 186.523649855816 85.2201257861635 188.947776040236 89.622641509434 190.400802800981 94.0251572327044 190.846501279989 98.4276729559749 190.273758710882 102.830188679245 188.696855497712 107.232704402516 186.155109156321 111.635220125786 182.711893996059 116.037735849057 178.453060984495 120.440251572327 173.484797193231 124.842767295597 167.930978196043 129.245283018868 161.930079433013 133.647798742138 155.631723550742 138.050314465409 149.192949805104 142.452830188679 142.774298542926 146.85534591195 136.535808389648 151.25786163522 130.633025946602 155.660377358491 125.213127489593 160.062893081761 120.411249367936 164.465408805031 116.347118599462 168.867924528302 113.122067672141 173.270440251572 110.816507983369 177.672955974843 109.48792491261 182.075471698113 109.169444516999 186.477987421384 109.869007587 190.880503144654 111.569171655722 195.283018867925 114.227545898446 199.685534591195 117.777848078868 204.088050314465 122.131557188812 208.490566037736 127.180120575538 212.893081761006 132.79766052551 217.295597484277 138.844112820368 221.698113207547 145.168719010318 226.100628930818 151.613785330773 230.503144654088 158.018614539794 234.905660377358 164.223512642345 239.308176100629 170.073770600222 243.710691823899 175.423521750195 248.11320754717 180.139378751913 252.51572327044 184.103759384206 256.918238993711 187.217818266446 261.320754716981 189.403911407287 265.723270440252 190.607532131252 270.125786163522 190.798670114 274.528301886793 189.97255964093 278.930817610063 188.149798432525 283.333333333333 185.375834073705 287.735849056604 181.719830852241 292.138364779874 177.272945259781 296.540880503145 172.146053153051 300.943396226415 166.46698524477 305.345911949686 160.377339852826 309.748427672956 154.028952376611 314.150943396226 147.58010952839 318.553459119497 141.191602711677 322.955974842767 135.022718949214 327.358490566038 129.227269320233 331.761006289308 123.949753931463 336.163522012579 119.321759042083 340.566037735849 115.458676174453 344.96855345912 112.456825014259 349.37106918239 110.391051835873 353.77358490566 109.312863332279 358.176100628931 109.249142379495 362.578616352201 110.201477755799 366.981132075472 112.146124528126 371.383647798742 115.034596093342 375.786163522013 118.794873112796 380.188679245283 123.333199197352 384.591194968554 128.536418570397 388.993710691824 134.274797423017 393.396226415094 140.405258615433 397.798742138365 146.774949072679 402.201257861635 153.225050927321 406.603773584906 159.594741384567 411.006289308176 165.725202576983 415.408805031447 171.463581429603 419.811320754717 176.666800802648 424.213836477987 181.205126887204 428.616352201258 184.965403906658 433.018867924528 187.853875471874 437.421383647799 189.798522244201 441.823899371069 190.750857620505 446.22641509434 190.687136667721 450.62893081761 189.608948164127 455.03144654088 187.543174985741 459.433962264151 184.541323825547 463.836477987421 180.678240957917 468.238993710692 176.050246068537 472.641509433962 170.772730679767 477.044025157233 164.977281050786 481.446540880503 158.808397288323 485.849056603774 152.41989047161 490.251572327044 145.971047623389 494.654088050314 139.622660147174 499.056603773585 133.53301475523 503.459119496855 127.853946846949 507.861635220126 122.727054740219 512.264150943396 118.280169147759 516.666666666667 114.624165926295 521.069182389937 111.850201567474 525.471698113208 110.02744035907 529.874213836478 109.201329886 534.276729559748 109.392467868748 538.679245283019 110.596088592713 543.081761006289 112.782181733554 547.48427672956 115.896240615794 551.88679245283 119.860621248087 556.289308176101 124.576478249805 560.691823899371 129.926229399778 565.094339622642 135.776487357655 569.496855345912 141.981385460206 573.899371069182 148.386214669226 578.301886792453 154.831280989682 582.704402515723 161.155887179632 587.106918238994 167.20233947449 591.509433962264 172.819879424462 595.911949685535 177.868442811188 600.314465408805 182.222151921132 604.716981132075 185.772454101554 609.119496855346 188.430828344278 613.522012578616 190.130992413 617.924528301887 190.830555483001 622.327044025157 190.51207508739 626.729559748428 189.183492016631 631.132075471698 186.877932327859 635.534591194969 183.652881400538 639.937106918239 179.588750632064 644.339622641509 174.786872510407 648.74213836478 169.366974053398 653.14465408805 163.464191610352 657.547169811321 157.225701457074 661.949685534591 150.807050194896 666.352201257862 144.368276449258 670.754716981132 138.069920566987 675.157232704403 132.069021803957 679.559748427673 126.515202806769 683.962264150943 121.546939015505 688.364779874214 117.288106003941 692.767295597484 113.844890843679 697.169811320755 111.303144502288 701.572327044025 109.726241289118 705.974842767296 109.153498720011 710.377358490566 109.599197199019 714.779874213837 111.052223959764 719.182389937107 113.476350144184 723.584905660377 116.811134110166 727.987421383648 120.973428445539 732.389937106918 125.859453113518 736.792452830189 131.347383039051 741.194968553459 137.300385618851 745.59748427673 143.570032419715 750 150 Z; M 50 150 C 50 150 54.4025157232704 156.988107172841 58.8050314465409 163.801977263669 63.2075471698113 170.271717508611 67.6100628930818 176.236015461568 72.0125786163522 181.546161057584 76.4150943396226 186.069754456357 80.8176100628931 189.694007216822 85.2201257861635 192.328554493415 89.622641509434 193.907708136463 94.0251572327044 194.392094519317 98.4276729559749 193.769636255664 102.830188679245 192.055853329508 107.232704402516 189.293476129617 111.635220125786 185.55138003681 116.037735849057 180.9228681284 120.440251572327 175.523344817776 124.842767295597 169.48743843313 129.245283018868 162.965644479145 133.647798742138 156.12057327646 138.050314465409 149.122895537905 142.452830188679 142.147086971977 146.85534591195 135.367078014935 151.25786163522 128.951917158379 155.660377358491 123.061556000163 160.062893081761 117.842861111568 164.465408805031 113.425952158308 168.867924528302 109.920957578384 173.270440251572 107.415268708672 177.672955974843 105.971360824137 182.075471698113 105.625235418496 186.477987421384 106.385522565561 190.880503144654 108.23326574238 195.283018867925 111.122394479302 199.685534591195 114.980873052169 204.088050314465 119.712496575894 208.490566037736 125.199289716732 212.893081761006 131.304448215273 217.295597484277 137.875749878052 221.698113207547 144.749349990267 226.100628930818 151.753866517147 230.503144654088 158.714653236137 234.905660377358 165.458154256287 239.308176100629 171.816231352004 243.710691823899 177.630356216127 248.11320754717 182.755563105325 252.51572327044 187.064063325037 256.918238993711 190.448431432639 261.320754716981 192.82428371607 265.723270440252 194.132382164391 270.125786163522 194.340111471197 274.528301886793 193.44229224422 278.930817610063 191.461310145044 283.333333333333 188.446557739058 287.735849056604 184.473202972203 292.138364779874 179.640314980551 296.540880503145 174.068393962586 300.943396226415 167.896366702823 305.345911949686 161.278122658486 309.748427672956 154.378676976282 314.150943396226 147.370056108215 318.553459119497 140.42700861191 322.955974842767 133.722648079663 327.358490566038 127.424136832687 331.761006289308 121.688518000623 336.163522012579 116.658799906629 340.566037735849 112.46039038753 344.96855345912 109.197969953457 349.37106918239 106.952881749652 353.77358490566 105.781103397497 358.176100628931 105.711851283602 362.578616352201 106.746852096749 366.981132075472 108.860299775709 371.383647798742 111.999498941397 375.786163522013 116.086178770403 380.188679245283 121.018444550625 384.591194968554 126.673318260118 388.993710691824 132.909804823974 393.396226415094 139.572407597104 397.798742138365 146.495005420076 402.201257861635 153.504994579924 406.603773584906 160.427592402896 411.006289308176 167.090195176026 415.408805031447 173.326681739882 419.811320754717 178.981555449375 424.213836477987 183.913821229597 428.616352201258 188.000501058604 433.018867924528 191.139700224291 437.421383647799 193.253147903251 441.823899371069 194.288148716398 446.22641509434 194.218896602503 450.62893081761 193.047118250348 455.03144654088 190.802030046543 459.433962264151 187.53960961247 463.836477987421 183.341200093371 468.238993710692 178.311481999377 472.641509433962 172.575863167313 477.044025157233 166.277351920337 481.446540880503 159.57299138809 485.849056603774 152.629943891785 490.251572327044 145.621323023718 494.654088050314 138.721877341514 499.056603773585 132.103633297177 503.459119496855 125.931606037414 507.861635220126 120.359685019449 512.264150943396 115.526797027797 516.666666666667 111.553442260942 521.069182389937 108.538689854956 525.471698113208 106.55770775578 529.874213836478 105.659888528803 534.276729559748 105.867617835609 538.679245283019 107.17571628393 543.081761006289 109.551568567361 547.48427672956 112.935936674963 551.88679245283 117.244436894675 556.289308176101 122.369643783873 560.691823899371 128.183768647996 565.094339622642 134.541845743713 569.496855345912 141.285346763863 573.899371069182 148.246133482853 578.301886792453 155.250650009733 582.704402515723 162.124250121948 587.106918238994 168.695551784727 591.509433962264 174.800710283268 595.911949685535 180.287503424106 600.314465408805 185.019126947831 604.716981132075 188.877605520698 609.119496855346 191.76673425762 613.522012578616 193.614477434439 617.924528301887 194.374764581504 622.327044025157 194.028639175863 626.729559748428 192.584731291327 631.132075471698 190.079042421616 635.534591194969 186.574047841692 639.937106918239 182.157138888432 644.339622641509 176.938443999837 648.74213836478 171.048082841621 653.14465408805 164.632921985065 657.547169811321 157.852913028023 661.949685534591 150.877104462095 666.352201257862 143.87942672354 670.754716981132 137.034355520855 675.157232704403 130.51256156687 679.559748427673 124.476655182224 683.962264150943 119.0771318716 688.364779874214 114.44861996319 692.767295597484 110.706523870383 697.169811320755 107.944146670492 701.572327044025 106.230363744336 705.974842767296 105.607905480683 710.377358490566 106.092291863537 714.779874213837 107.671445506585 719.182389937107 110.305992783178 723.584905660377 113.930245543643 727.987421383648 118.453838942416 732.389937106918 123.763984538432 736.792452830189 129.728282491389 741.194968553459 136.198022736331 745.59748427673 143.011892827159 750 150 Z; M 50 150 C 50 150 54.4025157232704 150 58.8050314465409 150 63.2075471698113 150 67.6100628930818 150 72.0125786163522 150 76.4150943396226 150 80.8176100628931 150 85.2201257861635 150 89.622641509434 150 94.0251572327044 150 98.4276729559749 150 102.830188679245 150 107.232704402516 150 111.635220125786 150 116.037735849057 150 120.440251572327 150 124.842767295597 150 129.245283018868 150 133.647798742138 150 138.050314465409 150 142.452830188679 150 146.85534591195 150 151.25786163522 150 155.660377358491 150 160.062893081761 150 164.465408805031 150 168.867924528302 150 173.270440251572 150 177.672955974843 150 182.075471698113 150 186.477987421384 150 190.880503144654 150 195.283018867925 150 199.685534591195 150 204.088050314465 150 208.490566037736 150 212.893081761006 150 217.295597484277 150 221.698113207547 150 226.100628930818 150 230.503144654088 150 234.905660377358 150 239.308176100629 150 243.710691823899 150 248.11320754717 150 252.51572327044 150 256.918238993711 150 261.320754716981 150 265.723270440252 150 270.125786163522 150 274.528301886793 150 278.930817610063 150 283.333333333333 150 287.735849056604 150 292.138364779874 150 296.540880503145 150 300.943396226415 150 305.345911949686 150 309.748427672956 150 314.150943396226 150 318.553459119497 150 322.955974842767 150 327.358490566038 150 331.761006289308 150 336.163522012579 150 340.566037735849 150 344.96855345912 150 349.37106918239 150 353.77358490566 150 358.176100628931 150 362.578616352201 150 366.981132075472 150 371.383647798742 150 375.786163522013 150 380.188679245283 150 384.591194968554 150 388.993710691824 150 393.396226415094 150 397.798742138365 150 402.201257861635 150 406.603773584906 150 411.006289308176 150 415.408805031447 150 419.811320754717 150 424.213836477987 150 428.616352201258 150 433.018867924528 150 437.421383647799 150 441.823899371069 150 446.22641509434 150 450.62893081761 150 455.03144654088 150 459.433962264151 150 463.836477987421 150 468.238993710692 150 472.641509433962 150 477.044025157233 150 481.446540880503 150 485.849056603774 150 490.251572327044 150 494.654088050314 150 499.056603773585 150 503.459119496855 150 507.861635220126 150 512.264150943396 150 516.666666666667 150 521.069182389937 150 525.471698113208 150 529.874213836478 150 534.276729559748 150 538.679245283019 150 543.081761006289 150 547.48427672956 150 551.88679245283 150 556.289308176101 150 560.691823899371 150 565.094339622642 150 569.496855345912 150 573.899371069182 150 578.301886792453 150 582.704402515723 150 587.106918238994 150 591.509433962264 150 595.911949685535 150 600.314465408805 150 604.716981132075 150 609.119496855346 150 613.522012578616 150 617.924528301887 150 622.327044025157 150 626.729559748428 150 631.132075471698 150 635.534591194969 150 639.937106918239 150 644.339622641509 150 648.74213836478 150 653.14465408805 150 657.547169811321 150 661.949685534591 150 666.352201257862 150 670.754716981132 150 675.157232704403 150 679.559748427673 150 683.962264150943 150 688.364779874214 150 692.767295597484 150 697.169811320755 150 701.572327044025 150 705.974842767296 150 710.377358490566 150 714.779874213837 150 719.182389937107 150 723.584905660377 150 727.987421383648 150 732.389937106918 150 736.792452830189 150 741.194968553459 150 745.59748427673 150 750 150 Z" begin="playButton38.click" dur="5" fill="remove"></animate> </path>
</svg>
</div>
<div id="diffuse-pointlight" class="section level3">
<h3>Diffuse PointLight</h3>
<p>Here we rotate the light source about the center of the circle, starting slightly above 0 to <span class="math inline">\(\pi/2\)</span> using Diffuse + pointlight Specifying both x and y animation positions seperately.</p>
<pre class="r"><code>WH&lt;-c(800,200)
rho&lt;-90
r=100
theta&lt;-seq(0,2*pi,length.out=20)
x=rho*cos(theta)+ WH[1]/2
y=rho*sin(theta)+ WH[2]/2
z=rep(10,length(theta))

svgR( 
  playBar(wh=WH),
  svg(wh=WH,
    circle( cxy=WH/2, r= r, fill=&quot;green&quot;, stroke=&quot;black&quot; , 
      filter=filter(
        feComposite( 
          operator=&quot;arithmetic&quot;, k1234=c(0,1,1,0),
          in1=&quot;SourceGraphic&quot;,
          in2= feDiffuseLighting( lighting.color=&quot;white&quot;, diffuseConstant=1.2,
            in1=&quot;SourceGraphic&quot;,
            fePointLight( xyz=c(WH/2,10), #lightPos(pi/2),
              animate( attributeName='x', values=x, dur=5, begin=playButton.click,fill=&quot;remove&quot;),
              animate( attributeName='y', values=y, dur=5, begin=playButton.click,fill=&quot;remove&quot;)
            ) 
          )
        )
      )
    )
  )
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="240">
<linearGradient x1="0" y1="0" x2="0" y2="1" id="genid1528"> <stop offset="0%" stop-color="lightblue"></stop> <stop offset="50%" stop-color="white"></stop> <stop offset="100%" stop-color="lightblue"></stop> </linearGradient> <rect fill="url(#genid1528)" width="800" height="40" x="0" y="200"></rect> <g id="playButton39"> <circle r="12" stroke="grey" fill="grey" cx="780" cy="220"></circle> <circle r="10" stroke="grey" fill="#404040" cx="780" cy="220"></circle> <polygon points="790,220 777,224 777,216" fill="lime"></polygon> </g> <rect fill="none" stroke="blue" stroke-width="3" width="800" height="200" x="0" y="0"></rect> <svg width="800" height="200"> <filter id="genid1530"> <feDiffuseLighting lighting-color="white" diffuseConstant="1.2" in="SourceGraphic" result="genid1529"> <fePointLight x="400" y="100" z="10"> <animate attributeName="x" values="490;485.123551753057;471.022645845675;449.225334231018;422.093693842672;392.56785890749;363.847411781233;339.044658553683;320.847362391416;311.227482693755;311.227482693755;320.847362391416;339.044658553683;363.847411781233;392.56785890749;422.093693842672;449.225334231018;471.022645845675;485.123551753057;490" dur="5" begin="playButton39.click" fill="remove"></animate> <animate attributeName="y" values="100;129.222952228422;155.27914414207;175.344983043628;187.24602393454;189.6926043706;182.419599398955;166.215151960582;142.835265373337;114.813513125266;85.186486874734;57.1647346266634;33.7848480394182;17.5804006010448;10.3073956293997;12.7539760654603;24.6550169563724;44.7208558579299;70.7770477715785;100" dur="5" begin="playButton39.click" fill="remove"></animate> </fePointLight> </feDiffuseLighting> <feComposite operator="arithmetic" in="SourceGraphic" in2="genid1529" k1="0" k2="1" k3="1" k4="0"></feComposite> </filter> <circle r="100" fill="green" stroke="black" filter="url(#genid1530)" cx="400" cy="100"></circle>
</svg>
</svg>
</div>
<div id="diffuse-pointlight-2" class="section level3">
<h3>Diffuse PointLight 2</h3>
<p>Again we rotate the light source about the center of the circle, starting slightly above 0 to <span class="math inline">\(\pi/2\)</span> using Diffuse + pointlight.</p>
<p>This time we use the combo attribute <em>xyz</em> when specifying the positino.</p>
<pre class="r"><code>WH&lt;-c(800,200)
rho&lt;-90
r=100
rho&lt;-r
lightPos&lt;-mapply( 
function(theta, phi){
      c(
      x=rho*cos(phi)*cos(theta)+ WH[1]/2,
      y=rho*cos(phi)*sin(theta)+ WH[2]/2,
      z=rho*sin(phi)
      )
},
seq(0,2*pi,length.out=20), 
seq(pi/2,pi/8,length.out=20) 
)
svgR( 
  playBar(wh=WH),
  svg(wh=WH,
    circle( cxy=WH/2, r= r, fill=&quot;green&quot;, stroke=&quot;black&quot; , 
      filter=filter(
        feComposite( 
          operator=&quot;arithmetic&quot;, k1234=c(0,1,1,0),
          in1=&quot;SourceGraphic&quot;,
          in2= feDiffuseLighting( lighting.color=&quot;white&quot;, diffuseConstant=1.2,
            in1=&quot;SourceGraphic&quot;,
            fePointLight( xyz=c(WH/2,10), #lightPos(pi/2),
              animate(attributeName='xyz',
              values=lightPos,
              dur=5, 
              begin=playButton.click,fill=&quot;remove&quot;
              )
            ) 
          )
        )
      )
    )
  )
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="240">
<linearGradient x1="0" y1="0" x2="0" y2="1" id="genid1531"> <stop offset="0%" stop-color="lightblue"></stop> <stop offset="50%" stop-color="white"></stop> <stop offset="100%" stop-color="lightblue"></stop> </linearGradient> <rect fill="url(#genid1531)" width="800" height="40" x="0" y="200"></rect> <g id="playButton40"> <circle r="12" stroke="grey" fill="grey" cx="780" cy="220"></circle> <circle r="10" stroke="grey" fill="#404040" cx="780" cy="220"></circle> <polygon points="790,220 777,224 777,216" fill="lime"></polygon> </g> <rect fill="none" stroke="blue" stroke-width="3" width="800" height="200" x="0" y="0"></rect> <svg width="800" height="200"> <filter id="genid1533"> <feDiffuseLighting lighting-color="white" diffuseConstant="1.2" in="SourceGraphic" result="genid1532"> <fePointLight x="400" y="100" z="10"> <animate attributeName="x" values="400;405.860793862851;409.761086604847;410.115503572911;406.026312439676;397.48064449395;385.398051139962;371.517883474514;358.141676086874;347.769239268767;342.684831498304;344.558800010858;354.128967273617;371.014884892568;393.69850171077;419.679732820033;445.788666332753;468.611786284615;484.97136804618;492.387953251129" dur="5" begin="playButton40.click" fill="remove"></animate> <animate attributeName="y" values="100;102.012013074496;107.597358659167;115.482930833987;123.797369651854;130.404099419045;133.289090346887;130.939826258787;122.652592093879;108.715772438508;90.4357899647284;69.9967229658865;50.1707753496665;33.920593423874;23.9522250771629;22.2864925680379;29.9152287673515;46.5973031740683;70.82929250414;100" dur="5" begin="playButton40.click" fill="remove"></animate> <animate attributeName="z" values="100;99.8078298465868;99.2320579737045;98.2748973047359;96.940026593933;95.2325762874815;93.1591088051279;90.727593318156;87.9473751206489;84.8291397117574;81.3848717270195;77.6278088765757;73.5723910673132;69.234204904483;64.6299237860941;59.7772438203241;54.6948158122427;49.4021735812504;43.919658884737;38.268343236509" dur="5" begin="playButton40.click" fill="remove"></animate> </fePointLight> </feDiffuseLighting> <feComposite operator="arithmetic" in="SourceGraphic" in2="genid1532" k1="0" k2="1" k3="1" k4="0"></feComposite> </filter> <circle r="100" fill="green" stroke="black" filter="url(#genid1533)" cx="400" cy="100"></circle>
</svg>
</svg>
<p><a name="animateTransform"></a></p>
</div>
</div>
<div id="animatetransform" class="section level2">
<h2>AnimateTransform</h2>
<p>AnimateTransform is used to animate the transform attribute. Thus animate transform applies to shapes (and groups) and can animate any combination of the following:</p>
<ul>
<li>translate</li>
<li>scale</li>
<li>rotate</li>
<li>skewX</li>
<li>skewY</li>
</ul>
<p>We start by showing some basic operations:</p>
<pre class="r"><code>WH&lt;-c(800,200)
dur=5
svgR( 
  playBar(wh=WH), 
  graphPaper(wh=WH, dxy=c(40,40), labels=TRUE),
    text( &quot;Animate Transform:  type=translate&quot;, xy=c(30,40), fill='darkblue', font.size=20),
    rect( xy=c(80,80), wh=c(40,40), fill='lightblue', stroke='blue', opacity=0.5,
      animateTransform(attributeName=&quot;transform&quot;, type='translate',
              from=c(0,0), to=c(600,0), 
              begin=playButton.click, dur=dur
      )
    )    
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="240">
<linearGradient x1="0" y1="0" x2="0" y2="1" id="genid1534"> <stop offset="0%" stop-color="lightblue"></stop> <stop offset="50%" stop-color="white"></stop> <stop offset="100%" stop-color="lightblue"></stop> </linearGradient> <rect fill="url(#genid1534)" width="800" height="40" x="0" y="200"></rect> <g id="playButton41"> <circle r="12" stroke="grey" fill="grey" cx="780" cy="220"></circle> <circle r="10" stroke="grey" fill="#404040" cx="780" cy="220"></circle> <polygon points="790,220 777,224 777,216" fill="lime"></polygon> </g> <rect fill="none" stroke="blue" stroke-width="3" width="800" height="200" x="0" y="0"></rect> <g stroke-width="1" font-size="10" stroke="lightgrey"> <line x1="0" y1="0" x2="0" y2="200"></line> <line x1="40" y1="0" x2="40" y2="200"></line> <line x1="80" y1="0" x2="80" y2="200"></line> <line x1="120" y1="0" x2="120" y2="200"></line> <line x1="160" y1="0" x2="160" y2="200"></line> <line x1="200" y1="0" x2="200" y2="200"></line> <line x1="240" y1="0" x2="240" y2="200"></line> <line x1="280" y1="0" x2="280" y2="200"></line> <line x1="320" y1="0" x2="320" y2="200"></line> <line x1="360" y1="0" x2="360" y2="200"></line> <line x1="400" y1="0" x2="400" y2="200"></line> <line x1="440" y1="0" x2="440" y2="200"></line> <line x1="480" y1="0" x2="480" y2="200"></line> <line x1="520" y1="0" x2="520" y2="200"></line> <line x1="560" y1="0" x2="560" y2="200"></line> <line x1="600" y1="0" x2="600" y2="200"></line> <line x1="640" y1="0" x2="640" y2="200"></line> <line x1="680" y1="0" x2="680" y2="200"></line> <line x1="720" y1="0" x2="720" y2="200"></line> <line x1="760" y1="0" x2="760" y2="200"></line> <line x1="800" y1="0" x2="800" y2="200"></line> <line x1="0" y1="0" x2="800" y2="0"></line> <line x1="0" y1="40" x2="800" y2="40"></line> <line x1="0" y1="80" x2="800" y2="80"></line> <line x1="0" y1="120" x2="800" y2="120"></line> <line x1="0" y1="160" x2="800" y2="160"></line> <line x1="0" y1="200" x2="800" y2="200"></line> <text x="2" y="10">0</text> <text x="42" y="10">40</text> <text x="82" y="10">80</text> <text x="122" y="10">120</text> <text x="162" y="10">160</text> <text x="202" y="10">200</text> <text x="242" y="10">240</text> <text x="282" y="10">280</text> <text x="322" y="10">320</text> <text x="362" y="10">360</text> <text x="402" y="10">400</text> <text x="442" y="10">440</text> <text x="482" y="10">480</text> <text x="522" y="10">520</text> <text x="562" y="10">560</text> <text x="602" y="10">600</text> <text x="642" y="10">640</text> <text x="682" y="10">680</text> <text x="722" y="10">720</text> <text x="762" y="10">760</text> <text x="802" y="10">800</text> <text x="2" y="0">0</text> <text x="2" y="40">40</text> <text x="2" y="80">80</text> <text x="2" y="120">120</text> <text x="2" y="160">160</text> <text x="2" y="200">200</text> </g> <text fill="darkblue" font-size="20" x="30" y="40">Animate Transform: type=translate</text> <rect fill="lightblue" stroke="blue" opacity="0.5" width="40" height="40" x="80" y="80"> <animateTransform attributeName="transform" type="translate" from="0,0" to="600,0" begin="playButton41.click" dur="5"></animateTransform> </rect>
</svg>
<pre class="r"><code>WH&lt;-c(800,250)
svgR( 
  playBar(wh=WH), 
  graphPaper(wh=WH, dxy=c(20,20), labels=TRUE),
  text( &quot;Animate Transform Rotation&quot;, xy=c(25,25), fill='blue', font.size=20),
  polygon( points=c( c(.5,.5), c(.55,.6), c(.45,.6))*(WH+c(0,-20)),
    fill='#80FFFF',stroke='red',
    animateTransform(attributeName=&quot;transform&quot;, type='rotate',
            from=c(0,WH/2), to=c(360,WH/2), 
            begin=playButton.click, dur=2, 
            repeatCount=5 
    )
   )
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="290">
<linearGradient x1="0" y1="0" x2="0" y2="1" id="genid1535"> <stop offset="0%" stop-color="lightblue"></stop> <stop offset="50%" stop-color="white"></stop> <stop offset="100%" stop-color="lightblue"></stop> </linearGradient> <rect fill="url(#genid1535)" width="800" height="40" x="0" y="250"></rect> <g id="playButton42"> <circle r="12" stroke="grey" fill="grey" cx="780" cy="270"></circle> <circle r="10" stroke="grey" fill="#404040" cx="780" cy="270"></circle> <polygon points="790,270 777,274 777,266" fill="lime"></polygon> </g> <rect fill="none" stroke="blue" stroke-width="3" width="800" height="250" x="0" y="0"></rect> <g stroke-width="1" font-size="10" stroke="lightgrey"> <line x1="0" y1="0" x2="0" y2="250"></line> <line x1="20" y1="0" x2="20" y2="250"></line> <line x1="40" y1="0" x2="40" y2="250"></line> <line x1="60" y1="0" x2="60" y2="250"></line> <line x1="80" y1="0" x2="80" y2="250"></line> <line x1="100" y1="0" x2="100" y2="250"></line> <line x1="120" y1="0" x2="120" y2="250"></line> <line x1="140" y1="0" x2="140" y2="250"></line> <line x1="160" y1="0" x2="160" y2="250"></line> <line x1="180" y1="0" x2="180" y2="250"></line> <line x1="200" y1="0" x2="200" y2="250"></line> <line x1="220" y1="0" x2="220" y2="250"></line> <line x1="240" y1="0" x2="240" y2="250"></line> <line x1="260" y1="0" x2="260" y2="250"></line> <line x1="280" y1="0" x2="280" y2="250"></line> <line x1="300" y1="0" x2="300" y2="250"></line> <line x1="320" y1="0" x2="320" y2="250"></line> <line x1="340" y1="0" x2="340" y2="250"></line> <line x1="360" y1="0" x2="360" y2="250"></line> <line x1="380" y1="0" x2="380" y2="250"></line> <line x1="400" y1="0" x2="400" y2="250"></line> <line x1="420" y1="0" x2="420" y2="250"></line> <line x1="440" y1="0" x2="440" y2="250"></line> <line x1="460" y1="0" x2="460" y2="250"></line> <line x1="480" y1="0" x2="480" y2="250"></line> <line x1="500" y1="0" x2="500" y2="250"></line> <line x1="520" y1="0" x2="520" y2="250"></line> <line x1="540" y1="0" x2="540" y2="250"></line> <line x1="560" y1="0" x2="560" y2="250"></line> <line x1="580" y1="0" x2="580" y2="250"></line> <line x1="600" y1="0" x2="600" y2="250"></line> <line x1="620" y1="0" x2="620" y2="250"></line> <line x1="640" y1="0" x2="640" y2="250"></line> <line x1="660" y1="0" x2="660" y2="250"></line> <line x1="680" y1="0" x2="680" y2="250"></line> <line x1="700" y1="0" x2="700" y2="250"></line> <line x1="720" y1="0" x2="720" y2="250"></line> <line x1="740" y1="0" x2="740" y2="250"></line> <line x1="760" y1="0" x2="760" y2="250"></line> <line x1="780" y1="0" x2="780" y2="250"></line> <line x1="800" y1="0" x2="800" y2="250"></line> <line x1="0" y1="0" x2="800" y2="0"></line> <line x1="0" y1="20" x2="800" y2="20"></line> <line x1="0" y1="40" x2="800" y2="40"></line> <line x1="0" y1="60" x2="800" y2="60"></line> <line x1="0" y1="80" x2="800" y2="80"></line> <line x1="0" y1="100" x2="800" y2="100"></line> <line x1="0" y1="120" x2="800" y2="120"></line> <line x1="0" y1="140" x2="800" y2="140"></line> <line x1="0" y1="160" x2="800" y2="160"></line> <line x1="0" y1="180" x2="800" y2="180"></line> <line x1="0" y1="200" x2="800" y2="200"></line> <line x1="0" y1="220" x2="800" y2="220"></line> <line x1="0" y1="240" x2="800" y2="240"></line> <text x="2" y="10">0</text> <text x="22" y="10">20</text> <text x="42" y="10">40</text> <text x="62" y="10">60</text> <text x="82" y="10">80</text> <text x="102" y="10">100</text> <text x="122" y="10">120</text> <text x="142" y="10">140</text> <text x="162" y="10">160</text> <text x="182" y="10">180</text> <text x="202" y="10">200</text> <text x="222" y="10">220</text> <text x="242" y="10">240</text> <text x="262" y="10">260</text> <text x="282" y="10">280</text> <text x="302" y="10">300</text> <text x="322" y="10">320</text> <text x="342" y="10">340</text> <text x="362" y="10">360</text> <text x="382" y="10">380</text> <text x="402" y="10">400</text> <text x="422" y="10">420</text> <text x="442" y="10">440</text> <text x="462" y="10">460</text> <text x="482" y="10">480</text> <text x="502" y="10">500</text> <text x="522" y="10">520</text> <text x="542" y="10">540</text> <text x="562" y="10">560</text> <text x="582" y="10">580</text> <text x="602" y="10">600</text> <text x="622" y="10">620</text> <text x="642" y="10">640</text> <text x="662" y="10">660</text> <text x="682" y="10">680</text> <text x="702" y="10">700</text> <text x="722" y="10">720</text> <text x="742" y="10">740</text> <text x="762" y="10">760</text> <text x="782" y="10">780</text> <text x="802" y="10">800</text> <text x="2" y="0">0</text> <text x="2" y="20">20</text> <text x="2" y="40">40</text> <text x="2" y="60">60</text> <text x="2" y="80">80</text> <text x="2" y="100">100</text> <text x="2" y="120">120</text> <text x="2" y="140">140</text> <text x="2" y="160">160</text> <text x="2" y="180">180</text> <text x="2" y="200">200</text> <text x="2" y="220">220</text> <text x="2" y="240">240</text> </g> <text fill="blue" font-size="20" x="25" y="25">Animate Transform Rotation</text> <polygon points="400 115 440 138 360 138" fill="#80FFFF" stroke="red"> <animateTransform attributeName="transform" type="rotate" from="0,400,125" to="360,400,125" begin="playButton42.click" dur="2" repeatCount="5"></animateTransform> </polygon>
</svg>
<pre class="r"><code>WH&lt;-c(800,150)
N&lt;-12
fop&lt;-.07*(2 + (1:N)*(8-2)/N) 
dur=1.25
rc=5
svgR( 
  playBar(wh=WH), 
  text( &quot;I'm busy&quot;, xy=c(300,80), fill='red', font.size=60, visibility='hidden',
    set(attributeName=&quot;visibility&quot;, to=&quot;visible&quot;,begin=playButton.click, dur=dur*rc)
  ),
  g(
    lapply(1:N, function(i){
      rect( xy=c(150,50),wh=c(3,10), fill='blue', fill.opacity=fop[i],
          transform=list( rotate=c(i*360/N, 150, 50), translate=c(0,10))
      )
    }),
    animateTransform(attributeName=&quot;transform&quot;, type='rotate',
            from=c(0,150,50), to=c(360,150,50), 
            begin=playButton.click, dur=dur, 
            repeatCount=rc 
    )
  )
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="190">
<linearGradient x1="0" y1="0" x2="0" y2="1" id="genid1536"> <stop offset="0%" stop-color="lightblue"></stop> <stop offset="50%" stop-color="white"></stop> <stop offset="100%" stop-color="lightblue"></stop> </linearGradient> <rect fill="url(#genid1536)" width="800" height="40" x="0" y="150"></rect> <g id="playButton43"> <circle r="12" stroke="grey" fill="grey" cx="780" cy="170"></circle> <circle r="10" stroke="grey" fill="#404040" cx="780" cy="170"></circle> <polygon points="790,170 777,174 777,166" fill="lime"></polygon> </g> <rect fill="none" stroke="blue" stroke-width="3" width="800" height="150" x="0" y="0"></rect> <text fill="red" font-size="60" visibility="hidden" x="300" y="80">Im busy<set attributeName="visibility" to="visible" begin="playButton43.click" dur="6.25"></set></text> <g> <rect fill="blue" fill-opacity="0.175" transform="rotate(30,150,50) translate(0,10)" width="3" height="10" x="150" y="50"></rect> <rect fill="blue" fill-opacity="0.21" transform="rotate(60,150,50) translate(0,10)" width="3" height="10" x="150" y="50"></rect> <rect fill="blue" fill-opacity="0.245" transform="rotate(90,150,50) translate(0,10)" width="3" height="10" x="150" y="50"></rect> <rect fill="blue" fill-opacity="0.28" transform="rotate(120,150,50) translate(0,10)" width="3" height="10" x="150" y="50"></rect> <rect fill="blue" fill-opacity="0.315" transform="rotate(150,150,50) translate(0,10)" width="3" height="10" x="150" y="50"></rect> <rect fill="blue" fill-opacity="0.35" transform="rotate(180,150,50) translate(0,10)" width="3" height="10" x="150" y="50"></rect> <rect fill="blue" fill-opacity="0.385" transform="rotate(210,150,50) translate(0,10)" width="3" height="10" x="150" y="50"></rect> <rect fill="blue" fill-opacity="0.42" transform="rotate(240,150,50) translate(0,10)" width="3" height="10" x="150" y="50"></rect> <rect fill="blue" fill-opacity="0.455" transform="rotate(270,150,50) translate(0,10)" width="3" height="10" x="150" y="50"></rect> <rect fill="blue" fill-opacity="0.49" transform="rotate(300,150,50) translate(0,10)" width="3" height="10" x="150" y="50"></rect> <rect fill="blue" fill-opacity="0.525" transform="rotate(330,150,50) translate(0,10)" width="3" height="10" x="150" y="50"></rect> <rect fill="blue" fill-opacity="0.56" transform="rotate(360,150,50) translate(0,10)" width="3" height="10" x="150" y="50"></rect> <animateTransform attributeName="transform" type="rotate" from="0,150,50" to="360,150,50" begin="playButton43.click" dur="1.25" repeatCount="5"></animateTransform> </g>
</svg>
<div id="animated-scaling-with-the-origin-as-the-fixed-point" class="section level4">
<h4>Animated Scaling With the Origin as the Fixed Point</h4>
<p>Scaling can be animated using <strong>animateTransform</strong>, however there are a few caveats.</p>
<p>A simple <strong>animateTransform</strong> with <em>type=scales</em> will scale about the origin, so items not at the origin appear to be moved.</p>
<pre class="r"><code>WH&lt;-c(800,250)
dur=5
rect.wh=c(50,50)
svgR( 
  playBar(wh=WH), 
  graphPaper(wh=WH, dxy=c(20,20), labels=TRUE),
  svg( wh=WH, xy=c(0,0),
    text( &quot;Scaling, with the origin as the fixed point&quot;, xy=c(30,30), fill='red', font.size=50, visibility='hidden'),
    rect( xy=c(100,50),wh=rect.wh, fill='lightblue', stroke='blue', opacity=.6,
      animateTransform(attributeName=&quot;transform&quot;, type='scale',
              from=c(1,1), to=c(2,2), 
              begin=playButton.click, dur=dur
      )
    )    
  )

)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="290">
<linearGradient x1="0" y1="0" x2="0" y2="1" id="genid1537"> <stop offset="0%" stop-color="lightblue"></stop> <stop offset="50%" stop-color="white"></stop> <stop offset="100%" stop-color="lightblue"></stop> </linearGradient> <rect fill="url(#genid1537)" width="800" height="40" x="0" y="250"></rect> <g id="playButton44"> <circle r="12" stroke="grey" fill="grey" cx="780" cy="270"></circle> <circle r="10" stroke="grey" fill="#404040" cx="780" cy="270"></circle> <polygon points="790,270 777,274 777,266" fill="lime"></polygon> </g> <rect fill="none" stroke="blue" stroke-width="3" width="800" height="250" x="0" y="0"></rect> <g stroke-width="1" font-size="10" stroke="lightgrey"> <line x1="0" y1="0" x2="0" y2="250"></line> <line x1="20" y1="0" x2="20" y2="250"></line> <line x1="40" y1="0" x2="40" y2="250"></line> <line x1="60" y1="0" x2="60" y2="250"></line> <line x1="80" y1="0" x2="80" y2="250"></line> <line x1="100" y1="0" x2="100" y2="250"></line> <line x1="120" y1="0" x2="120" y2="250"></line> <line x1="140" y1="0" x2="140" y2="250"></line> <line x1="160" y1="0" x2="160" y2="250"></line> <line x1="180" y1="0" x2="180" y2="250"></line> <line x1="200" y1="0" x2="200" y2="250"></line> <line x1="220" y1="0" x2="220" y2="250"></line> <line x1="240" y1="0" x2="240" y2="250"></line> <line x1="260" y1="0" x2="260" y2="250"></line> <line x1="280" y1="0" x2="280" y2="250"></line> <line x1="300" y1="0" x2="300" y2="250"></line> <line x1="320" y1="0" x2="320" y2="250"></line> <line x1="340" y1="0" x2="340" y2="250"></line> <line x1="360" y1="0" x2="360" y2="250"></line> <line x1="380" y1="0" x2="380" y2="250"></line> <line x1="400" y1="0" x2="400" y2="250"></line> <line x1="420" y1="0" x2="420" y2="250"></line> <line x1="440" y1="0" x2="440" y2="250"></line> <line x1="460" y1="0" x2="460" y2="250"></line> <line x1="480" y1="0" x2="480" y2="250"></line> <line x1="500" y1="0" x2="500" y2="250"></line> <line x1="520" y1="0" x2="520" y2="250"></line> <line x1="540" y1="0" x2="540" y2="250"></line> <line x1="560" y1="0" x2="560" y2="250"></line> <line x1="580" y1="0" x2="580" y2="250"></line> <line x1="600" y1="0" x2="600" y2="250"></line> <line x1="620" y1="0" x2="620" y2="250"></line> <line x1="640" y1="0" x2="640" y2="250"></line> <line x1="660" y1="0" x2="660" y2="250"></line> <line x1="680" y1="0" x2="680" y2="250"></line> <line x1="700" y1="0" x2="700" y2="250"></line> <line x1="720" y1="0" x2="720" y2="250"></line> <line x1="740" y1="0" x2="740" y2="250"></line> <line x1="760" y1="0" x2="760" y2="250"></line> <line x1="780" y1="0" x2="780" y2="250"></line> <line x1="800" y1="0" x2="800" y2="250"></line> <line x1="0" y1="0" x2="800" y2="0"></line> <line x1="0" y1="20" x2="800" y2="20"></line> <line x1="0" y1="40" x2="800" y2="40"></line> <line x1="0" y1="60" x2="800" y2="60"></line> <line x1="0" y1="80" x2="800" y2="80"></line> <line x1="0" y1="100" x2="800" y2="100"></line> <line x1="0" y1="120" x2="800" y2="120"></line> <line x1="0" y1="140" x2="800" y2="140"></line> <line x1="0" y1="160" x2="800" y2="160"></line> <line x1="0" y1="180" x2="800" y2="180"></line> <line x1="0" y1="200" x2="800" y2="200"></line> <line x1="0" y1="220" x2="800" y2="220"></line> <line x1="0" y1="240" x2="800" y2="240"></line> <text x="2" y="10">0</text> <text x="22" y="10">20</text> <text x="42" y="10">40</text> <text x="62" y="10">60</text> <text x="82" y="10">80</text> <text x="102" y="10">100</text> <text x="122" y="10">120</text> <text x="142" y="10">140</text> <text x="162" y="10">160</text> <text x="182" y="10">180</text> <text x="202" y="10">200</text> <text x="222" y="10">220</text> <text x="242" y="10">240</text> <text x="262" y="10">260</text> <text x="282" y="10">280</text> <text x="302" y="10">300</text> <text x="322" y="10">320</text> <text x="342" y="10">340</text> <text x="362" y="10">360</text> <text x="382" y="10">380</text> <text x="402" y="10">400</text> <text x="422" y="10">420</text> <text x="442" y="10">440</text> <text x="462" y="10">460</text> <text x="482" y="10">480</text> <text x="502" y="10">500</text> <text x="522" y="10">520</text> <text x="542" y="10">540</text> <text x="562" y="10">560</text> <text x="582" y="10">580</text> <text x="602" y="10">600</text> <text x="622" y="10">620</text> <text x="642" y="10">640</text> <text x="662" y="10">660</text> <text x="682" y="10">680</text> <text x="702" y="10">700</text> <text x="722" y="10">720</text> <text x="742" y="10">740</text> <text x="762" y="10">760</text> <text x="782" y="10">780</text> <text x="802" y="10">800</text> <text x="2" y="0">0</text> <text x="2" y="20">20</text> <text x="2" y="40">40</text> <text x="2" y="60">60</text> <text x="2" y="80">80</text> <text x="2" y="100">100</text> <text x="2" y="120">120</text> <text x="2" y="140">140</text> <text x="2" y="160">160</text> <text x="2" y="180">180</text> <text x="2" y="200">200</text> <text x="2" y="220">220</text> <text x="2" y="240">240</text> </g> <svg width="800" height="250" x="0" y="0"> <text fill="red" font-size="50" visibility="hidden" x="30" y="30">Scaling, with the origin as the fixed point</text> <rect fill="lightblue" stroke="blue" opacity="0.6" width="50" height="50" x="100" y="50"> <animateTransform attributeName="transform" type="scale" from="1,1" to="2,2" begin="playButton44.click" dur="5"></animateTransform> </rect>
</svg>
</svg>
<p><strong>Norw</strong> here, the <em>graphPaper</em> was outside of the scope of <em>animateTransform</em>, so it was not scaled</p>
<p>To scale with a given fixed point <em>pt</em> we need to be a slightly more clever.</p>
</div>
<div id="animate-transform-scaling-with-a-given-fixed-point." class="section level4">
<h4>Animate Transform Scaling With a Given Fixed Point.</h4>
<p>In this example we take a rectangle centered at the middle of the <em>viewPort</em> (WH/2) and use <strong>animateTransform</strong> with <em>type=scale</em> to scale it, while keeping the rectangle center as a fixed point.</p>
<p>We get this by 2 nested applications of <strong>animateTransform</strong>.</p>
<pre class="r"><code>WH&lt;-c(800,250)
dur=5
pt&lt;-WH/2
alpha&lt;-c(3,2)
rect.wh=c(50,50)
svgR( 
  playBar(wh=WH), 
  graphPaper(wh=WH, dxy=c(20,20), labels=TRUE),
  svg( wh=WH, xy=c(0,0),
    text( &quot;Transform &quot;, xy=c(30,30), fill='red', font.size=50, visibility='hidden'),
    g(
      rect( xy=pt-rect.wh/2, wh=rect.wh, fill='lightblue', stroke='blue', opacity=.6,
        animateTransform(attributeName=&quot;transform&quot;, type='scale', 
              from=c(1,1), to=alpha, 
              begin=playButton.click, dur=dur
        )
      ),
      animateTransform(attributeName=&quot;transform&quot;, type='translate', additive='sum',
        from=c(0,0), to=(c(1,1)-alpha)*pt, 
        begin=playButton.click, dur=dur
      )     
    )
  )
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="290">
<linearGradient x1="0" y1="0" x2="0" y2="1" id="genid1538"> <stop offset="0%" stop-color="lightblue"></stop> <stop offset="50%" stop-color="white"></stop> <stop offset="100%" stop-color="lightblue"></stop> </linearGradient> <rect fill="url(#genid1538)" width="800" height="40" x="0" y="250"></rect> <g id="playButton45"> <circle r="12" stroke="grey" fill="grey" cx="780" cy="270"></circle> <circle r="10" stroke="grey" fill="#404040" cx="780" cy="270"></circle> <polygon points="790,270 777,274 777,266" fill="lime"></polygon> </g> <rect fill="none" stroke="blue" stroke-width="3" width="800" height="250" x="0" y="0"></rect> <g stroke-width="1" font-size="10" stroke="lightgrey"> <line x1="0" y1="0" x2="0" y2="250"></line> <line x1="20" y1="0" x2="20" y2="250"></line> <line x1="40" y1="0" x2="40" y2="250"></line> <line x1="60" y1="0" x2="60" y2="250"></line> <line x1="80" y1="0" x2="80" y2="250"></line> <line x1="100" y1="0" x2="100" y2="250"></line> <line x1="120" y1="0" x2="120" y2="250"></line> <line x1="140" y1="0" x2="140" y2="250"></line> <line x1="160" y1="0" x2="160" y2="250"></line> <line x1="180" y1="0" x2="180" y2="250"></line> <line x1="200" y1="0" x2="200" y2="250"></line> <line x1="220" y1="0" x2="220" y2="250"></line> <line x1="240" y1="0" x2="240" y2="250"></line> <line x1="260" y1="0" x2="260" y2="250"></line> <line x1="280" y1="0" x2="280" y2="250"></line> <line x1="300" y1="0" x2="300" y2="250"></line> <line x1="320" y1="0" x2="320" y2="250"></line> <line x1="340" y1="0" x2="340" y2="250"></line> <line x1="360" y1="0" x2="360" y2="250"></line> <line x1="380" y1="0" x2="380" y2="250"></line> <line x1="400" y1="0" x2="400" y2="250"></line> <line x1="420" y1="0" x2="420" y2="250"></line> <line x1="440" y1="0" x2="440" y2="250"></line> <line x1="460" y1="0" x2="460" y2="250"></line> <line x1="480" y1="0" x2="480" y2="250"></line> <line x1="500" y1="0" x2="500" y2="250"></line> <line x1="520" y1="0" x2="520" y2="250"></line> <line x1="540" y1="0" x2="540" y2="250"></line> <line x1="560" y1="0" x2="560" y2="250"></line> <line x1="580" y1="0" x2="580" y2="250"></line> <line x1="600" y1="0" x2="600" y2="250"></line> <line x1="620" y1="0" x2="620" y2="250"></line> <line x1="640" y1="0" x2="640" y2="250"></line> <line x1="660" y1="0" x2="660" y2="250"></line> <line x1="680" y1="0" x2="680" y2="250"></line> <line x1="700" y1="0" x2="700" y2="250"></line> <line x1="720" y1="0" x2="720" y2="250"></line> <line x1="740" y1="0" x2="740" y2="250"></line> <line x1="760" y1="0" x2="760" y2="250"></line> <line x1="780" y1="0" x2="780" y2="250"></line> <line x1="800" y1="0" x2="800" y2="250"></line> <line x1="0" y1="0" x2="800" y2="0"></line> <line x1="0" y1="20" x2="800" y2="20"></line> <line x1="0" y1="40" x2="800" y2="40"></line> <line x1="0" y1="60" x2="800" y2="60"></line> <line x1="0" y1="80" x2="800" y2="80"></line> <line x1="0" y1="100" x2="800" y2="100"></line> <line x1="0" y1="120" x2="800" y2="120"></line> <line x1="0" y1="140" x2="800" y2="140"></line> <line x1="0" y1="160" x2="800" y2="160"></line> <line x1="0" y1="180" x2="800" y2="180"></line> <line x1="0" y1="200" x2="800" y2="200"></line> <line x1="0" y1="220" x2="800" y2="220"></line> <line x1="0" y1="240" x2="800" y2="240"></line> <text x="2" y="10">0</text> <text x="22" y="10">20</text> <text x="42" y="10">40</text> <text x="62" y="10">60</text> <text x="82" y="10">80</text> <text x="102" y="10">100</text> <text x="122" y="10">120</text> <text x="142" y="10">140</text> <text x="162" y="10">160</text> <text x="182" y="10">180</text> <text x="202" y="10">200</text> <text x="222" y="10">220</text> <text x="242" y="10">240</text> <text x="262" y="10">260</text> <text x="282" y="10">280</text> <text x="302" y="10">300</text> <text x="322" y="10">320</text> <text x="342" y="10">340</text> <text x="362" y="10">360</text> <text x="382" y="10">380</text> <text x="402" y="10">400</text> <text x="422" y="10">420</text> <text x="442" y="10">440</text> <text x="462" y="10">460</text> <text x="482" y="10">480</text> <text x="502" y="10">500</text> <text x="522" y="10">520</text> <text x="542" y="10">540</text> <text x="562" y="10">560</text> <text x="582" y="10">580</text> <text x="602" y="10">600</text> <text x="622" y="10">620</text> <text x="642" y="10">640</text> <text x="662" y="10">660</text> <text x="682" y="10">680</text> <text x="702" y="10">700</text> <text x="722" y="10">720</text> <text x="742" y="10">740</text> <text x="762" y="10">760</text> <text x="782" y="10">780</text> <text x="802" y="10">800</text> <text x="2" y="0">0</text> <text x="2" y="20">20</text> <text x="2" y="40">40</text> <text x="2" y="60">60</text> <text x="2" y="80">80</text> <text x="2" y="100">100</text> <text x="2" y="120">120</text> <text x="2" y="140">140</text> <text x="2" y="160">160</text> <text x="2" y="180">180</text> <text x="2" y="200">200</text> <text x="2" y="220">220</text> <text x="2" y="240">240</text> </g> <svg width="800" height="250" x="0" y="0"> <text fill="red" font-size="50" visibility="hidden" x="30" y="30">Transform </text> <g> <rect fill="lightblue" stroke="blue" opacity="0.6" width="50" height="50" x="375" y="100"> <animateTransform attributeName="transform" type="scale" from="1,1" to="3,2" begin="playButton45.click" dur="5"></animateTransform> </rect> <animateTransform attributeName="transform" type="translate" additive="sum" from="0,0" to="-800,-125" begin="playButton45.click" dur="5"></animateTransform> </g>
</svg>
</svg>
<p>This works, but the to calculation requires too much forethought.</p>
<p>An easier approach is to use an svg element.</p>
</div>
<div id="animate-transform-scaling-with-a-given-fixed-point-using-svg." class="section level3">
<h3>Animate Transform Scaling With a Given Fixed Point Using svg.</h3>
<p>This example, like the last example, takes a rectangle centered at the middle of the <em>viewPort</em> and employs animateTransform to scale it, keeping the rectangle center fixed.</p>
<p>However, instead of using two applications of <strong>animatedTransform</strong>, we wrap the rectangle to be animated inside an <strong>svg</strong> element. In particular, we set the viewBox of that <strong>svg</strong> element to have an origin at at the given point -<em>pt</em>, while we keeping the same width and height. We use the same viewPort for this <strong>svg</strong> as its container (xy=c(0,0),wh=WH).</p>
<p>The effect is that the c(p,0) point inside this <strong>svg</strong> is wilt appears at <em>pt</em>. Thus, centering the rectangle at c(0,0) gives ust the desired result.</p>
<pre class="r"><code>WH&lt;-c(800,250)
dur=5
pt&lt;-WH/2
rect.wh=c(50,50)
alpha&lt;-c(3,2)
svgR( 
  playBar(wh=WH), 
  graphPaper(wh=WH, dxy=c(20,20), labels=TRUE),
  svg( wh=WH, xy=c(0,0), 
    text( &quot;Transform &quot;, xy=c(30,30), fill='red', font.size=50, visibility='hidden'),
    svg( viewBox=c(-pt, WH),
    # all contained coordinates are relative to xy=pt
      circle(cxy=c(0,0), r=200, fill='red', opacity=.3),
      rect( cxy=c(0,0), wh=rect.wh, fill='lightgreen', stroke='blue', opacity=.6,
        animateTransform(attributeName=&quot;transform&quot;, type='scale', 
              from=c(1,1), to=alpha, 
              begin=playButton.click, dur=dur
        )
      ) 
    )   
  )
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="290">
<linearGradient x1="0" y1="0" x2="0" y2="1" id="genid1539"> <stop offset="0%" stop-color="lightblue"></stop> <stop offset="50%" stop-color="white"></stop> <stop offset="100%" stop-color="lightblue"></stop> </linearGradient> <rect fill="url(#genid1539)" width="800" height="40" x="0" y="250"></rect> <g id="playButton46"> <circle r="12" stroke="grey" fill="grey" cx="780" cy="270"></circle> <circle r="10" stroke="grey" fill="#404040" cx="780" cy="270"></circle> <polygon points="790,270 777,274 777,266" fill="lime"></polygon> </g> <rect fill="none" stroke="blue" stroke-width="3" width="800" height="250" x="0" y="0"></rect> <g stroke-width="1" font-size="10" stroke="lightgrey"> <line x1="0" y1="0" x2="0" y2="250"></line> <line x1="20" y1="0" x2="20" y2="250"></line> <line x1="40" y1="0" x2="40" y2="250"></line> <line x1="60" y1="0" x2="60" y2="250"></line> <line x1="80" y1="0" x2="80" y2="250"></line> <line x1="100" y1="0" x2="100" y2="250"></line> <line x1="120" y1="0" x2="120" y2="250"></line> <line x1="140" y1="0" x2="140" y2="250"></line> <line x1="160" y1="0" x2="160" y2="250"></line> <line x1="180" y1="0" x2="180" y2="250"></line> <line x1="200" y1="0" x2="200" y2="250"></line> <line x1="220" y1="0" x2="220" y2="250"></line> <line x1="240" y1="0" x2="240" y2="250"></line> <line x1="260" y1="0" x2="260" y2="250"></line> <line x1="280" y1="0" x2="280" y2="250"></line> <line x1="300" y1="0" x2="300" y2="250"></line> <line x1="320" y1="0" x2="320" y2="250"></line> <line x1="340" y1="0" x2="340" y2="250"></line> <line x1="360" y1="0" x2="360" y2="250"></line> <line x1="380" y1="0" x2="380" y2="250"></line> <line x1="400" y1="0" x2="400" y2="250"></line> <line x1="420" y1="0" x2="420" y2="250"></line> <line x1="440" y1="0" x2="440" y2="250"></line> <line x1="460" y1="0" x2="460" y2="250"></line> <line x1="480" y1="0" x2="480" y2="250"></line> <line x1="500" y1="0" x2="500" y2="250"></line> <line x1="520" y1="0" x2="520" y2="250"></line> <line x1="540" y1="0" x2="540" y2="250"></line> <line x1="560" y1="0" x2="560" y2="250"></line> <line x1="580" y1="0" x2="580" y2="250"></line> <line x1="600" y1="0" x2="600" y2="250"></line> <line x1="620" y1="0" x2="620" y2="250"></line> <line x1="640" y1="0" x2="640" y2="250"></line> <line x1="660" y1="0" x2="660" y2="250"></line> <line x1="680" y1="0" x2="680" y2="250"></line> <line x1="700" y1="0" x2="700" y2="250"></line> <line x1="720" y1="0" x2="720" y2="250"></line> <line x1="740" y1="0" x2="740" y2="250"></line> <line x1="760" y1="0" x2="760" y2="250"></line> <line x1="780" y1="0" x2="780" y2="250"></line> <line x1="800" y1="0" x2="800" y2="250"></line> <line x1="0" y1="0" x2="800" y2="0"></line> <line x1="0" y1="20" x2="800" y2="20"></line> <line x1="0" y1="40" x2="800" y2="40"></line> <line x1="0" y1="60" x2="800" y2="60"></line> <line x1="0" y1="80" x2="800" y2="80"></line> <line x1="0" y1="100" x2="800" y2="100"></line> <line x1="0" y1="120" x2="800" y2="120"></line> <line x1="0" y1="140" x2="800" y2="140"></line> <line x1="0" y1="160" x2="800" y2="160"></line> <line x1="0" y1="180" x2="800" y2="180"></line> <line x1="0" y1="200" x2="800" y2="200"></line> <line x1="0" y1="220" x2="800" y2="220"></line> <line x1="0" y1="240" x2="800" y2="240"></line> <text x="2" y="10">0</text> <text x="22" y="10">20</text> <text x="42" y="10">40</text> <text x="62" y="10">60</text> <text x="82" y="10">80</text> <text x="102" y="10">100</text> <text x="122" y="10">120</text> <text x="142" y="10">140</text> <text x="162" y="10">160</text> <text x="182" y="10">180</text> <text x="202" y="10">200</text> <text x="222" y="10">220</text> <text x="242" y="10">240</text> <text x="262" y="10">260</text> <text x="282" y="10">280</text> <text x="302" y="10">300</text> <text x="322" y="10">320</text> <text x="342" y="10">340</text> <text x="362" y="10">360</text> <text x="382" y="10">380</text> <text x="402" y="10">400</text> <text x="422" y="10">420</text> <text x="442" y="10">440</text> <text x="462" y="10">460</text> <text x="482" y="10">480</text> <text x="502" y="10">500</text> <text x="522" y="10">520</text> <text x="542" y="10">540</text> <text x="562" y="10">560</text> <text x="582" y="10">580</text> <text x="602" y="10">600</text> <text x="622" y="10">620</text> <text x="642" y="10">640</text> <text x="662" y="10">660</text> <text x="682" y="10">680</text> <text x="702" y="10">700</text> <text x="722" y="10">720</text> <text x="742" y="10">740</text> <text x="762" y="10">760</text> <text x="782" y="10">780</text> <text x="802" y="10">800</text> <text x="2" y="0">0</text> <text x="2" y="20">20</text> <text x="2" y="40">40</text> <text x="2" y="60">60</text> <text x="2" y="80">80</text> <text x="2" y="100">100</text> <text x="2" y="120">120</text> <text x="2" y="140">140</text> <text x="2" y="160">160</text> <text x="2" y="180">180</text> <text x="2" y="200">200</text> <text x="2" y="220">220</text> <text x="2" y="240">240</text> </g> <svg width="800" height="250" x="0" y="0"> <text fill="red" font-size="50" visibility="hidden" x="30" y="30">Transform </text> <svg viewBox="-400,-125,800,250"> <circle r="200" fill="red" opacity="0.3" cx="0" cy="0"></circle> <rect fill="lightgreen" stroke="blue" opacity="0.6" width="50" height="50" x="-25" y="-25"> <animateTransform attributeName="transform" type="scale" from="1,1" to="3,2" begin="playButton46.click" dur="5"></animateTransform> </rect>
</svg>
<p></svg> </svg></p>
<pre class="r"><code>WH&lt;-c(800,250)
dur=5
pt&lt;-WH/2
alpha&lt;-c(3,2)
svgR( 
  playBar(wh=WH), 
  graphPaper(wh=WH, dxy=c(40,40), labels=TRUE),
  svg( wh=WH, xy=c(0,0),
    text( &quot;Transform &quot;, xy=c(30,30), fill='red', font.size=50, visibility='hidden'),
    g(
      rect( cxy=pt, wh=c(50,50), fill='lightblue', stroke='blue', opacity=.6,
        animateTransform(attributeName=&quot;transform&quot;, type='scale', 
              from=c(1,1), to=alpha, 
              begin=playButton.click, dur=dur
        )
      ),
      animateTransform(attributeName=&quot;transform&quot;, type='translate', additive='sum',
        from=c(0,0), to=(c(1,1)-alpha)*pt, 
        begin=playButton.click, dur=dur
      )     
    )
  )
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="290">
<linearGradient x1="0" y1="0" x2="0" y2="1" id="genid1540"> <stop offset="0%" stop-color="lightblue"></stop> <stop offset="50%" stop-color="white"></stop> <stop offset="100%" stop-color="lightblue"></stop> </linearGradient> <rect fill="url(#genid1540)" width="800" height="40" x="0" y="250"></rect> <g id="playButton47"> <circle r="12" stroke="grey" fill="grey" cx="780" cy="270"></circle> <circle r="10" stroke="grey" fill="#404040" cx="780" cy="270"></circle> <polygon points="790,270 777,274 777,266" fill="lime"></polygon> </g> <rect fill="none" stroke="blue" stroke-width="3" width="800" height="250" x="0" y="0"></rect> <g stroke-width="1" font-size="10" stroke="lightgrey"> <line x1="0" y1="0" x2="0" y2="250"></line> <line x1="40" y1="0" x2="40" y2="250"></line> <line x1="80" y1="0" x2="80" y2="250"></line> <line x1="120" y1="0" x2="120" y2="250"></line> <line x1="160" y1="0" x2="160" y2="250"></line> <line x1="200" y1="0" x2="200" y2="250"></line> <line x1="240" y1="0" x2="240" y2="250"></line> <line x1="280" y1="0" x2="280" y2="250"></line> <line x1="320" y1="0" x2="320" y2="250"></line> <line x1="360" y1="0" x2="360" y2="250"></line> <line x1="400" y1="0" x2="400" y2="250"></line> <line x1="440" y1="0" x2="440" y2="250"></line> <line x1="480" y1="0" x2="480" y2="250"></line> <line x1="520" y1="0" x2="520" y2="250"></line> <line x1="560" y1="0" x2="560" y2="250"></line> <line x1="600" y1="0" x2="600" y2="250"></line> <line x1="640" y1="0" x2="640" y2="250"></line> <line x1="680" y1="0" x2="680" y2="250"></line> <line x1="720" y1="0" x2="720" y2="250"></line> <line x1="760" y1="0" x2="760" y2="250"></line> <line x1="800" y1="0" x2="800" y2="250"></line> <line x1="0" y1="0" x2="800" y2="0"></line> <line x1="0" y1="40" x2="800" y2="40"></line> <line x1="0" y1="80" x2="800" y2="80"></line> <line x1="0" y1="120" x2="800" y2="120"></line> <line x1="0" y1="160" x2="800" y2="160"></line> <line x1="0" y1="200" x2="800" y2="200"></line> <line x1="0" y1="240" x2="800" y2="240"></line> <text x="2" y="10">0</text> <text x="42" y="10">40</text> <text x="82" y="10">80</text> <text x="122" y="10">120</text> <text x="162" y="10">160</text> <text x="202" y="10">200</text> <text x="242" y="10">240</text> <text x="282" y="10">280</text> <text x="322" y="10">320</text> <text x="362" y="10">360</text> <text x="402" y="10">400</text> <text x="442" y="10">440</text> <text x="482" y="10">480</text> <text x="522" y="10">520</text> <text x="562" y="10">560</text> <text x="602" y="10">600</text> <text x="642" y="10">640</text> <text x="682" y="10">680</text> <text x="722" y="10">720</text> <text x="762" y="10">760</text> <text x="802" y="10">800</text> <text x="2" y="0">0</text> <text x="2" y="40">40</text> <text x="2" y="80">80</text> <text x="2" y="120">120</text> <text x="2" y="160">160</text> <text x="2" y="200">200</text> <text x="2" y="240">240</text> </g> <svg width="800" height="250" x="0" y="0"> <text fill="red" font-size="50" visibility="hidden" x="30" y="30">Transform </text> <g> <rect fill="lightblue" stroke="blue" opacity="0.6" width="50" height="50" x="375" y="100"> <animateTransform attributeName="transform" type="scale" from="1,1" to="3,2" begin="playButton47.click" dur="5"></animateTransform> </rect> <animateTransform attributeName="transform" type="translate" additive="sum" from="0,0" to="-800,-125" begin="playButton47.click" dur="5"></animateTransform> </g>
</svg>
</svg>
<div id="skewing-along-the-x-axis-with-the-origin-as-the-fixed-point" class="section level4">
<h4>Skewing Along the X Axis with the Origin as the Fixed Point</h4>
<p>Here we take a rectangle located at c(0,0) and use <strong>animateTransform</strong> <em>type=skewX</em> to skew it.</p>
<pre class="r"><code>WH&lt;-c(800,250)
svgR( 
  playBar(wh=WH), 
  graphPaper(wh=WH, dxy=c(20,20), labels=TRUE),
  text( &quot;Animate Transform skewX&quot;, xy=c(400,25), fill='blue', font.size=20),
  rect( xy=c(0,0), wh=c(100,100), fill='lightblue', stroke='blue', opacity=.6,
    animateTransform(attributeName=&quot;transform&quot;, type='skewX',
            from=0, to=45, 
            begin=playButton.click, dur=5 
            
    )
   )
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="290">
<linearGradient x1="0" y1="0" x2="0" y2="1" id="genid1541"> <stop offset="0%" stop-color="lightblue"></stop> <stop offset="50%" stop-color="white"></stop> <stop offset="100%" stop-color="lightblue"></stop> </linearGradient> <rect fill="url(#genid1541)" width="800" height="40" x="0" y="250"></rect> <g id="playButton48"> <circle r="12" stroke="grey" fill="grey" cx="780" cy="270"></circle> <circle r="10" stroke="grey" fill="#404040" cx="780" cy="270"></circle> <polygon points="790,270 777,274 777,266" fill="lime"></polygon> </g> <rect fill="none" stroke="blue" stroke-width="3" width="800" height="250" x="0" y="0"></rect> <g stroke-width="1" font-size="10" stroke="lightgrey"> <line x1="0" y1="0" x2="0" y2="250"></line> <line x1="20" y1="0" x2="20" y2="250"></line> <line x1="40" y1="0" x2="40" y2="250"></line> <line x1="60" y1="0" x2="60" y2="250"></line> <line x1="80" y1="0" x2="80" y2="250"></line> <line x1="100" y1="0" x2="100" y2="250"></line> <line x1="120" y1="0" x2="120" y2="250"></line> <line x1="140" y1="0" x2="140" y2="250"></line> <line x1="160" y1="0" x2="160" y2="250"></line> <line x1="180" y1="0" x2="180" y2="250"></line> <line x1="200" y1="0" x2="200" y2="250"></line> <line x1="220" y1="0" x2="220" y2="250"></line> <line x1="240" y1="0" x2="240" y2="250"></line> <line x1="260" y1="0" x2="260" y2="250"></line> <line x1="280" y1="0" x2="280" y2="250"></line> <line x1="300" y1="0" x2="300" y2="250"></line> <line x1="320" y1="0" x2="320" y2="250"></line> <line x1="340" y1="0" x2="340" y2="250"></line> <line x1="360" y1="0" x2="360" y2="250"></line> <line x1="380" y1="0" x2="380" y2="250"></line> <line x1="400" y1="0" x2="400" y2="250"></line> <line x1="420" y1="0" x2="420" y2="250"></line> <line x1="440" y1="0" x2="440" y2="250"></line> <line x1="460" y1="0" x2="460" y2="250"></line> <line x1="480" y1="0" x2="480" y2="250"></line> <line x1="500" y1="0" x2="500" y2="250"></line> <line x1="520" y1="0" x2="520" y2="250"></line> <line x1="540" y1="0" x2="540" y2="250"></line> <line x1="560" y1="0" x2="560" y2="250"></line> <line x1="580" y1="0" x2="580" y2="250"></line> <line x1="600" y1="0" x2="600" y2="250"></line> <line x1="620" y1="0" x2="620" y2="250"></line> <line x1="640" y1="0" x2="640" y2="250"></line> <line x1="660" y1="0" x2="660" y2="250"></line> <line x1="680" y1="0" x2="680" y2="250"></line> <line x1="700" y1="0" x2="700" y2="250"></line> <line x1="720" y1="0" x2="720" y2="250"></line> <line x1="740" y1="0" x2="740" y2="250"></line> <line x1="760" y1="0" x2="760" y2="250"></line> <line x1="780" y1="0" x2="780" y2="250"></line> <line x1="800" y1="0" x2="800" y2="250"></line> <line x1="0" y1="0" x2="800" y2="0"></line> <line x1="0" y1="20" x2="800" y2="20"></line> <line x1="0" y1="40" x2="800" y2="40"></line> <line x1="0" y1="60" x2="800" y2="60"></line> <line x1="0" y1="80" x2="800" y2="80"></line> <line x1="0" y1="100" x2="800" y2="100"></line> <line x1="0" y1="120" x2="800" y2="120"></line> <line x1="0" y1="140" x2="800" y2="140"></line> <line x1="0" y1="160" x2="800" y2="160"></line> <line x1="0" y1="180" x2="800" y2="180"></line> <line x1="0" y1="200" x2="800" y2="200"></line> <line x1="0" y1="220" x2="800" y2="220"></line> <line x1="0" y1="240" x2="800" y2="240"></line> <text x="2" y="10">0</text> <text x="22" y="10">20</text> <text x="42" y="10">40</text> <text x="62" y="10">60</text> <text x="82" y="10">80</text> <text x="102" y="10">100</text> <text x="122" y="10">120</text> <text x="142" y="10">140</text> <text x="162" y="10">160</text> <text x="182" y="10">180</text> <text x="202" y="10">200</text> <text x="222" y="10">220</text> <text x="242" y="10">240</text> <text x="262" y="10">260</text> <text x="282" y="10">280</text> <text x="302" y="10">300</text> <text x="322" y="10">320</text> <text x="342" y="10">340</text> <text x="362" y="10">360</text> <text x="382" y="10">380</text> <text x="402" y="10">400</text> <text x="422" y="10">420</text> <text x="442" y="10">440</text> <text x="462" y="10">460</text> <text x="482" y="10">480</text> <text x="502" y="10">500</text> <text x="522" y="10">520</text> <text x="542" y="10">540</text> <text x="562" y="10">560</text> <text x="582" y="10">580</text> <text x="602" y="10">600</text> <text x="622" y="10">620</text> <text x="642" y="10">640</text> <text x="662" y="10">660</text> <text x="682" y="10">680</text> <text x="702" y="10">700</text> <text x="722" y="10">720</text> <text x="742" y="10">740</text> <text x="762" y="10">760</text> <text x="782" y="10">780</text> <text x="802" y="10">800</text> <text x="2" y="0">0</text> <text x="2" y="20">20</text> <text x="2" y="40">40</text> <text x="2" y="60">60</text> <text x="2" y="80">80</text> <text x="2" y="100">100</text> <text x="2" y="120">120</text> <text x="2" y="140">140</text> <text x="2" y="160">160</text> <text x="2" y="180">180</text> <text x="2" y="200">200</text> <text x="2" y="220">220</text> <text x="2" y="240">240</text> </g> <text fill="blue" font-size="20" x="400" y="25">Animate Transform skewX</text> <rect fill="lightblue" stroke="blue" opacity="0.6" width="100" height="100" x="0" y="0"> <animateTransform attributeName="transform" type="skewX" from="0" to="45" begin="playButton48.click" dur="5"></animateTransform> </rect>
</svg>
</div>
<div id="skewing-along-the-y-axis-with-the-origin-as-the-fixed-point" class="section level4">
<h4>Skewing Along the Y Axis with the Origin as the Fixed Point</h4>
<p>Here we take a rectangle located at c(0,0) and use <strong>animateTransform</strong> <em>type=skewY</em> to skew it.</p>
<pre class="r"><code>WH&lt;-c(800,250)
svgR( 
  playBar(wh=WH), 
  graphPaper(wh=WH, dxy=c(20,20), labels=TRUE),
  text( &quot;Animate Transform skewY&quot;, xy=c(400,25), fill='blue', font.size=20),
  rect( xy=c(0,0), wh=c(100,100), fill='lightblue', stroke='blue', opacity=.6,
    animateTransform(attributeName=&quot;transform&quot;, type='skewY',
            from=0, to=45, 
            begin=playButton.click, dur=5 
            
    )
   )
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="290">
<linearGradient x1="0" y1="0" x2="0" y2="1" id="genid1542"> <stop offset="0%" stop-color="lightblue"></stop> <stop offset="50%" stop-color="white"></stop> <stop offset="100%" stop-color="lightblue"></stop> </linearGradient> <rect fill="url(#genid1542)" width="800" height="40" x="0" y="250"></rect> <g id="playButton49"> <circle r="12" stroke="grey" fill="grey" cx="780" cy="270"></circle> <circle r="10" stroke="grey" fill="#404040" cx="780" cy="270"></circle> <polygon points="790,270 777,274 777,266" fill="lime"></polygon> </g> <rect fill="none" stroke="blue" stroke-width="3" width="800" height="250" x="0" y="0"></rect> <g stroke-width="1" font-size="10" stroke="lightgrey"> <line x1="0" y1="0" x2="0" y2="250"></line> <line x1="20" y1="0" x2="20" y2="250"></line> <line x1="40" y1="0" x2="40" y2="250"></line> <line x1="60" y1="0" x2="60" y2="250"></line> <line x1="80" y1="0" x2="80" y2="250"></line> <line x1="100" y1="0" x2="100" y2="250"></line> <line x1="120" y1="0" x2="120" y2="250"></line> <line x1="140" y1="0" x2="140" y2="250"></line> <line x1="160" y1="0" x2="160" y2="250"></line> <line x1="180" y1="0" x2="180" y2="250"></line> <line x1="200" y1="0" x2="200" y2="250"></line> <line x1="220" y1="0" x2="220" y2="250"></line> <line x1="240" y1="0" x2="240" y2="250"></line> <line x1="260" y1="0" x2="260" y2="250"></line> <line x1="280" y1="0" x2="280" y2="250"></line> <line x1="300" y1="0" x2="300" y2="250"></line> <line x1="320" y1="0" x2="320" y2="250"></line> <line x1="340" y1="0" x2="340" y2="250"></line> <line x1="360" y1="0" x2="360" y2="250"></line> <line x1="380" y1="0" x2="380" y2="250"></line> <line x1="400" y1="0" x2="400" y2="250"></line> <line x1="420" y1="0" x2="420" y2="250"></line> <line x1="440" y1="0" x2="440" y2="250"></line> <line x1="460" y1="0" x2="460" y2="250"></line> <line x1="480" y1="0" x2="480" y2="250"></line> <line x1="500" y1="0" x2="500" y2="250"></line> <line x1="520" y1="0" x2="520" y2="250"></line> <line x1="540" y1="0" x2="540" y2="250"></line> <line x1="560" y1="0" x2="560" y2="250"></line> <line x1="580" y1="0" x2="580" y2="250"></line> <line x1="600" y1="0" x2="600" y2="250"></line> <line x1="620" y1="0" x2="620" y2="250"></line> <line x1="640" y1="0" x2="640" y2="250"></line> <line x1="660" y1="0" x2="660" y2="250"></line> <line x1="680" y1="0" x2="680" y2="250"></line> <line x1="700" y1="0" x2="700" y2="250"></line> <line x1="720" y1="0" x2="720" y2="250"></line> <line x1="740" y1="0" x2="740" y2="250"></line> <line x1="760" y1="0" x2="760" y2="250"></line> <line x1="780" y1="0" x2="780" y2="250"></line> <line x1="800" y1="0" x2="800" y2="250"></line> <line x1="0" y1="0" x2="800" y2="0"></line> <line x1="0" y1="20" x2="800" y2="20"></line> <line x1="0" y1="40" x2="800" y2="40"></line> <line x1="0" y1="60" x2="800" y2="60"></line> <line x1="0" y1="80" x2="800" y2="80"></line> <line x1="0" y1="100" x2="800" y2="100"></line> <line x1="0" y1="120" x2="800" y2="120"></line> <line x1="0" y1="140" x2="800" y2="140"></line> <line x1="0" y1="160" x2="800" y2="160"></line> <line x1="0" y1="180" x2="800" y2="180"></line> <line x1="0" y1="200" x2="800" y2="200"></line> <line x1="0" y1="220" x2="800" y2="220"></line> <line x1="0" y1="240" x2="800" y2="240"></line> <text x="2" y="10">0</text> <text x="22" y="10">20</text> <text x="42" y="10">40</text> <text x="62" y="10">60</text> <text x="82" y="10">80</text> <text x="102" y="10">100</text> <text x="122" y="10">120</text> <text x="142" y="10">140</text> <text x="162" y="10">160</text> <text x="182" y="10">180</text> <text x="202" y="10">200</text> <text x="222" y="10">220</text> <text x="242" y="10">240</text> <text x="262" y="10">260</text> <text x="282" y="10">280</text> <text x="302" y="10">300</text> <text x="322" y="10">320</text> <text x="342" y="10">340</text> <text x="362" y="10">360</text> <text x="382" y="10">380</text> <text x="402" y="10">400</text> <text x="422" y="10">420</text> <text x="442" y="10">440</text> <text x="462" y="10">460</text> <text x="482" y="10">480</text> <text x="502" y="10">500</text> <text x="522" y="10">520</text> <text x="542" y="10">540</text> <text x="562" y="10">560</text> <text x="582" y="10">580</text> <text x="602" y="10">600</text> <text x="622" y="10">620</text> <text x="642" y="10">640</text> <text x="662" y="10">660</text> <text x="682" y="10">680</text> <text x="702" y="10">700</text> <text x="722" y="10">720</text> <text x="742" y="10">740</text> <text x="762" y="10">760</text> <text x="782" y="10">780</text> <text x="802" y="10">800</text> <text x="2" y="0">0</text> <text x="2" y="20">20</text> <text x="2" y="40">40</text> <text x="2" y="60">60</text> <text x="2" y="80">80</text> <text x="2" y="100">100</text> <text x="2" y="120">120</text> <text x="2" y="140">140</text> <text x="2" y="160">160</text> <text x="2" y="180">180</text> <text x="2" y="200">200</text> <text x="2" y="220">220</text> <text x="2" y="240">240</text> </g> <text fill="blue" font-size="20" x="400" y="25">Animate Transform skewY</text> <rect fill="lightblue" stroke="blue" opacity="0.6" width="100" height="100" x="0" y="0"> <animateTransform attributeName="transform" type="skewY" from="0" to="45" begin="playButton49.click" dur="5"></animateTransform> </rect>
</svg>
</div>
<div id="skewing-along-the-x-axis-with-the-origin-with-a-given-fixed-point" class="section level4">
<h4>Skewing Along the X Axis with the Origin with a Given Fixed Point</h4>
<p>In this example we take a rectangle centered at the middle of the <em>viewPort</em> (WH/2) and use <strong>animateTransform</strong> with <em>type=skewX</em> to skew it, while keeping the rectangle center as a fixed point.</p>
<p>We employ, the same trick as before, (which should be standard by now) We wrap the rectangle to be animated inside an <strong>svg</strong> element. We then set the viewBox of that <strong>svg</strong> element to have an origin at the point -<em>pt</em>,</p>
<p>The net effect is that the c(p,0) point inside this <strong>svg</strong> is wilt appears at <em>pt</em>. Thus, centering the rectangle at c(0,0) gives us the desired result.</p>
<pre class="r"><code>WH&lt;-c(800,260)
rect.wh&lt;-c(100,100)
pt&lt;-WH/2
dur=5
svgR( 
  playBar(wh=WH), 
  graphPaper(wh=WH, dxy=c(20,20), labels=TRUE),
  text( &quot;Animate Transform skewX&quot;, xy=c(400,25), fill='blue', font.size=20),
    svg( viewBox=c(-pt, WH),
    # all contained coordinates are relative to xy=pt
      rect( cxy=c(0,0), wh=rect.wh, fill='lightgreen', stroke='blue', opacity=.6,
        animateTransform(attributeName=&quot;transform&quot;, type='skewX', 
              from=0, to=45, 
              begin=playButton.click, dur=dur
        )
      ) 
    )  
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="300">
<linearGradient x1="0" y1="0" x2="0" y2="1" id="genid1543"> <stop offset="0%" stop-color="lightblue"></stop> <stop offset="50%" stop-color="white"></stop> <stop offset="100%" stop-color="lightblue"></stop> </linearGradient> <rect fill="url(#genid1543)" width="800" height="40" x="0" y="260"></rect> <g id="playButton50"> <circle r="12" stroke="grey" fill="grey" cx="780" cy="280"></circle> <circle r="10" stroke="grey" fill="#404040" cx="780" cy="280"></circle> <polygon points="790,280 777,284 777,276" fill="lime"></polygon> </g> <rect fill="none" stroke="blue" stroke-width="3" width="800" height="260" x="0" y="0"></rect> <g stroke-width="1" font-size="10" stroke="lightgrey"> <line x1="0" y1="0" x2="0" y2="260"></line> <line x1="20" y1="0" x2="20" y2="260"></line> <line x1="40" y1="0" x2="40" y2="260"></line> <line x1="60" y1="0" x2="60" y2="260"></line> <line x1="80" y1="0" x2="80" y2="260"></line> <line x1="100" y1="0" x2="100" y2="260"></line> <line x1="120" y1="0" x2="120" y2="260"></line> <line x1="140" y1="0" x2="140" y2="260"></line> <line x1="160" y1="0" x2="160" y2="260"></line> <line x1="180" y1="0" x2="180" y2="260"></line> <line x1="200" y1="0" x2="200" y2="260"></line> <line x1="220" y1="0" x2="220" y2="260"></line> <line x1="240" y1="0" x2="240" y2="260"></line> <line x1="260" y1="0" x2="260" y2="260"></line> <line x1="280" y1="0" x2="280" y2="260"></line> <line x1="300" y1="0" x2="300" y2="260"></line> <line x1="320" y1="0" x2="320" y2="260"></line> <line x1="340" y1="0" x2="340" y2="260"></line> <line x1="360" y1="0" x2="360" y2="260"></line> <line x1="380" y1="0" x2="380" y2="260"></line> <line x1="400" y1="0" x2="400" y2="260"></line> <line x1="420" y1="0" x2="420" y2="260"></line> <line x1="440" y1="0" x2="440" y2="260"></line> <line x1="460" y1="0" x2="460" y2="260"></line> <line x1="480" y1="0" x2="480" y2="260"></line> <line x1="500" y1="0" x2="500" y2="260"></line> <line x1="520" y1="0" x2="520" y2="260"></line> <line x1="540" y1="0" x2="540" y2="260"></line> <line x1="560" y1="0" x2="560" y2="260"></line> <line x1="580" y1="0" x2="580" y2="260"></line> <line x1="600" y1="0" x2="600" y2="260"></line> <line x1="620" y1="0" x2="620" y2="260"></line> <line x1="640" y1="0" x2="640" y2="260"></line> <line x1="660" y1="0" x2="660" y2="260"></line> <line x1="680" y1="0" x2="680" y2="260"></line> <line x1="700" y1="0" x2="700" y2="260"></line> <line x1="720" y1="0" x2="720" y2="260"></line> <line x1="740" y1="0" x2="740" y2="260"></line> <line x1="760" y1="0" x2="760" y2="260"></line> <line x1="780" y1="0" x2="780" y2="260"></line> <line x1="800" y1="0" x2="800" y2="260"></line> <line x1="0" y1="0" x2="800" y2="0"></line> <line x1="0" y1="20" x2="800" y2="20"></line> <line x1="0" y1="40" x2="800" y2="40"></line> <line x1="0" y1="60" x2="800" y2="60"></line> <line x1="0" y1="80" x2="800" y2="80"></line> <line x1="0" y1="100" x2="800" y2="100"></line> <line x1="0" y1="120" x2="800" y2="120"></line> <line x1="0" y1="140" x2="800" y2="140"></line> <line x1="0" y1="160" x2="800" y2="160"></line> <line x1="0" y1="180" x2="800" y2="180"></line> <line x1="0" y1="200" x2="800" y2="200"></line> <line x1="0" y1="220" x2="800" y2="220"></line> <line x1="0" y1="240" x2="800" y2="240"></line> <line x1="0" y1="260" x2="800" y2="260"></line> <text x="2" y="10">0</text> <text x="22" y="10">20</text> <text x="42" y="10">40</text> <text x="62" y="10">60</text> <text x="82" y="10">80</text> <text x="102" y="10">100</text> <text x="122" y="10">120</text> <text x="142" y="10">140</text> <text x="162" y="10">160</text> <text x="182" y="10">180</text> <text x="202" y="10">200</text> <text x="222" y="10">220</text> <text x="242" y="10">240</text> <text x="262" y="10">260</text> <text x="282" y="10">280</text> <text x="302" y="10">300</text> <text x="322" y="10">320</text> <text x="342" y="10">340</text> <text x="362" y="10">360</text> <text x="382" y="10">380</text> <text x="402" y="10">400</text> <text x="422" y="10">420</text> <text x="442" y="10">440</text> <text x="462" y="10">460</text> <text x="482" y="10">480</text> <text x="502" y="10">500</text> <text x="522" y="10">520</text> <text x="542" y="10">540</text> <text x="562" y="10">560</text> <text x="582" y="10">580</text> <text x="602" y="10">600</text> <text x="622" y="10">620</text> <text x="642" y="10">640</text> <text x="662" y="10">660</text> <text x="682" y="10">680</text> <text x="702" y="10">700</text> <text x="722" y="10">720</text> <text x="742" y="10">740</text> <text x="762" y="10">760</text> <text x="782" y="10">780</text> <text x="802" y="10">800</text> <text x="2" y="0">0</text> <text x="2" y="20">20</text> <text x="2" y="40">40</text> <text x="2" y="60">60</text> <text x="2" y="80">80</text> <text x="2" y="100">100</text> <text x="2" y="120">120</text> <text x="2" y="140">140</text> <text x="2" y="160">160</text> <text x="2" y="180">180</text> <text x="2" y="200">200</text> <text x="2" y="220">220</text> <text x="2" y="240">240</text> <text x="2" y="260">260</text> </g> <text fill="blue" font-size="20" x="400" y="25">Animate Transform skewX</text> <svg viewBox="-400,-130,800,260"> <rect fill="lightgreen" stroke="blue" opacity="0.6" width="100" height="100" x="-50" y="-50"> <animateTransform attributeName="transform" type="skewX" from="0" to="45" begin="playButton50.click" dur="5"></animateTransform> </rect>
</svg>
</svg>
</div>
</div>
<div id="chaining-transformations" class="section level3">
<h3>Chaining Transformations</h3>
<p><a name="animateMotion"></a></p>
</div>
</div>
<div id="animatemotion" class="section level2">
<h2>AnimateMotion</h2>
<p>Animate motion is used to move a shape along a path</p>
<p>This first example illustrates using from and to.</p>
<pre class="r"><code>WH&lt;-c(800,150)
svgR( 
    playBar(wh=WH),
     text(&quot;Straight line&quot;, xy=c(30,30), font.size=25, fill=&quot;blue&quot;, font='black'),
     circle( cxy=c(20,WH[2]/2-15), r=10, stroke=&quot;black&quot;, fill=&quot;yellow&quot;,
      animateMotion(from=c(0,0), to=c(WH[1]-40,0), 
                    begin=playButton.click, dur=2, fill=&quot;remove&quot;) 
    )
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="190">
<linearGradient x1="0" y1="0" x2="0" y2="1" id="genid1544"> <stop offset="0%" stop-color="lightblue"></stop> <stop offset="50%" stop-color="white"></stop> <stop offset="100%" stop-color="lightblue"></stop> </linearGradient> <rect fill="url(#genid1544)" width="800" height="40" x="0" y="150"></rect> <g id="playButton51"> <circle r="12" stroke="grey" fill="grey" cx="780" cy="170"></circle> <circle r="10" stroke="grey" fill="#404040" cx="780" cy="170"></circle> <polygon points="790,170 777,174 777,166" fill="lime"></polygon> </g> <rect fill="none" stroke="blue" stroke-width="3" width="800" height="150" x="0" y="0"></rect> <text font-size="25" fill="blue" font="black" x="30" y="30">Straight line</text> <circle r="10" stroke="black" fill="yellow" cx="20" cy="60"> <animateMotion from="0,0" to="760,0" begin="playButton51.click" dur="2" fill="remove"></animateMotion> </circle>
</svg>
<p><strong>Note</strong>: The from, to produces a relative effect: cxy is moved to the right.</p>
<p><a name="animate-along-path-flat"></a></p>
<div id="animating-text-along-a-path-using-animate-motion-with-fixed-text-orientation" class="section level3">
<h3>Animating Text Along a Path Using Animate Motion with Fixed Text Orientation</h3>
<p>This example illustrates text being moved along a path while maintaining text orientation. Here the path <em>d</em> is specified using <em>absolute coordinates</em>.</p>
<div id="using-absolute-coordinates" class="section level4">
<h4>Using absolute coordinates</h4>
<pre class="r"><code>WH&lt;-c(800,150)
y0&lt;-WH[2]/2
r &lt;-WH[2]/4
x = seq(100,800, by=20)
y = y0 + r*sin((x-100/40))
pts&lt;-rbind('T',x,y)
d&lt;-c('M', c(60,y0),&quot;Q&quot;,c(70,y0), c(80,y0), pts)
dur=10
svgR( 
    playBar(wh=WH),
     text(&quot;Flat&quot;, xy=c(30,30), font.size=25, fill=&quot;blue&quot;, font='black'),
     path(d=d , stroke='lightblue', stroke.width=3, fill='none'), 
     text(&quot;data&quot;, cxy=c(0,0),  
        stroke=&quot;black&quot;, 
      animateMotion(path=d,  
                    begin=playButton.click, dur=dur, fill=&quot;remove&quot;) 
    )
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="190">
<linearGradient x1="0" y1="0" x2="0" y2="1" id="genid1545"> <stop offset="0%" stop-color="lightblue"></stop> <stop offset="50%" stop-color="white"></stop> <stop offset="100%" stop-color="lightblue"></stop> </linearGradient> <rect fill="url(#genid1545)" width="800" height="40" x="0" y="150"></rect> <g id="playButton52"> <circle r="12" stroke="grey" fill="grey" cx="780" cy="170"></circle> <circle r="10" stroke="grey" fill="#404040" cx="780" cy="170"></circle> <polygon points="790,170 777,174 777,166" fill="lime"></polygon> </g> <rect fill="none" stroke="blue" stroke-width="3" width="800" height="150" x="0" y="0"></rect> <text font-size="25" fill="blue" font="black" x="30" y="30">Flat</text> <path d="M 60 75 Q 70 75 80 75 T 100 70.8599166040536 T 120 39.2843409575058 T 140 49.9902438337761 T 160 90.3035933189685 T 180 112.499999995741 T 200 90.3025613135595 T 220 49.9894015479859 T 240 39.284685519471 T 260 70.8610401089582 T 280 107.33724390833 T 300 105.53145822599 T 320 67.5814369377324 T 340 38.4137767537244 T 360 52.5582002296572 T 380 93.270031404106 T 400 112.353143939909 T 420 87.2162645843147 T 440 47.6173329385414 T 460 40.4349849509059 T 480 74.1719418457681 T 500 108.889183691333 T 520 103.487194062096 T 540 64.3610420849434 T 560 37.8296701748594 T 580 55.3018682484023 T 600 96.0934213870129 T 620 111.91382553222 T 640 84.0343186782031 T 660 45.4596612543411 T 680 41.8559166378079 T 700 77.4893269949423 T 720 110.17578274744 T 740 101.219884904008 T 760 61.2239466368352 T 780 37.5365945758088 T 800 58.1997659070549" stroke="lightblue" stroke-width="3" fill="none"></path> <text stroke="black" text-anchor="middle" dominant-baseline="central" x="0" y="0">data<animateMotion path="M 60 75 Q 70 75 80 75 T 100 70.8599166040536 T 120 39.2843409575058 T 140 49.9902438337761 T 160 90.3035933189685 T 180 112.499999995741 T 200 90.3025613135595 T 220 49.9894015479859 T 240 39.284685519471 T 260 70.8610401089582 T 280 107.33724390833 T 300 105.53145822599 T 320 67.5814369377324 T 340 38.4137767537244 T 360 52.5582002296572 T 380 93.270031404106 T 400 112.353143939909 T 420 87.2162645843147 T 440 47.6173329385414 T 460 40.4349849509059 T 480 74.1719418457681 T 500 108.889183691333 T 520 103.487194062096 T 540 64.3610420849434 T 560 37.8296701748594 T 580 55.3018682484023 T 600 96.0934213870129 T 620 111.91382553222 T 640 84.0343186782031 T 660 45.4596612543411 T 680 41.8559166378079 T 700 77.4893269949423 T 720 110.17578274744 T 740 101.219884904008 T 760 61.2239466368352 T 780 37.5365945758088 T 800 58.1997659070549" begin="playButton52.click" dur="10" fill="remove"></animateMotion></text>
</svg>
<p><strong>Note</strong> In the above, text <em>data</em> is located at cxy=c(0,0) and then moved to the path. Thus, when the animation completes, the text position is restored to c(0,0). To have the initail text postion on the path, we set <em>circle</em> parameter <em>cxy=(60,y0)</em>, and then use relative coordinates instead. This is illustrated in the next example</p>
</div>
<div id="using-relative-coordinates" class="section level4">
<h4>Using Relative Coordinates</h4>
<pre class="r"><code>WH&lt;-c(800,150)
y0&lt;-WH[2]/2
r &lt;-WH[2]/4
x = seq(100,800, by=20)
y = y0 + r*sin((x-100/40))
pts&lt;-rbind('t',diff(x),diff(y) )
d&lt;-c('m', c(0,0),&quot;q&quot;,c(10,0), c(20,0), pts)
dur=10
svgR( 
    playBar(wh=WH),
     text(&quot;Flat&quot;, xy=c(30,30), font.size=25, fill=&quot;blue&quot;, font='black'),
     path(d=c('M', c(60,y0),d) , 
     stroke='lightblue', stroke.width=3, fill='none'), 
     text(&quot;data&quot;, cxy=c(60,y0),  
        stroke=&quot;black&quot;, 
      animateMotion(path=d,  
                    begin=playButton.click, dur=dur, fill=&quot;remove&quot;) 
    )
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="190">
<linearGradient x1="0" y1="0" x2="0" y2="1" id="genid1546"> <stop offset="0%" stop-color="lightblue"></stop> <stop offset="50%" stop-color="white"></stop> <stop offset="100%" stop-color="lightblue"></stop> </linearGradient> <rect fill="url(#genid1546)" width="800" height="40" x="0" y="150"></rect> <g id="playButton53"> <circle r="12" stroke="grey" fill="grey" cx="780" cy="170"></circle> <circle r="10" stroke="grey" fill="#404040" cx="780" cy="170"></circle> <polygon points="790,170 777,174 777,166" fill="lime"></polygon> </g> <rect fill="none" stroke="blue" stroke-width="3" width="800" height="150" x="0" y="0"></rect> <text font-size="25" fill="blue" font="black" x="30" y="30">Flat</text> <path d="M 60 75 m 0 0 q 10 0 20 0 t 20 -31.5755756465478 t 20 10.7059028762703 t 20 40.3133494851924 t 20 22.1964066767721 t 20 -22.197438682181 t 20 -40.3131597655736 t 20 -10.7047160285149 t 20 31.5763545894872 t 20 36.4762037993723 t 20 -1.80578568234053 t 20 -37.9500212882575 t 20 -29.167660184008 t 20 14.1444234759328 t 20 40.7118311744488 t 20 19.0831125358028 t 20 -25.136879355594 t 20 -39.5989316457734 t 20 -7.1823479876355 t 20 33.7369568948623 t 20 34.7172418455653 t 20 -5.40198962923731 t 20 -39.1261519771528 t 20 -26.5313719100839 t 20 17.4721980735428 t 20 40.7915531386106 t 20 15.8204041452067 t 20 -27.8795068540165 t 20 -38.574657423862 t 20 -3.60374461653325 t 20 35.6334103571344 t 20 32.6864557524974 t 20 -8.9558978434317 t 20 -39.9959382671728 t 20 -23.6873520610264 t 20 20.6631713312461" stroke="lightblue" stroke-width="3" fill="none"></path> <text stroke="black" text-anchor="middle" dominant-baseline="central" x="60" y="75">data<animateMotion path="m 0 0 q 10 0 20 0 t 20 -31.5755756465478 t 20 10.7059028762703 t 20 40.3133494851924 t 20 22.1964066767721 t 20 -22.197438682181 t 20 -40.3131597655736 t 20 -10.7047160285149 t 20 31.5763545894872 t 20 36.4762037993723 t 20 -1.80578568234053 t 20 -37.9500212882575 t 20 -29.167660184008 t 20 14.1444234759328 t 20 40.7118311744488 t 20 19.0831125358028 t 20 -25.136879355594 t 20 -39.5989316457734 t 20 -7.1823479876355 t 20 33.7369568948623 t 20 34.7172418455653 t 20 -5.40198962923731 t 20 -39.1261519771528 t 20 -26.5313719100839 t 20 17.4721980735428 t 20 40.7915531386106 t 20 15.8204041452067 t 20 -27.8795068540165 t 20 -38.574657423862 t 20 -3.60374461653325 t 20 35.6334103571344 t 20 32.6864557524974 t 20 -8.9558978434317 t 20 -39.9959382671728 t 20 -23.6873520610264 t 20 20.6631713312461" begin="playButton53.click" dur="10" fill="remove"></animateMotion></text>
</svg>
</div>
</div>
<div id="animating-text-along-a-path-using-animate-motion-with-auto-text-orientation" class="section level3">
<h3>Animating Text Along a Path Using Animate Motion with Auto Text Orientation</h3>
<p>The key to allowing the the text rotate is to set the <em>rotate</em> attribute to <em>auto</em>. In addition, we use absolute coordinates with the path beginning at c(0,0) and the text at c(0,0). Then we put both in a group and use a <em>translate transform</em> to relocate to c(60,y0).</p>
<pre class="r"><code>WH&lt;-c(800,150)
y0&lt;-WH[2]/2
r &lt;-WH[2]/4
x = seq(100,800, by=20)
y = y0 + r*sin((x-100/40))
pts&lt;-rbind('T',x-60,y-y0)
d&lt;-c('M', c(0,0),&quot;Q&quot;,c(10,0), c(20,0), pts)
svgR( 
    playBar(wh=WH),
    text(&quot;Auto&quot;, xy=c(30,30), font.size=25, fill=&quot;blue&quot;, font='black'),
    g(
      path(d=d , stroke='lightblue', stroke.width=3, fill='none'), 
      text(&quot;data&quot;, cxy=c(0,0),  
        stroke=&quot;black&quot;, 
        animateMotion(path=d,  
                      begin=playButton.click, dur=10, fill=&quot;remove&quot;, rotate='auto') 
      ),
      transform=list(translate=c(60,y0))
    )
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="190">
<linearGradient x1="0" y1="0" x2="0" y2="1" id="genid1547"> <stop offset="0%" stop-color="lightblue"></stop> <stop offset="50%" stop-color="white"></stop> <stop offset="100%" stop-color="lightblue"></stop> </linearGradient> <rect fill="url(#genid1547)" width="800" height="40" x="0" y="150"></rect> <g id="playButton54"> <circle r="12" stroke="grey" fill="grey" cx="780" cy="170"></circle> <circle r="10" stroke="grey" fill="#404040" cx="780" cy="170"></circle> <polygon points="790,170 777,174 777,166" fill="lime"></polygon> </g> <rect fill="none" stroke="blue" stroke-width="3" width="800" height="150" x="0" y="0"></rect> <text font-size="25" fill="blue" font="black" x="30" y="30">Auto</text> <g transform="translate(60,75)"> <path d="M 0 0 Q 10 0 20 0 T 40 -4.14008339594636 T 60 -35.7156590424942 T 80 -25.0097561662239 T 100 15.3035933189685 T 120 37.4999999957406 T 140 15.3025613135595 T 160 -25.0105984520141 T 180 -35.715314480529 T 200 -4.13895989104184 T 220 32.3372439083304 T 240 30.5314582259899 T 260 -7.41856306226762 T 280 -36.5862232462756 T 300 -22.4417997703428 T 320 18.270031404106 T 340 37.3531439399088 T 360 12.2162645843147 T 380 -27.3826670614586 T 400 -34.5650150490941 T 420 -0.828058154231883 T 440 33.8891836913335 T 460 28.4871940620962 T 480 -10.6389579150566 T 500 -37.1703298251406 T 520 -19.6981317515977 T 540 21.0934213870129 T 560 36.9138255322196 T 580 9.03431867820311 T 600 -29.5403387456589 T 620 -33.1440833621921 T 640 2.48932699494226 T 660 35.1757827474397 T 680 26.219884904008 T 700 -13.7760533631648 T 720 -37.4634054241912 T 740 -16.8002340929451" stroke="lightblue" stroke-width="3" fill="none"></path> <text stroke="black" text-anchor="middle" dominant-baseline="central" x="0" y="0">data<animateMotion path="M 0 0 Q 10 0 20 0 T 40 -4.14008339594636 T 60 -35.7156590424942 T 80 -25.0097561662239 T 100 15.3035933189685 T 120 37.4999999957406 T 140 15.3025613135595 T 160 -25.0105984520141 T 180 -35.715314480529 T 200 -4.13895989104184 T 220 32.3372439083304 T 240 30.5314582259899 T 260 -7.41856306226762 T 280 -36.5862232462756 T 300 -22.4417997703428 T 320 18.270031404106 T 340 37.3531439399088 T 360 12.2162645843147 T 380 -27.3826670614586 T 400 -34.5650150490941 T 420 -0.828058154231883 T 440 33.8891836913335 T 460 28.4871940620962 T 480 -10.6389579150566 T 500 -37.1703298251406 T 520 -19.6981317515977 T 540 21.0934213870129 T 560 36.9138255322196 T 580 9.03431867820311 T 600 -29.5403387456589 T 620 -33.1440833621921 T 640 2.48932699494226 T 660 35.1757827474397 T 680 26.219884904008 T 700 -13.7760533631648 T 720 -37.4634054241912 T 740 -16.8002340929451" begin="playButton54.click" dur="10" fill="remove" rotate="auto"></animateMotion></text> </g>
</svg>
</div>
<div id="a-bouncing-ball" class="section level3">
<h3>A Bouncing Ball</h3>
<p>Here we use <em>path</em> to provide the trajectory of a bouncing ball.</p>
<pre class="r"><code>WH&lt;-c(800,300)
rxy&lt;-c(50,250)
startPt&lt;-c(0, 0)
NumberOfJumps&lt;-4
da&lt;-sapply(1:NumberOfJumps,function(i){
  endPt&lt;-c(rxy[1]*2*i, 0)+startPt
  c( &quot;A&quot;, rxy, 0, 0, 1, endPt )
})
d&lt;-c(&quot;M&quot;,startPt,da)
ani.id&lt;-newId()
splat.id&lt;-newId()
splat.dur&lt;-.1
svgR( 
    playBar(wh=WH),
    ellipse( cxy=c(20,280), rxy=c(10,10), stroke=&quot;black&quot;, fill=&quot;yellow&quot;,
      animateMotion(id=ani.id, path=d, 
                    begin=playButton.click, dur=3, fill=&quot;freeze&quot;),
      animate(attributeName=&quot;rx&quot;,from=10,to=50,begin=paste0(ani.id,&quot;.end&quot;), dur=splat.dur, fill=&quot;freeze&quot;),
      animate(id=splat.id, attributeName=&quot;ry&quot;,from=10,to=2, begin=paste0(ani.id,&quot;.end&quot;), dur=splat.dur, fill=&quot;freeze&quot; ),
      set(attributeName=&quot;cx&quot;, to=&quot;20&quot;,  begin=playButton.click, fill='freeze'),
      set(attributeName=&quot;cy&quot;, to=&quot;280&quot;, begin=playButton.click, fill='freeze'),
      set(attributeName=&quot;rx&quot;, to=&quot;10&quot;,  begin=playButton.click, fill='freeze'),
      set(attributeName=&quot;ry&quot;, to=&quot;10&quot;,  begin=playButton.click, fill='freeze')
    ),
    text('Splat', font.size=90, cxy=c(650,200), stroke='red', fill='red', visibility='hidden',
      set(attributeName='visibility', to=&quot;visible&quot;,  begin=paste0(ani.id,&quot;.end&quot;), fill='freeze'),
      set(attributeName='visibility', to=&quot;hidden&quot;,  begin=playButton.click, fill='freeze')
    )
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="340">
<linearGradient x1="0" y1="0" x2="0" y2="1" id="genid1548"> <stop offset="0%" stop-color="lightblue"></stop> <stop offset="50%" stop-color="white"></stop> <stop offset="100%" stop-color="lightblue"></stop> </linearGradient> <rect fill="url(#genid1548)" width="800" height="40" x="0" y="300"></rect> <g id="playButton55"> <circle r="12" stroke="grey" fill="grey" cx="780" cy="320"></circle> <circle r="10" stroke="grey" fill="#404040" cx="780" cy="320"></circle> <polygon points="790,320 777,324 777,316" fill="lime"></polygon> </g> <rect fill="none" stroke="blue" stroke-width="3" width="800" height="300" x="0" y="0"></rect> <ellipse stroke="black" fill="yellow" cx="20" cy="280" rx="10" ry="10"> <animateMotion id="docId19" path="M 0 0 A 50 250 0 0 1 100 0 A 50 250 0 0 1 200 0 A 50 250 0 0 1 300 0 A 50 250 0 0 1 400 0" begin="playButton55.click" dur="3" fill="freeze"></animateMotion> <animate attributeName="rx" from="10" to="50" begin="docId19.end" dur="0.1" fill="freeze"></animate> <animate id="docId20" attributeName="ry" from="10" to="2" begin="docId19.end" dur="0.1" fill="freeze"></animate> <set attributeName="cx" to="20" begin="playButton55.click" fill="freeze"></set> <set attributeName="cy" to="280" begin="playButton55.click" fill="freeze"></set> <set attributeName="rx" to="10" begin="playButton55.click" fill="freeze"></set> <set attributeName="ry" to="10" begin="playButton55.click" fill="freeze"></set> </ellipse> <text font-size="90" stroke="red" fill="red" visibility="hidden" text-anchor="middle" dominant-baseline="central" x="650" y="200">Splat<set attributeName="visibility" to="visible" begin="docId19.end" fill="freeze"></set><set attributeName="visibility" to="hidden" begin="playButton55.click" fill="freeze"></set></text>
</svg>
<p>Although not too bad, the speed of the ball is constant. We can easily alter that using keySplines. See <a href="#bouncingBallWithKeySplines">Bouncing Ball With KeySplines</a></p>
</div>
</div>
<div id="variable-speed-with-animation-motion" class="section level2">
<h2>Variable Speed with Animation Motion</h2>
<div id="linear" class="section level3">
<h3>Linear</h3>
<pre class="r"><code>WH&lt;-c(800,150)
d&lt;-c(&quot;m&quot;, WH*c(0,.0), &quot;l&quot;, WH*c(1,0))
aniMotion&lt;-newId()
svgR( 
    playBar(wh=WH),
    rect(xy=c(0,0),wh=WH, fill=&quot;#AAFFAA&quot;),
    rect(xy=c(0,0),wh=WH*c(0.2,1), fill=&quot;#FFAAAA&quot;),  
    text(&quot;animateMotion of Path with CalcMode='linear'&quot;, xy=c(30,30), font.size=25, fill=&quot;blue&quot;, font='black'),
    text(&quot;Slow&quot;, xy=c(30,WH[2]-30), font.size=20, fill=&quot;red&quot;, font='black'),
    text(&quot;Fast&quot;, xy=c(WH[1]/2,WH[2]-30), font.size=20, fill=&quot;green&quot;, font='black'),
        
    circle( cxy=c(0,.5)*WH, r=10, stroke=&quot;black&quot;, fill=&quot;yellow&quot;,
      animateMotion(id= aniMotion, path=d, 
                    keyTimes=c(0,0.95,1), keyPoints=c(0,0.2,1), calcMode=&quot;linear&quot;,
                    begin=playButton.click, dur=5), 
      animateMotion(path=c(&quot;M&quot;, WH*c(.1,.5), 
                    begin=paste0(&quot;on.load;&quot;,aniMotion,&quot;.onend&quot;), dur=0, fill=&quot;freeze&quot;))
    )
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="190">
<linearGradient x1="0" y1="0" x2="0" y2="1" id="genid1549"> <stop offset="0%" stop-color="lightblue"></stop> <stop offset="50%" stop-color="white"></stop> <stop offset="100%" stop-color="lightblue"></stop> </linearGradient> <rect fill="url(#genid1549)" width="800" height="40" x="0" y="150"></rect> <g id="playButton56"> <circle r="12" stroke="grey" fill="grey" cx="780" cy="170"></circle> <circle r="10" stroke="grey" fill="#404040" cx="780" cy="170"></circle> <polygon points="790,170 777,174 777,166" fill="lime"></polygon> </g> <rect fill="none" stroke="blue" stroke-width="3" width="800" height="150" x="0" y="0"></rect> <rect fill="#AAFFAA" width="800" height="150" x="0" y="0"></rect> <rect fill="#FFAAAA" width="160" height="150" x="0" y="0"></rect> <text font-size="25" fill="blue" font="black" x="30" y="30">animateMotion of Path with CalcMode=linear</text> <text font-size="20" fill="red" font="black" x="30" y="120">Slow</text> <text font-size="20" fill="green" font="black" x="400" y="120">Fast</text> <circle r="10" stroke="black" fill="yellow" cx="0" cy="75"> <animateMotion id="docId21" path="m 0 0 l 800 0" keyTimes="0;0.95;1" keyPoints="0;0.2;1" calcMode="linear" begin="playButton56.click" dur="5"></animateMotion> <animateMotion path="M 80 75 on.load;docId21.onend 0 freeze"></animateMotion> </circle>
</svg>
<p><strong>Note</strong> The default calcMode for <strong>animateMotion</strong> is <em>paced</em> which results in the values of <em>keyTimes</em> and <em>keySplines</em> being ignored</p>
</div>
<div id="spline" class="section level3">
<h3>Spline</h3>
<pre class="r"><code>WH&lt;-c(800,150)
d&lt;-c(&quot;m&quot;, WH*c(0,.0), &quot;l&quot;, WH*c(1,0))
aniMotion&lt;-newId()
svgR( 
    playBar(wh=WH),
    rect(xy=c(0,0),wh=WH, fill=linearGradient(x12=c(0,1),colors=c(&quot;lightgreen&quot;,&quot;pink&quot;))),
    text(&quot;animateMotion of Path with CalcMode='spline'&quot;, xy=c(30,30), font.size=25, fill=&quot;blue&quot;, font='black'),
    text(&quot;Fast&quot;, xy=c(30,WH[2]-30), font.size=20, fill=&quot;green&quot;, font='black'),
    text(&quot;Slow&quot;, xy=c(WH[1]-70,WH[2]-30), font.size=20, fill=&quot;red&quot;, font='black'),
        
    circle( cxy=c(0,.5)*WH, r=10, stroke=&quot;black&quot;, fill=&quot;yellow&quot;,
      animateMotion(id= aniMotion, path=d, calcMode=&quot;spline&quot;,
                    keyPoints=c(0,1),
                    keyTimes=c(0,1), keySplines=&quot;0 0.75 0.25 1&quot;,
                    begin=playButton.click, dur=5), 
      animateMotion(path=c(&quot;M&quot;, WH*c(.1,.5), 
                    begin=paste0(&quot;on.load;&quot;,aniMotion,&quot;.onend&quot;), dur=0, fill=&quot;freeze&quot;))
    )
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="190">
<linearGradient x1="0" y1="0" x2="0" y2="1" id="genid1550"> <stop offset="0%" stop-color="lightblue"></stop> <stop offset="50%" stop-color="white"></stop> <stop offset="100%" stop-color="lightblue"></stop> </linearGradient> <rect fill="url(#genid1550)" width="800" height="40" x="0" y="150"></rect> <g id="playButton57"> <circle r="12" stroke="grey" fill="grey" cx="780" cy="170"></circle> <circle r="10" stroke="grey" fill="#404040" cx="780" cy="170"></circle> <polygon points="790,170 777,174 777,166" fill="lime"></polygon> </g> <rect fill="none" stroke="blue" stroke-width="3" width="800" height="150" x="0" y="0"></rect> <linearGradient x1="0" x2="1" id="genid1551"> <stop offset="0%" stop-color="lightgreen"></stop> <stop offset="100%" stop-color="pink"></stop> </linearGradient> <rect fill="url(#genid1551)" width="800" height="150" x="0" y="0"></rect> <text font-size="25" fill="blue" font="black" x="30" y="30">animateMotion of Path with CalcMode=spline</text> <text font-size="20" fill="green" font="black" x="30" y="120">Fast</text> <text font-size="20" fill="red" font="black" x="730" y="120">Slow</text> <circle r="10" stroke="black" fill="yellow" cx="0" cy="75"> <animateMotion id="docId22" path="m 0 0 l 800 0" calcMode="spline" keyPoints="0;1" keyTimes="0;1" keySplines="0 0.75 0.25 1" begin="playButton57.click" dur="5"></animateMotion> <animateMotion path="M 80 75 on.load;docId22.onend 0 freeze"></animateMotion> </circle>
</svg>
<p><a name="bouncingBallWithKeySplines"></a></p>
</div>
<div id="a-bouncing-ball-with-keysplines" class="section level3">
<h3>A Bouncing Ball with keySplines</h3>
<p>Here we use <em>path</em> to provide the trajectory of a bouncing ball.</p>
<pre class="r"><code>WH&lt;-c(800,300)
rxy&lt;-c(50,250)
startPt&lt;-c(0, 0)
NumberOfJumps&lt;-4
da&lt;-sapply(1:NumberOfJumps,function(i){
  endPt&lt;-c(rxy[1]*2*i, 0)+startPt
  c( &quot;A&quot;, rxy, 0, 0, 1, endPt )
})
d&lt;-c(&quot;M&quot;,startPt,da)
ani.id&lt;-newId()
splat.id&lt;-newId()
splat.dur&lt;-.1
svgR( 
    playBar(wh=WH),
    ellipse( cxy=c(20,280), rxy=c(10,10), stroke=&quot;black&quot;, fill=&quot;yellow&quot;,
      animateMotion(id=ani.id, path=d, 
                    calcMode=&quot;spline&quot;,
                    keyPoints=seq(0,1,length.out=1+NumberOfJumps),
                    keyTimes=seq(0,1,length.out=1+NumberOfJumps), 
                    keySplines=rep( c(0,.6,1,.4), NumberOfJumps),
                    begin=playButton.click, dur=3, fill=&quot;freeze&quot;),
      animate(attributeName=&quot;rx&quot;,from=10,to=50,begin=paste0(ani.id,&quot;.end&quot;), dur=splat.dur, fill=&quot;freeze&quot;),
      animate(id=splat.id, attributeName=&quot;ry&quot;,from=10,to=2, begin=paste0(ani.id,&quot;.end&quot;), dur=splat.dur, fill=&quot;freeze&quot; ),
      set(attributeName=&quot;cx&quot;, to=&quot;20&quot;,  begin=playButton.click, fill='freeze'),
      set(attributeName=&quot;cy&quot;, to=&quot;280&quot;, begin=playButton.click, fill='freeze'),
      set(attributeName=&quot;rx&quot;, to=&quot;10&quot;,  begin=playButton.click, fill='freeze'),
      set(attributeName=&quot;ry&quot;, to=&quot;10&quot;,  begin=playButton.click, fill='freeze')
    ),
    text('Splat', font.size=90, cxy=c(650,200), stroke='red', fill='red', visibility='hidden',
      set(attributeName='visibility', to=&quot;visible&quot;,  begin=paste0(ani.id,&quot;.end&quot;), fill='freeze'),
      set(attributeName='visibility', to=&quot;hidden&quot;,  begin=playButton.click, fill='freeze')
    )
)</code></pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" id="root" width="800" height="340">
<linearGradient x1="0" y1="0" x2="0" y2="1" id="genid1552"> <stop offset="0%" stop-color="lightblue"></stop> <stop offset="50%" stop-color="white"></stop> <stop offset="100%" stop-color="lightblue"></stop> </linearGradient> <rect fill="url(#genid1552)" width="800" height="40" x="0" y="300"></rect> <g id="playButton58"> <circle r="12" stroke="grey" fill="grey" cx="780" cy="320"></circle> <circle r="10" stroke="grey" fill="#404040" cx="780" cy="320"></circle> <polygon points="790,320 777,324 777,316" fill="lime"></polygon> </g> <rect fill="none" stroke="blue" stroke-width="3" width="800" height="300" x="0" y="0"></rect> <ellipse stroke="black" fill="yellow" cx="20" cy="280" rx="10" ry="10"> <animateMotion id="docId23" path="M 0 0 A 50 250 0 0 1 100 0 A 50 250 0 0 1 200 0 A 50 250 0 0 1 300 0 A 50 250 0 0 1 400 0" calcMode="spline" keyPoints="0;0.25;0.5;0.75;1" keyTimes="0;0.25;0.5;0.75;1" keySplines="0 0.6 1 0.4 0 0.6 1 0.4 0 0.6 1 0.4 0 0.6 1 0.4" begin="playButton58.click" dur="3" fill="freeze"></animateMotion> <animate attributeName="rx" from="10" to="50" begin="docId23.end" dur="0.1" fill="freeze"></animate> <animate id="docId24" attributeName="ry" from="10" to="2" begin="docId23.end" dur="0.1" fill="freeze"></animate> <set attributeName="cx" to="20" begin="playButton58.click" fill="freeze"></set> <set attributeName="cy" to="280" begin="playButton58.click" fill="freeze"></set> <set attributeName="rx" to="10" begin="playButton58.click" fill="freeze"></set> <set attributeName="ry" to="10" begin="playButton58.click" fill="freeze"></set> </ellipse> <text font-size="90" stroke="red" fill="red" visibility="hidden" text-anchor="middle" dominant-baseline="central" x="650" y="200">Splat<set attributeName="visibility" to="visible" begin="docId23.end" fill="freeze"></set><set attributeName="visibility" to="hidden" begin="playButton58.click" fill="freeze"></set></text>
</svg>
</div>
</div>
</div>


</div>

<script>

// add bootstrap table styles to pandoc tables
$(document).ready(function () {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
});

</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
